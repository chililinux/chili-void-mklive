(()=>{var e={1762:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Breadcrumbs:()=>hs,BrowserClient:()=>no,BrowserProfilingIntegration:()=>qd,BrowserTracing:()=>id,Dedupe:()=>_s,Feedback:()=>jl,FunctionToString:()=>qt,GlobalHandlers:()=>Lo,HttpContext:()=>ys,Hub:()=>We,InboundFilters:()=>Vt,Integrations:()=>zd,LinkedErrors:()=>ms,ModuleMetadata:()=>wn,Replay:()=>sl,SDK_VERSION:()=>qe,Scope:()=>Be,TryCatch:()=>Bo,WINDOW:()=>Fr,addBreadcrumb:()=>yt,addEventProcessor:()=>Pn,addGlobalEventProcessor:()=>ie,addIntegration:()=>jt,addTracingExtensions:()=>hr,captureEvent:()=>mt,captureException:()=>ht,captureMessage:()=>ft,captureUserFeedback:()=>Rs,chromeStackLineParser:()=>mo,close:()=>Ct,configureScope:()=>gt,continueTrace:()=>br,createTransport:()=>Or,createUserFeedbackEnvelope:()=>to,defaultIntegrations:()=>xs,defaultRequestInstrumentationOptions:()=>ed,defaultStackLineParsers:()=>Eo,defaultStackParser:()=>To,eventFromException:()=>Jr,eventFromMessage:()=>Xr,exceptionFromError:()=>Wr,extractTraceparentData:()=>Kn,flush:()=>Tt,forceLoad:()=>Cs,geckoStackLineParser:()=>vo,getActiveSpan:()=>_r,getActiveTransaction:()=>Gn,getClient:()=>Ot,getCurrentHub:()=>Ge,getCurrentScope:()=>Rt,getHubFromCarrier:()=>Qe,init:()=>Es,instrumentOutgoingRequests:()=>td,lastEventId:()=>It,makeBrowserOfflineTransport:()=>gd,makeFetchTransport:()=>ao,makeMain:()=>Ye,makeMultiplexedTransport:()=>Ar,makeXHRTransport:()=>uo,metrics:()=>$r,onLoad:()=>Is,onProfilingStartRouteTransaction:()=>Fd,opera10StackLineParser:()=>wo,opera11StackLineParser:()=>xo,setContext:()=>vt,setExtra:()=>bt,setExtras:()=>_t,setMeasurement:()=>jr,setTag:()=>wt,setTags:()=>St,setUser:()=>kt,showReportDialog:()=>Ts,spanStatusfromHttpCode:()=>er,startInactiveSpan:()=>vr,startSpan:()=>gr,startSpanManual:()=>yr,startTransaction:()=>Et,trace:()=>mr,winjsStackLineParser:()=>bo,withScope:()=>xt,wrap:()=>Os});var r={};n.r(r),n.d(r,{FunctionToString:()=>qt,InboundFilters:()=>Vt,LinkedErrors:()=>tn});var o={};n.r(o),n.d(o,{Breadcrumbs:()=>hs,Dedupe:()=>_s,GlobalHandlers:()=>Lo,HttpContext:()=>ys,LinkedErrors:()=>ms,TryCatch:()=>Bo});const s=Object.prototype.toString;function i(e){switch(s.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function a(e,t){return s.call(e)===`[object ${t}]`}function c(e){return a(e,"ErrorEvent")}function u(e){return a(e,"DOMError")}function l(e){return a(e,"String")}function d(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function p(e){return null===e||d(e)||"object"!=typeof e&&"function"!=typeof e}function h(e){return a(e,"Object")}function f(e){return"undefined"!=typeof Event&&y(e,Event)}function m(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function g(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function v(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function _(e){return e&&e.Math==Math?e:void 0}const b="object"==typeof globalThis&&_(globalThis)||"object"==typeof window&&_(window)||"object"==typeof self&&_(self)||"object"==typeof n.g&&_(n.g)||function(){return this}()||{};function S(){return b}function w(e,t,n){const r=n||b,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const k=S(),x=80;function E(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let s=0,i=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||x;for(;n&&s++<r&&(u=T(n,l),!("html"===u||s>1&&i+o.length*c+u.length>=d));)o.push(u),i+=u.length,n=n.parentNode;return o.reverse().join(a)}catch(e){return"<unknown>"}}function T(e,t){const n=e,r=[];let o,s,i,a,c;if(!n||!n.tagName)return"";if(k.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&l(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)r.push(`.${s[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)i=d[c],a=n.getAttribute(i),a&&r.push(`[${i}="${a}"]`);return r.join("")}function C(){try{return k.document.location.href}catch(e){return""}}function I(e){if(!k.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const O="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,R=["debug","info","warn","error","log","assert","trace"],M={};function A(e){if(!("console"in b))return e();const t=b.console,n={},r=Object.keys(M);r.forEach((e=>{const r=M[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const D=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return O?R.forEach((n=>{t[n]=(...t)=>{e&&A((()=>{b.console[n](`Sentry Logger [${n}]:`,...t)}))}})):R.forEach((e=>{t[e]=()=>{}})),t}();function L(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function N(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{v(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function P(e,t,n=!1){return!!l(e)&&(a(t,"RegExp")?t.test(e):!!l(t)&&(n?e===t:e.includes(t)))}function $(e,t=[],n=!1){return t.some((t=>P(e,t,n)))}function j(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&B(o,r),e[t]=o}function F(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){O&&D.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function B(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,F(e,"__sentry_original__",t)}catch(e){}}function U(e){return e.__sentry_original__}function q(e){if(i(e))return{message:e.message,name:e.name,stack:e.stack,...z(e)};if(f(e)){const t={type:e.type,target:H(e.target),currentTarget:H(e.currentTarget),...z(e)};return"undefined"!=typeof CustomEvent&&y(e,CustomEvent)&&(t.detail=e.detail),t}return e}function H(e){try{return t=e,"undefined"!=typeof Element&&y(t,Element)?E(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function z(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function W(e){return V(e,new Map)}function V(e,t){if(h(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=V(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(V(e,t))})),r}return e}function Y(){const e=b,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function G(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function K(e){const{message:t,event_id:n}=e;if(t)return t;const r=G(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function J(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function X(e,t){const n=G(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function Q(e){if(e&&e.__sentry_captured__)return!0;try{F(e,"__sentry_captured__",!0)}catch(e){}return!1}function Z(e){return Array.isArray(e)?e:[e]}const ee="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var te;function ne(e){return new oe((t=>{t(e)}))}function re(e){return new oe(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(te||(te={}));class oe{constructor(e){oe.prototype.__init.call(this),oe.prototype.__init2.call(this),oe.prototype.__init3.call(this),oe.prototype.__init4.call(this),this._state=te.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new oe(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new oe(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(te.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(te.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===te.PENDING&&(m(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===te.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===te.RESOLVED&&e[1](this._value),this._state===te.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function se(){return w("globalEventProcessors",(()=>[]))}function ie(e){se().push(e)}function ae(e,t,n,r=0){return new oe(((o,s)=>{const i=e[r];if(null===t||"function"!=typeof i)o(t);else{const a=i({...t},n);ee&&i.id&&null===a&&D.log(`Event processor "${i.id}" dropped event`),m(a)?a.then((t=>ae(e,t,n,r+1).then(o))).then(null,s):ae(e,a,n,r+1).then(o).then(null,s)}}))}const ce="production",ue=1e3;function le(){return Date.now()/ue}const de=function(){const{performance:e}=b;if(!e||!e.now)return le;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/ue}();let pe;const he=(()=>{const{performance:e}=b;if(!e||!e.now)return void(pe="none");const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=o<t,i=e.timing&&e.timing.navigationStart,a="number"==typeof i?Math.abs(i+n-r):t;return s||a<t?o<=a?(pe="timeOrigin",e.timeOrigin):(pe="navigationStart",i):(pe="dateNow",r)})();function fe(e){const t=de(),n={sid:Y(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return W({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&me(n,e),n}function me(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||de(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Y()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ge(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),me(e,n)}const ye="baggage",ve="sentry-",_e=/^sentry-/,be=8192;function Se(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===r?o:`${e},${o}`;return s.length>be?(O&&D.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${ve}${t}`]=n),e)),{}))}function we(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const ke=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function xe(e){if(!e)return;const t=e.match(ke);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Ee(e,t){const n=xe(e),r=function(e){if(!l(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=we(t);for(const t of Object.keys(n))e[t]=n[t];return e}),{});else{if(!e)return;t=we(e)}const n=Object.entries(t).reduce(((e,[t,n])=>(t.match(_e)&&(e[t.slice(ve.length)]=n),e)),{});return Object.keys(n).length>0?n:void 0}(t),{traceId:o,parentSpanId:s,parentSampled:i}=n||{},a={traceId:o||Y(),spanId:Y().substring(16),sampled:i};return s&&(a.parentSpanId=s),r&&(a.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:a}}function Te(e=Y(),t=Y().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const Ce=1;function Ie(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:s,status:i,tags:a,origin:c}=Ae(e);return W({data:r,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:n,origin:c})}function Oe(e){const{traceId:t,spanId:n}=e.spanContext();return Te(t,n,De(e))}function Re(e){return"number"==typeof e?Me(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Me(e.getTime()):de()}function Me(e){return e>9999999999?e/1e3:e}function Ae(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function De(e){const{traceFlags:t}=e.spanContext();return Boolean(t&Ce)}function Le(e,t,n){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},i=W({environment:r.environment||ce,release:r.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function Ne(e){const t=Ot();if(!t)return{};const n=Le(Ae(e).trace_id||"",t,Rt()),r=e.transaction;if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:s,source:i}=r.metadata;null!=s&&(n.sample_rate=`${s}`);const a=Ae(r);return i&&"url"!==i&&(n.transaction=a.description),n.sampled=String(De(r)),t.emit&&t.emit("createDsc",n),n}function Pe(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:s,propagationContext:i}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,transactionName:a}=t;n&&Object.keys(n).length&&(e.extra={...n,...e.extra});r&&Object.keys(r).length&&(e.tags={...r,...e.tags});o&&Object.keys(o).length&&(e.user={...o,...e.user});s&&Object.keys(s).length&&(e.contexts={...s,...e.contexts});i&&(e.level=i);a&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:Ie(t),...e.contexts};const n=t.transaction;if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Ne(t),...e.sdkProcessingMetadata};const r=Ae(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?Z(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t,n){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t,propagationContext:n}}(e,s,i)}function $e(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:h,span:f}=t;je(e,"extra",n),je(e,"tags",r),je(e,"user",o),je(e,"contexts",s),je(e,"sdkProcessingMetadata",a),i&&(e.level=i),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function je(e,t,n){n&&Object.keys(n).length&&(e[t]={...e[t],...n})}let Fe;class Be{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ue()}static clone(e){return e?e.clone():new Be}clone(){const e=new Be;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&me(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof Be?t:this}return e instanceof Be?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):h(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ue(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:le(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:s,_level:i,_fingerprint:a,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:l,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:s,level:i,fingerprint:a||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:l,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){Pe(e,this.getScopeData());return ae([...n,...se(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:Y();if(!this._client)return D.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:Y();if(!this._client)return D.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Y();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(D.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function Ue(){return{traceId:Y(),spanId:Y().substring(16)}}const qe="7.93.0",He=parseFloat(qe),ze=100;class We{constructor(e,t,n,r=He){let o,s;this._version=r,t?o=t:(o=new Be,o.setClient(e)),n?s=n:(s=new Be,s.setClient(e)),this._stack=[{scope:o}],e&&this.bindClient(e),this._isolationScope=s}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return m(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:Y(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:Y(),o=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Y();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=ze}=r.getOptions&&r.getOptions()||{};if(s<=0)return;const i={timestamp:le(),...e},a=o?A((()=>o(i,t))):i;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,s))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Ye(this);try{e(this)}finally{Ye(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return ee&&D.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(ee&&!n){this.getClient()?D.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):D.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&ge(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=ce}=n&&n.getOptions()||{},{userAgent:s}=b.navigator||{},i=fe({release:r,environment:o,user:t.getUser(),...s&&{userAgent:s},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&me(a,{status:"exited"}),this.endSession(),t.setSession(i),i}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=Ve().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);ee&&D.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Ve(){return b.__SENTRY__=b.__SENTRY__||{extensions:{},hub:void 0},b}function Ye(e){const t=Ve(),n=Qe(t);return Ze(t,e),n}function Ge(){const e=Ve();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Je(e)}function Ke(){return Ge().getIsolationScope()}function Je(e=Ve()){return Xe(e)&&!Qe(e).isOlderThan(He)||Ze(e,new We),Qe(e)}function Xe(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Qe(e){return w("hub",(()=>new We),e)}function Ze(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}const et=50,tt=/\(error: (.*)\)/,nt=/captureMessage|captureException/;function rt(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const s=tt.test(n)?n.replace(tt,"$1"):n;if(!s.match(/\S*Error: /)){for(const e of t){const t=e(s);if(t){r.push(t);break}}if(r.length>=et)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),nt.test(t[t.length-1].function||"")&&(t.pop(),nt.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,et).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const ot="<anonymous>";function st(e){try{return e&&"function"==typeof e&&e.name||ot}catch(e){return ot}}function it(e,t=100,n=1/0){try{return ct("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function at(e,t=3,n=102400){const r=it(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?at(e,t-1,n):r;var o}function ct(e,t,r=1/0,o=1/0,s=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,a]=s;if(null==t||["number","boolean","string"].includes(typeof t)&&!g(t))return t;const c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(v(t))return"[VueViewModel]";if(h(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${st(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const o=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(o)?`[HTMLElement: ${o}]`:`[object ${o}]`}catch(e){return`**non-serializable** (${e})`}var r}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const u="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===u)return c.replace("object ","");if(i(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return ct("",l.toJSON(),u-1,o,s)}catch(e){}const d=Array.isArray(t)?[]:{};let p=0;const f=q(t);for(const e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(p>=o){d[e]="[MaxProperties ~]";break}const t=f[e];d[e]=ct(e,t,u-1,o,s),p++}return a(t),d}function ut(e,t,n,r,o,s){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Y(),timestamp:t.timestamp||le()},u=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:ce);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=L(e.message,s));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=L(i.value,s));const a=e.request;a&&a.url&&(a.url=L(a.url,s))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,u),void 0===t.type&&function(e,t){const n=b._sentryDebugIds;if(!n)return;let r;const o=lt.get(t);o?r=o:(r=new Map,lt.set(t,r));const s=Object.keys(n).reduce(((e,o)=>{let s;const i=r.get(o);i?s=i:(s=t(o),r.set(o,s));for(let t=s.length-1;t>=0;t--){const r=s[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=s[e.filename])}))}))}catch(e){}}(c,e.stackParser);const l=function(e,t){if(!t)return e;const n=e?e.clone():new Be;return n.update(t),n}(r,n.captureContext);n.mechanism&&X(c,n.mechanism);const d=o&&o.getEventProcessors?o.getEventProcessors():[],p=(Fe||(Fe=new Be),Fe).getScopeData();if(s){$e(p,s.getScopeData())}if(l){$e(p,l.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),Pe(c,p);return ae([...d,...se(),...p.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:it(e.data,t,n)}})))},...e.user&&{user:it(e.user,t,n)},...e.contexts&&{contexts:it(e.contexts,t,n)},...e.extra&&{extra:it(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=it(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=Ae(e).data;return r&&(e.data=it(r,t,n)),e})));return r}(e,i,a):e)))}const lt=new WeakMap;function dt(e){if(e)return function(e){return e instanceof Be||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>pt.includes(e)))}(e)?{captureContext:e}:e}const pt=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ht(e,t){return Ge().captureException(e,dt(t))}function ft(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return Ge().captureMessage(e,n,r)}function mt(e,t){return Ge().captureEvent(e,t)}function gt(e){Ge().configureScope(e)}function yt(e,t){Ge().addBreadcrumb(e,t)}function vt(e,t){Ge().setContext(e,t)}function _t(e){Ge().setExtras(e)}function bt(e,t){Ge().setExtra(e,t)}function St(e){Ge().setTags(e)}function wt(e,t){Ge().setTag(e,t)}function kt(e){Ge().setUser(e)}function xt(...e){if(2===e.length){const[t,n]=e;if(!t)return Ge().withScope(n);const r=Ge();return r.withScope((()=>(r.getStackTop().scope=t,n(t))))}return Ge().withScope(e[0])}function Et(e,t){return Ge().startTransaction({...e},t)}async function Tt(e){const t=Ot();return t?t.flush(e):(ee&&D.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function Ct(e){const t=Ot();return t?t.close(e):(ee&&D.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function It(){return Ge().lastEventId()}function Ot(){return Ge().getClient()}function Rt(){return Ge().getScope()}function Mt(e){const t=Ot(),n=Ke(),r=Rt(),{release:o,environment:s=ce}=t&&t.getOptions()||{},{userAgent:i}=b.navigator||{},a=fe({release:o,environment:s,user:n.getUser(),...i&&{userAgent:i},...e}),c=n.getSession();return c&&"ok"===c.status&&me(c,{status:"exited"}),At(),n.setSession(a),r.setSession(a),a}function At(){const e=Ke(),t=Rt(),n=e.getSession();n&&ge(n),Dt(),e.setSession(),t.setSession()}function Dt(){const e=Ke(),t=Rt(),n=Ot(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Lt(e=!1){e?At():Dt()}const Nt=[];function Pt(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Z(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),s=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==s){const[e]=o.splice(s,1);o.push(e)}return o}function $t(e,t,n){if(n[t.name])ee&&D.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Nt.indexOf(t.name)&&(t.setupOnce(ie,Ge),Nt.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}ee&&D.log(`Integration installed: ${t.name}`)}}function jt(e){const t=Ot();t&&t.addIntegration?t.addIntegration(e):ee&&D.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)}function Ft(e,t){return Object.assign((function(...e){return{setupOnce:()=>{},...t(...e)}}),{id:e})}let Bt;const Ut="FunctionToString",qt=Ft(Ut,(()=>({name:Ut,setupOnce(){Bt=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=U(this)||this;return Bt.apply(t,e)}}catch(e){}}}))),Ht=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],zt=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Wt="InboundFilters",Vt=Ft(Wt,(e=>({name:Wt,processEvent(t,n,r){const o=r.getOptions(),s=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Ht],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:zt],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return ee&&D.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${K(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));ee&&0===t.length&&D.error(`Could not extract message for event ${K(e)}`);return t}(e).some((e=>$(e,t)))}(e,t.ignoreErrors))return ee&&D.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${K(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&$(n,t)}(e,t.ignoreTransactions))return ee&&D.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${K(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Yt(e);return!!n&&$(n,t)}(e,t.denyUrls))return ee&&D.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${K(e)}.\nUrl: ${Yt(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Yt(e);return!n||$(n,t)}(e,t.allowUrls))return ee&&D.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${K(e)}.\nUrl: ${Yt(e)}`),!0;return!1}(t,s)?null:t}})));function Yt(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return ee&&D.error(`Cannot extract url for event ${K(e)}`),null}}function Gt(e,t,n=250,r,o,s,i){if(!(s.exception&&s.exception.values&&i&&y(i.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var c,u;a&&(s.exception.values=(c=Kt(e,t,o,i.originalException,r,s.exception.values,a,0),u=n,c.map((e=>(e.value&&(e.value=L(e.value,u)),e)))))}function Kt(e,t,n,r,o,s,i,a){if(s.length>=n+1)return s;let c=[...s];if(y(r[o],Error)){Jt(i,a);const s=e(t,r[o]),u=c.length;Xt(s,o,u,a),c=Kt(e,t,n,r[o],o,[s,...c],s,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,s)=>{if(y(r,Error)){Jt(i,a);const u=e(t,r),l=c.length;Xt(u,`errors[${s}]`,l,a),c=Kt(e,t,n,r,o,[u,...c],u,l)}})),c}function Jt(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function Xt(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Qt(e,t){return e(t.stack||"",1)}function Zt(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=Qt(e,t);return r.length&&(n.stacktrace={frames:r}),n}const en="LinkedErrors",tn=Ft(en,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:en,preprocessEvent(e,r,o){const s=o.getOptions();Gt(Zt,s.stackParser,s.maxValueLength,n,t,e,r)}}})),nn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function rn(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${i}`}function on(e){const t=nn.exec(e);if(!t)return void A((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,o="",s,i="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return sn({host:s,pass:o,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function sn(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function an(e){const t="string"==typeof e?on(e):sn(e);if(t&&function(e){if(!O)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(D.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(D.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(D.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(D.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}function cn(e,t=[]){return[e,t]}function un(e,t){const[n,r]=e;return[n,[...r,t]]}function ln(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function dn(e,t){return(t||new TextEncoder).encode(e)}function pn(e,t){const[n,r]=e;let o=JSON.stringify(n);function s(e){"string"==typeof o?o="string"==typeof e?o+e:[dn(o,t),e]:o.push("string"==typeof e?dn(e,t):e)}for(const e of r){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(it(n))}s(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function hn(e,t){const n="string"==typeof e.data?dn(e.data,t):e.data;return[W({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const fn={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function mn(e){return fn[e]}function gn(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function yn(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:rn(r)},...o&&{trace:W({...o})}}}const vn=new Map,_n=new Set;function bn(e,t){return function(e){if(b._sentryModuleMetadata)for(const t of Object.keys(b._sentryModuleMetadata)){const n=b._sentryModuleMetadata[t];if(_n.has(t))continue;_n.add(t);const r=e(t);for(const e of r.reverse())if(e.filename){vn.set(e.filename,n);break}}}(e),vn.get(t)}const Sn="ModuleMetadata",wn=Ft(Sn,(()=>({name:Sn,setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",(e=>{ln(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}(t),e[1]=t)}}))}))},processEvent:(e,t,n)=>(function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename)continue;const t=bn(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}}(n.getOptions().stackParser,e),e)})));class kn extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const xn="7";function En(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Tn(e,t){return n={sentry_key:e.publicKey,sentry_version:xn,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function Cn(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${En(e)}${e.projectId}/envelope/`}(e)}?${Tn(e,r)}`}function In(e,t,n,r){const o=gn(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const i=yn(e,o,r,t);delete e.sdkProcessingMetadata;return cn(i,[[{type:s},e]])}const On=/[^a-zA-Z0-9_/.-]+/g,Rn=/[^\w\d_:/@.{}[\]$-]+/g;function Mn(e,t,n,r){const o={sent_at:(new Date).toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=rn(t));const s=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return cn(o,[s])}const An="Not capturing exception because it's already been captured.";class Dn{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=an(e.dsn):ee&&D.warn("No DSN provided, client will not send events."),this._dsn){const t=Cn(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(Q(e))return void(ee&&D.log(An));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const s=d(e)?e:String(e),i=p(e)?this.eventFromMessage(s,t,n):this.eventFromException(e,n);return this._process(i.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&Q(t.originalException))return void(ee&&D.log(An));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?ee&&D.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),me(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):ne(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&$t(e,t,n)})),n}(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return ee&&D.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){$t(this,e,this._integrations)}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=In(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=un(n,hn(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=gn(n);return cn({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:rn(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;ee&&D.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){ee&&D.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=Mn(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&n)&&(me(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new oe((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=Ke()){const o=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),ut(o,e,t,n,this,r).then((e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:s,dsc:i}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:s},...e.contexts};const a=i||Le(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(ee){const t=e;"log"===t.logLevel?D.log(t.message):D.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,s=Nn(e),i=Ln(e),a=e.type||"error",c=`before send for type \`${a}\``;if(i&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),re(new kn(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const u="replay_event"===a?"replay":a;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,e),new kn("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(Ln(t)&&r)return r(t,n);if(Nn(t)&&o)return o(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(m(e))return e.then((e=>{if(!h(e)&&null!==e)throw new kn(n);return e}),(e=>{throw new kn(`${t} rejected with ${e}`)}));if(!h(e)&&null!==e)throw new kn(n);return e}(o,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",u,e),new kn(`${c} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!s&&o&&this._updateSessionFromEvent(o,r);const i=r.transaction_info;if(s&&i&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...i,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof kn)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new kn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{ee&&D.error("Error while sending event:",e)}));ee&&D.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function Ln(e){return void 0===e.type}function Nn(e){return"transaction"===e.type}function Pn(e){const t=Ot();t&&t.addEventProcessor&&t.addEventProcessor(e)}const $n={},jn={};function Fn(e,t){$n[e]=$n[e]||[],$n[e].push(t)}function Bn(e,t){jn[e]||(t(),jn[e]=!0)}function Un(e,t){const n=e&&$n[e];if(n)for(const r of n)try{r(t)}catch(t){O&&D.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${st(r)}\nError:`,t)}}let qn=null;function Hn(e){const t="error";Fn(t,e),Bn(t,zn)}function zn(){qn=b.onerror,b.onerror=function(e,t,n,r,o){return Un("error",{column:r,error:o,line:n,msg:e,url:t}),!(!qn||qn.__SENTRY_LOADER__)&&qn.apply(this,arguments)},b.onerror.__SENTRY_INSTRUMENTED__=!0}let Wn=null;function Vn(e){const t="unhandledrejection";Fn(t,e),Bn(t,Yn)}function Yn(){Wn=b.onunhandledrejection,b.onunhandledrejection=function(e){return Un("unhandledrejection",e),!(Wn&&!Wn.__SENTRY_LOADER__)||Wn.apply(this,arguments)},b.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Gn(e){return(e||Ge()).getScope().getTransaction()}const Kn=xe;let Jn=!1;function Xn(){const e=Gn();if(e){const t="internal_error";ee&&D.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Xn.tag="sentry_tracingErrorCallback";class Qn{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Zn{constructor(e={}){this._traceId=e.traceId||Y(),this._spanId=e.spanId||Y().substring(16),this.startTimestamp=e.startTimestamp||de(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this._attributes=e.attributes?{...e.attributes}:{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",this._name=e.name||e.description,e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.op&&(this.op=e.op),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?Ce:0}}startChild(e){const t=new Zn({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,ee&&t.transaction){const n=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${Ae(t).description||"< unknown name >"}' (${t.transaction.spanContext().spanId}).`;D.log(n),this._logMessage=n}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);const t=er(e);return"unknown_error"!==t&&this.setStatus(t),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this.status}finish(e){return this.end(e)}end(e){if(ee&&this.transaction&&this.transaction.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&D.log(e.replace("Starting","Finishing"))}this.endTimestamp=Re(e)}toTraceparent(){return Oe(this)}toContext(){return W({data:this._getData(),description:this._name,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return Ie(this)}getSpanJSON(){return W({data:this._getData(),description:this._name,op:this.op,parent_span_id:this.parentSpanId,span_id:this._spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this._traceId,origin:this.origin})}isRecording(){return!this.endTimestamp&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}function er(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}const tr="sentry.source",nr="sentry.sample_rate";class rr extends Zn{constructor(e,t){super(e),this._measurements={},this._contexts={},this._hub=t||Ge(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[tr]&&{source:this._attributes[tr]},...this._attributes[nr]&&{sampleRate:this._attributes[nr]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(tr,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Qn(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=Re(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return W({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Ne(this)}setHub(e){this._hub=e}_finishTransaction(e){if(void 0!==this.endTimestamp)return;this._name||(ee&&D.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return ee&&D.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const{metadata:r}=this,{source:o}=r,s={contexts:{...this._contexts,trace:Ie(this)},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...r,dynamicSamplingContext:Ne(this)},...o&&{transaction_info:{source:o}}};return Object.keys(this._measurements).length>0&&(ee&&D.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),ee&&D.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),s}}const or={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},sr=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class ir extends Qn{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===e.endTimestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class ar extends rr{constructor(e,t,n=or.idleTimeout,r=or.finalTimeout,o=or.heartbeatInterval,s=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=sr[4],s&&(ee&&D.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=sr[3],this.end())}),this._finalTimeout)}end(e){const t=Re(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){ee&&D.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),ee&&D.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const n=e.startTimestamp<t,r=(this._finalTimeout+this._idleTimeout)/1e3,o=e.endTimestamp-this.startTimestamp<r;if(ee){const t=JSON.stringify(e,void 0,2);n?o||D.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):D.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return n&&o})),ee&&D.log("[Tracing] flushing IdleTransaction")}else ee&&D.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new ir(t,n,this.spanContext().spanId,e),ee&&D.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=sr[5],this.end(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=sr[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),ee&&D.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,ee&&D.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(ee&&D.log(`[Tracing] popActivity ${e}`),delete this.activities[e],ee&&D.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=de();this._idleTimeoutCanceledPermanently?(this._finishReason=sr[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(ee&&D.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=sr[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){ee&&D.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function cr(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Ot(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function ur(e,t,n){if(!cr(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(nr,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(nr,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(nr,Number(r))):(r=1,e.setAttribute(nr,r)),function(e){if(g(e)||"number"!=typeof e&&"boolean"!=typeof e)return ee&&D.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1;if(e<0||e>1)return ee&&D.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1;return!0}(r)?r?(e.sampled=Math.random()<r,e.sampled?(ee&&D.log(`[Tracing] starting ${e.op} transaction - ${Ae(e).description}`),e):(ee&&D.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(ee&&D.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(ee&&D.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function lr(){const e=this.getScope().getSpan();return e?{"sentry-trace":Oe(e)}:{}}function dr(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",s=e.instrumenter||"sentry";o!==s&&(ee&&D.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let i=new rr(e,this);return i=ur(i,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),i.isRecording()&&i.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",i),i}function pr(e,t,n,r,o,s,i){const a=e.getClient(),c=a&&a.getOptions()||{};let u=new ar(t,e,n,r,i,o);return u=ur(u,c,{parentSampled:t.parentSampled,transactionContext:t,...s}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function hr(){const e=Ve();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=dr),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=lr),Jn||(Jn=!0,Hn(Xn),Vn(Xn)))}function fr(e,t,n=(()=>{})){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(m(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(r,t,n)}function mr(e,t,n=(()=>{}),r=(()=>{})){const o=Ge(),s=Rt(),i=s.getSpan(),a=wr(e),c=Sr(o,i,a);return s.setSpan(c),fr((()=>t(c)),(e=>{c&&c.setStatus("internal_error"),n(e,c)}),(()=>{c&&c.end(),s.setSpan(i),r()}))}function gr(e,t){const n=wr(e);return xt(e.scope,(e=>{const r=Sr(Ge(),e.getSpan(),n);return e.setSpan(r),fr((()=>t(r)),(()=>{!r||r.status&&"ok"!==r.status||r.setStatus("internal_error")}),(()=>r&&r.end()))}))}function yr(e,t){const n=wr(e);return xt(e.scope,(e=>{const r=Sr(Ge(),e.getSpan(),n);function o(){r&&r.end()}return e.setSpan(r),fr((()=>t(r,o)),(()=>{!r||r.endTimestamp||r.status&&"ok"!==r.status||r.setStatus("internal_error")}))}))}function vr(e){if(!cr())return;const t=wr(e),n=Ge(),r=e.scope?e.scope.getSpan():_r();return r?r.startChild(t):n.startTransaction(t)}function _r(){return Rt().getSpan()}function br({sentryTrace:e,baggage:t},n){const r=Rt(),{traceparentData:o,dynamicSamplingContext:s,propagationContext:i}=Ee(e,t);r.setPropagationContext(i),ee&&o&&D.log(`[Tracing] Continuing trace ${o.traceId}.`);const a={...o,metadata:W({dynamicSamplingContext:o&&!s?{}:s})};return n?n(a):a}function Sr(e,t,n){if(cr())return t?t.startChild(n):e.startTransaction(n)}function wr(e){if(e.startTime){const t={...e};return t.startTimestamp=Re(e.startTime),delete t.startTime,t}return e}function kr(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return re(new kn("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new oe(((n,r)=>{let o=t.length;if(!o)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{ne(e).then((()=>{--o||(clearTimeout(s),n(!0))}),r)}))}))}}}const xr=6e4;function Er(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?xr:r-t}function Tr(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function Cr(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},s=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n]=e.split(":",2),s=parseInt(t,10),i=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))o[e]=r+i;else o.all=r+i}else i?o.all=r+Er(i,r):429===t&&(o.all=r+6e4);return o}const Ir=30;function Or(e,t,n=kr(e.bufferSize||Ir)){let r={};function o(o){const s=[];if(ln(o,((t,n)=>{const o=mn(n);if(Tr(r,o)){const r=Rr(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else s.push(t)})),0===s.length)return ne();const i=cn(o[0],s),a=t=>{ln(i,((n,r)=>{const o=Rr(n,r);e.recordDroppedEvent(t,mn(r),o)}))};return n.add((()=>t({body:pn(i,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&ee&&D.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Cr(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof kn)return ee&&D.error("Skipped sending event because buffer is full."),a("queue_overflow"),ne();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function Rr(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function Mr(e,t){let n;return ln(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}function Ar(e,t){return n=>{const r=e(n),o={};function s(t,r){const s=r?`${t}:${r}`:t;if(!o[s]){const i=on(t);if(!i)return;const a=Cn(i);o[s]=r?function(e,t){return n=>{const r=e(n);return{send:async e=>{const n=Mr(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)},flush:e=>r.flush(e)}}}(e,r)({...n,url:a}):e({...n,url:a})}return o[s]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return Mr(e,n)}}).map((e=>"string"==typeof e?s(e,void 0):s(e.dsn,e.release))).filter((e=>!!e));return 0===n.length&&n.push(r),(await Promise.all(n.map((t=>t.send(e)))))[0]},flush:async function(e){const t=[...Object.keys(o).map((e=>o[e])),r];return(await Promise.all(t.map((t=>t.flush(e))))).every((e=>e))}}}}const Dr={c:class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},g:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},d:class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},s:class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}(e):e)).join(":")}}};class Lr{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(e,t,n,r="none",o={},s=de()){const i=Math.floor(s),a=t.replace(On,"_"),c=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n.replace(On,"_")]=String(e[n]).replace(Rn,"_"));return t}(o),u=function(e,t,n,r){return`${e}${t}${n}${Object.entries(W(r)).sort(((e,t)=>e[0].localeCompare(t[0])))}`}(e,a,r,c),l=this._buckets.get(u);l?(l.metric.add(n),l.timestamp<i&&(l.timestamp=i)):this._buckets.set(u,{metric:new Dr[e](n),timestamp:i,metricType:e,name:a,unit:r,tags:c})}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map((([,e])=>e));this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const Nr="MetricsAggregator";function Pr(e,t,n,r={}){const o=Ot(),s=Rt();if(o){if(!o.metricsAggregator)return void(ee&&D.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:i,tags:a,timestamp:c}=r,{release:u,environment:l}=o.getOptions(),d=s.getTransaction(),p={};u&&(p.release=u),l&&(p.environment=l),d&&(p.transaction=Ae(d).description||""),ee&&D.log(`Adding value of ${n} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,n,i,{...p,...a},c)}}const $r={increment:function(e,t=1,n){Pr("c",e,t,n)},distribution:function(e,t,n){Pr("d",e,t,n)},set:function(e,t,n){Pr("s",e,t,n)},gauge:function(e,t,n){Pr("g",e,t,n)},MetricsAggregator:Ft(Nr,(()=>({name:Nr,setup(e){e.metricsAggregator=new Lr(e)}})))};function jr(e,t,n){const r=Gn();r&&r.setMeasurement(e,t,n)}const Fr=b;let Br=0;function Ur(){return Br>0}function qr(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(U(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const o=r.map((e=>qr(e,t)));return e.apply(this,o)}catch(e){throw Br++,setTimeout((()=>{Br--})),xt((n=>{n.addEventProcessor((e=>(t.mechanism&&(J(e,void 0,void 0),X(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),ht(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}B(r,e),F(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}var Hr=n(68518);const zr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Wr(e,t){const n=Yr(e,t),r={type:t&&t.name,value:Kr(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Vr(e,t){return{exception:{values:[Wr(e,t)]}}}function Yr(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Gr.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const Gr=/Minified React error #\d+;/i;function Kr(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Jr(e,t,n,r){const o=Qr(e,t,n&&n.syntheticException||void 0,r);return X(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),ne(o)}function Xr(e,t,n="info",r,o){const s=Zr(e,t,r&&r.syntheticException||void 0,o);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),ne(s)}function Qr(e,t,n,r,o){let s;if(c(t)&&t.error){return Vr(e,t.error)}if(u(t)||a(t,"DOMException")){const o=t;if("stack"in t)s=Vr(e,t);else{const t=o.name||(u(o)?"DOMError":"DOMException"),i=o.message?`${t}: ${o.message}`:t;s=Zr(e,i,n,r),J(s,i)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}if(i(t))return Vr(e,t);if(h(t)||f(t)){return s=function(e,t,n,r){const o=Ot(),s=o&&o.getOptions().normalizeDepth,i={exception:{values:[{type:f(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:eo(t,{isUnhandledRejection:r})}]},extra:{__serialized__:at(t,s)}};if(n){const t=Yr(e,n);t.length&&(i.exception.values[0].stacktrace={frames:t})}return i}(e,t,n,o),X(s,{synthetic:!0}),s}return s=Zr(e,t,n,r),J(s,`${t}`,void 0),X(s,{synthetic:!0}),s}function Zr(e,t,n,r){const o={};if(r&&n){const r=Yr(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(d(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function eo(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(q(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return L(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:L(r,t)}return""}(e),r=t?"promise rejection":"exception";if(c(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(f(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function to(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:rn(r)}},s=function(e){return[{type:"user_report"},e]}(e);return cn(o,[s])}class no extends Dn{constructor(e){const t=Fr.SENTRY_SDK_SOURCE||(0,Hr.S)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:qe}],version:qe},super(e),e.sendClientReports&&Fr.document&&Fr.document.addEventListener("visibilitychange",(()=>{"hidden"===Fr.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return Jr(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return Xr(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(zr&&D.warn("SDK not enabled, will not capture user feedback."));const t=to(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(zr&&D.log("No outcomes to send"));if(!this._dsn)return void(zr&&D.log("No dsn provided, will not send outcomes"));zr&&D.log("Sending outcomes:",e);const t=(n=e,cn((r=this._options.tunnel&&rn(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||le(),discarded_events:n}]]));var n,r,o;this._sendEnvelope(t)}}const ro=S();function oo(){if(!("fetch"in ro))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function so(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}let io;function ao(e,t=function(){if(io)return io;if(so(Fr.fetch))return io=Fr.fetch.bind(Fr);const e=Fr.document;let t=Fr.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){zr&&D.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return io=t.bind(Fr)}()){let n=0,r=0;return Or(e,(function(o){const s=o.body.length;n+=s,r++;const i={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,i).then((e=>(n-=s,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return io=void 0,n-=s,r--,re(e)}}))}const co=4;function uo(e){return Or(e,(function(t){return new oe(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{o.readyState===co&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const lo="?";function po(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const ho=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fo=/\((\S*)(?::(\d+))(?::(\d+))\)/,mo=[30,e=>{const t=ho.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=fo.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Co(t[1]||lo,t[2]);return po(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],go=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,yo=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vo=[50,e=>{const t=go.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=yo.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||lo;return[n,e]=Co(n,e),po(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],_o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,bo=[40,e=>{const t=_o.exec(e);return t?po(t[2],t[1]||lo,+t[3],t[4]?+t[4]:void 0):void 0}],So=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,wo=[10,e=>{const t=So.exec(e);return t?po(t[2],t[3]||lo,+t[1]):void 0}],ko=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,xo=[20,e=>{const t=ko.exec(e);return t?po(t[5],t[3]||t[4]||lo,+t[1],+t[2]):void 0}],Eo=[mo,vo,bo],To=rt(...Eo),Co=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:lo,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};const Io=S();const Oo=b;let Ro;function Mo(e){const t="history";Fn(t,e),Bn(t,Ao)}function Ao(){if(!function(){const e=Io.chrome,t=e&&e.app&&e.app.runtime,n="history"in Io&&!!Io.history.pushState&&!!Io.history.replaceState;return!t&&n}())return;const e=Oo.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Ro,t=String(n);Ro=t;Un("history",{from:e,to:t})}return e.apply(this,t)}}Oo.onpopstate=function(...t){const n=Oo.location.href,r=Ro;Ro=n;if(Un("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},j(Oo.history,"pushState",t),j(Oo.history,"replaceState",t)}const Do="GlobalHandlers",Lo=Ft(Do,((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Do,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){Hn((t=>{const{stackParser:n,attachStacktrace:r}=$o();if(Ot()!==e||Ur())return;const{msg:o,url:s,line:i,column:a,error:u}=t,d=void 0===u&&l(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=c(e)?e.message:e,i="Error";const a=s.match(o);a&&(i=a[1],s=a[2]);const u={exception:{values:[{type:i,value:s}]}};return No(u,t,n,r)}(o,s,i,a):No(Qr(n,u||o,void 0,r,!1),s,i,a);d.level="error",mt(d,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}))}(e),Po("onerror")),t.onunhandledrejection&&(!function(e){Vn((t=>{const{stackParser:n,attachStacktrace:r}=$o();if(Ot()!==e||Ur())return;const o=function(e){if(p(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),s=p(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Qr(n,o,void 0,r,!0);s.level="error",mt(s,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),Po("onunhandledrejection"))}}}));function No(e,t,n,r){const o=e.exception=e.exception||{},s=o.values=o.values||[],i=s[0]=s[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,p=l(t)&&t.length>0?t:C();return 0===c.length&&c.push({colno:u,filename:p,function:"?",in_app:!0,lineno:d}),e}function Po(e){zr&&D.log(`Global Handler attached: ${e}`)}function $o(){const e=Ot();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const jo=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Fo="TryCatch",Bo=Ft(Fo,((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Fo,setupOnce(){t.setTimeout&&j(Fr,"setTimeout",Uo),t.setInterval&&j(Fr,"setInterval",Uo),t.requestAnimationFrame&&j(Fr,"requestAnimationFrame",qo),t.XMLHttpRequest&&"XMLHttpRequest"in Fr&&j(XMLHttpRequest.prototype,"send",Ho);const e=t.eventTarget;if(e){(Array.isArray(e)?e:jo).forEach(zo)}}}}));function Uo(e){return function(...t){const n=t[0];return t[0]=qr(n,{mechanism:{data:{function:st(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function qo(e){return function(t){return e.apply(this,[qr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:st(e)},handled:!1,type:"instrument"}})])}}function Ho(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&j(n,e,(function(t){const n={mechanism:{data:{function:e,handler:st(t)},handled:!1,type:"instrument"}},r=U(t);return r&&(n.mechanism.data.handler=st(r)),qr(t,n)}))})),e.apply(this,t)}}function zo(e){const t=Fr,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(j(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=qr(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:st(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,qr(r,{mechanism:{data:{function:"addEventListener",handler:st(r),target:e},handled:!1,type:"instrument"}}),o])}})),j(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}})))}function Wo(){"console"in b&&R.forEach((function(e){e in b.console&&j(b.console,e,(function(t){return M[e]=t,function(...t){Un("console",{args:t,level:e});const n=M[e];n&&n.apply(b.console,t)}}))}))}const Vo=b,Yo=1e3;let Go,Ko,Jo;function Xo(e){Fn("dom",e),Bn("dom",Qo)}function Qo(){if(!Vo.document)return;const e=Un.bind(null,"dom"),t=Zo(e,!0);Vo.document.addEventListener("click",t,!1),Vo.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Vo[t]&&Vo[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(j(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,s=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=s[n]=s[n]||{refCount:0};if(!i.handler){const r=Zo(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch(e){}return t.call(this,n,r,o)}})),j(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},s=o[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Zo(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;F(n,"_sentryCaptured",!0),r&&!r._sentryId&&F(r,"_sentryId",Y());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Ko)return!1;try{if(!e.target||e.target._sentryId!==Jo)return!1}catch(e){}return!0}(n)){e({event:n,name:o,global:t}),Ko=n.type,Jo=r?r._sentryId:void 0}clearTimeout(Go),Go=Vo.setTimeout((()=>{Jo=void 0,Ko=void 0}),Yo)}}const es=b,ts="__sentry_xhr_v3__";function ns(e){Fn("xhr",e),Bn("xhr",rs)}function rs(){if(!es.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;j(e,"open",(function(e){return function(...t){const n=Date.now(),r=l(t[0])?t[0].toUpperCase():void 0,o=function(e){if(l(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!o)return e.apply(this,t);this[ts]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const e=this[ts];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Un("xhr",{args:[r,o],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?j(this,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(this,t)}})):this.addEventListener("readystatechange",s),j(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,o=this[ts];return o&&l(n)&&l(r)&&(o.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),j(e,"send",(function(e){return function(...t){const n=this[ts];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Un("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function os(e){const t="fetch";Fn(t,e),Bn(t,ss)}function ss(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!oo())return!1;if(so(ro.fetch))return!0;let e=!1;const t=ro.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=so(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){O&&D.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&j(b,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:as(t),method:is(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:as(t),method:is(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Un("fetch",{...o}),e.apply(b,t).then((e=>(Un("fetch",{...o,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Un("fetch",{...o,endTimestamp:Date.now(),error:e}),e}))}}))}function is(e,t){return!!e&&"object"==typeof e&&!!e[t]}function as(e){return"string"==typeof e?e:e?is(e,"url")?e.url:e.toString?e.toString():"":""}const cs=["fatal","error","warning","log","info","debug"];function us(e){return"warn"===e?"warning":cs.includes(e)?e:"log"}function ls(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const ds=1024,ps="Breadcrumbs",hs=Ft(ps,((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:ps,setup(e){t.console&&function(e){const t="console";Fn(t,e),Bn(t,Wo)}(function(e){return function(t){if(Ot()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:us(t.level),message:N(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${N(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}yt(n,{input:t.args,level:t.level})}}(e)),t.dom&&Xo(function(e,t){return function(n){if(Ot()!==e)return;let r,o,s="object"==typeof t?t.serializeAttribute:void 0,i="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;i&&i>ds&&(zr&&D.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=ds),"string"==typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=E(t,{keyAttrs:s,maxStringLength:i}),o=I(t)}catch(e){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};o&&(a.data={"ui.component_name":o}),yt(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&ns(function(e){return function(t){if(Ot()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[ts];if(!n||!r||!o)return;const{method:s,url:i,status_code:a,body:c}=o;yt({category:"xhr",data:{method:s,url:i,status_code:a},type:"http"},{xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&os(function(e){return function(t){if(Ot()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){yt({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;yt({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&Mo(function(e){return function(t){if(Ot()!==e)return;let n=t.from,r=t.to;const o=ls(Fr.location.href);let s=n?ls(n):void 0;const i=ls(r);s&&s.path||(s=o),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),yt({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){Ot()===e&&yt({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:K(t)},{event:t})}}(e))}}}));const fs="LinkedErrors",ms=Ft(fs,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:fs,preprocessEvent(e,r,o){const s=o.getOptions();Gt(Wr,s.stackParser,s.maxValueLength,n,t,e,r)}}})),gs="HttpContext",ys=Ft(gs,(()=>({name:gs,preprocessEvent(e){if(!Fr.navigator&&!Fr.location&&!Fr.document)return;const t=e.request&&e.request.url||Fr.location&&Fr.location.href,{referrer:n}=Fr.document||{},{userAgent:r}=Fr.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:o};e.request=s}}))),vs="Dedupe",_s=Ft(vs,(()=>{let e;return{name:vs,processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Ss(e,t))return!1;if(!bs(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=ws(t),r=ws(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Ss(e,t))return!1;if(!bs(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return zr&&D.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}));function bs(e,t){let n=ks(e),r=ks(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function Ss(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function ws(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ks(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const xs=[new Vt,new qt,new Bo,new hs,new Lo,new ms,new _s,new ys];function Es(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=xs),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Fr.SENTRY_RELEASE&&Fr.SENTRY_RELEASE.id&&(e.release=Fr.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||To,Array.isArray(n)?rt(...n):n),integrations:Pt(e),transport:e.transport||(oo()?ao:uo)};var n;!function(e,t){!0===t.debug&&(ee?D.enable():A((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));const n=Ge();n.getScope().update(t.initialScope);const r=new e(t);n.bindClient(r)}(no,t),e.autoSessionTracking&&function(){if(void 0===Fr.document)return void(zr&&D.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));Mt({ignoreDuration:!0}),Lt(),Mo((({from:e,to:t})=>{void 0!==e&&e!==t&&(Mt({ignoreDuration:!0}),Lt())}))}()}const Ts=(e={},t=Ge())=>{if(!Fr.document)return void(zr&&D.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),o=e.dsn||n&&n.getDsn();if(!o)return void(zr&&D.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const s=Fr.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=function(e,t){const n=an(e);if(!n)return"";const r=`${En(n)}embed/error-page/`;let o=`dsn=${rn(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${o}`}(o,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:i}=e;if(i){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{i()}finally{Fr.removeEventListener("message",e)}};Fr.addEventListener("message",e)}const a=Fr.document.head||Fr.document.body;a?a.appendChild(s):zr&&D.error("Not injecting report dialog. No injection point found in HTML")};function Cs(){}function Is(e){e()}function Os(e){return qr(e)()}function Rs(e){const t=Ot();t&&t.captureUserFeedback(e)}function Ms(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function As(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),o=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return Ds(e)===Ds(t)}(e,o)}function Ds(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var Ls=n(61422);function Ns(){return"undefined"!=typeof window&&(!(0,Ls.KV)()||void 0!==b.process&&"renderer"===b.process.type)}const Ps="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,$s=(e,t,n)=>{let r,o;return s=>{t.value>=0&&(s||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},js=b,Fs=()=>js.__WEB_VITALS_POLYFILL__?js.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=js.performance.timing,t=js.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):js.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Bs=()=>{const e=Fs();return e&&e.activationStart||0},Us=(e,t)=>{const n=Fs();let r="navigate";return n&&(r=js.document.prerendering||Bs()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},qs=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Hs=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==js.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},zs=e=>{const t=Us("CLS",0);let n,r=0,o=[];const s=e=>{e.forEach((e=>{if(!e.hadRecentInput){const s=o[0],i=o[o.length-1];r&&0!==o.length&&e.startTime-i.startTime<1e3&&e.startTime-s.startTime<5e3?(r+=e.value,o.push(e)):(r=e.value,o=[e]),r>t.value&&(t.value=r,t.entries=o,n&&n())}}))},i=qs("layout-shift",s);if(i){n=$s(e,t);const r=()=>{s(i.takeRecords()),n(!0)};return Hs(r),r}};let Ws=-1;const Vs=()=>(Ws<0&&(Ws="hidden"!==js.document.visibilityState||js.document.prerendering?1/0:0,Hs((({timeStamp:e})=>{Ws=e}),!0)),{get firstHiddenTime(){return Ws}}),Ys=e=>{const t=Vs(),n=Us("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},s=e=>{e.forEach(o)},i=qs("first-input",s);r=$s(e,n),i&&Hs((()=>{s(i.takeRecords()),i.disconnect()}),!0)},Gs={},Ks=e=>{const t=Vs(),n=Us("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-Bs(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},s=qs("largest-contentful-paint",o);if(s){r=$s(e,n);const t=()=>{Gs[n.id]||(o(s.takeRecords()),s.disconnect(),Gs[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),Hs(t,!0),t}},Js={},Xs={};let Qs,Zs,ei;function ti(e){return ai("lcp",e,ii,ei)}function ni(e,t){return ci(e,t),Xs[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);qs(e,(t=>{ri(e,{entries:t})}),t)}(e),Xs[e]=!0),ui(e,t)}function ri(e,t){const n=Js[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){Ps&&D.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${st(r)}\nError:`,t)}}function oi(){zs((e=>{ri("cls",{metric:e}),Qs=e}))}function si(){Ys((e=>{ri("fid",{metric:e}),Zs=e}))}function ii(){Ks((e=>{ri("lcp",{metric:e}),ei=e}))}function ai(e,t,n,r){return ci(e,t),Xs[e]||(n(),Xs[e]=!0),r&&t({metric:r}),ui(e,t)}function ci(e,t){Js[e]=Js[e]||[],Js[e].push(t)}function ui(e,t){return()=>{const n=Js[e];if(!n)return;const r=n.indexOf(t);-1!==r&&n.splice(r,1)}}const li=b,di="sentryReplaySession",pi="replay_event",hi="Unable to send Replay",fi=15e4,mi=5e3,gi=2e7,yi=36e5,vi={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}};function _i(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}var bi;function Si(e){const t=_i([e,"optionalAccess",e=>e.host]);return Boolean(_i([t,"optionalAccess",e=>e.shadowRoot])===e)}function wi(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function ki(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,xi).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function xi(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=ki(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(bi||(bi={}));class Ei{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=_i([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Ti({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function Ci({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Ii(e){return e.toLowerCase()}function Oi(e){return e.toUpperCase()}const Ri="__rrweb_original__";function Mi(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ii(t):null}function Ai(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Di=1;const Li=new RegExp("[^a-z0-9-_:]"),Ni=-2;function Pi(){return Di++}let $i,ji;const Fi=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Bi=/^(?:[a-z+]+:)?\/\//i,Ui=/^www\..*/i,qi=/^(data:)([^,]*),(.*)/i;function Hi(e,t){return(e||"").replace(Fi,((e,n,r,o,s,i)=>{const a=r||s||i,c=n||o||"";if(!a)return e;if(Bi.test(a)||Ui.test(a))return`url(${c}${a}${c})`;if(qi.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const u=t.split("/"),l=a.split("/");u.pop();for(const e of l)"."!==e&&(".."===e?u.pop():u.push(e));return`url(${c}${u.join("/")}${c})`}))}const zi=/^[^ \t\n\r\u000c]+/,Wi=/^[, \t\n\r\u000c]+/;function Vi(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function Yi(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Gi(){const e=document.createElement("a");return e.href="",e.href}function Ki(e,t,n,r,o,s){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Vi(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r(Wi),!(n>=t.length);){let s=r(zi);if(","===s.slice(-1))s=Vi(e,s.substring(0,s.length-1)),o.push(s);else{let r="";s=Vi(e,s);let i=!1;for(;;){const e=t.charAt(n);if(""===e){o.push((s+r).trim());break}if(i)")"===e&&(i=!1);else{if(","===e){n+=1,o.push((s+r).trim());break}"("===e&&(i=!0)}r+=e,n+=1}}}return o.join(", ")}(e,r):"style"===n?Hi(r,Gi()):"object"===t&&"data"===n?Vi(e,r):"function"==typeof s?s(n,r,o):r:Vi(e,r):r}function Ji(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Xi(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Xi(e.parentNode,t,n,r+1):-1}function Qi(e,t){return n=>{const r=n;if(null===r)return!1;if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}}function Zi(e,t,n,r,o,s){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===i)return!1;let a=-1,c=-1;if(s){if(c=Xi(i,Qi(r,o)),c<0)return!0;a=Xi(i,Qi(t,n),c>=0?c:1/0)}else{if(a=Xi(i,Qi(t,n)),a<0)return!1;c=Xi(i,Qi(r,o),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0)&&!!s}catch(e){}return!!s}function ea(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S=!1}=t,w=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:bi.Document,childNodes:[],compatMode:e.compatMode}:{type:bi.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:bi.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:s,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:m,maskAllText:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:b}=t,S=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,o,s),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=Ii(e.tagName);return Li.test(t)?"div":t}(e);let k={};const x=e.attributes.length;for(let t=0;t<x;t++){const r=e.attributes[t];Ji(w,r.name,r.value)||(k[r.name]=Ki(n,w,Ii(r.name),r.value,e,c))}if("link"===w&&i){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=ki(t)),r&&(delete k.rel,delete k.href,k._cssText=Hi(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=ki(e.sheet);t&&(k._cssText=Hi(t,Gi()))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=Mi(t),r=Ai(t,Oi(w),n),o=t.checked;if("submit"!==n&&"button"!==n&&r){const e=Zi(t,y,_,v,b,Ti({type:n,tagName:Oi(w),maskInputOptions:a}));k.value=Ci({isMasked:e,element:t,value:r,maskInputFn:u})}o&&(k.checked=o)}"option"===w&&(e.selected&&!a.select?k.selected=!0:delete k.selected);if("canvas"===w&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const o=t.getImageData,s=Ri in o?o[Ri]:o;if(new Uint32Array(s.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(k.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const t=e.toDataURL(l.type,l.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(l.type,l.quality)&&(k.rr_dataURL=t)}if("img"===w&&d){$i||($i=n.createElement("canvas"),ji=$i.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const o=()=>{t.removeEventListener("load",o);try{$i.width=t.naturalWidth,$i.height=t.naturalHeight,ji.drawImage(t,0,0),k.rr_dataURL=$i.toDataURL(l.type,l.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?k.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==w&&"video"!==w||(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop));if(S){const{width:t,height:n}=e.getBoundingClientRect();k={class:k.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||h(k.src)||(e.contentDocument||(k.rr_src=k.src),delete k.src);let E;try{customElements.get(w)&&(E=!0)}catch(e){}return{type:bi.Element,tagName:w,attributes:k,childNodes:[],isSVG:Yi(e)||void 0,needBlock:S,rootId:m,isCustom:E}}(e,{doc:n,blockClass:o,blockSelector:s,unblockSelector:i,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S,rootId:w,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:s,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const h="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(h&&p){try{e.nextSibling||e.previousSibling||_i([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(p=ki(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=Hi(p,Gi())}f&&(p="SCRIPT_PLACEHOLDER");const g=Zi(e,r,s,o,i,n);h||f||m||!p||!g||(p=a?a(p):p.replace(/[\S]/g,"*"));m&&p&&(c.textarea||g)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===d&&p){p=Ci({isMasked:Zi(e,r,s,o,i,Ti({type:null,tagName:d,maskInputOptions:c})),element:e,value:p,maskInputFn:u})}return{type:bi.Text,textContent:p||"",isStyle:h,rootId:l}}(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:w});case e.CDATA_SECTION_NODE:return{type:bi.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:bi.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function ta(e){return null==e?"":e.toLowerCase()}function na(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x=5e3,onStylesheetLoad:E,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:C=(()=>!1),newlyAddedElement:I=!1}=t;let{preserveWhiteSpace:O=!0}=t;const R=ea(e,{doc:n,mirror:r,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,keepIframeSrcFn:C,newlyAddedElement:I});if(!R)return console.warn(e,"not serialized"),null;let M;M=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===bi.Comment)return!0;if(e.type===bi.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(ta(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===ta(e.attributes.name)||"icon"===ta(e.attributes.rel)||"apple-touch-icon"===ta(e.attributes.rel)||"shortcut icon"===ta(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&ta(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ta(e.attributes.property).match(/^(og|twitter|fb):/)||ta(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===ta(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===ta(e.attributes.name)||"googlebot"===ta(e.attributes.name)||"bingbot"===ta(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===ta(e.attributes.name)||"generator"===ta(e.attributes.name)||"framework"===ta(e.attributes.name)||"publisher"===ta(e.attributes.name)||"progid"===ta(e.attributes.name)||ta(e.attributes.property).match(/^article:/)||ta(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===ta(e.attributes.name)||"yandex-verification"===ta(e.attributes.name)||"csrf-token"===ta(e.attributes.name)||"p:domain_verify"===ta(e.attributes.name)||"verify-v1"===ta(e.attributes.name)||"verification"===ta(e.attributes.name)||"shopify-checkout-api-token"===ta(e.attributes.name)))return!0}}return!1}(R,v)&&(O||R.type!==bi.Text||R.isStyle||R.textContent.replace(/^\s+|\s+$/gm,"").length)?Pi():Ni;const A=Object.assign(R,{id:M});if(r.add(e,A),M===Ni)return null;w&&w(e);let D=!p;if(A.type===bi.Element){D=D&&!A.needBlock,delete A.needBlock;const t=e.shadowRoot;t&&wi(t)&&(A.isShadowHost=!0)}if((A.type===bi.Document||A.type===bi.Element)&&D){v.headWhitespace&&A.type===bi.Element&&"head"===A.tagName&&(O=!1);const t={doc:n,mirror:r,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:O,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:C};for(const n of Array.from(e.childNodes)){const e=na(n,t);e&&A.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=na(n,t);r&&(wi(e.shadowRoot)&&(r.isShadow=!0),A.childNodes.push(r))}}return e.parentNode&&Si(e.parentNode)&&wi(e.parentNode)&&(A.isShadow=!0),A.type===bi.Element&&"iframe"===A.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let o,s=!1;try{o=r.document.readyState}catch(e){return}if("complete"!==o){const r=setTimeout((()=>{s||(t(),s=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),s=!0,t()}))}const i="about:blank";if(r.location.href!==i||e.src===i||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&k){const n=na(t,{doc:t,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:O,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:C});n&&k(e,n)}}),x),A.type===bi.Element&&"link"===A.tagName&&"stylesheet"===A.attributes.rel&&function(e,t,n){let r,o=!1;try{r=e.sheet}catch(e){return}if(r)return;const s=setTimeout((()=>{o||(t(),o=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(s),o=!0,t()}))}(e,(()=>{if(E){const t=na(e,{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:O,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:C});t&&E(e,t)}}),T),A}function ra(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function oa(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const sa="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let ia={map:{},getId:()=>(console.error(sa),-1),getNode:()=>(console.error(sa),null),removeNodeFromMap(){console.error(sa)},has:()=>(console.error(sa),!1),reset(){console.error(sa)}};function aa(e,t,n={}){let r=null,o=0;return function(...s){const i=Date.now();o||!1!==n.leading||(o=i);const a=t-(i-o),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),o=i,e.apply(c,s)):r||!1===n.trailing||(r=setTimeout((()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(c,s)}),a))}}function ca(e,t,n,r,o=window){const s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),s&&s.set&&s.set.call(this,e)}}),()=>ca(e,t,s||{},!0)}function ua(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ia=new Proxy(ia,{get:(e,t,n)=>("map"===t&&console.error(sa),Reflect.get(e,t,n))}));let la,da=Date.now;function pa(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:ra([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||ra([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||ra([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:ra([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||ra([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||ra([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function ha(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function fa(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ma(e,t,n,r,o){if(!e)return!1;const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!s)return!1;const i=Qi(t,n);if(!o){const e=r&&s.matches(r);return i(s)&&!e}const a=Xi(s,i);let c=-1;return!(a<0)&&(r&&(c=Xi(s,Qi(null,r))),a>-1&&c<0||a<c)}function ga(e,t){return t.getId(e)===Ni}function ya(e,t){if(Si(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||ya(e.parentNode,t))}function va(e){return Boolean(e.changedTouches)}function _a(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function ba(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Sa(e){return Boolean(ra([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(da=()=>(new Date).getTime());class wa{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ka(e){let t=null;return ra([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function xa(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=ka(n);)n=t;return n}(e);return t.contains(n)}function Ea(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||xa(e))}function Ta(...e){return function(){if(la)return la;const e=window.document;let t=window.requestAnimationFrame;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch(e){}return la=t.bind(window)}()(...e)}var Ca=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ca||{}),Ia=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ia||{}),Oa=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Oa||{}),Ra=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ra||{});function Ma(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function Aa(e){return"__ln"in e}class Da{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=Ma([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Aa(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Aa(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const La=(e,t)=>`${e}@${t}`;class Na{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Da,r=e=>{let t=e,n=Ni;for(;n===Ni;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!Ea(o))return;const s=Si(o.parentNode)?this.mirror.getId(ka(o)):this.mirror.getId(o.parentNode),i=r(o);if(-1===s||-1===i)return n.addNode(o);const a=na(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{_a(e,this.mirror)&&this.iframeManager.addIframe(e),ba(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Sa(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:s,nextId:i,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)$a(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||o(e);for(const e of this.addedSet)Fa(this.droppedSet,e)||$a(this.removes,e,this.mirror)?Fa(this.movedSet,e)?o(e):this.droppedSet.add(e):o(e);let s=null;for(;n.length;){let e=null;if(s){const t=this.mirror.getId(s.value.parentNode),n=r(s.value);-1!==t&&-1!==n&&(e=s)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}s=e.previous,n.removeNode(e.value),o(e.value)}const i={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(i.texts.length||i.attributes.length||i.removes.length||i.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(i))},this.processMutation=e=>{if(ga(e.target,this.mirror))return;let t;try{t=document.implementation.createHTMLDocument()}catch(e){t=this.doc}switch(e.type){case"characterData":{const t=e.target.textContent;ma(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:Zi(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,o=e.target.getAttribute(r);if("value"===r){const t=Mi(n),r=n.tagName;o=Ai(n,r,t);const s=Ti({maskInputOptions:this.maskInputOptions,tagName:r,type:t});o=Ci({isMasked:Zi(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:n,value:o,maskInputFn:this.maskInputFn})}if(ma(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===e.oldValue)return;let s=this.attributes.find((t=>t.node===e.target));if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(o)){if(n.contentDocument)return;r="rr_src"}if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Ji(n.tagName,r)&&(s.attributes[r]=Ki(this.doc,Ii(n.tagName),Ii(r),o,n,this.maskAttributeFn),"style"===r)){const r=t.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),o=n.style.getPropertyPriority(e);t!==r.style.getPropertyValue(e)||o!==r.style.getPropertyPriority(e)?s.styleDiff[e]=""===o?t:[t,o]:s._unchangedStyles[e]=[t,o]}for(const e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(s.styleDiff[e]=!1)}break}case"childList":if(ma(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=Si(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);ma(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ga(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Pa(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||ya(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[La(n,r)]?Pa(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!Si(e.target)||!wi(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(ga(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[La(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);ma(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Sa(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Pa(e,t){e.delete(t),t.childNodes.forEach((t=>Pa(e,t)))}function $a(e,t,n){return 0!==e.length&&ja(e,t,n)}function ja(e,t,n){const{parentNode:r}=t;if(!r)return!1;const o=n.getId(r);return!!e.some((e=>e.id===o))||ja(e,r,n)}function Fa(e,t){return 0!==e.size&&Ba(e,t)}function Ba(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Ba(e,n))}let Ua;function qa(e){Ua=e}function Ha(){Ua=void 0}const za=e=>{if(!Ua)return e;return(...t)=>{try{return e(...t)}catch(e){if(Ua&&!0===Ua(e))return()=>{};throw e}}};function Wa(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}const Va=[];function Ya(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function Ga(e,t){const n=new Na;Va.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=Wa([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);o&&window[o]&&(r=window[o]);const s=new r(za((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Ka({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,sampling:i}){if(!1===i.mouseInteraction)return()=>{};const a=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,c=[];let u=null;return Object.keys(Oa).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((i=>{let a=Ii(i);const l=(t=>i=>{const a=Ya(i);if(ma(a,r,o,s,!0))return;let c=null,l=t;if("pointerType"in i){switch(i.pointerType){case"mouse":c=Ra.Mouse;break;case"touch":c=Ra.Touch;break;case"pen":c=Ra.Pen}c===Ra.Touch?Oa[t]===Oa.MouseDown?l="TouchStart":Oa[t]===Oa.MouseUp&&(l="TouchEnd"):Ra.Pen}else va(i)&&(c=Ra.Touch);null!==c?(u=c,(l.startsWith("Touch")&&c===Ra.Touch||l.startsWith("Mouse")&&c===Ra.Mouse)&&(c=null)):Oa[t]===Oa.Click&&(c=u,u=null);const d=va(i)?i.changedTouches[0]:i;if(!d)return;const p=n.getId(a),{clientX:h,clientY:f}=d;za(e)({type:Oa[l],id:p,x:h,y:f,...null!==c&&{pointerType:c}})})(i);if(window.PointerEvent)switch(Oa[i]){case Oa.MouseDown:case Oa.MouseUp:a=a.replace("mouse","pointer");break;case Oa.TouchStart:case Oa.TouchEnd:return}c.push(oa(a,l,t))})),za((()=>{c.forEach((e=>e()))}))}function Ja({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,sampling:i}){return oa("scroll",za(aa(za((i=>{const a=Ya(i);if(!a||ma(a,r,o,s,!0))return;const c=n.getId(a);if(a===t&&t.defaultView){const n=pa(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:a.scrollLeft,y:a.scrollTop})})),i.scroll||100)),t)}const Xa=["INPUT","TEXTAREA","SELECT"],Qa=new WeakMap;function Za({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m}){function g(e){let n=Ya(e);const l=e.isTrusted,g=n&&Oi(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||Xa.indexOf(g)<0||ma(n,r,o,s,!0))return;const v=n;if(v.classList.contains(i)||a&&v.matches(a))return;const _=Mi(n);let b=Ai(v,g,_),S=!1;const w=Ti({maskInputOptions:c,tagName:g,type:_}),k=Zi(n,p,f,h,m,w);"radio"!==_&&"checkbox"!==_||(S=n.checked),b=Ci({isMasked:k,element:n,value:b,maskInputFn:u}),y(n,d?{text:b,isChecked:S,userTriggered:l}:{text:b,isChecked:S});const x=n.name;"radio"===_&&x&&S&&t.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach((e=>{if(e!==n){const t=Ci({isMasked:k,element:e,value:Ai(e,g,_),maskInputFn:u});y(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}}))}function y(t,r){const o=Qa.get(t);if(!o||o.text!==r.text||o.isChecked!==r.isChecked){Qa.set(t,r);const o=n.getId(t);za(e)({...r,id:o})}}const v=("last"===l.input?["change"]:["input","change"]).map((e=>oa(e,za(g),t))),_=t.defaultView;if(!_)return()=>{v.forEach((e=>e()))};const b=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),S=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&v.push(...S.map((e=>ca(e[0],e[1],{set(){za(g)({target:this,isTrusted:!1})}},!1,_)))),za((()=>{v.forEach((e=>e()))}))}function ec(e){return function(e,t){if(oc("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||oc("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||oc("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||oc("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function tc(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function nc({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const o="#document"===n.nodeName?Wa([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):Wa([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),s=Wa([o,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(Wa([o,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&o&&s?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return Wa([s,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=Wa([s,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),za((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))):()=>{}}function rc(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=Ga(e,e.doc),o=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const o="number"==typeof t.mousemove?t.mousemove:50,s="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let i,a=[];const c=aa(za((t=>{const n=Date.now()-i;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],i=null})),s),u=za(aa(za((e=>{const t=Ya(e),{clientX:n,clientY:o}=va(e)?e.changedTouches[0]:e;i||(i=da()),a.push({x:n,y:o,id:r.getId(t),timeOffset:da()-i}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?Ia.Drag:e instanceof MouseEvent?Ia.MouseMove:Ia.TouchMove)})),o,{trailing:!1})),l=[oa("mousemove",u,n),oa("touchmove",u,n),oa("drag",u,n)];return za((()=>{l.forEach((e=>e()))}))}(e),s=Ka(e),i=Ja(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return oa("resize",za(aa(za((()=>{const t=ha(),o=fa();n===t&&r===o||(e({width:Number(o),height:Number(t)}),n=t,r=o)})),200)),t)}(e,{win:n}),c=Za(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:s,doc:i}){const a=za((i=>aa(za((s=>{const a=Ya(s);if(!a||ma(a,t,n,r,!0))return;const{currentTime:c,volume:u,muted:l,playbackRate:d}=a;e({type:i,id:o.getId(a),currentTime:c,volume:u,muted:l,playbackRate:d})})),s.media||500))),c=[oa("play",a(0),i),oa("pause",a(1),i),oa("seeked",a(2),i),oa("volumechange",a(3),i),oa("ratechange",a(4),i)];return za((()=>{c.forEach((e=>e()))}))}(e),l=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:za(((r,o,s)=>{const[i,a]=s,{id:c,styleId:u}=tc(o,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:i,index:a}]}),r.apply(o,s)}))});const s=r.CSSStyleSheet.prototype.deleteRule;let i,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:za(((r,o,s)=>{const[i]=s,{id:a,styleId:c}=tc(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:i}]}),r.apply(o,s)}))}),r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:za(((r,o,s)=>{const[i]=s,{id:a,styleId:c}=tc(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replace:i}),r.apply(o,s)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:za(((r,o,s)=>{const[i]=s,{id:a,styleId:c}=tc(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replaceSync:i}),r.apply(o,s)}))}));const c={};sc("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(sc("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),sc("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),sc("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach((([r,o])=>{u[r]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(u[r].insertRule,{apply:za(((r,o,s)=>{const[i,a]=s,{id:c,styleId:u}=tc(o.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:i,index:[...ec(o),a||0]}]}),r.apply(o,s)}))}),o.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:za(((r,o,s)=>{const[i]=s,{id:a,styleId:c}=tc(o.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:[...ec(o),i]}]}),r.apply(o,s)}))})})),za((()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=s,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule}))}))}(e,{win:n}),d=nc(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:za(((o,i,a)=>{const[c,u,l]=a;if(n.has(c))return s.apply(i,[c,u,l]);const{id:d,styleId:p}=tc(Wa([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:c,value:u,priority:l},index:ec(i.parentRule)}),o.apply(i,a)}))});const i=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:za(((o,s,a)=>{const[c]=a;if(n.has(c))return i.apply(s,[c]);const{id:u,styleId:l}=tc(Wa([s,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(u&&-1!==u||l&&-1!==l)&&e({id:u,styleId:l,remove:{property:c},index:ec(s.parentRule)}),o.apply(s,a)}))}),za((()=>{o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=i}))}(e,{win:n}),h=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,s=n.FontFace;n.FontFace=function(e,t,n){const r=new s(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const i=ua(t.fonts,"add",(function(t){return function(n){return setTimeout(za((()=>{const t=o.get(n);t&&(e(t),o.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=s})),r.push(i),za((()=>{r.forEach((e=>e()))}))}(e):()=>{},f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,selectionCb:i}=e;let a=!0;const c=za((()=>{const e=t.getSelection();if(!e||a&&Wa([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;const c=[],u=e.rangeCount||0;for(let t=0;t<u;t++){const i=e.getRangeAt(t),{startContainer:a,startOffset:u,endContainer:l,endOffset:d}=i;ma(a,r,o,s,!0)||ma(l,r,o,s,!0)||c.push({start:n.getId(a),startOffset:u,end:n.getId(l),endOffset:d})}i({ranges:c})}));return c(),oa("selectionchange",c)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?ua(n.customElements,"define",(function(e){return function(n,r,o){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,o])}})):()=>{}}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return za((()=>{Va.forEach((e=>e.reset())),r.disconnect(),o(),s(),i(),a(),c(),u(),l(),d(),p(),h(),f(),m(),g.forEach((e=>e()))}))}function oc(e){return void 0!==window[e]}function sc(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ic{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),s=r||this.getRemoteIdToIdMap(e);let i=o.get(t);return i||(i=this.generateIdFn(),o.set(t,i),s.set(i,t)),i}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const o=r.get(t);return o||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function ac(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}class cc{constructor(){this.crossOriginIframeMirror=new ic(Pi),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class uc{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ic(Pi),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ic(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),ac([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Ca.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Ca.IncrementalSnapshot,data:{source:Ia.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ca.Meta:case Ca.Load:case Ca.DomContentLoaded:return!1;case Ca.Plugin:return t;case Ca.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Ca.IncrementalSnapshot:switch(t.data.source){case Ia.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Ia.Drag:case Ia.TouchMove:case Ia.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Ia.ViewportResize:return!1;case Ia.MediaInteraction:case Ia.MouseInteraction:case Ia.Scroll:case Ia.CanvasMutation:case Ia.Input:return this.replaceIds(t.data,e,["id"]),t;case Ia.StyleSheetRule:case Ia.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Ia.Font:return t;case Ia.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Ia.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),ac([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const o of r)(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===bi.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class lc{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class dc{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!wi(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Ga({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Ja({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(nc({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(ua(e.prototype,"attachShadow",(function(e){return function(r){const o=e.call(this,r);return this.shadowRoot&&Ea(this)&&n.addShadowRoot(this.shadowRoot,t),o}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class pc{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class hc{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new wa,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:xi(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class fc{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){Ta((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function mc(e){const t=e;return t.timestamp=da(),t}let gc,yc;const vc=new Ei;function _c(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:s=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,packFn:S,sampling:w={},dataURLOptions:k={},mousemoveWait:x,recordCanvas:E=!1,recordCrossOriginIframes:T=!1,recordAfter:C=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:I=!1,collectFonts:O=!1,inlineImages:R=!1,plugins:M,keepIframeSrcFn:A=(()=>!1),ignoreCSSAttributes:D=new Set([]),errorHandler:L,onMutation:N,getCanvasManager:P}=e;qa(L);const $=!T||window.parent===window;let j=!1;if(!$)try{window.parent.document&&(j=!1)}catch(e){j=!0}if($&&!t)throw new Error("emit function is required");void 0!==x&&void 0===w.mousemove&&(w.mousemove=x),vc.reset();const F=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},B=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let U;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let q=0;const H=e=>{for(const t of M||[])t.eventProcessor&&(e=t.eventProcessor(e));return S&&!j&&(e=S(e)),e},z=(e,o)=>{if(!Ms([Va,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||e.type===Ca.FullSnapshot||e.type===Ca.IncrementalSnapshot&&e.data.source===Ia.Mutation||Va.forEach((e=>e.unfreeze())),$)Ms([t,"optionalCall",t=>t(H(e),o)]);else if(j){const t={type:"rrweb",event:H(e),origin:window.location.origin,isCheckout:o};window.parent.postMessage(t,"*")}if(e.type===Ca.FullSnapshot)U=e,q=0;else if(e.type===Ca.IncrementalSnapshot){if(e.data.source===Ia.Mutation&&e.data.isAttachIframe)return;q++;const t=r&&q>=r,o=n&&e.timestamp-U.timestamp>n;(t||o)&&Z(!0)}};gc=z;const W=e=>{z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.Mutation,...e}}))},V=e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.Scroll,...e}})),Y=e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.CanvasMutation,...e}})),G=new hc({mutationCb:W,adoptedStyleSheetCb:e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.AdoptedStyleSheet,...e}}))}),K="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new cc:new uc({mirror:vc,mutationCb:W,stylesheetManager:G,recordCrossOriginIframes:T,wrappedEmit:z});for(const e of M||[])e.getMirror&&e.getMirror({nodeMirror:vc,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});const J=new fc,X=bc(P,{recordCanvas:E,blockClass:o,blockSelector:s,unblockSelector:i,sampling:w.canvas,dataURLOptions:k}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new lc:new dc({mutationCb:W,scrollCb:V,bypassOptions:{onMutation:N,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:F,dataURLOptions:k,maskAttributeFn:v,maskTextFn:b,maskInputFn:_,recordCanvas:E,inlineImages:R,sampling:w,slimDOMOptions:B,iframeManager:K,stylesheetManager:G,canvasManager:X,keepIframeSrcFn:A,processedNodeManager:J},mirror:vc}),Z=(e=!1)=>{z(mc({type:Ca.Meta,data:{href:window.location.href,width:fa(),height:ha()}}),e),G.reset(),Q.init(),Va.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new Ei,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:s=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:T=(()=>!1)}=t||{};return na(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:_,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:vc,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskAllInputs:F,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,slimDOM:B,dataURLOptions:k,recordCanvas:E,inlineImages:R,onSerialize:e=>{_a(e,vc)&&K.addIframe(e),ba(e,vc)&&G.trackLinkElement(e),Sa(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{K.attachIframe(e,t),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{G.attachLinkElement(e,t)},keepIframeSrcFn:A});if(!t)return console.warn("Failed to snapshot the document");z(mc({type:Ca.FullSnapshot,data:{node:t,initialOffset:pa(window)}})),Va.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&G.adoptStyleSheets(document.adoptedStyleSheets,vc.getId(document))};yc=Z;try{const e=[],t=e=>za(rc)({onMutation:N,mutationCb:W,mousemoveCb:(e,t)=>z(mc({type:Ca.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.MouseInteraction,...e}})),scrollCb:V,viewportResizeCb:e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.ViewportResize,...e}})),inputCb:e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.Input,...e}})),mediaInteractionCb:e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.MediaInteraction,...e}})),styleSheetRuleCb:e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.StyleSheetRule,...e}})),styleDeclarationCb:e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.StyleDeclaration,...e}})),canvasMutationCb:Y,fontCb:e=>z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.Font,...e}})),selectionCb:e=>{z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.Selection,...e}}))},customElementCb:e=>{z(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.CustomElement,...e}}))},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:F,inlineStylesheet:f,sampling:w,recordCanvas:E,inlineImages:R,userTriggeredOnInput:I,collectFonts:O,doc:e,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,keepIframeSrcFn:A,blockSelector:s,unblockSelector:i,slimDOMOptions:B,dataURLOptions:k,mirror:vc,iframeManager:K,stylesheetManager:G,shadowDomManager:Q,processedNodeManager:J,canvasManager:X,ignoreCSSAttributes:D,plugins:Ms([M,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>z(mc({type:Ca.Plugin,data:{plugin:e.name,payload:t}}))})))])||[]},{});K.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{Z(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(oa("DOMContentLoaded",(()=>{z(mc({type:Ca.DomContentLoaded,data:{}})),"DOMContentLoaded"===C&&n()}))),e.push(oa("load",(()=>{z(mc({type:Ca.Load,data:{}})),"load"===C&&n()}),window))),()=>{e.forEach((e=>e())),J.destroy(),yc=void 0,Ha()}}catch(e){console.warn(e)}}function bc(e,t){return e?e({...t,mirror:vc,win:window,mutationCb:e=>function(e){gc&&gc(e)}(mc({type:Ca.IncrementalSnapshot,data:{source:Ia.CanvasMutation,...e}}))}):new pc}_c.mirror=vc,_c.takeFullSnapshot=function(e){if(!yc)throw new Error("please take full snapshot after start recording");yc(e)};const Sc=3;function wc(e){return e>9999999999?e:1e3*e}function kc(e){return e>9999999999?e/1e3:e}function xc(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:Ca.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:it(t,10,1e3)}}),"console"===t.category))))}const Ec="button,a";function Tc(e){return e.closest(Ec)||e}function Cc(e){const t=Ic(e);return t&&t instanceof Element?Tc(t):t}function Ic(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Oc;function Rc(e){return Oc||(Oc=[],j(li,"open",(function(e){return function(...t){if(Oc)try{Oc.forEach((e=>e()))}catch(e){}return e.apply(li,t)}}))),Oc.push(e),()=>{const t=Oc?Oc.indexOf(e):-1;t>-1&&Oc.splice(t,1)}}class Mc{constructor(e,t,n=xc){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Rc((()=>{this._lastMutation=Dc()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Ac.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:kc(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=kc(e)}registerScroll(e=Date.now()){this._lastScroll=kc(e)}registerClick(e){const t=Tc(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=Dc();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:s,clickBreadcrumb:i}=e;if(o){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:i.message,timestamp:i.timestamp,category:"ui.slowClickDetected",data:{...i.data,url:li.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:s||1}};this._addBreadcrumbEvent(t,o)}else if(s>1){const e={type:"default",message:i.message,timestamp:i.timestamp,category:"ui.multiClick",data:{...i.data,url:li.location.href,route:t.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Ac=["A","BUTTON","INPUT"];function Dc(){return Date.now()/1e3}function Lc(e,t){try{if(!function(e){return e.type===Sc}(t))return;const{source:n}=t.data;if(n===Ia.Mutation&&e.registerMutation(t.timestamp),n===Ia.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Ia.MouseInteraction}(t)){const{type:n,id:r}=t.data,o=_c.mirror.getNode(r);o instanceof HTMLElement&&n===Oa.Click&&e.registerClick(o)}}catch(e){}}function Nc(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Pc;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Pc||(Pc={}));const $c=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function jc(e){const t={};for(const n in e)if($c.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Fc=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?Cc(e.event):Ic(e.event),n=E(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return Nc({category:`ui.${e.name}`,...Bc(t,n)})}(t);if(!n)return;const r="click"===t.name,o=r?t.event:void 0;!(r&&e.clickDetector&&o&&o.target)||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,Cc(t.event)),xc(e,n)};function Bc(e,t){const n=_c.mirror.getId(e),r=n&&_c.mirror.getNode(n),o=r&&_c.mirror.getMeta(r),s=o&&function(e){return e.type===Pc.Element}(o)?o:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map((e=>e.type===Pc.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:jc(s.attributes)}}:{}}}function Uc(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:s,target:i}=e;if(!i||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(i)||!s)return null;const a=t||r||o,c=1===s.length;if(!a&&c)return null;const u=E(i,{maxStringLength:200})||"<unknown>",l=Bc(i,u);return Nc({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:s}})}(t);n&&xc(e,n)}const qc={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:s,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:zc(s),end:zc(o),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:o}=e,s=zc(o);return{type:n,name:r,start:s,end:s+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:s,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:m}=e;if(0===o)return null;return{type:`${t}.${m}`,start:zc(h),end:zc(s),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:i,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:s,redirectCount:p}}}};function Hc(e){return qc[e.entryType]?qc[e.entryType](e):null}function zc(e){return((he||li.performance.timeOrigin)+e)/1e3}function Wc(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(ni(e,n))})),r.push(ti((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,o=e.value,s=zc(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:o,size:o,nodeId:r?_c.mirror.getId(r):void 0}}}(t))}))),()=>{r.forEach((e=>e()))}}const Vc="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Yc='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Gc(e,t){Vc&&(D.info(e),t&&Jc(e))}function Kc(e,t){Vc&&(D.info(e),t&&setTimeout((()=>{Jc(e)}),0))}function Jc(e){yt({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Xc extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Qc{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>gi)throw new Xc;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?wc(e):null}}class Zc{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){Gc("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,o)=>{const s=({data:t})=>{const i=t;if(i.method===e&&i.id===n){if(this._worker.removeEventListener("message",s),!i.success)return Vc&&D.error("[Replay]",i.response),void o(new Error("Error in compression worker"));r(i.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class eu{constructor(e){this._worker=new Zc(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=wc(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>gi?Promise.reject(new Xc):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{Vc&&D.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class tu{constructor(e){this._fallback=new Qc,this._compression=new eu(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void Gc("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){Vc&&D.warn("[Replay] Failed to add events when switching buffers.",e)}}}function nu({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob([Yc]);return URL.createObjectURL(e)}();return""}();if(!t)return;Gc("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new tu(n)}catch(e){Gc("[Replay] Failed to create compression worker")}}(t);if(e)return e}return Gc("[Replay] Using simple buffer"),new Qc}function ru(){try{return"sessionStorage"in li&&!!li.sessionStorage}catch(e){return!1}}function ou(e){!function(){if(!ru())return;try{li.sessionStorage.removeItem(di)}catch(e){}}(),e.session=void 0}function su(e){return void 0!==e&&Math.random()<e}function iu(e){const t=Date.now();return{id:e.id||Y(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function au(e){if(ru())try{li.sessionStorage.setItem(di,JSON.stringify(e))}catch(e){}}function cu({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=function(e,t){return su(e)?"session":!!t&&"buffer"}(e,t),s=iu({sampled:o,previousSessionId:r});return n&&au(s),s}function uu(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function lu(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return uu(e.started,t,r)||uu(e.lastActivity,n,r)}function du(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!lu(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function pu({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){const s=o.stickySession&&function(e){if(!ru())return null;try{const t=li.sessionStorage.getItem(di);if(!t)return null;const n=JSON.parse(t);return Kc("[Replay] Loading existing session",e),iu(n)}catch(e){return null}}(e);return s?du(s,{sessionIdleExpire:t,maxReplayDuration:n})?(Kc("[Replay] Session in sessionStorage is expired, creating new one..."),cu(o,{previousSessionId:s.id})):s:(Kc("[Replay] Creating new session",e),cu(o,{previousSessionId:r}))}function hu(e,t,n){return!!mu(e,t)&&(fu(e,t,n),!0)}async function fu(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===Ca.Custom}(e))return t(e)}catch(e){return Vc&&D.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof Xc?"addEventSizeExceeded":"addEvent";Vc&&D.error(t),await e.stop({reason:n});const r=Ot();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function mu(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=wc(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(Gc(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function gu(e){return!e.type}function yu(e){return"transaction"===e.type}function vu(e){return"feedback"===e.type}function _u(e){const t=function(){const e=Ot();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!gu(n)&&!yu(n))return;const o=r&&r.statusCode;t&&(!o||o<200||o>=300)||(yu(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function bu(e){return t=>{e.isEnabled()&&gu(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){xc(e,Nc({category:"replay.hydrate-error"}))}}(e,t)}}function Su(e,t=!1){const n=t?_u(e):void 0;return Object.assign(((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!gu(t)&&!yu(t)&&!vu(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(vu(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:Ca.Custom,timestamp:1e3*t.timestamp,data:{timestamp:t.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return Vc&&D.log("[Replay] Ignoring error from rrweb internals",t),null;const o=function(e,t){return"buffer"===e.recordingMode&&t.message!==hi&&!(!t.exception||t.type)&&su(e.getOptions().errorSampleRate)}(e,t);return(o||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function wu(e,t){return t.map((({type:t,start:n,end:r,name:o,data:s})=>{const i=e.throttledAddEvent({type:Ca.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:o,startTimestamp:n,endTimestamp:r,data:s}}});return"string"==typeof i?Promise.resolve(null):i}))}function ku(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(wu(e,[n]),!1))))}}function xu(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!Vc||!e.getOptions()._experiments.traceInternals)&&As(t,Ot())}(e,t.name)||e.addUpdate((()=>(wu(e,[t]),!0))))}function Eu(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,o=r[ts];if(!t||!n||!o)return null;const{method:s,url:i,status_code:a}=o;return void 0===i?null:{type:"resource.xhr",name:i,start:t/1e3,end:n/1e3,data:{method:s,statusCode:a}}}(t);xu(e,n)}}function Tu(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Lu(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function Cu(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Iu(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Lu(e)];if(!e)return[void 0]}catch(t){return Vc&&D.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Vc&&D.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ou(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Ru(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:s,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:W({method:s,statusCode:i,request:a,response:c})}}function Mu(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Au(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:s}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>fi,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,fi);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=o,s&&s.length>0&&(r._meta={warnings:s}),r}function Du(e,t){return Object.keys(e).reduce(((n,r)=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=e[r]),n}),{})}function Lu(e){return new URLSearchParams(e).toString()}function Nu(e,t){const n=function(e,t=li.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(li.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return $(n,t)}async function Pu(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:s=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=Nu(i,n.networkDetailAllowUrls)&&!Nu(i,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return Fu(e[0],t);if(2===e.length)return Fu(e[1],t);return{}}(n,t):{};if(!e)return Au(o,r,void 0);const s=$u(n),[i,a]=Iu(s),c=Au(o,r,i);if(a)return Ou(c,a);return c}(n,t.input,u):Mu(u),h=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},o,s){if(!e&&void 0!==s)return Mu(s);const i=o?ju(o.headers,r):{};if(!o||!t&&void 0!==s)return Au(i,s,void 0);const[a,c]=await async function(e){const t=function(e){try{return e.clone()}catch(e){Vc&&D.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return Vc&&D.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(o),u=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:o,headers:s}){try{const i=e&&e.length&&void 0===r?Tu(e,n):r;return o?Au(s,i,t?e:void 0):Mu(i)}catch(e){return Vc&&D.warn("[Replay] Failed to serialize response body",e),Au(s,r,void 0)}}(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:s,captureDetails:e,headers:i});if(c)return Ou(u,c);return u}(d,n,t.response,l);return{startTimestamp:o,endTimestamp:s,url:i,method:a,statusCode:c,request:p,response:h}}(e,t,n),o=Ru("resource.fetch",r);xu(n.replay,o)}catch(e){Vc&&D.error("[Replay] Failed to capture fetch breadcrumb",e)}}function $u(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function ju(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function Fu(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?ju(n,t):Array.isArray(n)?{}:Du(n,t):{}}async function Bu(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:s=r,input:i,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!a||!Nu(c,n.networkDetailAllowUrls)||Nu(c,n.networkDetailDenyUrls)){return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:l,request:Mu(d),response:Mu(p)}}const h=a[ts],f=h?Du(h.request_headers,n.networkRequestHeaders):{},m=Du(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?Iu(i):[void 0],[v,_]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return Vc&&D.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Vc&&D.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return Vc&&D.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(a):[void 0],b=Au(f,d,g),S=Au(m,p,v);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:l,request:y?Ou(b,y):b,response:_?Ou(S,_):S}}(e,t,n),o=Ru("resource.xhr",r);xu(n.replay,o)}catch(e){Vc&&D.error("[Replay] Failed to capture xhr breadcrumb",e)}}function Uu(e,t,n){const{xhr:r,input:o}=t;if(!r)return;const s=Tu(o,n.textEncoder),i=r.getResponseHeader("content-length")?Cu(r.getResponseHeader("content-length")):function(e,t,n){try{return Tu("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==s&&(e.data.request_body_size=s),void 0!==i&&(e.data.response_body_size=i)}function qu(e){const t=Ot();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(Uu(t,n,e),Bu(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:o}=t,s=Tu(r?$u(r):void 0,n.textEncoder),i=o?Cu(o.headers.get("content-length")):void 0;void 0!==s&&(e.data.request_body_size=s),void 0!==i&&(e.data.response_body_size=i)}(t,n,e),Pu(t,n,e))}catch(e){Vc&&D.warn("Error when enriching network breadcrumb")}}(c,e,t))):(os(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:o}=e;if(!n)return null;const{method:s,url:i}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:i,data:{method:s,statusCode:o?o.status:void 0}}}(t);xu(e,n)}}(e)),ns(Eu(e)))}catch(e){}}let Hu=null;const zu=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(Hu===t||!t)return null;if(Hu=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Nc(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>mi?(n=!0,`${e.slice(0,mi)}\u2026`):e;if("object"==typeof e)try{const t=it(e,7);return JSON.stringify(t).length>mi?(n=!0,`${JSON.stringify(t,null,2).slice(0,mi)}\u2026`):t}catch(e){}return e}));return Nc({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Nc(t)}(t);n&&xc(e,n)};function Wu(e){return!(!e||!e.on)}function Vu(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Yu(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(Vc&&D.warn("[Replay] Received replay event after session expired."));const o=r||!t;t=!0,e.clickDetector&&Lc(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&o&&e.setInitialState(),!hu(e,n,o))return!0;if(!o)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;hu(e,function(e){const t=e.getOptions();return{type:Ca.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,o),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(Gc(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&au(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function Gu({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:s}){const i=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=Ot(),p=Rt(),h=d&&d.getTransport(),f=d&&d.getDsn();if(!(d&&h&&f&&s.sampled))return;const m={type:pi,replay_start_timestamp:l/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){const o={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,o);const s=await ut(e.getOptions(),r,o,t,e,Ke());if(!s)return null;s.platform=s.platform||"javascript";const i=e.getSdkMetadata&&e.getSdkMetadata(),{name:a,version:c}=i&&i.sdk||{};return s.sdk={...s.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0"},s}({scope:p,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay",m),void Gc("An event processor returned `null`, will not send event.");delete g.sdkProcessingMetadata;const y=function(e,t,n,r){return cn(yn(e,gn(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(g,i,f,d.getOptions().tunnel);let v;try{v=await h.send(y)}catch(e){const t=new Error(hi);try{t.cause=e}catch(e){}throw t}if(!v)return v;if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new Ku(v.statusCode);const _=Cr({},v);if(Tr(_,"replay"))throw new Ju(_);return v}class Ku extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Ju extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function Xu(e,t={count:0,interval:5e3}){const{recordingData:n,options:r}=e;if(n.length)try{return await Gu(e),!0}catch(n){if(n instanceof Ku||n instanceof Ju)throw n;if(vt("Replays",{_retryCount:t.count}),Vc&&r._experiments&&r._experiments.captureExceptions&&ht(n),t.count>=3){const e=new Error(`${hi} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await Xu(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const Qu="__THROTTLED";function Zu(e,t,n){const r=new Map;let o=!1;return(...s)=>{const i=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(i),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=o;return o=!0,e?"__SKIPPED":Qu}o=!1;const a=r.get(i)||0;return r.set(i,a+1),e(...s)}}class el{constructor({options:e,recordingOptions:t}){el.prototype.__init.call(this),el.prototype.__init2.call(this),el.prototype.__init3.call(this),el.prototype.__init4.call(this),el.prototype.__init5.call(this),el.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,o,s;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){void 0!==o&&clearTimeout(o),void 0!==s&&clearTimeout(s),o=s=void 0}function u(){return o&&clearTimeout(o),o=setTimeout(a,t),i&&void 0===s&&(s=setTimeout(a,i)),r}return u.cancel=c,u.flush=function(){return void 0!==o||void 0!==s?a():r},u}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Zu(((e,t)=>function(e,t,n){return mu(e,t)?fu(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),o=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;o&&(this.clickDetector=new Mc(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Kc(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Kc("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const e=pu({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Kc("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=pu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._options._experiments.canvas;this._stopRecording=_c({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Yu(this),onMutation:this._onMutationHandler,...e&&e.manager&&{recordCanvas:!0,getCanvasManager:e.manager,...vi[e.quality||"medium"]||vi.medium}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{Gc("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,ou(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Gc("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),Gc("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();Gc("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&uu(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${li.location.pathname}${li.location.hash}${li.location.search}`,t=`${li.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===Qu){const e=Nc({category:"replay.throttled"});this.addUpdate((()=>!hu(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||Rt().getTransaction(),t=(e&&Ae(e).data||{})[tr];if(e&&t&&["route","custom"].includes(t))return Ae(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=nu({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){Vc&&D.error("[Replay]",e),Vc&&this._options._experiments&&this._options._experiments.captureExceptions&&ht(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=pu({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!du(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{li.document.addEventListener("visibilitychange",this._handleVisibilityChange),li.addEventListener("blur",this._handleWindowBlur),li.addEventListener("focus",this._handleWindowFocus),li.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=Rt(),n=Ot();t.addScopeListener(zu(e)),Xo(Fc(e)),Mo(ku(e)),qu(e);const r=Su(e,!Wu(n));n&&n.addEventProcessor?n.addEventProcessor(r):Pn(r),Wu(n)&&(n.on("beforeSendEvent",bu(e)),n.on("afterSendEvent",_u(e)),n.on("createDsc",(t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&(e.flush(),t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r))})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=Wc(this)}_removeListeners(){try{li.document.removeEventListener("visibilitychange",this._handleVisibilityChange),li.removeEventListener("blur",this._handleWindowBlur),li.removeEventListener("focus",this._handleWindowFocus),li.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===li.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Nc({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Nc({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{Uc(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;lu(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):Gc("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:Ca.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=(t=this.performanceEntries,t.map(Hc).filter(Boolean)).concat(this.replayPerformanceEntries);var t;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(wu(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(wu(e,[Vu(li.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Xu({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=Ot();t&&t.recordDroppedEvent("send_error","replay")}}else Vc&&D.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(Vc&&D.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o)return Gc(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const s=this.eventBuffer;if(s&&0===this.session.segmentId&&!s.hasCheckout&&Gc("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){Vc&&D.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&au(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Nc({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function tl(e,t,n,r){const o=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&o.push(`.${n}`),A((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),o.join(",")}const nl='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',rl=["content-length","content-type","accept"];let ol=!1;class sl{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:o=!0,useCompression:s=!0,workerUrl:i,_experiments:a={},sessionSampleRate:c,errorSampleRate:u,maskAllText:l=!0,maskAllInputs:d=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:v=[],networkCaptureBodies:_=!0,networkRequestHeaders:b=[],networkResponseHeaders:S=[],mask:w=[],maskAttributes:k=["title","placeholder"],unmask:x=[],block:E=[],unblock:T=[],ignore:C=[],maskFn:I,beforeAddRecordingEvent:O,beforeErrorSampling:R,blockClass:M,blockSelector:A,maskInputOptions:D,maskTextClass:L,maskTextSelector:N,ignoreClass:P}={}){this.name=sl.id;const $=function({mask:e,unmask:t,block:n,unblock:r,ignore:o,blockClass:s,blockSelector:i,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l={maskTextSelector:tl(e,[".sentry-mask","[data-sentry-mask]"],a,c),unmaskTextSelector:tl(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:tl(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],s,i),unblockSelector:tl(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:tl(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return s instanceof RegExp&&(l.blockClass=s),a instanceof RegExp&&(l.maskTextClass=a),l}({mask:w,unmask:x,block:E,unblock:T,ignore:C,blockClass:M,blockSelector:A,maskTextClass:L,maskTextSelector:N,ignoreClass:P});if(this._recordingOptions={maskAllInputs:d,maskAllText:l,maskInputOptions:{...D||{},password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:s}){return r?o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?s:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s:s}({maskAttributes:k,maskAllText:l,privacyOptions:$,key:e,value:t,el:n}),...$,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,yi),stickySession:o,sessionSampleRate:c,errorSampleRate:u,useCompression:s,workerUrl:i,blockAllMedia:p,maskAllInputs:d,maskAllText:l,mutationBreadcrumbLimit:h,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:v,networkCaptureBodies:_,networkRequestHeaders:il(b),networkResponseHeaders:il(S),beforeAddRecordingEvent:O,beforeErrorSampling:R,_experiments:a},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof u&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${u} })`),this._initialOptions.errorSampleRate=u),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${nl}`:nl),this._isInitialized&&Ns())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return ol}set _isInitialized(e){ol=e}setupOnce(){Ns()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const e=function(e){const t=Ot(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...W(e)};if(!n)return A((()=>{console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&A((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new el({options:e,recordingOptions:this._recordingOptions})}}function il(e){return[...rl,...e.map((e=>e.toLowerCase()))]}sl.__initStatic();const al=b,cl="#ffffff",ul="inherit",ll="rgba(108, 95, 199, 1)",dl={fontFamily:"'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:cl,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:ll,submitBorder:ll,submitOutlineFocus:"#29232f",submitForeground:cl,submitForegroundHover:cl,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:ul,inputForeground:ul,inputBorder:"var(--border)",inputOutlineFocus:ll},pl=dl,hl={...dl,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},fl="widget",ml="api";async function gl({feedback:{message:e,email:t,name:n,source:r,url:o}},{includeReplay:s=!0}={}){const i=Ot(),a=i&&i.getTransport(),c=i&&i.getDsn();if(!i||!a||!c)return;const u={contexts:{feedback:{contact_email:t,name:n,message:e,url:o,source:r}},type:"feedback"};return xt((async e=>{e.clearBreadcrumbs(),[ml,fl].includes(String(r))&&e.setLevel("info");const t=await async function({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const o=await ut(e.getOptions(),n,r,t,e,Ke());return null===o?(e.recordDroppedEvent("event_processor","feedback",n),null):(o.platform=o.platform||"javascript",o)}({scope:e,client:i,event:u});if(!t)return;i.emit&&i.emit("beforeSendFeedback",t,{includeReplay:Boolean(s)});const n=In(t,c,i.getOptions()._metadata,i.getOptions().tunnel);let o;try{o=await a.send(n)}catch(e){const t=new Error("Unable to send Feedback");try{t.cause=e}catch(e){}throw t}if(o){if("number"==typeof o.statusCode&&(o.statusCode<200||o.statusCode>=300))throw new Error("Unable to send Feedback");return o}}))}const yl="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function vl(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function _l(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n  `}function bl({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const o=al.document,s=o.createElement("div");s.id=e;const i=s.attachShadow({mode:"open"});return i.appendChild(function(e,t,n){const r=e.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${_l("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${_l(n.dark)}\n  }\n}`:""}\n}`,r}(o,t,{dark:n,light:r})),i.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: 20px;\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: 6px;\n  color: var(--input-foreground);\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: 12px;\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(o)),{shadow:i,host:s}}catch(e){throw D.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Sl(e,t,n){if(!e)return;e.hideError();try{const e=await function({name:e,email:t,message:n,source:r=ml,url:o=C()},s={}){if(!n)throw new Error("Unable to submit feedback with empty message");return gl({feedback:{name:e,email:t,message:n,url:o,source:r}},s)}({...t,source:fl},n);return e}catch(t){yl&&D.error(t),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function wl(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}const kl=20,xl="http://www.w3.org/2000/svg";function El(e,t,...n){const r=al.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"==typeof t?r.setAttribute("class",t):"boolean"==typeof t&&t?r.setAttribute(e,""):"string"==typeof t?r.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&r.addEventListener(e.substring(2).toLowerCase(),t)}));for(const e of n)Tl(r,e);return r}function Tl(e,t){const n=al.document;if(null!=t)if(Array.isArray(t))for(const n of t)Tl(e,n);else!1===t||("string"==typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function Cl({buttonLabel:e,onClick:t}){const n=El("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>al.document.createElementNS(xl,e),t=wl(e("svg"),{class:"feedback-icon",width:`${kl}`,height:`${kl}`,viewBox:`0 0 ${kl} ${kl}`,fill:"none"}),n=wl(e("g"),{clipPath:"url(#clip0_57_80)"}),r=wl(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const o=e("defs"),s=wl(e("clipPath"),{id:"clip0_57_80"}),i=wl(e("rect"),{width:`${kl}`,height:`${kl}`,fill:"white"});return s.appendChild(i),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(i),{get el(){return t}}}().el,e?El("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function Il(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function Ol({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:o,messagePlaceholder:s,cancelButtonLabel:i,submitButtonLabel:a,showName:c,showEmail:u,isNameRequired:l,isEmailRequired:d,defaultName:p,defaultEmail:h,onCancel:f,onSubmit:m}){const{el:g}=function({label:e}){return{el:El("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:a});const y=El("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const v=El("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:l,className:"form__input",placeholder:t,value:p}),_=El("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:d,className:"form__input",placeholder:r,value:h}),b=El("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:s}),S=El("button",{type:"button",className:"btn btn--default","aria-label":i,onClick:e=>{f&&f(e)}},i),w=El("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(m){const t=new FormData(e.target),n={name:Il(t,"name"),email:Il(t,"email"),message:Il(t,"message")};m(n)}}catch(e){}}},[y,c&&El("label",{htmlFor:"name",className:"form__label"},[El("span",{className:"form__label__text"},e,l&&El("span",{className:"form__label__text--required"}," (required)")),v]),!c&&v,u&&El("label",{htmlFor:"email",className:"form__label"},[El("span",{className:"form__label__text"},n,d&&El("span",{className:"form__label__text--required"}," (required)")),_]),!u&&_,El("label",{htmlFor:"message",className:"form__label"},[El("span",{className:"form__label__text"},o,El("span",{className:"form__label__text--required"}," (required)")),b]),El("div",{className:"btn-group"},[g,S])]);return{get el(){return w},showError:function(e){y.textContent=e,y.classList.remove("form__error-container--hidden"),y.setAttribute("aria-hidden","false")},hideError:function(){y.textContent="",y.classList.add("form__error-container--hidden"),y.setAttribute("aria-hidden","true")}}}const Rl="http://www.w3.org/2000/svg";function Ml({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:o,isEmailRequired:s,colorScheme:i,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...p}){let h=null;function f(){h&&(h.open=!1)}const{el:m,showError:g,hideError:y}=Ol({showEmail:r,showName:n,isEmailRequired:s,isNameRequired:o,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...p});return h=El("dialog",{className:"dialog",open:!0,onClick:function(){f(),u&&u()}},El("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},El("h2",{className:"dialog__header"},e,t&&El("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>al.document.createElementNS(Rl,e),n=wl(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=wl(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const o=t("defs"),s=t("style");return"system"===e&&(s.textContent="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),s.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,o.append(s),n.append(o),{get el(){return n}}}({colorScheme:i}).el)),m)),{get el(){return h},showError:g,hideError:y,open:function(){h&&(h.open=!0)},close:f,checkIsOpen:function(){return h&&!0===h.open||!1}}}const Al=16,Dl=17,Ll="http://www.w3.org/2000/svg";function Nl({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=El("div",{className:"success-message",onClick:n},function(){const e=e=>al.document.createElementNS(Ll,e),t=wl(e("svg"),{class:"success-icon",width:`${Al}`,height:`${Dl}`,viewBox:`0 0 ${Al} ${Dl}`,fill:"none"}),n=wl(e("g"),{clipPath:"url(#clip0_57_156)"}),r=wl(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=wl(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);const s=e("defs"),i=wl(e("clipPath"),{id:"clip0_57_156"}),a=wl(e("rect"),{width:`${Al}`,height:`${Al}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(a),{get el(){return t}}}().el,e);return{el:r,remove:n}}function Pl({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let o,s,i=!1;async function a(t){if(!s)return;const r=[];if(n.isNameRequired&&!t.name&&r.push(n.nameLabel),n.isEmailRequired&&!t.email&&r.push(n.emailLabel),t.message||r.push(n.messageLabel),r.length>0)return void s.showError(`Please enter in the following required fields: ${r.join(", ")}`);await Sl(s,t)?(p(),function(){if(e)try{const t=Nl({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),c()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const r=setTimeout((()=>{t&&t.remove()}),5e3)}catch(e){D.error(e)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){o&&o.show()}function u(){o&&o.hide()}function l(){try{if(s)return s.open(),i=!0,void(n.onFormOpen&&n.onFormOpen());const t=n.useSentryUser,r=Rt(),o=r&&r.getUser();if(s=Ml({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:t&&o&&o[t.name]||"",defaultEmail:t&&o&&o[t.email]||"",onClosed:()=>{c(),i=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{d(),c()},onSubmit:a}),!s.el)throw new Error("Unable to open Feedback dialog");e.appendChild(s.el),u(),n.onFormOpen&&n.onFormOpen()}catch(e){D.error(e)}}function d(){s&&(s.close(),i=!1,n.onFormClose&&n.onFormClose())}function p(){if(s){d();const e=s.el;e&&e.remove(),s=void 0}}function h(){i||l(),u()}return r?r.addEventListener("click",h):t&&(o=Cl({buttonLabel:n.buttonLabel,onClick:h}),o.el&&e.appendChild(o.el)),{get actor(){return o},get dialog(){return s},showActor:c,hideActor:u,removeActor:function(){o&&o.el&&o.el.remove()},openDialog:l,closeDialog:d,removeDialog:p}}const $l=al.document;class jl{static __initStatic(){this.id="Feedback"}constructor({id:e="sentry-feedback",showBranding:t=!0,autoInject:n=!0,showEmail:r=!0,showName:o=!0,useSentryUser:s={email:"email",name:"username"},isEmailRequired:i=!1,isNameRequired:a=!1,themeDark:c,themeLight:u,colorScheme:l="system",buttonLabel:d="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:h="Send Bug Report",formTitle:f="Report a Bug",emailPlaceholder:m="your.email@example.org",emailLabel:g="Email",messagePlaceholder:y="What's the bug? What did you expect?",messageLabel:v="Description",namePlaceholder:_="Your Name",nameLabel:b="Name",successMessageText:S="Thank you for your report!",onFormClose:w,onFormOpen:k,onSubmitError:x,onSubmitSuccess:E}={}){this.name=jl.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={id:e,showBranding:t,autoInject:n,isEmailRequired:i,isNameRequired:a,showEmail:r,showName:o,useSentryUser:s,colorScheme:l,themeDark:{...hl,...c},themeLight:{...pl,...u},buttonLabel:d,cancelButtonLabel:p,submitButtonLabel:h,formTitle:f,emailLabel:g,emailPlaceholder:m,messageLabel:v,messagePlaceholder:y,nameLabel:b,namePlaceholder:_,successMessageText:S,onFormClose:w,onFormOpen:k,onSubmitError:x,onSubmitSuccess:E}}setupOnce(){if(Ns())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){yl&&D.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=vl(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const r="string"==typeof e?$l.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)return yl&&D.error("[Feedback] Unable to attach to target element"),null;const o=Pl({shadow:t,options:n,attachTo:r});return this._widgets.add(o),this._widget||(this._widget=o),o}))}catch(e){return yl&&D.error(e),null}}createWidget(e){try{return this._createWidget(vl(this.options,e||{}))}catch(e){return yl&&D.error(e),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){yl&&D.error(e)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=$l.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=Pl({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  line-height: 25px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 12px 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}($l)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:r,themeLight:o,themeDark:s}=e,{shadow:i,host:a}=bl({id:t,colorScheme:r,themeLight:o,themeDark:s});this._shadow=i,this._host=a,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const r=t({shadow:this._shadow,host:this._host});return n&&$l.body.appendChild(this._host),r}}function Fl(e){return"number"==typeof e&&isFinite(e)}function Bl(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}jl.__initStatic();const Ul=2147483647;function ql(e){return e/1e3}function Hl(){return js&&js.addEventListener&&js.performance}let zl,Wl,Vl=0,Yl={};function Gl(){const e=Hl();if(e&&he){e.mark&&js.performance.mark("sentry-tracing-init");const t=ai("fid",(({metric:e})=>{const t=e.entries.pop();if(!t)return;const n=ql(he),r=ql(t.startTime);Ps&&D.log("[Measurements] Adding FID"),Yl.fid={value:e.value,unit:"millisecond"},Yl["mark.fid"]={value:n+r,unit:"second"}}),si,Zs),n=function(e){return ai("cls",e,oi,Qs)}((({metric:e})=>{const t=e.entries.pop();t&&(Ps&&D.log("[Measurements] Adding CLS"),Yl.cls={value:e.value,unit:""},Wl=t)})),r=ti((({metric:e})=>{const t=e.entries.pop();t&&(Ps&&D.log("[Measurements] Adding LCP"),Yl.lcp={value:e.value,unit:"millisecond"},zl=t)}));return()=>{t(),n(),r()}}return()=>{}}function Kl(e){const t=Hl();if(!t||!js.performance.getEntries||!he)return;Ps&&D.log("[Tracing] Adding & adjusting spans using Performance API");const n=ql(he),r=t.getEntries();let o,s;if(r.slice(Vl).forEach((t=>{const r=ql(t.startTime),i=ql(t.duration);if(!("navigation"===e.op&&n+r<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Jl(e,t,r,n)})),Jl(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Jl(e,t,"fetch",n,"cache","domainLookupStart"),Jl(e,t,"domainLookup",n,"DNS"),function(e,t,n){Bl(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ql(t.requestStart),endTimestamp:n+ql(t.responseEnd)}),Bl(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ql(t.responseStart),endTimestamp:n+ql(t.responseEnd)})}(e,t,n)}(e,t,n),o=n+ql(t.responseStart),s=n+ql(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const s=o+n,i=s+r;Bl(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})}(e,t,r,i,n);const o=Vs(),s=t.startTime<o.firstHiddenTime;"first-paint"===t.name&&s&&(Ps&&D.log("[Measurements] Adding FP"),Yl.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(Ps&&D.log("[Measurements] Adding FCP"),Yl.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const o=t.name.replace(js.location.origin,"");!function(e,t,n,r,o,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i={};Xl(i,t,"transferSize","http.response_transfer_size"),Xl(i,t,"encodedBodySize","http.response_content_length"),Xl(i,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(i["resource.render_blocking_status"]=t.renderBlockingStatus);const a=s+r,c=a+o;Bl(e,{description:n,endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:i})}(e,t,o,r,i,n);break}}})),Vl=Math.max(r.length-1,0),function(e){const t=js.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Fl(n.rtt)&&(Yl["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Fl(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);Fl(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"==typeof o&&(Ps&&D.log("[Measurements] Adding TTFB"),Yl.ttfb={value:1e3*(o-e.startTimestamp),unit:"millisecond"},"number"==typeof s&&s<=o&&(Yl["ttfb.requestTime"]={value:1e3*(o-s),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!Yl[t]||n>=e.startTimestamp)return;const r=Yl[t].value,o=n+ql(r),s=Math.abs(1e3*(o-e.startTimestamp)),i=s-r;Ps&&D.log(`[Measurements] Normalized ${t} from ${r} to ${s} (${i})`),Yl[t].value=s}));const t=Yl["mark.fid"];t&&Yl.fid&&(Bl(e,{description:"first input delay",endTimestamp:t.value+ql(Yl.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete Yl["mark.fid"]),"fcp"in Yl||delete Yl.cls,Object.keys(Yl).forEach((t=>{e.setMeasurement(t,Yl[t].value,Yl[t].unit)})),function(e){zl&&(Ps&&D.log("[Measurements] Adding LCP Data"),zl.element&&e.setTag("lcp.element",E(zl.element)),zl.id&&e.setTag("lcp.id",zl.id),zl.url&&e.setTag("lcp.url",zl.url.trim().slice(0,200)),e.setTag("lcp.size",zl.size));Wl&&Wl.sources&&(Ps&&D.log("[Measurements] Adding CLS Data"),Wl.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,E(t.node)))))}(e)}zl=void 0,Wl=void 0,Yl={}}function Jl(e,t,n,r,o,s){const i=s?t[s]:t[`${n}End`],a=t[`${n}Start`];a&&i&&Bl(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+ql(a),endTimestamp:r+ql(i)})}function Xl(e,t,n,r){const o=t[n];null!=o&&o<Ul&&(e[r]=o)}function Ql(e,t,n,r,o="auto.http.browser"){if(!cr()||!e.fetchData)return;const s=t(e.fetchData.url);if(e.endTimestamp&&s){const t=e.fetchData.__span;if(!t)return;const n=r[t];if(n){if(e.response){n.setHttpStatus(e.response.status);const t=e.response&&e.response.headers&&e.response.headers.get("content-length");if(t){const e=parseInt(t);e>0&&n.setAttribute("http.response_content_length",e)}}else e.error&&n.setStatus("internal_error");n.end(),delete r[t]}return}const i=Rt(),a=Ot(),c=_r(),{method:u,url:l}=e.fetchData,d=s&&c?c.startChild({data:{url:l,type:"fetch","http.method":u},description:`${u} ${l}`,op:"http.client",origin:o}):void 0;if(d&&(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d),n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const s=o||n.getSpan(),i=s&&s.transaction,{traceId:a,sampled:c,dsc:u}=n.getPropagationContext(),l=s?Oe(s):Te(a,void 0,c),d=i?Ne(i):u||Le(a,t,n),p=Se(d),h="undefined"!=typeof Request&&y(e,Request)?e.headers:r.headers;if(h){if("undefined"!=typeof Headers&&y(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",l),p&&e.append(ye,p),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",l]];return p&&e.push([ye,p]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...h,"sentry-trace":l,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":l,baggage:p}}(t,a,i,n,d)}return d}const Zl=["localhost",/^\/(?!\/)/],ed={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Zl,tracePropagationTargets:Zl};function td(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:s,enableHTTPTimings:i}={traceFetch:ed.traceFetch,traceXHR:ed.traceXHR,...e},a="function"==typeof s?s:e=>!0,c=e=>function(e,t){return $(e,t||Zl)}(e,r||o),u={};t&&os((e=>{const t=Ql(e,a,c,u);i&&t&&nd(t)})),n&&ns((e=>{const t=function(e,t,n,r){const o=e.xhr,s=o&&o[ts];if(!cr()||!o||o.__sentry_own_request__||!s)return;const i=t(s.url);if(e.endTimestamp&&i){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==s.status_code&&(t.setHttpStatus(s.status_code),t.end(),delete r[e]))}const a=Rt(),c=_r(),u=i&&c?c.startChild({data:{type:"xhr","http.method":s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;u&&(o.__sentry_xhr_span_id__=u.spanContext().spanId,r[o.__sentry_xhr_span_id__]=u);if(o.setRequestHeader&&n(s.url))if(u){const e=u&&u.transaction,t=Se(e&&Ne(e));od(o,Oe(u),t)}else{const e=Ot(),{traceId:t,sampled:n,dsc:r}=a.getPropagationContext();od(o,Te(t,void 0,n),Se(r||(e?Le(t,e,a):void 0)))}return u}(e,a,c,u);i&&t&&nd(t)}))}function nd(e){const{url:t}=Ae(e).data||{};if(!t||"string"!=typeof t)return;const n=ni("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!he)return r;return[...r,["http.request.redirect_start",rd(e.redirectStart)],["http.request.fetch_start",rd(e.fetchStart)],["http.request.domain_lookup_start",rd(e.domainLookupStart)],["http.request.domain_lookup_end",rd(e.domainLookupEnd)],["http.request.connect_start",rd(e.connectStart)],["http.request.secure_connection_start",rd(e.secureConnectionStart)],["http.request.connection_end",rd(e.connectEnd)],["http.request.request_start",rd(e.requestStart)],["http.request.response_start",rd(e.responseStart)],["http.request.response_end",rd(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function rd(e=0){return((he||performance.timeOrigin)+e)/1e3}function od(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(ye,n)}catch(e){}}const sd={...or,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!js||!js.location)return void(Ps&&D.warn("Could not initialize routing instrumentation due to invalid location"));let r,o=js.location.href;t&&(r=e({name:js.location.pathname,startTimestamp:he?he/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Mo((({to:t,from:n})=>{void 0===n&&o&&-1!==o.indexOf(t)?o=void 0:n!==t&&(o=void 0,r&&(Ps&&D.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=e({name:js.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...ed};class id{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,hr(),Ps&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...sd,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Gl(),this.options.enableLongTask&&ni("longtask",(({entries:e})=>{for(const t of e){const e=Gn();if(!e)return;const n=ql(he+t.startTime),r=ql(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),this.options._experiments.enableInteractions&&ni("event",(({entries:e})=>{for(const t of e){const e=Gn();if(!e)return;if("click"===t.name){const n=ql(he+t.startTime),r=ql(t.duration),o={description:E(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},s=I(t.target);s&&(o.attributes={"ui.component_name":s}),e.startChild(o)}}}))}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:s,startTransactionOnPageLoad:i,markBackgroundTransactions:a,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:l,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets,f=h||this.options.tracePropagationTargets;Ps&&this._hasSetTracePropagationTargets&&h&&D.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),i,s),a&&(js&&js.document?js.document.addEventListener("visibilitychange",(()=>{const e=Gn();if(js.document.hidden&&e){const t="cancelled";Ps&&D.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):Ps&&D.warn("[Tracing] Could not set up background tab detection due to lack of global document")),p.enableInteractions&&this._registerInteractionListener(),td({traceFetch:c,traceXHR:u,tracePropagationTargets:f,shouldCreateSpanForRequest:l,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(Ps&&D.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:o,heartbeatInterval:s}=this.options,i="pageload"===e.op,a=i?ad("sentry-trace"):"",c=i?ad("baggage"):"",{traceparentData:u,dynamicSamplingContext:l,propagationContext:d}=Ee(a,c),p={...e,...u,metadata:{...e.metadata,dynamicSamplingContext:u&&!l?{}:l},trimEnd:!0},h="function"==typeof n?n(p):p,f=void 0===h?{...p,sampled:!1}:h;f.metadata=f.name!==p.name?{...f.metadata,source:"custom"}:f.metadata,this._latestRouteName=f.name;const m=e.data&&e.data[tr],g=f.metadata&&f.metadata.source;this._latestRouteSource=m||g,!1===f.sampled&&Ps&&D.log(`[Tracing] Will not send ${f.op} transaction because of beforeNavigate.`),Ps&&D.log(`[Tracing] Starting ${f.op} transaction on scope`);const{location:y}=js,v=pr(t,f,r,o,!0,{location:y},s),_=t.getScope();return i&&u?_.setPropagationContext(d):_.setPropagationContext({traceId:v.spanContext().traceId,spanId:v.spanContext().spanId,parentSpanId:v.parentSpanId,sampled:De(v)}),v.registerBeforeFinishCallback((e=>{this._collectWebVitals(),Kl(e)})),v}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,o="ui.action.click",s=Gn();if(s&&s.op&&["navigation","pageload"].includes(s.op))return void(Ps&&D.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(Ps&&D.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(Ps&&D.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`));const i=this._getCurrentHub(),{location:a}=js,c={name:this._latestRouteName,op:o,trimEnd:!0,data:{[tr]:this._latestRouteSource||"url"}};e=pr(i,c,t,n,!0,{location:a},r)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}}function ad(e){const t=(n=`meta[name=${e}]`,k.document&&k.document.querySelector?k.document.querySelector(n):null);var n;return t?t.getAttribute("content"):void 0}const cd=100,ud=5e3,ld=36e5;function dd(e,t){ee&&D.info(`[Offline]: ${e}`,t)}function pd(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let o,s=ud;function i(e,n,r){return o=["replay_event","replay_recording","client_report"],!ln(e,((e,t)=>o.includes(t)))&&(!t.shouldStore||t.shouldStore(e,n,r));var o}function a(e){r&&(o&&clearTimeout(o),o=setTimeout((async()=>{o=void 0;const e=await r.pop();e&&(dd("Attempting to send previously queued event"),u(e).catch((e=>{dd("Failed to retry sending",e)})))}),e),"number"!=typeof o&&o.unref&&o.unref())}function c(){o||(a(s),s=Math.min(2*s,ld))}async function u(e){try{const t=await n.send(e);let r=cd;if(t)if(t.headers&&t.headers["retry-after"])r=Er(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return a(r),s=ud,t}catch(t){if(r&&await i(e,t,s))return await r.insert(e),c(),dd("Error sending. Event queued",t),{};throw t}}return t.flushAtStartup&&c(),{send:u,flush:e=>n.flush(e)}}}function hd(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function fd(e){return hd(e.getAllKeys())}function md(e){let t;function n(){return null==t&&(t=function(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=hd(n);return e=>r.then((n=>e(n.transaction(t,"readwrite").objectStore(t))))}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{const r=await pn(t,e.textEncoder);await function(e,t,n){return e((e=>fd(e).then((r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),hd(e.transaction)}))))}(n(),r,e.maxQueueSize||30)}catch(e){}},pop:async()=>{try{const t=await function(e){return e((e=>fd(e).then((t=>{if(0!==t.length)return hd(e.get(t[0])).then((n=>(e.delete(t[0]),hd(e.transaction).then((()=>n)))))}))))}(n());if(t)return function(e,t,n){let r="string"==typeof e?t.encode(e):e;function o(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function s(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(o(e)))}const i=s(),a=[];for(;r.length;){const e=s(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?o(t):s()])}return[i,a]}(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(e){}}}}function gd(e){return function(e){return t=>e({...t,createStore:md})}(pd(e))}const yd=1e6,vd=String(0),_d="main";let bd="",Sd="",wd="",kd=Fr.navigator&&Fr.navigator.userAgent||"",xd="";const Ed=Fr.navigator&&Fr.navigator.language||Fr.navigator&&Fr.navigator.languages&&Fr.navigator.languages[0]||"";const Td=Fr.navigator&&Fr.navigator.userAgentData;var Cd;function Id(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[vd]:{name:_d}}};if(!e.samples.length)return r;const o=e.samples[0].timestamp,s="number"==typeof performance.timeOrigin?performance.timeOrigin:he||0,i=s-(he||s);for(let s=0;s<e.samples.length;s++){const a=e.samples[s];if(void 0===a.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[s]={elapsed_since_start_ns:((a.timestamp+i-o)*yd).toFixed(0),stack_id:t,thread_id:vd};continue}let c=e.stacks[a.stackId];const u=[];for(;c;){u.push(c.frameId);const t=e.frames[c.frameId];void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),c=void 0===c.parentId?void 0:e.stacks[c.parentId]}const l={elapsed_since_start_ns:((a.timestamp+i-o)*yd).toFixed(0),stack_id:n,thread_id:vd};r.stacks[n]=u,r.samples[s]=l,n++}return r}(e):e}function Od(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const o=function(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&zr&&D.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t}(r),s=Id(n),i=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),a="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||ce,runtime:{name:"javascript",version:Fr.navigator.userAgent},os:{name:bd,version:Sd,build_number:kd},device:{locale:Ed,model:xd,manufacturer:kd,architecture:wd,is_emulator:!1},debug_meta:{images:Ad(n.resources)},profile:s,transactions:[{name:r.transaction||"",id:r.event_id||Y(),trace_id:o,active_thread_id:vd,relative_start_ns:"0",relative_end_ns:(1e6*(a-i)).toFixed(0)}]}}function Rd(e){return"pageload"===e.op}"object"==typeof(Cd=Td)&&null!==Cd&&"getHighEntropyValues"in Cd&&Td.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(bd=e.platform||"",wd=e.architecture||"",xd=e.model||"",Sd=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];kd=`${t.brand} ${t.version}`}})).catch((e=>{}));const Md=new WeakMap;function Ad(e){const t=b._sentryDebugIds;if(!t)return[];const n=Ot(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let s;const i=Md.get(o);i?s=i:(s=new Map,Md.set(o,s));const a=Object.keys(t).reduce(((e,n)=>{let r;const i=s.get(n);i?r=i:(r=o(n),s.set(n,r));for(let o=r.length-1;o>=0;o--){const s=r[o],i=s&&s.filename;if(s&&i){e[i]=t[n];break}}return e}),{}),c=[];for(const t of e)t&&a[t]&&c.push({type:"sourcemap",code_file:t,debug_id:a[t]});return c}let Dd=!1;const Ld=3e4;function Nd(e){if(Dd)return zr&&D.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return zr&&D.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=Ot(),n=t&&t.getOptions();if(!n)return zr&&D.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(o=r)&&"boolean"!=typeof o||"number"==typeof o&&isNaN(o)?(zr&&D.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),0):!0===o||!1===o||!(o<0||o>1)||(zr&&D.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${o}.`),0)))return zr&&D.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var o;if(!r)return zr&&D.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(zr&&D.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function Pd(e,t,n,r){return function(e){return e.samples.length<2?(zr&&D.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(zr&&D.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?Od(e,t,n,r):null}const $d=new Map;function jd(e){const t=$d.get(e);return t&&$d.delete(e),t}function Fd(e){return e?Nd(e)?Bd(e):e:(zr&&D.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function Bd(e){let t;Rd(e)&&(t=1e3*de());const n=function(){const e=Fr.Profiler;if("function"!=typeof e)return void(zr&&D.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(Ld/10);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){zr&&(D.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),D.log("[Profiling] Disabling profiling for current user session.")),Dd=!0}}();if(!n)return e;zr&&D.log(`[Profiling] started profiling transaction: ${Ae(e).description}`);const r=Y();async function o(){return e&&n?n.stop().then((t=>(s&&(Fr.clearTimeout(s),s=void 0),zr&&D.log(`[Profiling] stopped profiling of transaction: ${Ae(e).description}`),t?(function(e,t){if($d.set(e,t),$d.size>30){const e=$d.keys().next().value;$d.delete(e)}}(r,t),null):(zr&&D.log(`[Profiling] profiler returned null profile for: ${Ae(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((e=>(zr&&D.log("[Profiling] error while stopping profiler:",e),null))):null}let s=Fr.setTimeout((()=>{zr&&D.log("[Profiling] max profile duration elapsed, stopping profiling for:",Ae(e).description),o()}),Ld);const i=e.end.bind(e);return e.end=function(){return e?(o().then((()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),i()}),(()=>{i()})),e):i()},e}const Ud="BrowserProfiling",qd=Ft(Ud,(()=>({name:Ud,setup(e){const t=Rt().getTransaction();t&&Rd(t)&&Nd(t)&&Bd(t),"function"==typeof e.on?(e.on("startTransaction",(e=>{Nd(e)&&Bd(e)})),e.on("beforeEnvelope",(e=>{if(!$d.size)return;const t=function(e){const t=[];return ln(e,((e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){const r=e[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&t.push(e[n])}})),t}(e);if(!t.length)return;const n=[];for(const e of t){const t=e&&e.contexts,r=t&&t.profile&&t.profile.profile_id,o=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof r){zr&&D.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){zr&&D.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;const s=jd(r);if(!s){zr&&D.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const i=Pd(r,o,s,e);i&&n.push(i)}!function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n])}(e,n)}))):D.warn("[Profiling] Client does not support hooks, profiling will be disabled")}})));let Hd={};Fr.Sentry&&Fr.Sentry.Integrations&&(Hd=Fr.Sentry.Integrations);const zd={...Hd,...r,...o}},68518:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function o(){return"npm"}n.d(t,{S:()=>o,n:()=>r})},61422:(e,t,n)=>{"use strict";n.d(t,{KV:()=>s});var r=n(68518);e=n.hmd(e);var o=n(34155);function s(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call(void 0!==o?o:0)}},16415:(e,t,n)=>{"use strict";var r=n(64836)(n(38416));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=n(1610).gebid,u="aplicador",l=e=>{var t="block"===e.target.style.display?e.target:null;return t?{feedbackMessage:t.innerText,couponDiscountValue:null}:null};e.exports={listeners:e=>{var t={attributes:!0,characterData:!1,childList:!0,subtree:!0};return{start(){return this.success(),this.error(),this},setSource(e){u=e},success(){var n=c("gc-promo-success");if(n){this.observerSuccess=new MutationObserver((t=>{var n=c("spc-gcpromoinput").value;if(n){var r,o=i(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,d=l(a);if(d){e(s(s({},d),{},{couponCode:n,source:u}));break}}}catch(e){o.e(e)}finally{o.f()}}})).observe(n,t)}},error(){var n=c("gc-error");if(n){this.observerError=new MutationObserver((t=>{var n=c("spc-gcpromoinput").value;if(n){var r,o=i(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,d=l(a);if(d){e(s(s({},d),{},{couponCode:n,source:u}));break}}}catch(e){o.e(e)}finally{o.f()}}})).observe(n,t)}}}}}},10844:e=>{"use strict";function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,s=function(){};return{s,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e,n,r){return{Success(){var o=document.querySelector("div.cart-template.full-cart.span12.active > div.summary-template-holder");o&&new MutationObserver((o=>{var s,i=t(o);try{for(i.s();!(s=i.n()).done;){var a=s.value,c=Array.from(a.addedNodes).filter((e=>"FORM"===e.tagName&&Array.from(e.classList).includes("coupon-form")))[0];if(c){var u="p.coupon-fields > span.info",l=c.querySelector("".concat(u," > span")).textContent.trim();if(!l||e(l))return;var d=c.querySelector(u).textContent.trim();return n(l),void r({couponCode:l,feedbackMessage:d,couponDiscountValue:null})}}}catch(e){i.e(e)}finally{i.f()}})).observe(o,{attributes:!1,characterData:!1,childList:!0,subtree:!0})},InvalidForPurchase(){},Error(){var o=document.querySelector("div.vtex-front-messages-placeholder");o&&new MutationObserver((o=>{var s,i=t(o);try{for(i.s();!(s=i.n()).done;){var a=s.value,c=Array.from(a.addedNodes).filter((e=>"DIV"===e.tagName&&Array.from(e.classList).includes("vtex-front-messages-template")))[0];if(c){var u=c.querySelector("span.vtex-front-messages-detail").textContent.trim(),l=u.match(/Cupom (.+) [inv\xe1lido|expirado]/)[1];if(!l||e(l))return;return n(l),void r({couponCode:l,feedbackMessage:u,couponDiscountValue:null})}}}catch(e){i.e(e)}finally{i.f()}})).observe(o,{attributes:!1,characterData:!1,childList:!0,subtree:!0})}}}},9128:(e,t,n)=>{"use strict";var r=n(64836)(n(38416));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=n(1610).gebid,u=n(30535).extractDiscountValue,l=null,d="aplicador",p=(e,t)=>Array.from(e).find((e=>e.tagName&&"DIV"===e.tagName&&Array.from(e.classList).includes(t)));e.exports={listeners:e=>{var t={attributes:!1,characterData:!1,childList:!0,subtree:!0};return{start(){return this.target=c("coupons-section-right"),this.success(),this.error(),this},setSource(e){d=e,l=null},success(){if(this.target){this.observerSuccess=new MutationObserver((t=>{var n,r=i(t);try{for(r.s();!(n=r.n()).done;){var o,a=n.value,c=p(a.addedNodes,"applied-coupon-wrapper");if(c){var h=c.querySelector(".stp-coupon-message").textContent.trim();if(h){var f=((null===(o=h.split(":"))||void 0===o?void 0:o[1])||"").trim();if(f&&""!==f&&f.toLowerCase()!==l){l=f;var m={couponCode:f,feedbackMessage:h,couponDiscountValue:u(c.querySelector(".stp-coupon-link-wrap"))};return void e(s(s({},m),{},{source:d}))}}}}}catch(e){r.e(e)}finally{r.f()}})).observe(this.target,t)}},error(){if(this.target){this.observerError=new MutationObserver((t=>{var n,r=null===(n=c("appendedCouponInputButton"))||void 0===n?void 0:n.value;if(r&&""!==r&&r.toLowerCase()!==l){var o,a=i(t);try{for(a.s();!(o=a.n()).done;){var u=o.value,h=p(u.addedNodes,"stp-apply-coupon-error-wrap");if(h){var f=h.querySelector(".stp-ace-message").textContent.trim();if(f)return l=r,void e(s(s({},{couponCode:r,feedbackMessage:f,couponDiscountValue:null}),{},{source:d}))}}}catch(e){a.e(e)}finally{a.f()}}})).observe(this.target,t)}}}}}},41406:e=>{"use strict";e.exports=function(e,t,n){return{Success(){var r=document.querySelector("tr.coupon");r&&new MutationObserver((r=>{r.forEach((r=>{var o=r.addedNodes[0];if(o&&"P"===o.nodeName&&o.textContent.trim().includes("Cupom:")){var s=o.querySelector("strong").textContent.trim();if(e(s))return;var i=o.textContent.trim(),a=document.querySelectorAll("td.couponValue")[0].textContent.trim(),c=a.includes("- R$")?a.replace(/- /g,""):a;t(s),n({couponCode:s,feedbackMessage:i,couponDiscountValue:c})}}))})).observe(r,{attributes:!1,characterData:!1,childList:!0,subtree:!0})},InvalidForPurchase(){},Error(){var r=document.querySelector("tr.coupon");r&&new MutationObserver((r=>{r.forEach((r=>{if("childList"===r.type&&r.addedNodes.length)for(var o=0;o<r.addedNodes.length;o+=1){var s=r.addedNodes[o];if("LI"===s.nodeName&&s.textContent.includes("n\xe3o \xe9 v\xe1lido")){var i=document.querySelector("#valePresente").value;if(e(i))return;var a=s.textContent.trim();t(i),n({couponCode:i,feedbackMessage:a,couponDiscountValue:null})}}}))})).observe(r,{attributes:!1,characterData:!1,childList:!0,subtree:!0})}}}},50890:(e,t,n)=>{"use strict";var r=n(97853),o=n(41406),s=n(10844),i=n(91049);e.exports={Submarino:r,Extra:o,PontoFrio:o,CasasBahia:o,CEA:s,TokStok:i,AuthenticFeet:i,Singer:i,PijamaOnline:i,Calzedonia:i,Viggore:i,QuintaDellArte:i,BuckmanBck:i,Animale:i,FarmRio:i,ABrand:i,Fabula:i,Foxton:i,FyiStore:i}},97853:e=>{"use strict";e.exports=function(e,t,n){return{Success(){var r=document.querySelector("#section-ticket");r&&new MutationObserver((r=>{r.forEach((r=>{var o=r.addedNodes[0];if(o&&o.textContent.trim().includes("sucesso")){var s=document.querySelector(".mg-bottom--mb-35--dt-10.ng-binding > strong.ng-binding").textContent;if(e(s))return;var i=o.textContent.trim(),a=document.querySelector(".pull-right.voucher-remove-container.ng-scope > span").textContent;t(s),n({couponCode:s,feedbackMessage:i,couponDiscountValue:a})}}))})).observe(r,{attributes:!1,characterData:!1,childList:!0,subtree:!0})},InvalidForPurchase(){var r=document.querySelector("#section-ticket");r&&new MutationObserver((r=>{r.forEach((r=>{var o=r.addedNodes[0];if(o&&o.textContent.trim().includes("para esta compra")){var s=document.querySelector(".mg-bottom--mb-35--dt-10.ng-binding > strong.ng-binding").textContent;if(e(s))return;var i=o.textContent.trim(),a=document.querySelector(".pull-right.voucher-remove-container.ng-scope > span").textContent;t(s),n({couponCode:s,feedbackMessage:i,couponDiscountValue:a})}}))})).observe(r,{attributes:!1,characterData:!1,childList:!0,subtree:!0})},Error(){var r=document.querySelector("#section-ticket");r&&new MutationObserver((r=>{r.forEach((r=>{if(!("childList"!==r.type||r.removedNodes.length>0)&&r.addedNodes.length)for(var o=0;o<r.addedNodes.length;o+=1){var s=r.addedNodes[o];if("#comment"===s.nodeName&&s.nodeValue.includes("ctrl.inputInvalid")&&s.nodeValue.includes("ctrl.couponForm.TicketNumber")){var i=document.querySelector("#ticket-number").value;if(e(i))return;var a=document.querySelectorAll("#coupon-form .has-error > .help-block.ng-binding")[1].textContent.trim();t(i),n({couponCode:i,feedbackMessage:a,couponDiscountValue:null})}}}))})).observe(r,{attributes:!1,characterData:!1,childList:!0,subtree:!0})}}}},91049:e=>{"use strict";function t(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,s=function(){};return{s,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e,n,r){return{Success(){var o=document.querySelector("div.cart-template.full-cart.span12.active > div.summary-template-holder");o&&new MutationObserver((o=>{var s,i=t(o);try{for(i.s();!(s=i.n()).done;){var a=s.value,c=Array.from(a.addedNodes).filter((e=>"FORM"===e.tagName&&Array.from(e.classList).includes("coupon-form")))[0];if(c){var u="p.coupon-fields > span.info",l=c.querySelector("".concat(u," > span")).textContent.trim();if(!l||e(l))return;var d=c.querySelector(u).textContent.trim(),p=document.querySelector("tr.Discounts > td.monetary").textContent.trim().replace(/-/g,"");return n(l),void r({couponCode:l,feedbackMessage:d,couponDiscountValue:p})}}}catch(e){i.e(e)}finally{i.f()}})).observe(o,{attributes:!1,characterData:!1,childList:!0,subtree:!0})},InvalidForPurchase(){},Error(){var o=document.querySelector("div.vtex-front-messages-placeholder");o&&new MutationObserver((o=>{var s,i=t(o);try{for(i.s();!(s=i.n()).done;){var a=s.value,c=Array.from(a.addedNodes).filter((e=>"DIV"===e.tagName&&Array.from(e.classList).includes("vtex-front-messages-template")))[0];if(c){var u=c.querySelector("span.vtex-front-messages-detail").textContent.trim(),l=u.match(/Cupom (.+) [inv\xe1lido|expirado]/)[1];if(!l||e(l))return;return n(l),void r({couponCode:l,feedbackMessage:u,couponDiscountValue:null})}}}catch(e){i.e(e)}finally{i.f()}})).observe(o,{attributes:!1,characterData:!1,childList:!0,subtree:!0})}}}},15554:(e,t,n)=>{"use strict";var r=n(64836)(n(38416));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=n(30535),a=i.extractDiscountValue,c=i.querySelector,u="aplicador";e.exports={listeners:e=>{var t={attributes:!1,characterData:!1,childList:!0,subtree:!0};return{start(){return this.success(),this.error(),this},setSource(e){u=e},success(){var n=c("div.cart-template.full-cart.span12.active > div.summary-template-holder");if(n){new MutationObserver((()=>{var t,r,o=null===(t=n.querySelector("span.info > span"))||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim();if(o&&!((null===(r=c("form.custom-coupon-field > p > small.error"))||void 0===r||null===(r=r.textContent)||void 0===r?void 0:r.trim())||"").length){var i=a(c("tr.Discounts > td.monetary"));e(s(s({},{couponCode:o,feedbackMessage:"",couponDiscountValue:i||null}),{},{source:u}))}})).observe(n,t)}},error(){var n=!0,r="form.custom-coupon-field > p > small.error",o=c(r);if(o||(n=!1,o=c(r="div.vtex-front-messages-placeholder")),o){new MutationObserver((()=>{var t=c(r),o=null,i="";if(n)o=c("span.code").textContent.trim(),i=t.textContent.trim();else{var a,l=Array.from(t.querySelectorAll("div.vtex-front-messages-template")).pop();if(l)o=null===(a=l.textContent.trim().match(/Cupom (.+) [inv\xe1lido|expirado]/))||void 0===a?void 0:a[1],i=l.textContent.trim()||""}o&&e(s(s({},{couponCode:o,feedbackMessage:i,couponDiscountValue:null}),{},{source:u}))})).observe(o,t)}}}}}},46429:(e,t,n)=>{"use strict";var r=n(64836)(n(38416));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=n(43902),a=n(1610).gebid,c=n(30535).matchesDomain,u=n(72786),l=n(15554),d=n(16415),p=n(9128),h=null,f=null,m=[],g={vtex:{domains:["epocacosmeticos.com.br"],listeners:l.listeners,input:()=>a("cart-coupon"),button:"cart-coupon-add"},amazon:{domains:["amazon.com.br"],listeners:d.listeners,input:()=>a("spc-gcpromoinput"),button:"input.a-button-input"},dell:{domains:["dell.com"],listeners:p.listeners,input:()=>a("appendedCouponInputButton"),button:"applyCouponButton"}},y=(e,t,n)=>{var r=new URL(window.location.href),o=s(s({},e),{},{url:r.href,domain:n||r.origin,partnerId:t,isVtex:f.isVtex});m.find((t=>e.couponCode===t))||(m.push(e.couponCode),i.runtime.sendMessage({greeting:"CAPTURE-COUPONS-INSTRUMENT",options:o}))},v=e=>{"COUPON-APPLIER-TEST-COUPONS"===e.greeting&&(m=[],h.setSource("aplicador"))},_=()=>{var e,t=window.location.href;null!==(e=f=c(g,t))&&void 0!==e&&e.shopping&&(h=g[f.shopping].listeners(y).start(),document.addEventListener("pointerdown",(e=>{m=[],h.setSource("manual"),e.stopImmediatePropagation()}),!0),i.runtime.onMessage.addListener(v))};"complete"===document.readyState&&_(),u.init(),_()},95642:(e,t,n)=>{"use strict";var r=n(43902);e.exports={storeCoupon:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=new URL(t),a=Object.assign(e,{url:i.href,domain:o||i.origin,partnerId:n,isVtex:s});r.runtime.sendMessage({greeting:"CAPTURE-COUPONS-INSTRUMENT",options:a})}}},72786:(e,t,n)=>{"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=n(95642),i=n(50890),a=n(1610).gebid,c=new Set,u=(e,t)=>t.some((t=>!!t.test(e))),l=e=>e.split(".").join("\\."),d=e=>"[".concat(e,"]?"),p=["cea.com.br","tokstok.com.br","authenticfeet.com.br","loja.singer.com.br","pijamaonline.com.br","calzedonia.com.br","viggore.com.br","quintadellarte.com.br","buckmanbck.com.br","searakitfesta.com.br","animale.com.br","farmrio.com.br","abrand.com.br","afabula.com.br","foxtonbrasil.com.br","fyistore.com.br"].map(l).map((e=>new RegExp("".concat(e,"/checkout.*").concat(d("/"),"#/cart").concat(d("/"))))).concat([].map(l).map((e=>new RegExp("".concat(e,"/checkout").concat(d("/"),"#/payment").concat(d("/")))))),h=["americanas.com.br","submarino.com.br","shoptime.com.br"].map(l).map((e=>new RegExp("sacola.".concat(e,"/current-checkout/.+/payment/")))),f=["extra.com.br","pontofrio.com.br","casasbahia.com.br"].map(l).map((e=>new RegExp("carrinho.".concat(e)))),m={button:[()=>{return e="#cart-coupon-add",document.querySelectorAll(e);var e}],input:[()=>a("cart-coupon")]};function g(e){c.add(e)}function y(e){return c.has(e)}function v(e,t,n){var r=window.location.href,o=u(r,p);s.storeCoupon(e,r,t,n,o)}e.exports={init:function(){var e,t,n,o=window.location.href;if(u(o,p))if(o.includes("cea.com.br"))e=i.CEA(y,g,(e=>{v(e,615,"cea.com.br")}));else if(o.includes("tokstok.com.br"))e=i.TokStok(y,g,v);else if(o.includes("authenticfeet.com.br"))e=i.AuthenticFeet(y,g,v);else if(o.includes("loja.singer.com.br"))e=i.Singer(y,g,v);else if(o.includes("pijamaonline.com.br"))e=i.PijamaOnline(y,g,v);else if(o.includes("calzedonia.com.br"))e=i.Calzedonia(y,g,v);else if(o.includes("viggore.com.br"))e=i.Viggore(y,g,v);else if(o.includes("quintadellarte.com.br"))e=i.QuintaDellArte(y,g,v);else if(o.includes("buckmanbck.com.br"))e=i.BuckmanBck(y,g,(e=>{v(e,-1,"buckmanbck.com.br")}));else if(o.includes("animale.com.br"))e=i.Animale(y,g,v);else if(o.includes("farmrio.com.br"))e=i.FarmRio(y,g,v);else if(o.includes("abrand.com.br"))e=i.ABrand(y,g,v);else if(o.includes("afabula.com.br"))e=i.Fabula(y,g,v);else if(o.includes("foxtonbrasil.com.br"))e=i.Foxton(y,g,v);else{if(!o.includes("fyistore.com.br"))return t=m.button,n=()=>function(e){var t,n,o=r(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("function"==typeof s&&(t=s(),Array.isArray(t)&&1===t.length&&(t=t[0]),t))break}}catch(e){o.e(e)}finally{o.f()}return t||!1}(m.input),void(document.onclick=e=>{var r=n();if(r){var o=r.value;o&&""!==o&&(y(o)||(t=t.length?t:[t]).some((t=>{var n=t();return(n.length?Array.from(n):[n]).some((t=>e.target===t))}))&&(g(o),v({couponCode:o})))}});e=i.FyiStore(y,g,v)}else u(o,h)?o.includes("submarino.com.br")?e=i.Submarino(y,g,v):o.includes("americanas.com.br")?e=i.Americanas(y,g,v):o.includes("shoptime.com.br")&&(e=i.Shoptime(y,g,v)):u(o,f)&&(o.includes("extra.com.br")?e=i.Extra(y,g,(e=>{v(e,159,"extra.com.br")})):o.includes("pontofrio.com.br")?e=i.PontoFrio(y,g,(e=>{v(e,161,"pontofrio.com.br")})):o.includes("casasbahia.com.br")&&(e=i.CasasBahia(y,g,(e=>{v(e,160,"casasbahia.com.br")}))));e&&(e.Success(),e.InvalidForPurchase(),e.Error())}}},30535:e=>{"use strict";e.exports={matchesDomain:(e,t)=>{for(var n={isVtex:!1,shopping:null},r=0,o=Object.keys(e);r<o.length;r++){var s=o[r];e[s].domains.find((e=>t.includes(e)))&&("vtex"===s&&(n.isVtex=!0),n.shopping=s)}return n},querySelector:e=>document.querySelector(e),extractDiscountValue:e=>{if(!e)return null;var t=e.textContent.trim();return t?parseFloat(t.replace(/-/g,"").replace(/[^0-9,]*/g,"").replace(",",".")):null}}},55187:(e,t,n)=>{"use strict";var r=n(58256);e.exports=class{constructor(e){this.logger=r,this.browser=e,this.runtime=this.browser.runtime,this.cookies=this.browser.cookies,this.tabs=this.browser.tabs,this.windows=this.browser.windows,this.storage=this.browser.storage,this.alarms=this.browser.alarms,this.isChrome=!1}getURL(e){return this.browser.runtime.getURL(e)}executeScript(){throw new Error("".concat(this.browserName,".executeScript() not implemented."))}}},96488:(e,t,n)=>{"use strict";var r,o=n(64836),s=o(n(64687)),i=o(n(17156)),a=o(n(38416));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=n(55187);if(null!==(r=chrome)&&void 0!==r&&null!==(r=r.storage)&&void 0!==r&&r.sync){var d=chrome.storage.sync,p=d.set;d.set=(e,t)=>{p.call(d,{[e]:t})}}e.exports=class extends l{constructor(){var e,t,n,r;super(chrome),e=this,(0,a.default)(this,"executeScript",function(){var t=(0,i.default)(s.default.mark((function t(n,r,o){var i,a,c,u,l;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,i=r.file,a=r.code,c=void 0===a?null:a,u=Array.isArray(i)?i:[i],l={target:{tabId:parseInt(n,10)},files:u},c&&(l.func=c,null!=r&&r.args&&(l.args=r.args),delete l.files),t.next=9,e.scripting.executeScript(l,o);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),e.logger.notify(t.t0,"Chrome#executeScript");case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,n,r){return t.apply(this,arguments)}}()),(0,a.default)(this,"tabsQuery",function(){var t=(0,i.default)(s.default.mark((function t(n,r){var o;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.browser.tabs.query(n);case 3:o=t.sent,r(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.logger.notify(t.t0,"Chrome#executeScript");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),this.name="Chrome",this.browserAction=this.browser.action,this.tabs=u(u({},this.tabs),{},{executeScript:this.executeScript,query:this.tabsQuery}),this.scripting=this.browser.scripting,this.storage={sync:(null===(t=this.browser.storage)||void 0===t?void 0:t.sync)||{},session:(null===(n=this.browser.storage)||void 0===n?void 0:n.session)||{},local:(null===(r=this.browser.storage)||void 0===r?void 0:r.local)||{}},this.action=chrome.action,this.isChrome=!0}}},43902:(e,t,n)=>{"use strict";var r,o,s,i,a,c,u,l,d=n(96488);!chrome||null!==(r=chrome)&&void 0!==r&&null!==(r=r.runtime)&&void 0!==r&&null!==(o=r.getURL)&&void 0!==o&&null!==(s=(i=o.call(r,"/")).includes)&&void 0!==s&&s.call(i,"moz-extension")||null!==(a=chrome)&&void 0!==a&&null!==(a=a.runtime)&&void 0!==a&&null!==(c=a.getURL)&&void 0!==c&&null!==(u=(l=c.call(a,"/")).includes)&&void 0!==u&&u.call(l,"safari-web-extension")?e.exports=browser:e.exports=new d},1610:(e,t,n)=>{"use strict";var r=n(99560),o=document.getElementById.bind(document),s=document.getElementsByClassName.bind(document),i=document.querySelector.bind(document),a=document.querySelectorAll.bind(document),c=e=>e?e.value||e.textContent:"",u=(e,t)=>t?t.getElementById(e)||t.querySelector(".".concat(e)):o(e)||i(e);e.exports={gebid:o,qAll:a,getElementsByClassName:s,query:i,getText:c,hasAdBlock:()=>new Promise((e=>{var t=document.createElement("img");t.setAttribute("src","https://staticz.com.br/img/transparent.gif?ad=1"),t.style.display="none",document.body.appendChild(t),t.onload=()=>{e(!1)},t.onerror=()=>{e(!0)}})),crawlSelector:e=>c(document.querySelector(e)).trim(),crawlSelectorAll:e=>Array.from(document.querySelectorAll(e)).map((e=>c(e).trim())),createElementFromHTML:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.createElement("div");return n.innerHTML=e.trim(),t&&(n.id=t),n},createShadowElementFromHTML:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"closed",o=document.createElement("div");o.id=t||r(JSON.stringify({timestamp:Date.now(),randomNumber:Math.floor(1e3*Math.random())}));var s=o.attachShadow({mode:n});return s.innerHTML=e.trim(),{wrapper:o,shadowRoot:s}},insertAllBefore:(e,t,n)=>{for(var r=0;r<t.length;r+=1)e.insertBefore(t[r],n)},getElement:u,addClass:e=>{if(e){var t=u(e.container,null==e?void 0:e.shadowRoot);t&&t.classList.add(e.className)}},removeClass:e=>{if(e){var t=u(e.container,null==e?void 0:e.shadowRoot);t&&t.classList.remove(e.className)}}}},58256:(e,t,n)=>{"use strict";var r=n(1762),o={notify:function(e){if(!e)throw new TypeError('The parameter "error" is required')},setContext:(e,t)=>{if(!e||!t)throw new TypeError('The parameters "name" and "context" are required');return r.setContext(e,t)},wrap:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)throw new TypeError('The parameter "callback" is required');if(!Array.isArray(t))throw new TypeError('The parameter "parameters" must be an array');if("function"!=typeof e)throw new TypeError('The parameter "callback" must be a function');return r.wrap((()=>e(...t)))},initializeSentry:()=>console.info("You are in a stable release, sentry will not start")};e.exports=o},99560:function(e,t,n){var r;!function(o){"use strict";function s(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,r,o,i){return s((a=s(s(t,e),s(r,i)))<<(c=o)|a>>>32-c,n);var a,c}function a(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)}function c(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)}function u(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)}function l(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)}function d(e,t){var n,r,o,i,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,h=-271733879,f=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)r=p,o=h,i=f,d=m,p=a(p,h,f,m,e[n],7,-680876936),m=a(m,p,h,f,e[n+1],12,-389564586),f=a(f,m,p,h,e[n+2],17,606105819),h=a(h,f,m,p,e[n+3],22,-1044525330),p=a(p,h,f,m,e[n+4],7,-176418897),m=a(m,p,h,f,e[n+5],12,1200080426),f=a(f,m,p,h,e[n+6],17,-1473231341),h=a(h,f,m,p,e[n+7],22,-45705983),p=a(p,h,f,m,e[n+8],7,1770035416),m=a(m,p,h,f,e[n+9],12,-1958414417),f=a(f,m,p,h,e[n+10],17,-42063),h=a(h,f,m,p,e[n+11],22,-1990404162),p=a(p,h,f,m,e[n+12],7,1804603682),m=a(m,p,h,f,e[n+13],12,-40341101),f=a(f,m,p,h,e[n+14],17,-1502002290),p=c(p,h=a(h,f,m,p,e[n+15],22,1236535329),f,m,e[n+1],5,-165796510),m=c(m,p,h,f,e[n+6],9,-1069501632),f=c(f,m,p,h,e[n+11],14,643717713),h=c(h,f,m,p,e[n],20,-373897302),p=c(p,h,f,m,e[n+5],5,-701558691),m=c(m,p,h,f,e[n+10],9,38016083),f=c(f,m,p,h,e[n+15],14,-660478335),h=c(h,f,m,p,e[n+4],20,-405537848),p=c(p,h,f,m,e[n+9],5,568446438),m=c(m,p,h,f,e[n+14],9,-1019803690),f=c(f,m,p,h,e[n+3],14,-187363961),h=c(h,f,m,p,e[n+8],20,1163531501),p=c(p,h,f,m,e[n+13],5,-1444681467),m=c(m,p,h,f,e[n+2],9,-51403784),f=c(f,m,p,h,e[n+7],14,1735328473),p=u(p,h=c(h,f,m,p,e[n+12],20,-1926607734),f,m,e[n+5],4,-378558),m=u(m,p,h,f,e[n+8],11,-2022574463),f=u(f,m,p,h,e[n+11],16,1839030562),h=u(h,f,m,p,e[n+14],23,-35309556),p=u(p,h,f,m,e[n+1],4,-1530992060),m=u(m,p,h,f,e[n+4],11,1272893353),f=u(f,m,p,h,e[n+7],16,-155497632),h=u(h,f,m,p,e[n+10],23,-1094730640),p=u(p,h,f,m,e[n+13],4,681279174),m=u(m,p,h,f,e[n],11,-358537222),f=u(f,m,p,h,e[n+3],16,-722521979),h=u(h,f,m,p,e[n+6],23,76029189),p=u(p,h,f,m,e[n+9],4,-640364487),m=u(m,p,h,f,e[n+12],11,-421815835),f=u(f,m,p,h,e[n+15],16,530742520),p=l(p,h=u(h,f,m,p,e[n+2],23,-995338651),f,m,e[n],6,-198630844),m=l(m,p,h,f,e[n+7],10,1126891415),f=l(f,m,p,h,e[n+14],15,-1416354905),h=l(h,f,m,p,e[n+5],21,-57434055),p=l(p,h,f,m,e[n+12],6,1700485571),m=l(m,p,h,f,e[n+3],10,-1894986606),f=l(f,m,p,h,e[n+10],15,-1051523),h=l(h,f,m,p,e[n+1],21,-2054922799),p=l(p,h,f,m,e[n+8],6,1873313359),m=l(m,p,h,f,e[n+15],10,-30611744),f=l(f,m,p,h,e[n+6],15,-1560198380),h=l(h,f,m,p,e[n+13],21,1309151649),p=l(p,h,f,m,e[n+4],6,-145523070),m=l(m,p,h,f,e[n+11],10,-1120210379),f=l(f,m,p,h,e[n+2],15,718787259),h=l(h,f,m,p,e[n+9],21,-343485551),p=s(p,r),h=s(h,o),f=s(f,i),m=s(m,d);return[p,h,f,m]}function p(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function h(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function f(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function m(e){return unescape(encodeURIComponent(e))}function g(e){return function(e){return p(d(h(e),8*e.length))}(m(e))}function y(e,t){return function(e,t){var n,r,o=h(e),s=[],i=[];for(s[15]=i[15]=void 0,o.length>16&&(o=d(o,8*e.length)),n=0;n<16;n+=1)s[n]=909522486^o[n],i[n]=1549556828^o[n];return r=d(s.concat(h(t)),512+8*t.length),p(d(i.concat(r),640))}(m(e),m(t))}function v(e,t,n){return t?n?y(t,e):f(y(t,e)):n?g(e):f(g(e))}void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r)}()},34155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,c=[],u=!1,l=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&p())}function p(){if(!u){var e=i(d);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||i(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},17156:e=>{function t(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,s){var i=e.apply(n,r);function a(e){t(i,o,s,a,c,"next",e)}function c(e){t(i,o,s,a,c,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},38416:(e,t,n)=>{var r=n(64062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},64836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},17061:(e,t,n)=>{var r=n(18698).default;function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=o=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},s=Object.prototype,i=s.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,s=Object.create(o.prototype),i=new D(r||[]);return a(s,"_invoke",{value:O(e,n,i)}),s}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=h;var m="suspendedStart",g="suspendedYield",y="executing",v="completed",_={};function b(){}function S(){}function w(){}var k={};p(k,u,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(L([])));E&&E!==s&&i.call(E,u)&&(k=E);var T=w.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,s,a,c){var u=f(e[o],e,s);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(s,s):s()}})}function O(e,n,r){var o=m;return function(s,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===s)throw i;return{value:t,done:!0}}for(r.method=s,r.arg=i;;){var a=r.delegate;if(a){var c=R(a,r);if(c){if(c===_)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?v:g,u.arg===_)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function R(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;var s=f(o,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,_;var i=s.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}throw new TypeError(r(e)+" is not iterable")}return S.prototype=w,a(T,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:S,configurable:!0}),S.displayName=p(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,d,"GeneratorFunction")),e.prototype=Object.create(T),e},n.awrap=function(e){return{__await:e}},C(I.prototype),p(I.prototype,l,(function(){return this})),n.AsyncIterator=I,n.async=function(e,t,r,o,s){void 0===s&&(s=Promise);var i=new I(h(e,t,r,o),s);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(T),p(T,d,"Generator"),p(T,u,(function(){return this})),p(T,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=L,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},95036:(e,t,n)=>{var r=n(18698).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:(e,t,n)=>{var r=n(18698).default,o=n(95036);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},18698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},64687:(e,t,n)=>{var r=n(17061)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";void 0===window.meliuzCaptureCouponContentScriptInjected&&"complete"===document.readyState&&(window.meliuzCaptureCouponContentScriptInjected=!0,n(46429))})()})();