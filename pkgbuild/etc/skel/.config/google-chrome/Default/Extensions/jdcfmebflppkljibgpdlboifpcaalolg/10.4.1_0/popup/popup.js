(()=>{var __webpack_modules__={41675:(t,e,r)=>{"use strict";var n=r(31313),i=r(97582),s=r(79730),o=r(5752),a=r(97019);function u(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}})),e.default=t,Object.freeze(e)}var c,l=u(o),h=function(){function t(t,e){var r=this;this._delegate=t,this.firebase=e,o._addComponent(t,new s.Component("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(t){this._delegate.automaticDataCollectionEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._delegate.options},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t._delegate.checkDestroyed(),e()})).then((function(){return t.firebase.INTERNAL.removeApp(t.name),o.deleteApp(t._delegate)}))},t.prototype._getService=function(t,e){var r;void 0===e&&(e=o._DEFAULT_ENTRY_NAME),this._delegate.checkDestroyed();var n=this._delegate.container.getProvider(t);return n.isInitialized()||"EXPLICIT"!==(null===(r=n.getComponent())||void 0===r?void 0:r.instantiationMode)||n.initialize(),n.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=o._DEFAULT_ENTRY_NAME),this._delegate.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){o._addComponent(this._delegate,t)},t.prototype._addOrOverwriteComponent=function(t){o._addOrOverwriteComponent(this._delegate,t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t}(),f=((c={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",c["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",c),d=new n.ErrorFactory("app-compat","Firebase",f);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e={},r={__esModule:!0,initializeApp:function(i,s){void 0===s&&(s={});var o=l.initializeApp(i,s);if(n.contains(e,o.name))return e[o.name];var a=new t(o,r);return e[o.name]=a,a},app:i,registerVersion:l.registerVersion,setLogLevel:l.setLogLevel,onLog:l.onLog,apps:null,SDK_VERSION:l.SDK_VERSION,INTERNAL:{registerComponent:function(e){var s=e.name,o=s.replace("-compat","");if(l._registerComponent(e)&&"PUBLIC"===e.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[o])throw d.create("invalid-app-argument",{appName:s});return t[o]()};void 0!==e.serviceProps&&n.deepExtend(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this._getService.bind(this,s).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){return"serverAuth"===e?null:e},modularAPIs:l}};function i(t){if(t=t||l._DEFAULT_ENTRY_NAME,!n.contains(e,t))throw d.create("no-app",{appName:t});return e[t]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(h);return e.INTERNAL=i.__assign(i.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){n.deepExtend(e,t)},createSubscribe:n.createSubscribe,ErrorFactory:n.ErrorFactory,deepExtend:n.deepExtend}),e}(),m=new a.Logger("@firebase/app-compat");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(n.isBrowser()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y,v=p;o.registerVersion("@firebase/app-compat","0.2.13",y),t.exports=v},5752:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(79730),i=r(97582),s=r(97019),o=r(31313),a=r(4424),u=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((function(t){return t})).join(" ")},t}();var c,l,h="@firebase/app",f="0.9.13",d=new s.Logger("@firebase/app"),p="[DEFAULT]",m=((c={})[h]="fire-core",c["@firebase/app-compat"]="fire-core-compat",c["@firebase/analytics"]="fire-analytics",c["@firebase/analytics-compat"]="fire-analytics-compat",c["@firebase/app-check"]="fire-app-check",c["@firebase/app-check-compat"]="fire-app-check-compat",c["@firebase/auth"]="fire-auth",c["@firebase/auth-compat"]="fire-auth-compat",c["@firebase/database"]="fire-rtdb",c["@firebase/database-compat"]="fire-rtdb-compat",c["@firebase/functions"]="fire-fn",c["@firebase/functions-compat"]="fire-fn-compat",c["@firebase/installations"]="fire-iid",c["@firebase/installations-compat"]="fire-iid-compat",c["@firebase/messaging"]="fire-fcm",c["@firebase/messaging-compat"]="fire-fcm-compat",c["@firebase/performance"]="fire-perf",c["@firebase/performance-compat"]="fire-perf-compat",c["@firebase/remote-config"]="fire-rc",c["@firebase/remote-config-compat"]="fire-rc-compat",c["@firebase/storage"]="fire-gcs",c["@firebase/storage-compat"]="fire-gcs-compat",c["@firebase/firestore"]="fire-fst",c["@firebase/firestore-compat"]="fire-fst-compat",c["fire-js"]="fire-js",c.firebase="fire-js-all",c),g=new Map,y=new Map;function v(t,e){try{t.container.addComponent(e)}catch(r){d.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),r)}}function b(t){var e,r,n=t.name;if(y.has(n))return d.debug("There were multiple attempts to register component ".concat(n,".")),!1;y.set(n,t);try{for(var s=i.__values(g.values()),o=s.next();!o.done;o=s.next()){v(o.value,t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return!0}function w(t,e){var r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}var _=((l={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",l["bad-app-name"]="Illegal App name: '{$appName}",l["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",l["app-deleted"]="Firebase App named '{$appName}' already deleted",l["no-options"]="Need to provide options, when not being deployed to hosting via source.",l["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",l["invalid-log-argument"]="First argument to `onLog` must be null or a function.",l["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",l["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",l["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",l["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",l),E=new o.ErrorFactory("app","Firebase",_),S=function(){function t(t,e,r){var s=this;this._isDeleted=!1,this._options=i.__assign({},t),this._config=i.__assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new n.Component("app",(function(){return s}),"PUBLIC"))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(t){this._isDeleted=t},enumerable:!1,configurable:!0}),t.prototype.checkDestroyed=function(){if(this.isDeleted)throw E.create("app-deleted",{appName:this._name})},t}();function x(t,e){var r,s;void 0===e&&(e={});var a=t;"object"!=typeof e&&(e={name:e});var u=i.__assign({name:p,automaticDataCollectionEnabled:!1},e),c=u.name;if("string"!=typeof c||!c)throw E.create("bad-app-name",{appName:String(c)});if(a||(a=o.getDefaultAppConfig()),!a)throw E.create("no-options");var l=g.get(c);if(l){if(o.deepEqual(a,l.options)&&o.deepEqual(u,l.config))return l;throw E.create("duplicate-app",{appName:c})}var h=new n.ComponentContainer(c);try{for(var f=i.__values(y.values()),d=f.next();!d.done;d=f.next()){var m=d.value;h.addComponent(m)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(r)throw r.error}}var v=new S(a,u,h);return g.set(c,v),v}function M(t,e,r){var i,s=null!==(i=m[t])&&void 0!==i?i:t;r&&(s+="-".concat(r));var o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'.concat(s,'" with version "').concat(e,'":')];return o&&u.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),o&&a&&u.push("and"),a&&u.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void d.warn(u.join(" "))}b(new n.Component("".concat(s,"-version"),(function(){return{library:s,version:e}}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var k="firebase-heartbeat-database",T=1,A="firebase-heartbeat-store",C=null;function I(){return C||(C=a.openDB(k,T,{upgrade:function(t,e){if(0===e)t.createObjectStore(A)}}).catch((function(t){throw E.create("idb-open",{originalErrorMessage:t.message})}))),C}function P(t){return i.__awaiter(this,void 0,void 0,(function(){var e,r;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,I()];case 1:return[4,n.sent().transaction(A).objectStore(A).get(O(t))];case 2:return[2,n.sent()];case 3:return(e=n.sent())instanceof o.FirebaseError?d.warn(e.message):(r=E.create("idb-get",{originalErrorMessage:null==e?void 0:e.message}),d.warn(r.message)),[3,4];case 4:return[2]}}))}))}function R(t,e){return i.__awaiter(this,void 0,void 0,(function(){var r,n,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,I()];case 1:return r=i.sent(),n=r.transaction(A,"readwrite"),[4,n.objectStore(A).put(e,O(t))];case 2:return i.sent(),[4,n.done];case 3:return i.sent(),[3,5];case 4:return(s=i.sent())instanceof o.FirebaseError?d.warn(s.message):(a=E.create("idb-set",{originalErrorMessage:null==s?void 0:s.message}),d.warn(a.message)),[3,5];case 5:return[2]}}))}))}function O(t){return"".concat(t.name,"!").concat(t.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D=function(){function t(t){var e=this;this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new F(r),this._heartbeatsCachePromise=this._storage.read().then((function(t){return e._heartbeatsCache=t,t}))}return t.prototype.triggerHeartbeat=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,r,n;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),r=L(),null!==this._heartbeatsCache?[3,2]:(n=this,[4,this._heartbeatsCachePromise]);case 1:n._heartbeatsCache=i.sent(),i.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((function(t){return t.date===r}))?[2]:(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(t){var e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},t.prototype.getHeartbeatsHeader=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,r,n,s;return i.__generator(this,(function(a){switch(a.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:a.sent(),a.label=2;case 2:return null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length?[2,""]:(t=L(),e=function(t,e){var r,n;void 0===e&&(e=1024);var s=[],o=t.slice(),a=function(t){var r=s.find((function(e){return e.agent===t.agent}));if(r){if(r.dates.push(t.date),B(s)>e)return r.dates.pop(),"break"}else if(s.push({agent:t.agent,dates:[t.date]}),B(s)>e)return s.pop(),"break";o=o.slice(1)};try{for(var u=i.__values(t),c=u.next();!c.done;c=u.next()){if("break"===a(c.value))break}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return{heartbeatsToSend:s,unsentEntries:o}}(this._heartbeatsCache.heartbeats),r=e.heartbeatsToSend,n=e.unsentEntries,s=o.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return a.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),a.label=5;case 5:return[2,s]}}))}))},t}();function L(){return(new Date).toISOString().substring(0,10)}var N,F=function(){function t(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return t.prototype.runIndexedDBEnvironmentCheck=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return o.isIndexedDBAvailable()?[2,o.validateIndexedDBOpenable().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},t.prototype.read=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return t.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,P(this.app)];case 3:return[2,t.sent()||{heartbeats:[]}]}}))}))},t.prototype.overwrite=function(t){var e;return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return n.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return r=n.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})]}}))}))},t.prototype.add=function(t){var e;return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return n.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return r=n.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:r.lastSentHeartbeatDate,heartbeats:i.__spreadArray(i.__spreadArray([],i.__read(r.heartbeats),!1),i.__read(t.heartbeats),!1)})]}}))}))},t}();function B(t){return o.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */N="node",b(new n.Component("platform-logger",(function(t){return new u(t)}),"PRIVATE")),b(new n.Component("heartbeat",(function(t){return new D(t)}),"PRIVATE")),M(h,f,N),M(h,f,"cjs5"),M("fire-js",""),Object.defineProperty(e,"FirebaseError",{enumerable:!0,get:function(){return o.FirebaseError}}),e.SDK_VERSION="9.23.0",e._DEFAULT_ENTRY_NAME=p,e._addComponent=v,e._addOrOverwriteComponent=function(t,e){t.container.addOrOverwriteComponent(e)},e._apps=g,e._clearComponents=function(){y.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e._components=y,e._getProvider=w,e._registerComponent=b,e._removeServiceInstance=function(t,e,r){void 0===r&&(r=p),w(t,e).clearInstance(r)},e.deleteApp=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(r){switch(r.label){case 0:return e=t.name,g.has(e)?(g.delete(e),[4,Promise.all(t.container.getProviders().map((function(t){return t.delete()})))]):[3,2];case 1:r.sent(),t.isDeleted=!0,r.label=2;case 2:return[2]}}))}))},e.getApp=function(t){void 0===t&&(t=p);var e=g.get(t);if(!e&&t===p&&o.getDefaultAppConfig())return x();if(!e)throw E.create("no-app",{appName:t});return e},e.getApps=function(){return Array.from(g.values())},e.initializeApp=x,e.onLog=function(t,e){if(null!==t&&"function"!=typeof t)throw E.create("invalid-log-argument");s.setUserLogHandler(t,e)},e.registerVersion=M,e.setLogLevel=function(t){s.setLogLevel(t)}},79730:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(97582),i=r(31313),s=function(){function t(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var r=new i.Deferred;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{var n=this.getOrInitializeService({instanceIdentifier:e});n&&r.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,r=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(t){if(n)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,r;if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}try{for(var i=n.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=n.__read(s.value,2),u=a[0],c=a[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(n.__spreadArray(n.__spreadArray([],n.__read(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()}))),!1),n.__read(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))),!1))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,r;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error("".concat(this.name,"(").concat(o,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=n.__values(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=n.__read(c.value,2),h=l[0],f=l[1];o===this.normalizeInstanceIdentifier(h)&&f.resolve(a)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var r,n=this.normalizeInstanceIdentifier(e),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(t),this.onInitCallbacks.set(n,i);var s=this.instances.get(n);return s&&t(s,n),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var r,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=n.__values(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(t){}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(t){var e,r=t.instanceIdentifier,n=t.options,i=void 0===n?{}:n,s=this.instances.get(r);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=r,e===o?void 0:e),options:i}),this.instances.set(r,s),this.instancesOptions.set(r,i),this.invokeOnInitCallbacks(s,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,s)}catch(t){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=u,e.Provider=a},6595:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(41675),i=r(23023),s=r(31313),o=r(79730);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(n);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new i.FirestoreError("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(){if("undefined"==typeof Uint8Array)throw new i.FirestoreError("unimplemented","Uint8Arrays are not available in this environment.")}function h(){if(!i._isBase64Available())throw new i.FirestoreError("unimplemented","Blobs are unavailable in Firestore in this environment.")}class f{constructor(t){this._delegate=t}static fromBase64String(t){return h(),new f(i.Bytes.fromBase64String(t))}static fromUint8Array(t){return l(),new f(i.Bytes.fromUint8Array(t))}toBase64(){return h(),this._delegate.toBase64()}toUint8Array(){return l(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const t of e)if(t in r&&"function"==typeof r[t])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,["next","error","complete"])}class p{enableIndexedDbPersistence(t,e){return i.enableIndexedDbPersistence(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return i.enableMultiTabIndexedDbPersistence(t._delegate)}clearIndexedDbPersistence(t){return i.clearIndexedDbPersistence(t._delegate)}}class m{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof i._DatabaseId||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||i._logWarn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){i.connectFirestoreEmulator(this._delegate,t,e,r)}enableNetwork(){return i.enableNetwork(this._delegate)}disableNetwork(){return i.disableNetwork(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,i._validateIsNotUsedTogether("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return i.waitForPendingWrites(this._delegate)}onSnapshotsInSync(t){return i.onSnapshotsInSync(this._delegate,t)}get app(){if(!this._appCompat)throw new i.FirestoreError("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new C(this,i.collection(this._delegate,t))}catch(t){throw _(t,"collection()","Firestore.collection()")}}doc(t){try{return new w(this,i.doc(this._delegate,t))}catch(t){throw _(t,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new k(this,i.collectionGroup(this._delegate,t))}catch(t){throw _(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return i.runTransaction(this._delegate,(e=>t(new y(this,e))))}batch(){return i.ensureFirestoreConfigured(this._delegate),new v(new i.WriteBatch(this._delegate,(t=>i.executeWrite(this._delegate,t))))}loadBundle(t){return i.loadBundle(this._delegate,t)}namedQuery(t){return i.namedQuery(this._delegate,t).then((t=>t?new k(this,t):null))}}class g extends i.AbstractUserDataWriter{constructor(t){super(),this.firestore=t}convertBytes(t){return new f(new i.Bytes(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return w.forKey(e,this.firestore,null)}}class y{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new g(t)}get(t){const e=I(t);return this._delegate.get(e).then((t=>new x(this._firestore,new i.DocumentSnapshot(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter))))}set(t,e,r){const n=I(t);return r?(c("Transaction.set",r),this._delegate.set(n,e,r)):this._delegate.set(n,e),this}update(t,e,r,...n){const i=I(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,r,...n),this}delete(t){const e=I(t);return this._delegate.delete(e),this}}class v{constructor(t){this._delegate=t}set(t,e,r){const n=I(t);return r?(c("WriteBatch.set",r),this._delegate.set(n,e,r)):this._delegate.set(n,e),this}update(t,e,r,...n){const i=I(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,r,...n),this}delete(t){const e=I(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class b{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new i.QueryDocumentSnapshot(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new M(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=b.INSTANCES;let n=r.get(t);n||(n=new WeakMap,r.set(t,n));let i=n.get(e);return i||(i=new b(t,new g(t),e),n.set(e,i)),i}}b.INSTANCES=new WeakMap;class w{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new g(t)}static forPath(t,e,r){if(t.length%2!=0)throw new i.FirestoreError("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new w(e,new i.DocumentReference(e._delegate,r,new i._DocumentKey(t)))}static forKey(t,e,r){return new w(e,new i.DocumentReference(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new C(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new C(this.firestore,i.collection(this._delegate,t))}catch(t){throw _(t,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=s.getModularInstance(t))instanceof i.DocumentReference&&i.refEqual(this._delegate,t)}set(t,e){e=c("DocumentReference.set",e);try{return e?i.setDoc(this._delegate,t,e):i.setDoc(this._delegate,t)}catch(t){throw _(t,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?i.updateDoc(this._delegate,t):i.updateDoc(this._delegate,t,e,...r)}catch(t){throw _(t,"updateDoc()","DocumentReference.update()")}}delete(){return i.deleteDoc(this._delegate)}onSnapshot(...t){const e=E(t),r=S(t,(t=>new x(this.firestore,new i.DocumentSnapshot(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))));return i.onSnapshot(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?i.getDocFromCache(this._delegate):"server"===(null==t?void 0:t.source)?i.getDocFromServer(this._delegate):i.getDoc(this._delegate),e.then((t=>new x(this.firestore,new i.DocumentSnapshot(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))))}withConverter(t){return new w(this.firestore,t?this._delegate.withConverter(b.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function _(t,e,r){return t.message=t.message.replace(e,r),t}function E(t){for(const e of t)if("object"==typeof e&&!d(e))return e;return{}}function S(t,e){var r,n;let i;return i=d(t[0])?t[0]:d(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{i.next&&i.next(e(t))},error:null===(r=i.error)||void 0===r?void 0:r.bind(i),complete:null===(n=i.complete)||void 0===n?void 0:n.bind(i)}}class x{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new w(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return i.snapshotEqual(this._delegate,t._delegate)}}class M extends x{data(t){const e=this._delegate.data(t);return i._debugAssert(void 0!==e,"Document in a QueryDocumentSnapshot should exist"),e}}class k{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new g(t)}where(t,e,r){try{return new k(this.firestore,i.query(this._delegate,i.where(t,e,r)))}catch(t){throw _(t,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new k(this.firestore,i.query(this._delegate,i.orderBy(t,e)))}catch(t){throw _(t,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new k(this.firestore,i.query(this._delegate,i.limit(t)))}catch(t){throw _(t,"limit()","Query.limit()")}}limitToLast(t){try{return new k(this.firestore,i.query(this._delegate,i.limitToLast(t)))}catch(t){throw _(t,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new k(this.firestore,i.query(this._delegate,i.startAt(...t)))}catch(t){throw _(t,"startAt()","Query.startAt()")}}startAfter(...t){try{return new k(this.firestore,i.query(this._delegate,i.startAfter(...t)))}catch(t){throw _(t,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new k(this.firestore,i.query(this._delegate,i.endBefore(...t)))}catch(t){throw _(t,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new k(this.firestore,i.query(this._delegate,i.endAt(...t)))}catch(t){throw _(t,"endAt()","Query.endAt()")}}isEqual(t){return i.queryEqual(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?i.getDocsFromCache(this._delegate):"server"===(null==t?void 0:t.source)?i.getDocsFromServer(this._delegate):i.getDocs(this._delegate),e.then((t=>new A(this.firestore,new i.QuerySnapshot(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))))}onSnapshot(...t){const e=E(t),r=S(t,(t=>new A(this.firestore,new i.QuerySnapshot(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))));return i.onSnapshot(this._delegate,e,r)}withConverter(t){return new k(this.firestore,t?this._delegate.withConverter(b.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class T{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new M(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class A{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new k(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((t=>new M(this._firestore,t)))}docChanges(t){return this._delegate.docChanges(t).map((t=>new T(this._firestore,t)))}forEach(t,e){this._delegate.forEach((r=>{t.call(e,new M(this._firestore,r))}))}isEqual(t){return i.snapshotEqual(this._delegate,t._delegate)}}class C extends k{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new w(this.firestore,t):null}doc(t){try{return new w(this.firestore,void 0===t?i.doc(this._delegate):i.doc(this._delegate,t))}catch(t){throw _(t,"doc()","CollectionReference.doc()")}}add(t){return i.addDoc(this._delegate,t).then((t=>new w(this.firestore,t)))}isEqual(t){return i.refEqual(this._delegate,t._delegate)}withConverter(t){return new C(this.firestore,t?this._delegate.withConverter(b.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function I(t){return i._cast(t,i.DocumentReference)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(...t){this._delegate=new i.FieldPath(...t)}static documentId(){return new P(i._FieldPath.keyField().canonicalString())}isEqual(t){return(t=s.getModularInstance(t))instanceof i.FieldPath&&this._delegate._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(t){this._delegate=t}static serverTimestamp(){const t=i.serverTimestamp();return t._methodName="FieldValue.serverTimestamp",new R(t)}static delete(){const t=i.deleteField();return t._methodName="FieldValue.delete",new R(t)}static arrayUnion(...t){const e=i.arrayUnion(...t);return e._methodName="FieldValue.arrayUnion",new R(e)}static arrayRemove(...t){const e=i.arrayRemove(...t);return e._methodName="FieldValue.arrayRemove",new R(e)}static increment(t){const e=i.increment(t);return e._methodName="FieldValue.increment",new R(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={Firestore:m,GeoPoint:i.GeoPoint,Timestamp:i.Timestamp,Blob:f,Transaction:y,WriteBatch:v,DocumentReference:w,DocumentSnapshot:x,Query:k,QueryDocumentSnapshot:M,QuerySnapshot:A,CollectionReference:C,FieldPath:P,FieldValue:R,setLogLevel:function(t){i.setLogLevel(t)},CACHE_SIZE_UNLIMITED:i.CACHE_SIZE_UNLIMITED};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function D(t){!function(t,e){t.INTERNAL.registerComponent(new o.Component("firestore-compat",(t=>{const r=t.getProvider("app-compat").getImmediate(),n=t.getProvider("firestore").getImmediate();return e(r,n)}),"PUBLIC").setServiceProps(Object.assign({},O)))}(t,((t,e)=>new m(t,e,new p))),t.registerVersion("@firebase/firestore-compat","0.3.12")}D(u.default),e.registerFirestore=D},23023:(t,e,r)=>{"use strict";var n=r(34155);Object.defineProperty(e,"__esModule",{value:!0});var i=r(5752),s=r(79730),o=r(97019),a=r(31313),u=r(43582);const c="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let h="9.23.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f=new o.Logger("@firebase/firestore");function d(){return f.logLevel}function p(t,...e){if(f.logLevel<=o.LogLevel.DEBUG){const r=e.map(y);f.debug(`Firestore (${h}): ${t}`,...r)}}function m(t,...e){if(f.logLevel<=o.LogLevel.ERROR){const r=e.map(y);f.error(`Firestore (${h}): ${t}`,...r)}}function g(t,...e){if(f.logLevel<=o.LogLevel.WARN){const r=e.map(y);f.warn(`Firestore (${h}): ${t}`,...r)}}function y(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t="Unexpected state"){const e=`FIRESTORE (${h}) INTERNAL ASSERTION FAILED: `+t;throw m(e),new Error(e)}function b(t,e){t||v()}function w(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class E extends a.FirebaseError{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(l.UNAUTHENTICATED)))}shutdown(){}}class k{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class T{constructor(t){this.t=t,this.currentUser=l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let r=this.i;const n=t=>this.i!==r?(r=this.i,e(t)):Promise.resolve();let i=new S;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new S,t.enqueueRetryable((()=>n(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await n(this.currentUser)}))},o=t=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new S)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(b("string"==typeof e.accessToken),new x(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t),new l(t)}}class A{constructor(t,e,r){this.h=t,this.l=e,this.m=r,this.type="FirstParty",this.user=l.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class C{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new A(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(l.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const r=t=>{null!=t.error&&p("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const r=t.token!==this.T;return this.T=t.token,p("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>r(e)))};const n=t=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.I.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.I.getImmediate({optional:!0});t?n(t):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(b("string"==typeof t.token),this.T=t.token,new I(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function R(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let e=0;e<t;e++)r[e]=Math.floor(256*Math.random());return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let r="";for(;r.length<20;){const n=R(40);for(let i=0;i<n.length;++i)r.length<20&&n[i]<e&&(r+=t.charAt(n[i]%62))}return r}}function D(t,e){return t<e?-1:t>e?1:0}function L(t,e,r){return t.length===e.length&&t.every(((t,n)=>r(t,e[n])))}function N(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return F.fromMillis(Date.now())}static fromDate(t){return F.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new F(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?D(this.nanoseconds,t.nanoseconds):D(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.timestamp=t}static fromTimestamp(t){return new B(t)}static min(){return new B(new F(0,0))}static max(){return new B(new F(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t,e,r){void 0===e?e=0:e>t.length&&v(),void 0===r?r=t.length-e:r>t.length-e&&v(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===j.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof j?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const r=t.get(n),i=e.get(n);if(r<i)return-1;if(r>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class z extends j{construct(t,e,r){return new z(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((t=>t.length>0)))}return new z(e)}static emptyPath(){return new z([])}}const U=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class V extends j{construct(t,e,r){return new V(t,e,r)}static isValidIdentifier(t){return U.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),V.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new V(["__name__"])}static fromServerFormat(t){const e=[];let r="",n=0;const i=()=>{if(0===r.length)throw new E(_.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let s=!1;for(;n<t.length;){const e=t[n];if("\\"===e){if(n+1===t.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[n+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=e,n+=2}else"`"===e?(s=!s,n++):"."!==e||s?(r+=e,n++):(i(),n++)}if(i(),s)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new V(e)}static emptyPath(){return new V([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.path=t}static fromPath(t){return new q(z.fromString(t))}static fromName(t){return new q(z.fromString(t).popFirst(5))}static empty(){return new q(z.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===z.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return z.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new q(new z(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t,e,r,n){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=n}}function H(t){return t.fields.find((t=>2===t.kind))}function $(t){return t.fields.filter((t=>2!==t.kind))}function W(t,e){let r=D(t.collectionGroup,e.collectionGroup);if(0!==r)return r;for(let n=0;n<Math.min(t.fields.length,e.fields.length);++n)if(r=Y(t.fields[n],e.fields[n]),0!==r)return r;return D(t.fields.length,e.fields.length)}G.UNKNOWN_ID=-1;class K{constructor(t,e){this.fieldPath=t,this.kind=e}}function Y(t,e){const r=V.comparator(t.fieldPath,e.fieldPath);return 0!==r?r:D(t.kind,e.kind)}class X{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new X(0,Z.min())}}function Q(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===n?new F(r+1,0):new F(r,n));return new Z(i,q.empty(),e)}function J(t){return new Z(t.readTime,t.key,-1)}class Z{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Z(B.min(),q.empty(),-1)}static max(){return new Z(B.max(),q.empty(),-1)}}function tt(t,e){let r=t.readTime.compareTo(e.readTime);return 0!==r?r:(r=q.comparator(t.documentKey,e.documentKey),0!==r?r:D(t.largestBatchId,e.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}const et="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nt(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==et)throw t;p("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it(((r,n)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(r,n)},this.catchCallback=t=>{this.wrapFailure(e,t).next(r,n)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(t){return it.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):it.reject(e)}static resolve(t){return new it(((e,r)=>{e(t)}))}static reject(t){return new it(((e,r)=>{r(t)}))}static waitFor(t){return new it(((e,r)=>{let n=0,i=0,s=!1;t.forEach((t=>{++n,t.next((()=>{++i,s&&i===n&&e()}),(t=>r(t)))})),s=!0,i===n&&e()}))}static or(t){let e=it.resolve(!1);for(const r of t)e=e.next((t=>t?it.resolve(t):r()));return e}static forEach(t,e){const r=[];return t.forEach(((t,n)=>{r.push(e.call(this,t,n))})),this.waitFor(r)}static mapArray(t,e){return new it(((r,n)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const u=a;e(t[u]).next((t=>{s[u]=t,++o,o===i&&r(s)}),(t=>n(t)))}}))}static doWhile(t,e){return new it(((r,n)=>{const i=()=>{!0===t()?e().next((()=>{i()}),n):r()};i()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new S,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new ut(t,e.error)):this.v.resolve()},this.transaction.onerror=e=>{const r=dt(e.target.error);this.v.reject(new ut(t,r))}}static open(t,e,r,n){try{return new st(e,t.transaction(n,r))}catch(t){throw new ut(e,t)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new lt(e)}}class ot{constructor(t,e,r){this.name=t,this.version=e,this.V=r,12.2===ot.S(a.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return p("SimpleDb","Removing database:",t),ht(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!a.isIndexedDBAvailable())return!1;if(ot.C())return!0;const t=a.getUA(),e=ot.S(t),r=0<e&&e<10,n=ot.N(t),i=0<n&&n<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||i)}static C(){var t;return void 0!==n&&"YES"===(null===(t={ENV:"production",BABEL_ENV:"production",BFF_EXTENSION:"https://api-extension.meliuz.com.br",AZION_FF_ROUTE:"https://api-extension-ff.meliuz.com.br",BFF_CUSTOMER_CARD:"https://api-customer.cartaomeliuz.com.br",MELIUZ_URL:"https://www.meliuz.com.br",STATIC_MELIUZ:"https://static.meliuz.com.br/",FIREBASE_KEY:"AIzaSyCbK3JbSljRUhsYFQwesv4-ekZKKgNMV40",FIREBASE_ID:"lembrador-e49af",CLIENT_SECRET:"8b979018cdab447f6733b76bb75e493c6b93103d",CLIENT_ID_BFF:"meliuz-extension-production",CLIENT_SECRET_BFF:"zC73dgg9KMuXyCUGLRyL12yn7bnC1R",GA_TRACKING_ID:"UA-26865030-3",GA_TRACKING_ID_SITE:"UA-26865030-1",CUSTOM_REQUESTS_HEADER:"X-Meliuz-Client",GCP_FUNCTIONS_URL:"https://us-central1-meliuz-traceability-prd.cloudfunctions.net/predict",CLOUD_FUNCTION_PROJECT:"e49af",ANODOT_ID:"8dfc79c8af290de422fd975b9b04ee80",SENTRY_DSN:"https://91ef845682c34dd1b776781f0ee7d4bb@o51760.ingest.sentry.io/4505133381713920",SENTRY_TRACES_SAMPLE_RATE:"1.0",GA4_API_SECRET:"Dxk9AwQzS5qvLbkJTvAmgw",GA4_MEASUREMENT_ID:"G-W2B9H0ZM8H",GA4_ENDPOINT:"https://www.google-analytics.com/mp/collect"})||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(t){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,r)=>{const n=indexedDB.open(this.name,this.version);n.onsuccess=t=>{const r=t.target.result;e(r)},n.onblocked=()=>{r(new ut(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=e=>{const n=e.target.error;"VersionError"===n.name?r(new E(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new E(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ut(t,n))},n.onupgradeneeded=t=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.V.O(e,n.transaction,t.oldVersion,this.version).next((()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=t=>this.F(t)),this.db}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,r,n){const i="readonly"===e;let s=0;for(;;){++s;try{this.db=await this.$(t);const e=st.open(this.db,t,i?"readonly":"readwrite",r),s=n(e).next((t=>(e.P(),t))).catch((t=>(e.abort(t),it.reject(t)))).toPromise();return s.catch((()=>{})),await e.R,s}catch(t){const e=t,r="FirebaseError"!==e.name&&s<3;if(p("SimpleDb","Transaction failed with error:",e.message,"Retrying:",r),this.close(),!r)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class at{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return ht(this.L.delete())}}class ut extends E{constructor(t,e){super(_.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ct(t){return"IndexedDbTransactionError"===t.name}class lt{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ht(r)}add(t){return p("SimpleDb","ADD",this.store.name,t,t),ht(this.store.add(t))}get(t){return ht(this.store.get(t)).next((e=>(void 0===e&&(e=null),p("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return p("SimpleDb","DELETE",this.store.name,t),ht(this.store.delete(t))}count(){return p("SimpleDb","COUNT",this.store.name),ht(this.store.count())}j(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const t=this.cursor(r),e=[];return this.W(t,((t,r)=>{e.push(r)})).next((()=>e))}{const t=this.store.getAll(r.range);return new it(((e,r)=>{t.onerror=t=>{r(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}}H(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new it(((t,e)=>{r.onerror=t=>{e(t.target.error)},r.onsuccess=e=>{t(e.target.result)}}))}J(t,e){p("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.Y=!1;const n=this.cursor(r);return this.W(n,((t,e,r)=>r.delete()))}X(t,e){let r;e?r=t:(r={},e=t);const n=this.cursor(r);return this.W(n,e)}Z(t){const e=this.cursor({});return new it(((r,n)=>{e.onerror=t=>{const e=dt(t.target.error);n(e)},e.onsuccess=e=>{const n=e.target.result;n?t(n.primaryKey,n.value).next((t=>{t?n.continue():r()})):r()}}))}W(t,e){const r=[];return new it(((n,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{const i=t.target.result;if(!i)return void n();const s=new at(i),o=e(i.primaryKey,i.value,s);if(o instanceof it){const t=o.catch((t=>(s.done(),it.reject(t))));r.push(t)}s.isDone?n():null===s.K?i.continue():i.continue(s.K)}})).next((()=>it.waitFor(r)))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ht(t){return new it(((e,r)=>{t.onsuccess=t=>{const r=t.target.result;e(r)},t.onerror=t=>{const e=dt(t.target.error);r(e)}}))}let ft=!1;function dt(t){const e=ot.S(a.getUA());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new E("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ft||(ft=!0,setTimeout((()=>{throw t}),0)),t}}return t}class pt{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){p("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{p("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(t){ct(t)?p("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):await nt(t)}await this.et(6e4)}))}}class mt{constructor(t,e){this.localStore=t,this.persistence=e}async nt(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.st(e,t)))}st(t,e){const r=new Set;let n=e,i=!0;return it.doWhile((()=>!0===i&&n>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((e=>{if(null!==e&&!r.has(e))return p("IndexBackiller",`Processing collection: ${e}`),this.it(t,e,n).next((t=>{n-=t,r.add(e)}));i=!1})))).next((()=>e-n))}it(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((n=>this.localStore.localDocuments.getNextDocuments(t,e,n,r).next((r=>{const i=r.changes;return this.localStore.indexManager.updateIndexEntries(t,i).next((()=>this.rt(n,r))).next((r=>(p("IndexBackiller",`Updating offset: ${r}`),this.localStore.indexManager.updateCollectionGroup(t,e,r)))).next((()=>i.size))}))))}rt(t,e){let r=t;return e.changes.forEach(((t,e)=>{const n=J(e);tt(n,r)>0&&(r=n)})),new Z(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ot(t),this.ut=t=>e.writeSequenceNumber(t))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}function yt(t){return null==t}function vt(t){return 0===t&&1/t==-1/0}function bt(t){return"number"==typeof t&&Number.isInteger(t)&&!vt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Et(e)),e=_t(t.get(r),e);return Et(e)}function _t(t,e){let r=e;const n=t.length;for(let e=0;e<n;e++){const n=t.charAt(e);switch(n){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=n}}return r}function Et(t){return t+"\x01\x01"}function St(t){const e=t.length;if(b(e>=2),2===e)return b("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),z.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const e=t.indexOf("\x01",s);switch((e<0||e>r)&&v(),t.charAt(e+1)){case"\x01":const r=t.substring(s,e);let o;0===i.length?o=r:(i+=r,o=i,i=""),n.push(o);break;case"\x10":i+=t.substring(s,e),i+="\0";break;case"\x11":i+=t.substring(s,e+1);break;default:v()}s=e+2}return new z(n)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gt.ct=-1;const xt=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){return[t,wt(e)]}function kt(t,e,r){return[t,wt(e),r]}const Tt={},At=["prefixPath","collectionGroup","readTime","documentId"],Ct=["prefixPath","collectionGroup","documentId"],It=["collectionGroup","readTime","prefixPath","documentId"],Pt=["canonicalId","targetId"],Rt=["targetId","path"],Ot=["path","targetId"],Dt=["collectionId","parent"],Lt=["indexId","uid"],Nt=["uid","sequenceNumber"],Ft=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bt=["indexId","uid","orderedDocumentKey"],jt=["userId","collectionPath","documentId"],zt=["userId","collectionPath","largestBatchId"],Ut=["userId","collectionGroup","largestBatchId"],Vt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qt=[...Vt,"documentOverlays"],Gt=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ht=Gt,$t=[...Ht,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends rt{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Kt(t,e){const r=w(t);return ot.M(r.ht,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Xt(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Qt(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t,e){this.comparator=t,this.root=e||te.EMPTY}insert(t,e){return new Jt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,te.BLACK,null,null))}remove(t){return new Jt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,te.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(0===n)return e+r.left.size;n<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zt(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zt(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zt(this.root,t,this.comparator,!0)}}class Zt{constructor(t,e,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?r(t.key,e):1,e&&n&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class te{constructor(t,e,r,n,i){this.key=t,this.value=e,this.color=null!=r?r:te.RED,this.left=null!=n?n:te.EMPTY,this.right=null!=i?i:te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,n,i){return new te(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let n=this;const i=r(t,n.key);return n=i<0?n.copy(null,null,null,n.left.insert(t,e,r),null):0===i?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,n=this;if(e(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===e(t,n.key)){if(n.right.isEmpty())return te.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();const t=this.left.check();if(t!==this.right.check())throw v();return t+(this.isRed()?0:1)}}te.EMPTY=null,te.RED=!0,te.BLACK=!1,te.EMPTY=new class{constructor(){this.size=0}get key(){throw v()}get value(){throw v()}get color(){throw v()}get left(){throw v()}get right(){throw v()}copy(t,e,r,n,i){return this}insert(t,e,r){return new te(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ee{constructor(t){this.comparator=t,this.data=new Jt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new re(this.data.getIterator())}getIteratorFrom(t){return new re(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof ee))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=r.getNext().key;if(0!==this.comparator(t,n))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ee(this.comparator);return e.data=t,e}}class re{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ne(t){return t.hasNext()?t.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.fields=t,t.sort(V.comparator)}static empty(){return new ie([])}unionWith(t){let e=new ee(V.comparator);for(const t of this.fields)e=e.add(t);for(const r of t)e=e.add(r);return new ie(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return L(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new se("Invalid base64 string: "+t):t}}(t);return new oe(e)}static fromUint8Array(t){const e=function(t){let e="";for(let r=0;r<t.length;++r)e+=String.fromCharCode(t[r]);return e}(t);return new oe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return D(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}oe.EMPTY_BYTE_STRING=new oe("");const ae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ue(t){if(b(!!t),"string"==typeof t){let e=0;const r=ae.exec(t);if(b(!!r),r[1]){let t=r[1];t=(t+"000000000").substr(0,9),e=Number(t)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ce(t.seconds),nanos:ce(t.nanos)}}function ce(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function le(t){return"string"==typeof t?oe.fromBase64String(t):oe.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function fe(t){const e=t.mapValue.fields.__previous_value__;return he(e)?fe(e):e}function de(t){const e=ue(t.mapValue.fields.__local_write_time__.timestampValue);return new F(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,e,r,n,i,s,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=u}}class me{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new me("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof me&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ye={nullValue:"NULL_VALUE"};function ve(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?he(t)?4:Oe(t)?9007199254740991:10:v()}function be(t,e){if(t===e)return!0;const r=ve(t);if(r!==ve(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return de(t).isEqual(de(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const r=ue(t.timestampValue),n=ue(e.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return le(t.bytesValue).isEqual(le(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ce(t.geoPointValue.latitude)===ce(e.geoPointValue.latitude)&&ce(t.geoPointValue.longitude)===ce(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ce(t.integerValue)===ce(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const r=ce(t.doubleValue),n=ce(e.doubleValue);return r===n?vt(r)===vt(n):isNaN(r)&&isNaN(n)}return!1}(t,e);case 9:return L(t.arrayValue.values||[],e.arrayValue.values||[],be);case 10:return function(t,e){const r=t.mapValue.fields||{},n=e.mapValue.fields||{};if(Yt(r)!==Yt(n))return!1;for(const t in r)if(r.hasOwnProperty(t)&&(void 0===n[t]||!be(r[t],n[t])))return!1;return!0}(t,e);default:return v()}}function we(t,e){return void 0!==(t.values||[]).find((t=>be(t,e)))}function _e(t,e){if(t===e)return 0;const r=ve(t),n=ve(e);if(r!==n)return D(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return D(t.booleanValue,e.booleanValue);case 2:return function(t,e){const r=ce(t.integerValue||t.doubleValue),n=ce(e.integerValue||e.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(t,e);case 3:return Ee(t.timestampValue,e.timestampValue);case 4:return Ee(de(t),de(e));case 5:return D(t.stringValue,e.stringValue);case 6:return function(t,e){const r=le(t),n=le(e);return r.compareTo(n)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const r=t.split("/"),n=e.split("/");for(let t=0;t<r.length&&t<n.length;t++){const e=D(r[t],n[t]);if(0!==e)return e}return D(r.length,n.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const r=D(ce(t.latitude),ce(e.latitude));return 0!==r?r:D(ce(t.longitude),ce(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const r=t.values||[],n=e.values||[];for(let t=0;t<r.length&&t<n.length;++t){const e=_e(r[t],n[t]);if(e)return e}return D(r.length,n.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===ge.mapValue&&e===ge.mapValue)return 0;if(t===ge.mapValue)return 1;if(e===ge.mapValue)return-1;const r=t.fields||{},n=Object.keys(r),i=e.fields||{},s=Object.keys(i);n.sort(),s.sort();for(let t=0;t<n.length&&t<s.length;++t){const e=D(n[t],s[t]);if(0!==e)return e;const o=_e(r[n[t]],i[s[t]]);if(0!==o)return o}return D(n.length,s.length)}(t.mapValue,e.mapValue);default:throw v()}}function Ee(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return D(t,e);const r=ue(t),n=ue(e),i=D(r.seconds,n.seconds);return 0!==i?i:D(r.nanos,n.nanos)}function Se(t){return xe(t)}function xe(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ue(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?le(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,q.fromName(r).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",r=!0;for(const n of t.values||[])r?r=!1:e+=",",e+=xe(n);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let r="{",n=!0;for(const i of e)n?n=!1:r+=",",r+=`${i}:${xe(t.fields[i])}`;return r+"}"}(t.mapValue):v();var e,r}function Me(t){switch(ve(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fe(t);return e?16+Me(e):16;case 5:return 2*t.stringValue.length;case 6:return le(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce(((t,e)=>t+Me(e)),0);case 10:return function(t){let e=0;return Xt(t.fields,((t,r)=>{e+=t.length+Me(r)})),e}(t.mapValue);default:throw v()}}function ke(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Te(t){return!!t&&"integerValue"in t}function Ae(t){return!!t&&"arrayValue"in t}function Ce(t){return!!t&&"nullValue"in t}function Ie(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pe(t){return!!t&&"mapValue"in t}function Re(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xt(t.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Re(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Re(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Oe(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function De(t){return"nullValue"in t?ye:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ke(me.empty(),q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:v()}function Le(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ke(me.empty(),q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ge:v()}function Ne(t,e){const r=_e(t.value,e.value);return 0!==r?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Fe(t,e){const r=_e(t.value,e.value);return 0!==r?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.value=t}static empty(){return new Be({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Pe(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Re(e)}setAll(t){let e=V.emptyPath(),r={},n=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,r,n),r={},n=[],e=i.popLast()}t?r[i.lastSegment()]=Re(t):n.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,r,n)}delete(t){const e=this.field(t.popLast());Pe(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return be(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let n=e.mapValue.fields[t.get(r)];Pe(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=n),e=n}return e.mapValue.fields}applyChanges(t,e,r){Xt(e,((e,r)=>t[e]=r));for(const e of r)delete t[e]}clone(){return new Be(Re(this.value))}}function je(t){const e=[];return Xt(t.fields,((t,r)=>{const n=new V([t]);if(Pe(r)){const t=je(r.mapValue).fields;if(0===t.length)e.push(n);else for(const r of t)e.push(n.child(r))}else e.push(n)})),new ie(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ze{constructor(t,e,r,n,i,s,o){this.key=t,this.documentType=e,this.version=r,this.readTime=n,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ze(t,0,B.min(),B.min(),B.min(),Be.empty(),0)}static newFoundDocument(t,e,r,n){return new ze(t,1,e,B.min(),r,n,0)}static newNoDocument(t,e){return new ze(t,2,e,B.min(),B.min(),Be.empty(),0)}static newUnknownDocument(t,e){return new ze(t,3,e,B.min(),B.min(),Be.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Be.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Be.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t,e){this.position=t,this.inclusive=e}}function Ve(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(n=s.field.isKeyField()?q.comparator(q.fromName(o.referenceValue),r.key):_e(o,r.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function qe(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!be(t.position[r],e.position[r]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,e="asc"){this.field=t,this.dir=e}}function He(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{}class We extends $e{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new nr(t,e,r):"array-contains"===e?new ar(t,r):"in"===e?new ur(t,r):"not-in"===e?new cr(t,r):"array-contains-any"===e?new lr(t,r):new We(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new ir(t,r):new sr(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(_e(e,this.value)):null!==e&&ve(this.value)===ve(e)&&this.matchesComparison(_e(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ke extends $e{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Ke(t,e)}matches(t){return Ye(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft((t=>t.isInequality()));return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Ye(t){return"and"===t.op}function Xe(t){return"or"===t.op}function Qe(t){return Je(t)&&Ye(t)}function Je(t){for(const e of t.filters)if(e instanceof Ke)return!1;return!0}function Ze(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Se(t.value);if(Qe(t))return t.filters.map((t=>Ze(t))).join(",");{const e=t.filters.map((t=>Ze(t))).join(",");return`${t.op}(${e})`}}function tr(t,e){return t instanceof We?function(t,e){return e instanceof We&&t.op===e.op&&t.field.isEqual(e.field)&&be(t.value,e.value)}(t,e):t instanceof Ke?function(t,e){return e instanceof Ke&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,r,n)=>t&&tr(r,e.filters[n])),!0)}(t,e):void v()}function er(t,e){const r=t.filters.concat(e);return Ke.create(r,t.op)}function rr(t){return t instanceof We?function(t){return`${t.field.canonicalString()} ${t.op} ${Se(t.value)}`}(t):t instanceof Ke?function(t){return t.op.toString()+" {"+t.getFilters().map(rr).join(" ,")+"}"}(t):"Filter"}class nr extends We{constructor(t,e,r){super(t,e,r),this.key=q.fromName(r.referenceValue)}matches(t){const e=q.comparator(t.key,this.key);return this.matchesComparison(e)}}class ir extends We{constructor(t,e){super(t,"in",e),this.keys=or("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class sr extends We{constructor(t,e){super(t,"not-in",e),this.keys=or("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function or(t,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map((t=>q.fromName(t.referenceValue)))}class ar extends We{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ae(e)&&we(e.arrayValue,this.value)}}class ur extends We{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&we(this.value.arrayValue,e)}}class cr extends We{constructor(t,e){super(t,"not-in",e)}matches(t){if(we(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!we(this.value.arrayValue,e)}}class lr extends We{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ae(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>we(this.value.arrayValue,t)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,e=null,r=[],n=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function fr(t,e=null,r=[],n=[],i=null,s=null,o=null){return new hr(t,e,r,n,i,s,o)}function dr(t){const e=w(t);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Ze(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),yt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Se(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Se(t))).join(",")),e.dt=t}return e.dt}function pr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!He(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!tr(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qe(t.startAt,e.startAt)&&qe(t.endAt,e.endAt)}function mr(t){return q.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function gr(t,e){return t.filters.filter((t=>t instanceof We&&t.field.isEqual(e)))}function yr(t,e,r){let n=ye,i=!0;for(const r of gr(t,e)){let t=ye,e=!0;switch(r.op){case"<":case"<=":t=De(r.value);break;case"==":case"in":case">=":t=r.value;break;case">":t=r.value,e=!1;break;case"!=":case"not-in":t=ye}Ne({value:n,inclusive:i},{value:t,inclusive:e})<0&&(n=t,i=e)}if(null!==r)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=r.position[s];Ne({value:n,inclusive:i},{value:t,inclusive:r.inclusive})<0&&(n=t,i=r.inclusive);break}return{value:n,inclusive:i}}function vr(t,e,r){let n=ge,i=!0;for(const r of gr(t,e)){let t=ge,e=!0;switch(r.op){case">=":case">":t=Le(r.value),e=!1;break;case"==":case"in":case"<=":t=r.value;break;case"<":t=r.value,e=!1;break;case"!=":case"not-in":t=ge}Fe({value:n,inclusive:i},{value:t,inclusive:e})>0&&(n=t,i=e)}if(null!==r)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=r.position[s];Fe({value:n,inclusive:i},{value:t,inclusive:r.inclusive})>0&&(n=t,i=r.inclusive);break}return{value:n,inclusive:i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,e=null,r=[],n=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function wr(t,e,r,n,i,s,o,a){return new br(t,e,r,n,i,s,o,a)}function _r(t){return new br(t)}function Er(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Sr(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xr(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Mr(t){return null!==t.collectionGroup}function kr(t){const e=w(t);if(null===e.wt){e.wt=[];const t=xr(e),r=Sr(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ge(t)),e.wt.push(new Ge(V.keyField(),"asc"));else{let t=!1;for(const r of e.explicitOrderBy)e.wt.push(r),r.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ge(V.keyField(),t))}}}return e.wt}function Tr(t){const e=w(t);if(!e._t)if("F"===e.limitType)e._t=fr(e.path,e.collectionGroup,kr(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of kr(e)){const e="desc"===r.dir?"asc":"desc";t.push(new Ge(r.field,e))}const r=e.endAt?new Ue(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Ue(e.startAt.position,e.startAt.inclusive):null;e._t=fr(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}return e._t}function Ar(t,e){e.getFirstInequalityField(),xr(t);const r=t.filters.concat([e]);return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Cr(t,e,r){return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Ir(t,e){return pr(Tr(t),Tr(e))&&t.limitType===e.limitType}function Pr(t){return`${dr(Tr(t))}|lt:${t.limitType}`}function Rr(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>rr(t))).join(", ")}]`),yt(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Se(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Se(t))).join(",")),`Target(${e})`}(Tr(t))}; limitType=${t.limitType})`}function Or(t,e){return e.isFoundDocument()&&function(t,e){const r=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):q.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(t,e)&&function(t,e){for(const r of kr(t))if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1;return!0}(t,e)&&function(t,e){for(const r of t.filters)if(!r.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,r){const n=Ve(t,e,r);return t.inclusive?n<=0:n<0}(t.startAt,kr(t),e))&&!(t.endAt&&!function(t,e,r){const n=Ve(t,e,r);return t.inclusive?n>=0:n>0}(t.endAt,kr(t),e))}(t,e)}function Dr(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lr(t){return(e,r)=>{let n=!1;for(const i of kr(t)){const t=Nr(i,e,r);if(0!==t)return t;n=n||i.field.isKeyField()}return 0}}function Nr(t,e,r){const n=t.field.isKeyField()?q.comparator(e.key,r.key):function(t,e,r){const n=e.data.field(t),i=r.data.field(t);return null!==n&&null!==i?_e(n,i):v()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return v()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[e,n]of r)if(this.equalsFn(e,t))return n}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),n=this.inner[r];if(void 0===n)return this.inner[r]=[[t,e]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return void(n[r]=[t,e]);n.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return 1===r.length?delete this.inner[e]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(t){Xt(this.inner,((e,r)=>{for(const[e,n]of r)t(e,n)}))}isEmpty(){return Qt(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Jt(q.comparator);function jr(){return Br}const zr=new Jt(q.comparator);function Ur(...t){let e=zr;for(const r of t)e=e.insert(r.key,r);return e}function Vr(t){let e=zr;return t.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function qr(){return Hr()}function Gr(){return Hr()}function Hr(){return new Fr((t=>t.toString()),((t,e)=>t.isEqual(e)))}const $r=new Jt(q.comparator),Wr=new ee(q.comparator);function Kr(...t){let e=Wr;for(const r of t)e=e.add(r);return e}const Yr=new ee(D);function Xr(){return Yr}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vt(e)?"-0":e}}function Jr(t){return{integerValue:""+t}}function Zr(t,e){return bt(e)?Jr(e):Qr(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(){this._=void 0}}function en(t,e,r){return t instanceof sn?function(t,e){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&he(e)&&(e=fe(e)),e&&(r.fields.__previous_value__=e),{mapValue:r}}(r,e):t instanceof on?an(t,e):t instanceof un?cn(t,e):function(t,e){const r=nn(t,e),n=hn(r)+hn(t.gt);return Te(r)&&Te(t.gt)?Jr(n):Qr(t.serializer,n)}(t,e)}function rn(t,e,r){return t instanceof on?an(t,e):t instanceof un?cn(t,e):r}function nn(t,e){return t instanceof ln?Te(r=e)||function(t){return!!t&&"doubleValue"in t}(r)?e:{integerValue:0}:null;var r}class sn extends tn{}class on extends tn{constructor(t){super(),this.elements=t}}function an(t,e){const r=fn(e);for(const e of t.elements)r.some((t=>be(t,e)))||r.push(e);return{arrayValue:{values:r}}}class un extends tn{constructor(t){super(),this.elements=t}}function cn(t,e){let r=fn(e);for(const e of t.elements)r=r.filter((t=>!be(t,e)));return{arrayValue:{values:r}}}class ln extends tn{constructor(t,e){super(),this.serializer=t,this.gt=e}}function hn(t){return ce(t.integerValue||t.doubleValue)}function fn(t){return Ae(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,e){this.field=t,this.transform=e}}class pn{constructor(t,e){this.version=t,this.transformResults=e}}class mn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gn(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class yn{}function vn(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new An(t.key,mn.none()):new Sn(t.key,t.data,mn.none());{const r=t.data,n=Be.empty();let i=new ee(V.comparator);for(let t of e.fields)if(!i.has(t)){let e=r.field(t);null===e&&t.length>1&&(t=t.popLast(),e=r.field(t)),null===e?n.delete(t):n.set(t,e),i=i.add(t)}return new xn(t.key,n,new ie(i.toArray()),mn.none())}}function bn(t,e,r){t instanceof Sn?function(t,e,r){const n=t.value.clone(),i=kn(t.fieldTransforms,e,r.transformResults);n.setAll(i),e.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(t,e,r):t instanceof xn?function(t,e,r){if(!gn(t.precondition,e))return void e.convertToUnknownDocument(r.version);const n=kn(t.fieldTransforms,e,r.transformResults),i=e.data;i.setAll(Mn(t)),i.setAll(n),e.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(t,e,r):function(t,e,r){e.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,r)}function wn(t,e,r,n){return t instanceof Sn?function(t,e,r,n){if(!gn(t.precondition,e))return r;const i=t.value.clone(),s=Tn(t.fieldTransforms,n,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,r,n):t instanceof xn?function(t,e,r,n){if(!gn(t.precondition,e))return r;const i=Tn(t.fieldTransforms,n,e),s=e.data;return s.setAll(Mn(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===r?null:r.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,r,n):function(t,e,r){return gn(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):r}(t,e,r)}function _n(t,e){let r=null;for(const n of t.fieldTransforms){const t=e.data.field(n.field),i=nn(n.transform,t||null);null!=i&&(null===r&&(r=Be.empty()),r.set(n.field,i))}return r||null}function En(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&L(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof on&&e instanceof on||t instanceof un&&e instanceof un?L(t.elements,e.elements,be):t instanceof ln&&e instanceof ln?be(t.gt,e.gt):t instanceof sn&&e instanceof sn}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sn extends yn{constructor(t,e,r,n=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class xn extends yn{constructor(t,e,r,n,i=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mn(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function kn(t,e,r){const n=new Map;b(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);n.set(s.field,rn(o,a,r[i]))}return n}function Tn(t,e,r){const n=new Map;for(const i of t){const t=i.transform,s=r.data.field(i.field);n.set(i.field,en(t,s,e))}return n}class An extends yn{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cn extends yn{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t,e,r,n){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const n=this.mutations[e];n.key.isEqual(t.key)&&bn(n,t,r[e])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=wn(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=wn(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Gr();return this.mutations.forEach((n=>{const i=t.get(n.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(n.key)?null:o;const a=vn(s,o);null!==a&&r.set(n.key,a),s.isValidDocument()||s.convertToNoDocument(B.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Kr())}isEqual(t){return this.batchId===t.batchId&&L(this.mutations,t.mutations,((t,e)=>En(t,e)))&&L(this.baseMutations,t.baseMutations,((t,e)=>En(t,e)))}}class Pn{constructor(t,e,r,n){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=n}static from(t,e,r){b(t.mutations.length===r.length);let n=$r;const i=t.mutations;for(let t=0;t<i.length;t++)n=n.insert(i[t].key,r[t].version);return new Pn(t,e,r,n)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t,e,r){this.alias=t,this.yt=e,this.fieldPath=r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t,e){this.count=t,this.unchangedNames=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,Nn;function Fn(t){switch(t){default:return v();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function Bn(t){if(void 0===t)return m("GRPC error has no .code"),_.UNKNOWN;switch(t){case Ln.OK:return _.OK;case Ln.CANCELLED:return _.CANCELLED;case Ln.UNKNOWN:return _.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return _.INTERNAL;case Ln.UNAVAILABLE:return _.UNAVAILABLE;case Ln.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Ln.NOT_FOUND:return _.NOT_FOUND;case Ln.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Ln.ABORTED:return _.ABORTED;case Ln.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Ln.DATA_LOSS:return _.DATA_LOSS;default:return v()}}(Nn=Ln||(Ln={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jn{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zn}static getOrCreateInstance(){return null===zn&&(zn=new jn),zn}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach((e=>e(t)))}}let zn=null;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return new TextEncoder}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new u.Integer([4294967295,4294967295],0);function qn(t){const e=Un().encode(t),r=new u.Md5;return r.update(e),new Uint8Array(r.digest())}function Gn(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new u.Integer([r,n],0),new u.Integer([i,s],0)]}class Hn{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new $n(`Invalid padding: ${e}`);if(r<0)throw new $n(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new $n(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new $n(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=u.Integer.fromNumber(this.It)}Et(t,e,r){let n=t.add(e.multiply(u.Integer.fromNumber(r)));return 1===n.compare(Vn)&&(n=new u.Integer([n.getBits(0),n.getBits(1)],0)),n.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=qn(t),[r,n]=Gn(e);for(let t=0;t<this.hashCount;t++){const e=this.Et(r,n,t);if(!this.At(e))return!1}return!0}static create(t,e,r){const n=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new Hn(i,n,e);return r.forEach((t=>s.insert(t))),s}insert(t){if(0===this.It)return;const e=qn(t),[r,n]=Gn(e);for(let t=0;t<this.hashCount;t++){const e=this.Et(r,n,t);this.Rt(e)}}Rt(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class $n extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,e,r,n,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const n=new Map;return n.set(t,Kn.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Wn(B.min(),n,new Jt(D),jr(),Kr())}}class Kn{constructor(t,e,r,n,i){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Kn(r,e,Kr(),Kr(),Kr())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,e,r,n){this.Pt=t,this.removedTargetIds=e,this.key=r,this.bt=n}}class Xn{constructor(t,e){this.targetId=t,this.Vt=e}}class Qn{constructor(t,e,r=oe.EMPTY_BYTE_STRING,n=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=n}}class Jn{constructor(){this.St=0,this.Dt=ei(),this.Ct=oe.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Kr(),e=Kr(),r=Kr();return this.Dt.forEach(((n,i)=>{switch(i){case 0:t=t.add(n);break;case 2:e=e.add(n);break;case 1:r=r.add(n);break;default:v()}})),new Kn(this.Ct,this.xt,t,e,r)}Ft(){this.Nt=!1,this.Dt=ei()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Zn{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=jr(),this.zt=ti(),this.Wt=new Jt(D)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,(e=>{const r=this.Zt(e);switch(t.state){case 0:this.te(e)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(e);break;case 3:this.te(e)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),r.$t(t.resumeToken));break;default:v()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach(((t,r)=>{this.te(r)&&e(r)}))}ne(t){var e;const r=t.targetId,n=t.Vt.count,i=this.se(r);if(i){const s=i.target;if(mr(s))if(0===n){const t=new q(s.path);this.Yt(r,t,ze.newNoDocument(t,B.min()))}else b(1===n);else{const i=this.ie(r);if(i!==n){const n=this.re(t,i);if(0!==n){this.ee(r);const t=2===n?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,t)}null===(e=jn.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(t,e,r){var n,i,s,o,a,u;const c={localCacheCount:e,existenceFilterCount:r.count},l=r.unchangedNames;return l&&(c.bloomFilter={applied:0===t,hashCount:null!==(n=null==l?void 0:l.hashCount)&&void 0!==n?n:0,bitmapLength:null!==(o=null===(s=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(u=null===(a=null==l?void 0:l.bits)||void 0===a?void 0:a.padding)&&void 0!==u?u:0}),c}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,i,t.Vt))}}}}re(t,e){const{unchangedNames:r,count:n}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=r;let a,u;try{a=le(i).toUint8Array()}catch(t){if(t instanceof se)return g("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw t}try{u=new Hn(a,s,o)}catch(t){return g(t instanceof $n?"BloomFilter error: ":"Applying bloom filter failed: ",t),1}return 0===u.It?1:n!==e-this.oe(t.targetId,u)?2:0}oe(t,e){const r=this.Gt.getRemoteKeysForTarget(t);let n=0;return r.forEach((r=>{const i=this.Gt.ue(),s=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;e.vt(s)||(this.Yt(t,r,null),n++)})),n}ce(t){const e=new Map;this.Qt.forEach(((r,n)=>{const i=this.se(n);if(i){if(r.current&&mr(i.target)){const e=new q(i.target.path);null!==this.jt.get(e)||this.ae(n,e)||this.Yt(n,e,ze.newNoDocument(e,t))}r.Mt&&(e.set(n,r.Ot()),r.Ft())}}));let r=Kr();this.zt.forEach(((t,e)=>{let n=!0;e.forEachWhile((t=>{const e=this.se(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(n=!1,!1)})),n&&(r=r.add(t))})),this.jt.forEach(((e,r)=>r.setReadTime(t)));const n=new Wn(t,e,this.Wt,this.jt,r);return this.jt=jr(),this.zt=ti(),this.Wt=new Jt(D),n}Jt(t,e){if(!this.te(t))return;const r=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,r),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,r){if(!this.te(t))return;const n=this.Zt(t);this.ae(t,e)?n.Bt(e,1):n.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),r&&(this.jt=this.jt.insert(e,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new Jn,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new ee(D),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new Jn),this.Gt.getRemoteKeysForTarget(t).forEach((e=>{this.Yt(t,e,null)}))}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function ti(){return new Jt(q.comparator)}function ei(){return new Jt(q.comparator)}const ri={asc:"ASCENDING",desc:"DESCENDING"},ni={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ii={and:"AND",or:"OR"};class si{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function oi(t,e){return t.useProto3Json||yt(e)?e:{value:e}}function ai(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ui(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ci(t,e){return ai(t,e.toTimestamp())}function li(t){return b(!!t),B.fromTimestamp(function(t){const e=ue(t);return new F(e.seconds,e.nanos)}(t))}function hi(t,e){return function(t){return new z(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function fi(t){const e=z.fromString(t);return b(Di(e)),e}function di(t,e){return hi(t.databaseId,e.path)}function pi(t,e){const r=fi(e);if(r.get(1)!==t.databaseId.projectId)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new q(vi(r))}function mi(t,e){return hi(t.databaseId,e)}function gi(t){const e=fi(t);return 4===e.length?z.emptyPath():vi(e)}function yi(t){return new z(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vi(t){return b(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function bi(t,e,r){return{name:di(t,e),fields:r.value.mapValue.fields}}function wi(t,e,r){const n=pi(t,e.name),i=li(e.updateTime),s=e.createTime?li(e.createTime):B.min(),o=new Be({mapValue:{fields:e.fields}}),a=ze.newFoundDocument(n,i,s,o);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function _i(t,e){let r;if(e instanceof Sn)r={update:bi(t,e.key,e.value)};else if(e instanceof An)r={delete:di(t,e.key)};else if(e instanceof xn)r={update:bi(t,e.key,e.data),updateMask:Oi(e.fieldMask)};else{if(!(e instanceof Cn))return v();r={verify:di(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const r=e.transform;if(r instanceof sn)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof on)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof un)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof ln)return{fieldPath:e.field.canonicalString(),increment:r.gt};throw v()}(0,t)))),e.precondition.isNone||(r.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ci(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.precondition)),r}function Ei(t,e){const r=e.currentDocument?function(t){return void 0!==t.updateTime?mn.updateTime(li(t.updateTime)):void 0!==t.exists?mn.exists(t.exists):mn.none()}(e.currentDocument):mn.none(),n=e.updateTransforms?e.updateTransforms.map((e=>function(t,e){let r=null;if("setToServerValue"in e)b("REQUEST_TIME"===e.setToServerValue),r=new sn;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];r=new on(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];r=new un(t)}else"increment"in e?r=new ln(t,e.increment):v();const n=V.fromServerFormat(e.fieldPath);return new dn(n,r)}(t,e))):[];if(e.update){e.update.name;const i=pi(t,e.update.name),s=new Be({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new ie(e.map((t=>V.fromServerFormat(t))))}(e.updateMask);return new xn(i,s,t,r,n)}return new Sn(i,s,r,n)}if(e.delete){const n=pi(t,e.delete);return new An(n,r)}if(e.verify){const n=pi(t,e.verify);return new Cn(n,r)}return v()}function Si(t,e){return{documents:[mi(t,e.path)]}}function xi(t,e){const r={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(r.parent=mi(t,n),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=mi(t,n.popLast()),r.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(t){if(0!==t.length)return Ri(Ke.create(t,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Ii(t.field),direction:Ti(t.dir)}}(t)))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=oi(t,e.limit);var a;return null!==o&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(r.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),r}function Mi(t){let e=gi(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){b(1===n);const t=r.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];r.where&&(s=function(t){const e=ki(t);return e instanceof Ke&&Qe(e)?e.getFilters():[e]}(r.where));let o=[];r.orderBy&&(o=r.orderBy.map((t=>function(t){return new Ge(Pi(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;r.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,yt(e)?null:e}(r.limit));let u=null;r.startAt&&(u=function(t){const e=!!t.before,r=t.values||[];return new Ue(r,e)}(r.startAt));let c=null;return r.endAt&&(c=function(t){const e=!t.before,r=t.values||[];return new Ue(r,e)}(r.endAt)),wr(e,i,o,s,a,"F",u,c)}function ki(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Pi(t.unaryFilter.field);return We.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Pi(t.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Pi(t.unaryFilter.field);return We.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pi(t.unaryFilter.field);return We.create(i,"!=",{nullValue:"NULL_VALUE"});default:return v()}}(t):void 0!==t.fieldFilter?function(t){return We.create(Pi(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Ke.create(t.compositeFilter.filters.map((t=>ki(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return v()}}(t.compositeFilter.op))}(t):v()}function Ti(t){return ri[t]}function Ai(t){return ni[t]}function Ci(t){return ii[t]}function Ii(t){return{fieldPath:t.canonicalString()}}function Pi(t){return V.fromServerFormat(t.fieldPath)}function Ri(t){return t instanceof We?function(t){if("=="===t.op){if(Ie(t.value))return{unaryFilter:{field:Ii(t.field),op:"IS_NAN"}};if(Ce(t.value))return{unaryFilter:{field:Ii(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ie(t.value))return{unaryFilter:{field:Ii(t.field),op:"IS_NOT_NAN"}};if(Ce(t.value))return{unaryFilter:{field:Ii(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ii(t.field),op:Ai(t.op),value:t.value}}}(t):t instanceof Ke?function(t){const e=t.getFilters().map((t=>Ri(t)));return 1===e.length?e[0]:{compositeFilter:{op:Ci(t.op),filters:e}}}(t):v()}function Oi(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Di(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t,e,r,n,i=B.min(),s=B.min(),o=oe.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new Li(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.fe=t}}function Fi(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Bi(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(t,e){return{name:di(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ai(t,e.version.toTimestamp()),createTime:ai(t,e.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:ji(e.version)};else{if(!e.isUnknownDocument())return v();n.unknownDocument={path:r.path.toArray(),version:ji(e.version)}}return n}function Bi(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ji(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zi(t){const e=new F(t.seconds,t.nanoseconds);return B.fromTimestamp(e)}function Ui(t,e){const r=(e.baseMutations||[]).map((e=>Ei(t.fe,e)));for(let t=0;t<e.mutations.length-1;++t){const r=e.mutations[t];if(t+1<e.mutations.length&&void 0!==e.mutations[t+1].transform){const n=e.mutations[t+1];r.updateTransforms=n.transform.fieldTransforms,e.mutations.splice(t+1,1),++t}}const n=e.mutations.map((e=>Ei(t.fe,e))),i=F.fromMillis(e.localWriteTimeMs);return new In(e.batchId,i,r,n)}function Vi(t){const e=zi(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?zi(t.lastLimboFreeSnapshotVersion):B.min();let n;var i;return void 0!==t.query.documents?(b(1===(i=t.query).documents.length),n=Tr(_r(gi(i.documents[0])))):n=function(t){return Tr(Mi(t))}(t.query),new Li(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,oe.fromBase64String(t.resumeToken))}function qi(t,e){const r=ji(e.snapshotVersion),n=ji(e.lastLimboFreeSnapshotVersion);let i;i=mr(e.target)?Si(t.fe,e.target):xi(t.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dr(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function Gi(t){const e=Mi({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cr(e,e.limit,"L"):e}function Hi(t,e){return new Rn(e.largestBatchId,Ei(t.fe,e.overlayMutation))}function $i(t,e){const r=e.path.lastSegment();return[t,wt(e.path.popLast()),r]}function Wi(t,e,r,n){return{indexId:t,uid:e.uid||"",sequenceNumber:r,readTime:ji(n.readTime),documentKey:wt(n.documentKey.path),largestBatchId:n.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{getBundleMetadata(t,e){return Yi(t).get(e).next((t=>{if(t)return{id:(e=t).bundleId,createTime:zi(e.createTime),version:e.version};var e}))}saveBundleMetadata(t,e){return Yi(t).put({bundleId:(r=e).id,createTime:ji(li(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return Xi(t).get(e).next((t=>{if(t)return{name:(e=t).name,query:Gi(e.bundledQuery),readTime:zi(e.readTime)};var e}))}saveNamedQuery(t,e){return Xi(t).put(function(t){return{name:t.name,readTime:ji(li(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function Yi(t){return Kt(t,"bundles")}function Xi(t){return Kt(t,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){const r=e.uid||"";return new Qi(t,r)}getOverlay(t,e){return Ji(t).get($i(this.userId,e)).next((t=>t?Hi(this.serializer,t):null))}getOverlays(t,e){const r=qr();return it.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&r.set(e,t)})))).next((()=>r))}saveOverlays(t,e,r){const n=[];return r.forEach(((r,i)=>{const s=new Rn(e,i);n.push(this.we(t,s))})),it.waitFor(n)}removeOverlaysForBatchId(t,e,r){const n=new Set;e.forEach((t=>n.add(wt(t.getCollectionPath()))));const i=[];return n.forEach((e=>{const n=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,r+1],!1,!0);i.push(Ji(t).J("collectionPathOverlayIndex",n))})),it.waitFor(i)}getOverlaysForCollection(t,e,r){const n=qr(),i=wt(e),s=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Ji(t).j("collectionPathOverlayIndex",s).next((t=>{for(const e of t){const t=Hi(this.serializer,e);n.set(t.getKey(),t)}return n}))}getOverlaysForCollectionGroup(t,e,r,n){const i=qr();let s;const o=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Ji(t).X({index:"collectionGroupOverlayIndex",range:o},((t,e,r)=>{const o=Hi(this.serializer,e);i.size()<n||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):r.done()})).next((()=>i))}we(t,e){return Ji(t).put(function(t,e,r){const[n,i,s]=$i(e,r.mutation.key);return{userId:e,collectionPath:i,documentId:s,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:_i(t.fe,r.mutation)}}(this.serializer,this.userId,e))}}function Ji(t){return Kt(t,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(ce(t.integerValue));else if("doubleValue"in t){const r=ce(t.doubleValue);isNaN(r)?this.ye(e,13):(this.ye(e,15),vt(r)?e.pe(0):e.pe(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ye(e,20),"string"==typeof r?e.Ie(r):(e.Ie(`${r.seconds||""}`),e.pe(r.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(le(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ye(e,45),e.pe(r.latitude||0),e.pe(r.longitude||0)}else"mapValue"in t?Oe(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):v()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const r=t.fields||{};this.ye(e,55);for(const t of Object.keys(r))this.Te(t,e),this.me(r[t],e)}Pe(t,e){const r=t.values||[];this.ye(e,50);for(const t of r)this.me(t,e)}ve(t,e){this.ye(e,37),q.fromName(t).path.forEach((t=>{this.ye(e,60),this.be(t,e)}))}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function ts(t){if(0===t)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function es(t){const e=64-function(t){let e=0;for(let r=0;r<8;++r){const n=ts(255&t[r]);if(e+=n,8!==n)break}return e}(t);return Math.ceil(e/8)}Zi.Ve=new Zi;class rs{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.De(r.value),r=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ne(r.value),r=e.next();this.ke()}Me(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.De(t);else if(t<2048)this.De(960|t>>>6),this.De(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.De(480|t>>>12),this.De(128|63&t>>>6),this.De(128|63&t);else{const t=e.codePointAt(0);this.De(240|t>>>18),this.De(128|63&t>>>12),this.De(128|63&t>>>6),this.De(128|63&t)}}this.Ce()}$e(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Ne(t);else if(t<2048)this.Ne(960|t>>>6),this.Ne(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|t>>>12),this.Ne(128|63&t>>>6),this.Ne(128|63&t);else{const t=e.codePointAt(0);this.Ne(240|t>>>18),this.Ne(128|63&t>>>12),this.Ne(128|63&t>>>6),this.Ne(128|63&t)}}this.ke()}Oe(t){const e=this.Fe(t),r=es(e);this.Be(1+r),this.buffer[this.position++]=255&r;for(let t=e.length-r;t<e.length;++t)this.buffer[this.position++]=255&e[t]}Le(t){const e=this.Fe(t),r=es(e);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let t=e.length-r;t<e.length;++t)this.buffer[this.position++]=~(255&e[t])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let t=1;t<e.length;++t)e[t]^=r?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const n=new Uint8Array(r);n.set(this.buffer),this.buffer=n}}class ns{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class is{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class ss{constructor(){this.je=new rs,this.ze=new ns(this.je),this.We=new is(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,e,r,n){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=n}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new os(this.indexId,this.documentKey,this.arrayValue,r)}}function as(t,e){let r=t.indexId-e.indexId;return 0!==r?r:(r=us(t.arrayValue,e.arrayValue),0!==r?r:(r=us(t.directionalValue,e.directionalValue),0!==r?r:q.comparator(t.documentKey,e.documentKey)))}function us(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(0!==n)return n}return t.length-e.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const t=e;t.isInequality()?this.Ze=t:this.Xe.push(t)}}tn(t){b(t.collectionGroup===this.collectionId);const e=H(t);if(void 0!==e&&!this.en(e))return!1;const r=$(t);let n=new Set,i=0,s=0;for(;i<r.length&&this.en(r[i]);++i)n=n.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(void 0!==this.Ze){if(!n.has(this.Ze.field.canonicalString())){const t=r[i];if(!this.nn(this.Ze,t)||!this.sn(this.Ye[s++],t))return!1}++i}for(;i<r.length;++i){const t=r[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],t))return!1}return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){if(void 0===t||!t.field.isEqual(e.fieldPath))return!1;const r="array-contains"===t.op||"array-contains-any"===t.op;return 2===e.kind===r}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t){var e,r;if(b(t instanceof We||t instanceof Ke),t instanceof We){if(t instanceof ur){const n=(null===(r=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map((e=>We.create(t.field,"==",e))))||[];return Ke.create(n,"or")}return t}const n=t.filters.map((t=>ls(t)));return Ke.create(n,t.op)}function hs(t){if(0===t.getFilters().length)return[];const e=ms(ls(t));return b(ps(e)),fs(e)||ds(e)?[e]:e.getFilters()}function fs(t){return t instanceof We}function ds(t){return t instanceof Ke&&Qe(t)}function ps(t){return fs(t)||ds(t)||function(t){if(t instanceof Ke&&Xe(t)){for(const e of t.getFilters())if(!fs(e)&&!ds(e))return!1;return!0}return!1}(t)}function ms(t){if(b(t instanceof We||t instanceof Ke),t instanceof We)return t;if(1===t.filters.length)return ms(t.filters[0]);const e=t.filters.map((t=>ms(t)));let r=Ke.create(e,t.op);return r=vs(r),ps(r)?r:(b(r instanceof Ke),b(Ye(r)),b(r.filters.length>1),r.filters.reduce(((t,e)=>gs(t,e))))}function gs(t,e){let r;return b(t instanceof We||t instanceof Ke),b(e instanceof We||e instanceof Ke),r=t instanceof We?e instanceof We?function(t,e){return Ke.create([t,e],"and")}(t,e):ys(t,e):e instanceof We?ys(e,t):function(t,e){if(b(t.filters.length>0&&e.filters.length>0),Ye(t)&&Ye(e))return er(t,e.getFilters());const r=Xe(t)?t:e,n=Xe(t)?e:t,i=r.filters.map((t=>gs(t,n)));return Ke.create(i,"or")}(t,e),vs(r)}function ys(t,e){if(Ye(e))return er(e,t.getFilters());{const r=e.filters.map((e=>gs(t,e)));return Ke.create(r,"or")}}function vs(t){if(b(t instanceof We||t instanceof Ke),t instanceof We)return t;const e=t.getFilters();if(1===e.length)return vs(e[0]);if(Je(t))return t;const r=e.map((t=>vs(t))),n=[];return r.forEach((e=>{e instanceof We?n.push(e):e instanceof Ke&&(e.op===t.op?n.push(...e.filters):n.push(e))})),1===n.length?n[0]:Ke.create(n,t.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class bs{constructor(){this.rn=new ws}addToCollectionParentIndex(t,e){return this.rn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(Z.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(Z.min())}updateCollectionGroup(t,e,r){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class ws{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),n=this.index[e]||new ee(z.comparator),i=!n.has(r);return this.index[e]=n.add(r),i}has(t){const e=t.lastSegment(),r=t.popLast(),n=this.index[e];return n&&n.has(r)}getEntries(t){return(this.index[t]||new ee(z.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Uint8Array(0);class Es{constructor(t,e){this.user=t,this.databaseId=e,this.on=new ws,this.un=new Fr((t=>dr(t)),((t,e)=>pr(t,e))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const r=e.lastSegment(),n=e.popLast();t.addOnCommittedListener((()=>{this.on.add(e)}));const i={collectionId:r,parent:wt(n)};return Ss(t).put(i)}return it.resolve()}getCollectionParents(t,e){const r=[],n=IDBKeyRange.bound([e,""],[N(e),""],!1,!0);return Ss(t).j(n).next((t=>{for(const n of t){if(n.collectionId!==e)break;r.push(St(n.parent))}return r}))}addFieldIndex(t,e){const r=Ms(t),n=function(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map((t=>[t.fieldPath.canonicalString(),t.kind]))}}(e);delete n.indexId;const i=r.add(n);if(e.indexState){const r=ks(t);return i.next((t=>{r.put(Wi(t,this.user,e.indexState.sequenceNumber,e.indexState.offset))}))}return i.next()}deleteFieldIndex(t,e){const r=Ms(t),n=ks(t),i=xs(t);return r.delete(e.indexId).next((()=>n.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}getDocumentsMatchingTarget(t,e){const r=xs(t);let n=!0;const i=new Map;return it.forEach(this.cn(e),(e=>this.an(t,e).next((t=>{n&&(n=!!t),i.set(e,t)})))).next((()=>{if(n){let t=Kr();const n=[];return it.forEach(i,((i,s)=>{var o;p("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((t=>`${t.fieldPath}:${t.kind}`)).join(",")}`} to execute ${dr(e)}`);const a=function(t,e){const r=H(e);if(void 0===r)return null;for(const e of gr(t,r.fieldPath))switch(e.op){case"array-contains-any":return e.value.arrayValue.values||[];case"array-contains":return[e.value]}return null}(s,i),u=function(t,e){const r=new Map;for(const n of $(e))for(const e of gr(t,n.fieldPath))switch(e.op){case"==":case"in":r.set(n.fieldPath.canonicalString(),e.value);break;case"not-in":case"!=":return r.set(n.fieldPath.canonicalString(),e.value),Array.from(r.values())}return null}(s,i),c=function(t,e){const r=[];let n=!0;for(const i of $(e)){const e=0===i.kind?yr(t,i.fieldPath,t.startAt):vr(t,i.fieldPath,t.startAt);r.push(e.value),n&&(n=e.inclusive)}return new Ue(r,n)}(s,i),l=function(t,e){const r=[];let n=!0;for(const i of $(e)){const e=0===i.kind?vr(t,i.fieldPath,t.endAt):yr(t,i.fieldPath,t.endAt);r.push(e.value),n&&(n=e.inclusive)}return new Ue(r,n)}(s,i),h=this.hn(i,s,c),f=this.hn(i,s,l),d=this.ln(i,s,u),m=this.fn(i.indexId,a,h,c.inclusive,f,l.inclusive,d);return it.forEach(m,(i=>r.H(i,e.limit).next((e=>{e.forEach((e=>{const r=q.fromSegments(e.documentKey);t.has(r)||(t=t.add(r),n.push(r))}))}))))})).next((()=>n))}return it.resolve(null)}))}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:hs(Ke.create(t.filters,"and")).map((e=>fr(t.path,t.collectionGroup,t.orderBy,e.getFilters(),t.limit,t.startAt,t.endAt))),this.un.set(t,e),e)}fn(t,e,r,n,i,s,o){const a=(null!=e?e.length:1)*Math.max(r.length,i.length),u=a/(null!=e?e.length:1),c=[];for(let l=0;l<a;++l){const a=e?this.dn(e[l/u]):_s,h=this.wn(t,a,r[l%u],n),f=this._n(t,a,i[l%u],s),d=o.map((e=>this.wn(t,a,e,!0)));c.push(...this.createRange(h,f,d))}return c}wn(t,e,r,n){const i=new os(t,q.empty(),e,r);return n?i:i.Je()}_n(t,e,r,n){const i=new os(t,q.empty(),e,r);return n?i.Je():i}an(t,e){const r=new cs(e),n=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,n).next((t=>{let e=null;for(const n of t)r.tn(n)&&(!e||n.fields.length>e.fields.length)&&(e=n);return e}))}getIndexType(t,e){let r=2;const n=this.cn(e);return it.forEach(n,(e=>this.an(t,e).next((t=>{t?0!==r&&t.fields.length<function(t){let e=new ee(V.comparator),r=!1;for(const n of t.filters)for(const t of n.getFlattenedFilters())t.field.isKeyField()||("array-contains"===t.op||"array-contains-any"===t.op?r=!0:e=e.add(t.field));for(const r of t.orderBy)r.field.isKeyField()||(e=e.add(r.field));return e.size+(r?1:0)}(e)&&(r=1):r=0})))).next((()=>function(t){return null!==t.limit}(e)&&n.length>1&&2===r?1:r))}mn(t,e){const r=new ss;for(const n of $(t)){const t=e.data.field(n.fieldPath);if(null==t)return null;const i=r.He(n.kind);Zi.Ve._e(t,i)}return r.Qe()}dn(t){const e=new ss;return Zi.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const r=new ss;return Zi.Ve._e(ke(this.databaseId,e),r.He(function(t){const e=$(t);return 0===e.length?0:e[e.length-1].kind}(t))),r.Qe()}ln(t,e,r){if(null===r)return[];let n=[];n.push(new ss);let i=0;for(const s of $(t)){const t=r[i++];for(const r of n)if(this.yn(e,s.fieldPath)&&Ae(t))n=this.pn(n,s,t);else{const e=r.He(s.kind);Zi.Ve._e(t,e)}}return this.In(n)}hn(t,e,r){return this.ln(t,e,r.position)}In(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].Qe();return e}pn(t,e,r){const n=[...t],i=[];for(const t of r.arrayValue.values||[])for(const r of n){const n=new ss;n.seed(r.Qe()),Zi.Ve._e(t,n.He(e.kind)),i.push(n)}return i}yn(t,e){return!!t.filters.find((t=>t instanceof We&&t.field.isEqual(e)&&("in"===t.op||"not-in"===t.op)))}getFieldIndexes(t,e){const r=Ms(t),n=ks(t);return(e?r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.j()).next((t=>{const e=[];return it.forEach(t,(t=>n.get([t.indexId,this.uid]).next((r=>{e.push(function(t,e){const r=e?new X(e.sequenceNumber,new Z(zi(e.readTime),new q(St(e.documentKey)),e.largestBatchId)):X.empty(),n=t.fields.map((([t,e])=>new K(V.fromServerFormat(t),e)));return new G(t.indexId,t.collectionGroup,n,r)}(t,r))})))).next((()=>e))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((t=>0===t.length?null:(t.sort(((t,e)=>{const r=t.indexState.sequenceNumber-e.indexState.sequenceNumber;return 0!==r?r:D(t.collectionGroup,e.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(t,e,r){const n=Ms(t),i=ks(t);return this.Tn(t).next((t=>n.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next((e=>it.forEach(e,(e=>i.put(Wi(e.indexId,this.user,t,r))))))))}updateIndexEntries(t,e){const r=new Map;return it.forEach(e,((e,n)=>{const i=r.get(e.collectionGroup);return(i?it.resolve(i):this.getFieldIndexes(t,e.collectionGroup)).next((i=>(r.set(e.collectionGroup,i),it.forEach(i,(r=>this.En(t,e,r).next((e=>{const i=this.An(n,r);return e.isEqual(i)?it.resolve():this.vn(t,n,r,e,i)})))))))}))}Rn(t,e,r,n){return xs(t).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,orderedDocumentKey:this.gn(r,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,r,n){return xs(t).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,this.gn(r,e.key),e.key.path.toArray()])}En(t,e,r){const n=xs(t);let i=new ee(as);return n.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,e)])},((t,n)=>{i=i.add(new os(r.indexId,e,n.arrayValue,n.directionalValue))})).next((()=>i))}An(t,e){let r=new ee(as);const n=this.mn(e,t);if(null==n)return r;const i=H(e);if(null!=i){const s=t.data.field(i.fieldPath);if(Ae(s))for(const i of s.arrayValue.values||[])r=r.add(new os(e.indexId,t.key,this.dn(i),n))}else r=r.add(new os(e.indexId,t.key,_s,n));return r}vn(t,e,r,n,i){p("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(t,e,r,n,i){const s=t.getIterator(),o=e.getIterator();let a=ne(s),u=ne(o);for(;a||u;){let t=!1,e=!1;if(a&&u){const n=r(a,u);n<0?e=!0:n>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(n(u),u=ne(o)):e?(i(a),a=ne(s)):(a=ne(s),u=ne(o))}}(n,i,as,(n=>{s.push(this.Rn(t,e,r,n))}),(n=>{s.push(this.Pn(t,e,r,n))})),it.waitFor(s)}Tn(t){let e=1;return ks(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((t,r,n)=>{n.done(),e=r.sequenceNumber+1})).next((()=>e))}createRange(t,e,r){r=r.sort(((t,e)=>as(t,e))).filter(((t,e,r)=>!e||0!==as(t,r[e-1])));const n=[];n.push(t);for(const i of r){const r=as(i,t),s=as(i,e);if(0===r)n[0]=t.Je();else if(r>0&&s<0)n.push(i),n.push(i.Je());else if(s>0)break}n.push(e);const i=[];for(let t=0;t<n.length;t+=2){if(this.bn(n[t],n[t+1]))return[];const e=[n[t].indexId,this.uid,n[t].arrayValue,n[t].directionalValue,_s,[]],r=[n[t+1].indexId,this.uid,n[t+1].arrayValue,n[t+1].directionalValue,_s,[]];i.push(IDBKeyRange.bound(e,r))}return i}bn(t,e){return as(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Ts)}getMinOffset(t,e){return it.mapArray(this.cn(e),(e=>this.an(t,e).next((t=>t||v())))).next(Ts)}}function Ss(t){return Kt(t,"collectionParents")}function xs(t){return Kt(t,"indexEntries")}function Ms(t){return Kt(t,"indexConfiguration")}function ks(t){return Kt(t,"indexState")}function Ts(t){b(0!==t.length);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;tt(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Z(e.readTime,e.documentKey,r)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cs{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Cs(t,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(r.batchId);let a=0;const u=n.X({range:o},((t,e,r)=>(a++,r.delete())));s.push(u.next((()=>{b(1===a)})));const c=[];for(const t of r.mutations){const n=kt(e,t.key.path,r.batchId);s.push(i.delete(n)),c.push(t.key)}return it.waitFor(s).next((()=>c))}function Ps(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(41943040,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class Rs{constructor(t,e,r,n){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=n,this.Vn={}}static de(t,e,r,n){b(""!==t.uid);const i=t.isAuthenticated()?t.uid:"";return new Rs(i,e,r,n)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ds(t).X({index:"userMutationsIndex",range:r},((t,r,n)=>{e=!1,n.done()})).next((()=>e))}addMutationBatch(t,e,r,n){const i=Ls(t),s=Ds(t);return s.add({}).next((o=>{b("number"==typeof o);const a=new In(o,e,r,n),u=function(t,e,r){const n=r.baseMutations.map((e=>_i(t.fe,e))),i=r.mutations.map((e=>_i(t.fe,e)));return{userId:e,batchId:r.batchId,localWriteTimeMs:r.localWriteTime.toMillis(),baseMutations:n,mutations:i}}(this.serializer,this.userId,a),c=[];let l=new ee(((t,e)=>D(t.canonicalString(),e.canonicalString())));for(const t of n){const e=kt(this.userId,t.key.path,o);l=l.add(t.key.path.popLast()),c.push(s.put(u)),c.push(i.put(e,Tt))}return l.forEach((e=>{c.push(this.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((()=>{this.Vn[o]=a.keys()})),it.waitFor(c).next((()=>a))}))}lookupMutationBatch(t,e){return Ds(t).get(e).next((t=>t?(b(t.userId===this.userId),Ui(this.serializer,t)):null))}Sn(t,e){return this.Vn[e]?it.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next((t=>{if(t){const r=t.keys();return this.Vn[e]=r,r}return null}))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,n=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ds(t).X({index:"userMutationsIndex",range:n},((t,e,n)=>{e.userId===this.userId&&(b(e.batchId>=r),i=Ui(this.serializer,e)),n.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ds(t).X({index:"userMutationsIndex",range:e,reverse:!0},((t,e,n)=>{r=e.batchId,n.done()})).next((()=>r))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ds(t).j("userMutationsIndex",e).next((t=>t.map((t=>Ui(this.serializer,t)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=Mt(this.userId,e.path),n=IDBKeyRange.lowerBound(r),i=[];return Ls(t).X({range:n},((r,n,s)=>{const[o,a,u]=r,c=St(a);if(o===this.userId&&e.path.isEqual(c))return Ds(t).get(u).next((t=>{if(!t)throw v();b(t.userId===this.userId),i.push(Ui(this.serializer,t))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ee(D);const n=[];return e.forEach((e=>{const i=Mt(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=Ls(t).X({range:s},((t,n,i)=>{const[s,o,a]=t,u=St(o);s===this.userId&&e.path.isEqual(u)?r=r.add(a):i.done()}));n.push(o)})),it.waitFor(n).next((()=>this.Dn(t,r)))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,n=r.length+1,i=Mt(this.userId,r),s=IDBKeyRange.lowerBound(i);let o=new ee(D);return Ls(t).X({range:s},((t,e,i)=>{const[s,a,u]=t,c=St(a);s===this.userId&&r.isPrefixOf(c)?c.length===n&&(o=o.add(u)):i.done()})).next((()=>this.Dn(t,o)))}Dn(t,e){const r=[],n=[];return e.forEach((e=>{n.push(Ds(t).get(e).next((t=>{if(null===t)throw v();b(t.userId===this.userId),r.push(Ui(this.serializer,t))})))})),it.waitFor(n).next((()=>r))}removeMutationBatch(t,e){return Is(t.ht,this.userId,e).next((r=>(t.addOnCommittedListener((()=>{this.Cn(e.batchId)})),it.forEach(r,(e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return it.resolve();const r=IDBKeyRange.lowerBound([this.userId]),n=[];return Ls(t).X({range:r},((t,e,r)=>{if(t[0]===this.userId){const e=St(t[1]);n.push(e)}else r.done()})).next((()=>{b(0===n.length)}))}))}containsKey(t,e){return Os(t,this.userId,e)}xn(t){return Ns(t).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Os(t,e,r){const n=Mt(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let o=!1;return Ls(t).X({range:s,Y:!0},((t,r,n)=>{const[s,a,u]=t;s===e&&a===i&&(o=!0),n.done()})).next((()=>o))}function Ds(t){return Kt(t,"mutations")}function Ls(t){return Kt(t,"documentMutations")}function Ns(t){return Kt(t,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Fs(0)}static Mn(){return new Fs(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next((e=>{const r=new Fs(e.highestTargetId);return e.highestTargetId=r.next(),this.On(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.$n(t).next((t=>B.fromTimestamp(new F(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.$n(t).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(t,e,r){return this.$n(t).next((n=>(n.highestListenSequenceNumber=e,r&&(n.lastRemoteSnapshotVersion=r.toTimestamp()),e>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e),this.On(t,n))))}addTargetData(t,e){return this.Fn(t,e).next((()=>this.$n(t).next((r=>(r.targetCount+=1,this.Bn(e,r),this.On(t,r))))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>js(t).delete(e.targetId))).next((()=>this.$n(t))).next((e=>(b(e.targetCount>0),e.targetCount-=1,this.On(t,e))))}removeTargets(t,e,r){let n=0;const i=[];return js(t).X(((s,o)=>{const a=Vi(o);a.sequenceNumber<=e&&null===r.get(a.targetId)&&(n++,i.push(this.removeTargetData(t,a)))})).next((()=>it.waitFor(i))).next((()=>n))}forEachTarget(t,e){return js(t).X(((t,r)=>{const n=Vi(r);e(n)}))}$n(t){return zs(t).get("targetGlobalKey").next((t=>(b(null!==t),t)))}On(t,e){return zs(t).put("targetGlobalKey",e)}Fn(t,e){return js(t).put(qi(this.serializer,e))}Bn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.$n(t).next((t=>t.targetCount))}getTargetData(t,e){const r=dr(e),n=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return js(t).X({range:n,index:"queryTargetsIndex"},((t,r,n)=>{const s=Vi(r);pr(e,s.target)&&(i=s,n.done())})).next((()=>i))}addMatchingKeys(t,e,r){const n=[],i=Us(t);return e.forEach((e=>{const s=wt(e.path);n.push(i.put({targetId:r,path:s})),n.push(this.referenceDelegate.addReference(t,r,e))})),it.waitFor(n)}removeMatchingKeys(t,e,r){const n=Us(t);return it.forEach(e,(e=>{const i=wt(e.path);return it.waitFor([n.delete([r,i]),this.referenceDelegate.removeReference(t,r,e)])}))}removeMatchingKeysForTargetId(t,e){const r=Us(t),n=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(n)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),n=Us(t);let i=Kr();return n.X({range:r,Y:!0},((t,e,r)=>{const n=St(t[1]),s=new q(n);i=i.add(s)})).next((()=>i))}containsKey(t,e){const r=wt(e.path),n=IDBKeyRange.bound([r],[N(r)],!1,!0);let i=0;return Us(t).X({index:"documentTargetsIndex",Y:!0,range:n},(([t,e],r,n)=>{0!==t&&(i++,n.done())})).next((()=>i>0))}le(t,e){return js(t).get(e).next((t=>t?Vi(t):null))}}function js(t){return Kt(t,"targets")}function zs(t){return Kt(t,"targetGlobal")}function Us(t){return Kt(t,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs([t,e],[r,n]){const i=D(t,r);return 0===i?D(e,n):i}class qs{constructor(t){this.Ln=t,this.buffer=new ee(Vs),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Vs(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Gs{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){p("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ct(t)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await nt(t)}await this.Qn(3e5)}))}}class Hs{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return it.resolve(gt.ct);const r=new qs(e);return this.jn.forEachTarget(t,(t=>r.Kn(t.sequenceNumber))).next((()=>this.jn.Wn(t,(t=>r.Kn(t))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.jn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(As)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),As):this.Hn(t,e)))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let r,n,i,s,a,u,c;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),n=this.params.maximumSequenceNumbersToCollect):n=e,s=Date.now(),this.nthSequenceNumber(t,n)))).next((n=>(r=n,a=Date.now(),this.removeTargets(t,r,e)))).next((e=>(i=e,u=Date.now(),this.removeOrphanedDocuments(t,r)))).next((t=>(c=Date.now(),d()<=o.LogLevel.DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${n} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(u-a)+"ms\n"+`\tRemoved ${t} documents in `+(c-u)+"ms\n"+`Total Duration: ${c-l}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:t}))))}}function $s(t,e){return new Hs(t,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,e){this.db=t,this.garbageCollector=$s(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}Jn(t){let e=0;return this.Wn(t,(t=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,((t,r)=>e(r)))}addReference(t,e,r){return Ks(t,r)}removeReference(t,e,r){return Ks(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return Ks(t,e)}Xn(t,e){return function(t,e){let r=!1;return Ns(t).Z((n=>Os(t,n,e).next((t=>(t&&(r=!0),it.resolve(!t)))))).next((()=>r))}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[];let i=0;return this.Yn(t,((s,o)=>{if(o<=e){const e=this.Xn(t,s).next((e=>{if(!e)return i++,r.getEntry(t,s).next((()=>(r.removeEntry(s,B.min()),Us(t).delete([0,wt(s.path)]))))}));n.push(e)}})).next((()=>it.waitFor(n))).next((()=>r.apply(t))).next((()=>i))}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return Ks(t,e)}Yn(t,e){const r=Us(t);let n,i=gt.ct;return r.X({index:"documentTargetsIndex"},(([t,r],{path:s,sequenceNumber:o})=>{0===t?(i!==gt.ct&&e(new q(St(n)),i),i=o,n=s):i=gt.ct})).next((()=>{i!==gt.ct&&e(new q(St(n)),i)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ks(t,e){return Us(t).put(function(t,e){return{targetId:0,path:wt(t.path),sequenceNumber:e}}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.changes=new Fr((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ze.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?it.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return to(t).put(r)}removeEntry(t,e,r){return to(t).delete(function(t,e){const r=t.path.toArray();return[r.slice(0,r.length-2),r[r.length-2],Bi(e),r[r.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next((r=>(r.byteSize+=e,this.Zn(t,r))))}getEntry(t,e){let r=ze.newInvalidDocument(e);return to(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(eo(e))},((t,n)=>{r=this.ts(e,n)})).next((()=>r))}es(t,e){let r={size:0,document:ze.newInvalidDocument(e)};return to(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(eo(e))},((t,n)=>{r={document:this.ts(e,n),size:Ps(n)}})).next((()=>r))}getEntries(t,e){let r=jr();return this.ns(t,e,((t,e)=>{const n=this.ts(t,e);r=r.insert(t,n)})).next((()=>r))}ss(t,e){let r=jr(),n=new Jt(q.comparator);return this.ns(t,e,((t,e)=>{const i=this.ts(t,e);r=r.insert(t,i),n=n.insert(t,Ps(e))})).next((()=>({documents:r,rs:n})))}ns(t,e,r){if(e.isEmpty())return it.resolve();let n=new ee(no);e.forEach((t=>n=n.add(t)));const i=IDBKeyRange.bound(eo(n.first()),eo(n.last())),s=n.getIterator();let o=s.getNext();return to(t).X({index:"documentKeyIndex",range:i},((t,e,n)=>{const i=q.fromSegments([...e.prefixPath,e.collectionGroup,e.documentId]);for(;o&&no(o,i)<0;)r(o,null),o=s.getNext();o&&o.isEqual(i)&&(r(o,e),o=s.hasNext()?s.getNext():null),o?n.G(eo(o)):n.done()})).next((()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(t,e,r,n){const i=e.path,s=[i.popLast().toArray(),i.lastSegment(),Bi(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return to(t).j(IDBKeyRange.bound(s,o,!0)).next((t=>{let r=jr();for(const i of t){const t=this.ts(q.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);t.isFoundDocument()&&(Or(e,t)||n.has(t.key))&&(r=r.insert(t.key,t))}return r}))}getAllFromCollectionGroup(t,e,r,n){let i=jr();const s=ro(e,r),o=ro(e,Z.max());return to(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((t,e,r)=>{const s=this.ts(q.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);i=i.insert(s.key,s),i.size===n&&r.done()})).next((()=>i))}newChangeBuffer(t){return new Js(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((t=>t.byteSize))}getMetadata(t){return Zs(t).get("remoteDocumentGlobalKey").next((t=>(b(!!t),t)))}Zn(t,e){return Zs(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const t=function(t,e){let r;if(e.document)r=wi(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=q.fromSegments(e.noDocument.path),n=zi(e.noDocument.readTime);r=ze.newNoDocument(t,n),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return v();{const t=q.fromSegments(e.unknownDocument.path),n=zi(e.unknownDocument.version);r=ze.newUnknownDocument(t,n)}}return e.readTime&&r.setReadTime(function(t){const e=new F(t[0],t[1]);return B.fromTimestamp(e)}(e.readTime)),r}(this.serializer,e);if(!t.isNoDocument()||!t.version.isEqual(B.min()))return t}return ze.newInvalidDocument(t)}}function Qs(t){return new Xs(t)}class Js extends Ys{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Fr((t=>t.toString()),((t,e)=>t.isEqual(e)))}applyChanges(t){const e=[];let r=0,n=new ee(((t,e)=>D(t.canonicalString(),e.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.us.get(i);if(e.push(this.os.removeEntry(t,i,o.readTime)),s.isValidDocument()){const a=Fi(this.os.serializer,s);n=n.add(i.path.popLast());const u=Ps(a);r+=u-o.size,e.push(this.os.addEntry(t,i,a))}else if(r-=o.size,this.trackRemovals){const r=Fi(this.os.serializer,s.convertToNoDocument(B.min()));e.push(this.os.addEntry(t,i,r))}})),n.forEach((r=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,r))})),e.push(this.os.updateMetadata(t,r)),it.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next((t=>(this.us.set(e,{size:t.size,readTime:t.document.readTime}),t.document)))}getAllFromCache(t,e){return this.os.ss(t,e).next((({documents:t,rs:e})=>(e.forEach(((e,r)=>{this.us.set(e,{size:r,readTime:t.get(e).readTime})})),t)))}}function Zs(t){return Kt(t,"remoteDocumentGlobal")}function to(t){return Kt(t,"remoteDocumentsV14")}function eo(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ro(t,e){const r=e.documentKey.path.toArray();return[t,Bi(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function no(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let t=0;t<r.length-2&&t<n.length-2;++t)if(i=D(r[t],n[t]),i)return i;return i=D(r.length,n.length),i||(i=D(r[r.length-2],n[n.length-2]),i||D(r[r.length-1],n[n.length-1])
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class io{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,e,r,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=n}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((n=>(r=n,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==r&&wn(r.mutation,t,ie.empty(),F.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Kr()).next((()=>e))))}getLocalViewOfDocuments(t,e,r=Kr()){const n=qr();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,r).next((t=>{let e=Ur();return t.forEach(((t,r)=>{e=e.insert(t,r.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const r=qr();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Kr())))}populateOverlays(t,e,r){const n=[];return r.forEach((t=>{e.has(t)||n.push(t)})),this.documentOverlayCache.getOverlays(t,n).next((t=>{t.forEach(((t,r)=>{e.set(t,r)}))}))}computeViews(t,e,r,n){let i=jr();const s=Hr(),o=Hr();return e.forEach(((t,e)=>{const o=r.get(e.key);n.has(e.key)&&(void 0===o||o.mutation instanceof xn)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),wn(o.mutation,e,o.mutation.getFieldMask(),F.now())):s.set(e.key,ie.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var r;return o.set(t,new io(e,null!==(r=s.get(t))&&void 0!==r?r:null))})),o)))}recalculateAndSaveOverlays(t,e){const r=Hr();let n=new Jt(((t,e)=>t-e)),i=Kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=r.get(t)||ie.empty();o=i.applyToLocalView(s,o),r.set(t,o);const a=(n.get(i.batchId)||Kr()).add(t);n=n.insert(i.batchId,a)}))})).next((()=>{const s=[],o=n.getReverseIterator();for(;o.hasNext();){const n=o.getNext(),a=n.key,u=n.value,c=Gr();u.forEach((t=>{if(!i.has(t)){const n=vn(e.get(t),r.get(t));null!==n&&c.set(t,n),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return it.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,r){return function(t){return q.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Mr(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r)}getNextDocuments(t,e,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,n).next((i=>{const s=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,n-i.size):it.resolve(qr());let o=-1,a=i;return s.next((e=>it.forEach(e,((e,r)=>(o<r.largestBatchId&&(o=r.largestBatchId),i.get(e)?it.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,Kr()))).next((t=>({batchId:o,changes:Vr(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new q(e)).next((t=>{let e=Ur();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,r){const n=e.collectionGroup;let i=Ur();return this.indexManager.getCollectionParents(t,n).next((s=>it.forEach(s,(s=>{const o=function(t,e){return new br(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(n));return this.getDocumentsMatchingCollectionQuery(t,o,r).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(t,e,r){let n;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((i=>(n=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,n)))).next((t=>{n.forEach(((e,r)=>{const n=r.getKey();null===t.get(n)&&(t=t.insert(n,ze.newInvalidDocument(n)))}));let r=Ur();return t.forEach(((t,i)=>{const s=n.get(t);void 0!==s&&wn(s.mutation,i,ie.empty(),F.now()),Or(e,i)&&(r=r.insert(t,i))})),r}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return it.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var r;return this.cs.set(e.id,{id:(r=e).id,version:r.version,createTime:li(r.createTime)}),it.resolve()}getNamedQuery(t,e){return it.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,function(t){return{name:t.name,query:Gi(t.bundledQuery),readTime:li(t.readTime)}}(e)),it.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.overlays=new Jt(q.comparator),this.ls=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const r=qr();return it.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&r.set(e,t)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((r,n)=>{this.we(t,e,n)})),it.resolve()}removeOverlaysForBatchId(t,e,r){const n=this.ls.get(r);return void 0!==n&&(n.forEach((t=>this.overlays=this.overlays.remove(t))),this.ls.delete(r)),it.resolve()}getOverlaysForCollection(t,e,r){const n=qr(),i=e.length+1,s=new q(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>r&&n.set(t.getKey(),t)}return it.resolve(n)}getOverlaysForCollectionGroup(t,e,r,n){let i=new Jt(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>r){let e=i.get(t.largestBatchId);null===e&&(e=qr(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=qr(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=n)););return it.resolve(o)}we(t,e,r){const n=this.overlays.get(r.key);if(null!==n){const t=this.ls.get(n.largestBatchId).delete(r.key);this.ls.set(n.largestBatchId,t)}this.overlays=this.overlays.insert(r.key,new Rn(e,r));let i=this.ls.get(e);void 0===i&&(i=Kr(),this.ls.set(e,i)),this.ls.set(e,i.add(r.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.fs=new ee(co.ds),this.ws=new ee(co._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const r=new co(t,e);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.ys(new co(t,e))}ps(t,e){t.forEach((t=>this.removeReference(t,e)))}Is(t){const e=new q(new z([])),r=new co(e,t),n=new co(e,t+1),i=[];return this.ws.forEachInRange([r,n],(t=>{this.ys(t),i.push(t.key)})),i}Ts(){this.fs.forEach((t=>this.ys(t)))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new q(new z([])),r=new co(e,t),n=new co(e,t+1);let i=Kr();return this.ws.forEachInRange([r,n],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new co(t,0),r=this.fs.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class co{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return q.comparator(t.key,e.key)||D(t.As,e.As)}static _s(t,e){return D(t.As,e.As)||q.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new ee(co.ds)}checkEmpty(t){return it.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,n){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new In(i,e,r,n);this.mutationQueue.push(s);for(const e of n)this.Rs=this.Rs.add(new co(e.key,i)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return it.resolve(s)}lookupMutationBatch(t,e){return it.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,n=this.bs(r),i=n<0?0:n;return it.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new co(e,0),n=new co(e,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,n],(t=>{const e=this.Ps(t.As);i.push(e)})),it.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new ee(D);return e.forEach((t=>{const e=new co(t,0),n=new co(t,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([e,n],(t=>{r=r.add(t.As)}))})),it.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,n=r.length+1;let i=r;q.isDocumentKey(i)||(i=i.child(""));const s=new co(new q(i),0);let o=new ee(D);return this.Rs.forEachWhile((t=>{const e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===n&&(o=o.add(t.As)),!0)}),s),it.resolve(this.Vs(o))}Vs(t){const e=[];return t.forEach((t=>{const r=this.Ps(t);null!==r&&e.push(r)})),e}removeMutationBatch(t,e){b(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return it.forEach(e.mutations,(n=>{const i=new co(n.key,e.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)})).next((()=>{this.Rs=r}))}Cn(t){}containsKey(t,e){const r=new co(e,0),n=this.Rs.firstAfterOrEqual(r);return it.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.Ds=t,this.docs=new Jt(q.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,n=this.docs.get(r),i=n?n.size:0,s=this.Ds(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return it.resolve(r?r.document.mutableCopy():ze.newInvalidDocument(e))}getEntries(t,e){let r=jr();return e.forEach((t=>{const e=this.docs.get(t);r=r.insert(t,e?e.document.mutableCopy():ze.newInvalidDocument(t))})),it.resolve(r)}getDocumentsMatchingQuery(t,e,r,n){let i=jr();const s=e.path,o=new q(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||tt(J(o),r)<=0||(n.has(o.key)||Or(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return it.resolve(i)}getAllFromCollectionGroup(t,e,r,n){v()}Cs(t,e){return it.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new fo(this)}getSize(t){return it.resolve(this.size)}}class fo extends Ys{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach(((r,n)=>{n.isValidDocument()?e.push(this.os.addEntry(t,n)):this.os.removeEntry(r)})),it.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.persistence=t,this.xs=new Fr((t=>dr(t)),pr),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uo,this.targetCount=0,this.Ms=Fs.kn()}forEachTarget(t,e){return this.xs.forEach(((t,r)=>e(r))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Ns&&(this.Ns=e),it.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Fs(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.Fn(e),it.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,r){let n=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=e&&null===r.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),n++)})),it.waitFor(i).next((()=>n))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const r=this.xs.get(e)||null;return it.resolve(r)}addMatchingKeys(t,e,r){return this.ks.gs(e,r),it.resolve()}removeMatchingKeys(t,e,r){this.ks.ps(e,r);const n=this.persistence.referenceDelegate,i=[];return n&&e.forEach((e=>{i.push(n.markPotentiallyOrphaned(t,e))})),it.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),it.resolve()}getMatchingKeysForTargetId(t,e){const r=this.ks.Es(e);return it.resolve(r)}containsKey(t,e){return it.resolve(this.ks.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,e){this.$s={},this.overlays={},this.Os=new gt(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new po(this),this.indexManager=new bs,this.remoteDocumentCache=function(t){return new ho(t)}((t=>this.referenceDelegate.Ls(t))),this.serializer=new Ni(e),this.qs=new oo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ao,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.$s[t.toKey()];return r||(r=new lo(e,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,r){p("MemoryPersistence","Starting transaction:",t);const n=new go(this.Os.next());return this.referenceDelegate.Us(),r(n).next((t=>this.referenceDelegate.Ks(n).next((()=>t)))).toPromise().then((t=>(n.raiseOnCommittedEvent(),t)))}Gs(t,e){return it.or(Object.values(this.$s).map((r=>()=>r.containsKey(t,e))))}}class go extends rt{constructor(t){super(),this.currentSequenceNumber=t}}class yo{constructor(t){this.persistence=t,this.Qs=new uo,this.js=null}static zs(t){return new yo(t)}get Ws(){if(this.js)return this.js;throw v()}addReference(t,e,r){return this.Qs.addReference(r,e),this.Ws.delete(r.toString()),it.resolve()}removeReference(t,e,r){return this.Qs.removeReference(r,e),this.Ws.add(r.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),it.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach((t=>this.Ws.add(t.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ws.add(t.toString())))})).next((()=>r.removeTargetData(t,e)))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.Ws,(r=>{const n=q.fromPath(r);return this.Hs(t,n).next((t=>{t||e.removeEntry(n,B.min())}))})).next((()=>(this.js=null,e.apply(t))))}updateLimboDocument(t,e){return this.Hs(t,e).next((t=>{t?this.Ws.delete(e.toString()):this.Ws.add(e.toString())}))}Ls(t){return 0}Hs(t,e){return it.or([()=>it.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class vo{constructor(t,e){this.persistence=t,this.Js=new Fr((t=>wt(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=$s(this,e)}static zs(t,e){return new vo(t,e)}Us(){}Ks(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}zn(t){const e=this.Jn(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}Jn(t){let e=0;return this.Wn(t,(t=>{e++})).next((()=>e))}Wn(t,e){return it.forEach(this.Js,((r,n)=>this.Xn(t,r,n).next((t=>t?it.resolve():e(n)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.Cs(t,(n=>this.Xn(t,n,e).next((t=>{t||(r++,i.removeEntry(n,B.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.Js.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.Js.set(r,t.currentSequenceNumber),it.resolve()}removeReference(t,e,r){return this.Js.set(r,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.Js.set(e,t.currentSequenceNumber),it.resolve()}Ls(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Me(t.data.value)),e}Xn(t,e,r){return it.or([()=>this.persistence.Gs(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.Js.get(e);return it.resolve(void 0!==t&&t>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.serializer=t}O(t,e,r,n){const i=new st("createOrUpgrade",e);r<1&&n>=1&&(function(t){t.createObjectStore("owner")}(t),function(t){t.createObjectStore("mutationQueues",{keyPath:"userId"}),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xt,{unique:!0}),t.createObjectStore("documentMutations")}(t),wo(t),function(t){t.createObjectStore("remoteDocuments")}(t));let s=it.resolve();return r<3&&n>=3&&(0!==r&&(function(t){t.deleteObjectStore("targetDocuments"),t.deleteObjectStore("targets"),t.deleteObjectStore("targetGlobal")}(t),wo(t)),s=s.next((()=>function(t){const e=t.store("targetGlobal"),r={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:B.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",r)}(i)))),r<4&&n>=4&&(0!==r&&(s=s.next((()=>function(t,e){return e.store("mutations").j().next((r=>{t.deleteObjectStore("mutations"),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xt,{unique:!0});const n=e.store("mutations"),i=r.map((t=>n.put(t)));return it.waitFor(i)}))}(t,i)))),s=s.next((()=>{!function(t){t.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)}))),r<5&&n>=5&&(s=s.next((()=>this.Ys(i)))),r<6&&n>=6&&(s=s.next((()=>(function(t){t.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(i))))),r<7&&n>=7&&(s=s.next((()=>this.Zs(i)))),r<8&&n>=8&&(s=s.next((()=>this.ti(t,i)))),r<9&&n>=9&&(s=s.next((()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t)}))),r<10&&n>=10&&(s=s.next((()=>this.ei(i)))),r<11&&n>=11&&(s=s.next((()=>{!function(t){t.createObjectStore("bundles",{keyPath:"bundleId"})}(t),function(t){t.createObjectStore("namedQueries",{keyPath:"name"})}(t)}))),r<12&&n>=12&&(s=s.next((()=>{!function(t){const e=t.createObjectStore("documentOverlays",{keyPath:jt});e.createIndex("collectionPathOverlayIndex",zt,{unique:!1}),e.createIndex("collectionGroupOverlayIndex",Ut,{unique:!1})}(t)}))),r<13&&n>=13&&(s=s.next((()=>function(t){const e=t.createObjectStore("remoteDocumentsV14",{keyPath:At});e.createIndex("documentKeyIndex",Ct),e.createIndex("collectionGroupIndex",It)}(t))).next((()=>this.ni(t,i))).next((()=>t.deleteObjectStore("remoteDocuments")))),r<14&&n>=14&&(s=s.next((()=>this.si(t,i)))),r<15&&n>=15&&(s=s.next((()=>function(t){t.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),t.createObjectStore("indexState",{keyPath:Lt}).createIndex("sequenceNumberIndex",Nt,{unique:!1}),t.createObjectStore("indexEntries",{keyPath:Ft}).createIndex("documentKeyIndex",Bt,{unique:!1})}(t)))),s}Xs(t){let e=0;return t.store("remoteDocuments").X(((t,r)=>{e+=Ps(r)})).next((()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)}))}Ys(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.j().next((e=>it.forEach(e,(e=>{const n=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",n).next((r=>it.forEach(r,(r=>{b(r.userId===e.userId);const n=Ui(this.serializer,r);return Is(t,e.userId,n).next((()=>{}))}))))}))))}Zs(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next((t=>{const n=[];return r.X(((r,i)=>{const s=new z(r),o=function(t){return[0,wt(t)]}(s);n.push(e.get(o).next((r=>r?it.resolve():(r=>e.put({targetId:0,path:wt(r),sequenceNumber:t.highestListenSequenceNumber}))(s))))})).next((()=>it.waitFor(n)))}))}ti(t,e){t.createObjectStore("collectionParents",{keyPath:Dt});const r=e.store("collectionParents"),n=new ws,i=t=>{if(n.add(t)){const e=t.lastSegment(),n=t.popLast();return r.put({collectionId:e,parent:wt(n)})}};return e.store("remoteDocuments").X({Y:!0},((t,e)=>{const r=new z(t);return i(r.popLast())})).next((()=>e.store("documentMutations").X({Y:!0},(([t,e,r],n)=>{const s=St(e);return i(s.popLast())}))))}ei(t){const e=t.store("targets");return e.X(((t,r)=>{const n=Vi(r),i=qi(this.serializer,n);return e.put(i)}))}ni(t,e){const r=e.store("remoteDocuments"),n=[];return r.X(((t,r)=>{const i=e.store("remoteDocumentsV14"),s=(o=r,o.document?new q(z.fromString(o.document.name).popFirst(5)):o.noDocument?q.fromSegments(o.noDocument.path):o.unknownDocument?q.fromSegments(o.unknownDocument.path):v()).path.toArray();var o;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:r.readTime||[0,0],unknownDocument:r.unknownDocument,noDocument:r.noDocument,document:r.document,hasCommittedMutations:!!r.hasCommittedMutations};n.push(i.put(a))})).next((()=>it.waitFor(n)))}si(t,e){const r=e.store("mutations"),n=Qs(this.serializer),i=new mo(yo.zs,this.serializer.fe);return r.j().next((t=>{const r=new Map;return t.forEach((t=>{var e;let n=null!==(e=r.get(t.userId))&&void 0!==e?e:Kr();Ui(this.serializer,t).keys().forEach((t=>n=n.add(t))),r.set(t.userId,n)})),it.forEach(r,((t,r)=>{const s=new l(r),o=Qi.de(this.serializer,s),a=i.getIndexManager(s),u=Rs.de(s,this.serializer,a,i.referenceDelegate);return new so(n,u,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Wt(e,gt.ct),t).next()}))}))}}function wo(t){t.createObjectStore("targetDocuments",{keyPath:Rt}).createIndex("documentTargetsIndex",Ot,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pt,{unique:!0}),t.createObjectStore("targetGlobal")}const _o="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Eo{constructor(t,e,r,n,i,s,o,a,u,c,l=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.ii=i,this.window=s,this.document=o,this.ri=u,this.oi=c,this.ui=l,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=t=>Promise.resolve(),!Eo.D())throw new E(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ws(this,n),this.di=e+"main",this.serializer=new Ni(a),this.wi=new ot(this.di,this.ui,new bo(this.serializer)),this.Bs=new Bs(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qs(this.serializer),this.qs=new Ki,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new E(_.FAILED_PRECONDITION,_o);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Bs.getHighestSequenceNumber(t)))})).then((t=>{this.Os=new gt(t,this.ri)})).then((()=>{this.Fs=!0})).catch((t=>(this.wi&&this.wi.close(),Promise.reject(t))))}Ii(t){return this.fi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B((async e=>{null===e.newVersion&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>xo(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(t).next((t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(t))).next((e=>this.isPrimary&&!e?this.Ai(t).next((()=>!1)):!!e&&this.vi(t).next((()=>!0)))))).catch((t=>{if(ct(t))return p("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.ii.enqueueRetryable((()=>this.fi(t))),this.isPrimary=t}))}Ti(t){return So(t).get("owner").next((t=>it.resolve(this.Ri(t))))}Pi(t){return xo(t).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const e=Kt(t,"clientMetadata");return e.j().next((t=>{const r=this.Si(t,18e5),n=t.filter((t=>-1===r.indexOf(t)));return it.forEach(n,(t=>e.delete(t.clientId))).next((()=>n))}))})).catch((()=>[]));if(this._i)for(const e of t)this._i.removeItem(this.Di(e.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?it.resolve(!0):So(t).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new E(_.FAILED_PRECONDITION,_o);return!1}}return!(!this.networkEnabled||!this.inForeground)||xo(t).j().next((t=>void 0===this.Si(t,5e3).find((t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,r=!this.inForeground&&t.inForeground,n=this.networkEnabled===t.networkEnabled;if(e||r&&n)return!0}return!1}))))})).next((t=>(this.isPrimary!==t&&p("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(t=>{const e=new Wt(t,gt.ct);return this.Ai(e).next((()=>this.Pi(e)))})),this.wi.close(),this.Mi()}Si(t,e){return t.filter((t=>this.Vi(t.updateTimeMs,e)&&!this.Ci(t.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(t=>xo(t).j().next((t=>this.Si(t,18e5).map((t=>t.clientId))))))}get started(){return this.Fs}getMutationQueue(t,e){return Rs.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Es(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return Qi.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,r){p("IndexedDbPersistence","Starting transaction:",t);const n="readonly"===e?"readonly":"readwrite",i=15===(s=this.ui)?$t:14===s?Ht:13===s?Gt:12===s?qt:11===s?Vt:void v();var s;let o;return this.wi.runTransaction(t,n,i,(n=>(o=new Wt(n,this.Os?this.Os.next():gt.ct),"readwrite-primary"===e?this.Ti(o).next((t=>!!t||this.Ei(o))).next((e=>{if(!e)throw m(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new E(_.FAILED_PRECONDITION,et);return r(o)})).next((t=>this.vi(o).next((()=>t)))):this.Oi(o).next((()=>r(o)))))).then((t=>(o.raiseOnCommittedEvent(),t)))}Oi(t){return So(t).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new E(_.FAILED_PRECONDITION,_o)}))}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return So(t).put("owner",e)}static D(){return ot.D()}Ai(t){const e=So(t);return e.get("owner").next((t=>this.Ri(t)?(p("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):it.resolve()))}Vi(t,e){const r=Date.now();return!(t<r-e||t>r&&(m(`Detected an update time that is in the future: ${t} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;a.isSafari()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const r=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return p("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(t){return m("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(t){}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function So(t){return Kt(t,"owner")}function xo(t){return Kt(t,"clientMetadata")}function Mo(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ko{constructor(t,e,r,n){this.targetId=t,this.fromCache=e,this.Fi=r,this.Bi=n}static Li(t,e){let r=Kr(),n=Kr();for(const t of e.docChanges)switch(t.type){case 0:r=r.add(t.doc.key);break;case 1:n=n.add(t.doc.key)}return new ko(t,e.fromCache,r,n)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,r,n){return this.Ki(t,e).next((i=>i||this.Gi(t,e,n,r))).next((r=>r||this.Qi(t,e)))}Ki(t,e){if(Er(e))return it.resolve(null);let r=Tr(e);return this.indexManager.getIndexType(t,r).next((n=>0===n?null:(null!==e.limit&&1===n&&(e=Cr(e,null,"F"),r=Tr(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((n=>{const i=Kr(...n);return this.Ui.getDocuments(t,i).next((n=>this.indexManager.getMinOffset(t,r).next((r=>{const s=this.ji(e,n);return this.zi(e,s,i,r.readTime)?this.Ki(t,Cr(e,null,"F")):this.Wi(t,s,e,r)}))))})))))}Gi(t,e,r,n){return Er(e)||n.isEqual(B.min())?this.Qi(t,e):this.Ui.getDocuments(t,r).next((i=>{const s=this.ji(e,i);return this.zi(e,s,r,n)?this.Qi(t,e):(d()<=o.LogLevel.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Rr(e)),this.Wi(t,s,e,Q(n,-1)))}))}ji(t,e){let r=new ee(Lr(t));return e.forEach(((e,n)=>{Or(t,n)&&(r=r.add(n))})),r}zi(t,e,r,n){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}Qi(t,e){return d()<=o.LogLevel.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",Rr(e)),this.Ui.getDocumentsMatchingQuery(t,e,Z.min())}Wi(t,e,r,n){return this.Ui.getDocumentsMatchingQuery(t,r,n).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,e,r,n){this.persistence=t,this.Hi=e,this.serializer=n,this.Ji=new Jt(D),this.Yi=new Fr((t=>dr(t)),pr),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new so(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ji)))}}function Co(t,e,r,n){return new Ao(t,e,r,n)}async function Io(t,e){const r=w(t);return await r.persistence.runTransaction("Handle user change","readonly",(t=>{let n;return r.mutationQueue.getAllMutationBatches(t).next((i=>(n=i,r.tr(e),r.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=Kr();for(const t of n){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return r.localDocuments.getDocuments(t,o).next((t=>({er:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function Po(t){const e=w(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Bs.getLastRemoteSnapshotVersion(t)))}function Ro(t,e,r){let n=Kr(),i=Kr();return r.forEach((t=>n=n.add(t))),e.getEntries(t,n).next((t=>{let n=jr();return r.forEach(((r,s)=>{const o=t.get(r);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(r)),s.isNoDocument()&&s.version.isEqual(B.min())?(e.removeEntry(r,s.readTime),n=n.insert(r,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),n=n.insert(r,s)):p("LocalStore","Ignoring outdated watch update for ",r,". Current version:",o.version," Watch version:",s.version)})),{nr:n,sr:i}}))}function Oo(t,e){const r=w(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Do(t,e){const r=w(t);return r.persistence.runTransaction("Allocate target","readwrite",(t=>{let n;return r.Bs.getTargetData(t,e).next((i=>i?(n=i,it.resolve(n)):r.Bs.allocateTargetId(t).next((i=>(n=new Li(e,i,"TargetPurposeListen",t.currentSequenceNumber),r.Bs.addTargetData(t,n).next((()=>n)))))))})).then((t=>{const n=r.Ji.get(t.targetId);return(null===n||t.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.Ji=r.Ji.insert(t.targetId,t),r.Yi.set(e,t.targetId)),t}))}async function Lo(t,e,r){const n=w(t),i=n.Ji.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(t=>n.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!ct(t))throw t;p("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}n.Ji=n.Ji.remove(e),n.Yi.delete(i.target)}function No(t,e,r){const n=w(t);let i=B.min(),s=Kr();return n.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,r){const n=w(t),i=n.Yi.get(r);return void 0!==i?it.resolve(n.Ji.get(i)):n.Bs.getTargetData(e,r)}(n,t,Tr(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,n.Bs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>n.Hi.getDocumentsMatchingQuery(t,e,r?i:B.min(),r?s:Kr()))).next((t=>(jo(n,Dr(e),t),{documents:t,ir:s})))))}function Fo(t,e){const r=w(t),n=w(r.Bs),i=r.Ji.get(e);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",(t=>n.le(t,e).next((t=>t?t.target:null))))}function Bo(t,e){const r=w(t),n=r.Xi.get(e)||B.min();return r.persistence.runTransaction("Get new document changes","readonly",(t=>r.Zi.getAllFromCollectionGroup(t,e,Q(n,-1),Number.MAX_SAFE_INTEGER))).then((t=>(jo(r,e,t),t)))}function jo(t,e,r){let n=t.Xi.get(e)||B.min();r.forEach(((t,e)=>{e.readTime.compareTo(n)>0&&(n=e.readTime)})),t.Xi.set(e,n)}async function zo(t,e,r=Kr()){const n=await Do(t,Tr(Gi(e.bundledQuery))),i=w(t);return i.persistence.runTransaction("Save named query","readwrite",(t=>{const s=li(e.readTime);if(n.snapshotVersion.compareTo(s)>=0)return i.qs.saveNamedQuery(t,e);const o=n.withResumeToken(oe.EMPTY_BYTE_STRING,s);return i.Ji=i.Ji.insert(o.targetId,o),i.Bs.updateTargetData(t,o).next((()=>i.Bs.removeMatchingKeysForTargetId(t,n.targetId))).next((()=>i.Bs.addMatchingKeys(t,r,n.targetId))).next((()=>i.qs.saveNamedQuery(t,e)))}))}function Uo(t,e){return`firestore_clients_${t}_${e}`}function Vo(t,e,r){let n=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function qo(t,e){return`firestore_targets_${t}_${e}`}class Go{constructor(t,e,r,n){this.user=t,this.batchId=e,this.state=r,this.error=n}static ar(t,e,r){const n=JSON.parse(r);let i,s="object"==typeof n&&-1!==["pending","acknowledged","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(i=new E(n.error.code,n.error.message))),s?new Go(t,e,n.state,i):(m("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ho{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static ar(t,e){const r=JSON.parse(e);let n,i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code,i&&(n=new E(r.error.code,r.error.message))),i?new Ho(t,r.state,n):(m("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class $o{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const r=JSON.parse(e);let n="object"==typeof r&&r.activeTargetIds instanceof Array,i=Xr();for(let t=0;n&&t<r.activeTargetIds.length;++t)n=bt(r.activeTargetIds[t]),i=i.add(r.activeTargetIds[t]);return n?new $o(t,i):(m("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Wo{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Wo(e.clientId,e.onlineState):(m("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Ko{constructor(){this.activeTargetIds=Xr()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yo{constructor(t,e,r,n,i){this.window=t,this.ii=e,this.persistenceKey=r,this.wr=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Jt(D),this.started=!1,this.yr=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=Uo(this.persistenceKey,this.wr),this.Ir=function(t){return`firestore_sequence_number_${t}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Ko),this.Tr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vr=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.Rr=function(t){return`firestore_bundle_loaded_v2_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.$i();for(const e of t){if(e===this.wr)continue;const t=this.getItem(Uo(this.persistenceKey,e));if(t){const r=$o.ar(e,t);r&&(this.gr=this.gr.insert(r.clientId,r))}}this.Pr();const e=this.storage.getItem(this.vr);if(e){const t=this.br(e);t&&this.Vr(t)}for(const t of this.yr)this.mr(t);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach(((r,n)=>{n.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,r){this.Dr(t,e,r),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(qo(this.persistenceKey,t));if(r){const n=Ho.ar(t,r);n&&(e=n.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(qo(this.persistenceKey,t))}updateQueryState(t,e,r){this.kr(t,e,r)}handleUserChange(t,e,r){e.forEach((t=>{this.Cr(t)})),this.currentUser=t,r.forEach((t=>{this.addPendingMutation(t)}))}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e}setItem(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){const e=t;if(e.storageArea===this.storage){if(p("SharedClientState","EVENT",e.key,e.newValue),e.key===this.pr)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==e.key)if(this.Tr.test(e.key)){if(null==e.newValue){const t=this.Or(e.key);return this.Fr(t,null)}{const t=this.Br(e.key,e.newValue);if(t)return this.Fr(t.clientId,t)}}else if(this.Er.test(e.key)){if(null!==e.newValue){const t=this.Lr(e.key,e.newValue);if(t)return this.qr(t)}}else if(this.Ar.test(e.key)){if(null!==e.newValue){const t=this.Ur(e.key,e.newValue);if(t)return this.Kr(t)}}else if(e.key===this.vr){if(null!==e.newValue){const t=this.br(e.newValue);if(t)return this.Vr(t)}}else if(e.key===this.Ir){const t=function(t){let e=gt.ct;if(null!=t)try{const r=JSON.parse(t);b("number"==typeof r),e=r}catch(t){m("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(e.newValue);t!==gt.ct&&this.sequenceNumberHandler(t)}else if(e.key===this.Rr){const t=this.Gr(e.newValue);await Promise.all(t.map((t=>this.syncEngine.Qr(t))))}}else this.yr.push(e)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,r){const n=new Go(this.currentUser,t,e,r),i=Vo(this.persistenceKey,this.currentUser,t);this.setItem(i,n.hr())}Cr(t){const e=Vo(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){const e={clientId:this.wr,onlineState:t};this.storage.setItem(this.vr,JSON.stringify(e))}kr(t,e,r){const n=qo(this.persistenceKey,t),i=new Ho(t,e,r);this.setItem(n,i.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const r=this.Or(t);return $o.ar(r,e)}Lr(t,e){const r=this.Er.exec(t),n=Number(r[1]),i=void 0!==r[2]?r[2]:null;return Go.ar(new l(i),n,e)}Ur(t,e){const r=this.Ar.exec(t),n=Number(r[1]);return Ho.ar(n,e)}br(t){return Wo.ar(t)}Gr(t){return JSON.parse(t)}async qr(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.jr(t.batchId,t.state,t.error);p("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const r=e?this.gr.insert(t,e):this.gr.remove(t),n=this.Sr(this.gr),i=this.Sr(r),s=[],o=[];return i.forEach((t=>{n.has(t)||s.push(t)})),n.forEach((t=>{i.has(t)||o.push(t)})),this.syncEngine.Wr(s,o).then((()=>{this.gr=r}))}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=Xr();return t.forEach(((t,r)=>{e=e.unionWith(r.activeTargetIds)})),e}}class Xo{constructor(){this.Hr=new Ko,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,r){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Ko,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{Yr(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo=null;function ta(){return null===Zo?Zo=268435456+Math.round(2147483648*Math.random()):Zo++,"0x"+Zo.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const ea={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="WebChannelConnection";class ia extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.mo=e+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,r,n,i){const s=ta(),o=this.To(t,e);p("RestConnection",`Sending RPC '${t}' ${s}:`,o,r);const a={};return this.Eo(a,n,i),this.Ao(t,o,a,r).then((e=>(p("RestConnection",`Received RPC '${t}' ${s}: `,e),e)),(e=>{throw g("RestConnection",`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",r),e}))}vo(t,e,r,n,i,s){return this.Io(t,e,r,n,i)}Eo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+h,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,r)=>t[r]=e)),r&&r.headers.forEach(((e,r)=>t[r]=e))}To(t,e){const r=ea[t];return`${this.mo}/v1/${e}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,r,n){const i=ta();return new Promise(((s,o)=>{const a=new u.XhrIo;a.setWithCredentials(!0),a.listenOnce(u.EventType.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:const e=a.getResponseJson();p(na,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),s(e);break;case u.ErrorCode.TIMEOUT:p(na,`RPC '${t}' ${i} timed out`),o(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:const r=a.getStatus();if(p(na,`RPC '${t}' ${i} failed with status:`,r,"response text:",a.getResponseText()),r>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(e)>=0?e:_.UNKNOWN}(e.status);o(new E(t,e.message))}else o(new E(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new E(_.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p(na,`RPC '${t}' ${i} completed.`)}}));const c=JSON.stringify(n);p(na,`RPC '${t}' ${i} sending request:`,n),a.send(e,"POST",c,r,15)}))}Ro(t,e,r){const n=ta(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=u.createWebChannelTransport(),o=u.getStatEventTarget(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new u.FetchXmlHttpFactory({})),this.Eo(a.initMessageHeaders,e,r),a.encodeInitMessageHeaders=!0;const l=i.join("");p(na,`Creating RPC '${t}' stream ${n}: ${l}`,a);const h=s.createWebChannel(l,a);let f=!1,d=!1;const m=new ra({ro:e=>{d?p(na,`Not sending because RPC '${t}' stream ${n} is closed:`,e):(f||(p(na,`Opening RPC '${t}' stream ${n} transport.`),h.open(),f=!0),p(na,`RPC '${t}' stream ${n} sending:`,e),h.send(e))},oo:()=>h.close()}),y=(t,e,r)=>{t.listen(e,(t=>{try{r(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return y(h,u.WebChannel.EventType.OPEN,(()=>{d||p(na,`RPC '${t}' stream ${n} transport opened.`)})),y(h,u.WebChannel.EventType.CLOSE,(()=>{d||(d=!0,p(na,`RPC '${t}' stream ${n} transport closed`),m.wo())})),y(h,u.WebChannel.EventType.ERROR,(e=>{d||(d=!0,g(na,`RPC '${t}' stream ${n} transport errored:`,e),m.wo(new E(_.UNAVAILABLE,"The operation could not be completed")))})),y(h,u.WebChannel.EventType.MESSAGE,(e=>{var r;if(!d){const i=e.data[0];b(!!i);const s=i,o=s.error||(null===(r=s[0])||void 0===r?void 0:r.error);if(o){p(na,`RPC '${t}' stream ${n} received error:`,o);const e=o.status;let r=function(t){const e=Ln[t];if(void 0!==e)return Bn(e)}(e),i=o.message;void 0===r&&(r=_.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),d=!0,m.wo(new E(r,i)),h.close()}else p(na,`RPC '${t}' stream ${n} received:`,i),m._o(i)}})),y(o,u.Event.STAT_EVENT,(e=>{e.stat===u.Stat.PROXY?p(na,`RPC '${t}' stream ${n} detected buffering proxy`):e.stat===u.Stat.NOPROXY&&p(na,`RPC '${t}' stream ${n} detected no buffering proxy`)})),setTimeout((()=>{m.fo()}),0),m}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(){return"undefined"!=typeof window?window:null}function oa(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){return new si(t,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,e,r=1e3,n=1.5,i=6e4){this.ii=t,this.timerId=e,this.Po=r,this.bo=n,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),n=Math.max(0,e-r);n>0&&p("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,n,(()=>(this.Co=Date.now(),t()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,e,r,n,i,s,o,a){this.ii=t,this.$o=r,this.Oo=n,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ua(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,e){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):e&&e.code===_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(e)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,r])=>{this.Fo===e&&this.Zo(t,r)}),(e=>{t((()=>{const t=new E(_.UNKNOWN,"Fetching auth token failed: "+e.message);return this.tu(t)}))}))}Zo(t,e){const r=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo((()=>{r((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((t=>{r((()=>this.tu(t)))})),this.stream.onMessage((t=>{r((()=>this.onMessage(t)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(t){return p("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget((()=>this.Fo===t?e():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class la extends ca{constructor(t,e,r,n,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,n,s),this.serializer=i}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(b(void 0===e||"string"==typeof e),oe.fromBase64String(e||"")):(b(void 0===e||e instanceof Uint8Array),oe.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?_.UNKNOWN:Bn(t.code);return new E(e,t.message||"")}(o);r=new Qn(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=pi(t,n.document.name),s=li(n.document.updateTime),o=n.document.createTime?li(n.document.createTime):B.min(),a=new Be({mapValue:{fields:n.document.fields}}),u=ze.newFoundDocument(i,s,o,a),c=n.targetIds||[],l=n.removedTargetIds||[];r=new Yn(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=pi(t,n.document),s=n.readTime?li(n.readTime):B.min(),o=ze.newNoDocument(i,s),a=n.removedTargetIds||[];r=new Yn([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=pi(t,n.document),s=n.removedTargetIds||[];r=new Yn([],s,i,null)}else{if(!("filter"in e))return v();{e.filter;const t=e.filter;t.targetId;const{count:n=0,unchangedNames:i}=t,s=new Dn(n,i),o=t.targetId;r=new Xn(o,s)}}return r}(this.serializer,t),r=function(t){if(!("targetChange"in t))return B.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?B.min():e.readTime?li(e.readTime):B.min()}(t);return this.listener.nu(e,r)}su(t){const e={};e.database=yi(this.serializer),e.addTarget=function(t,e){let r;const n=e.target;if(r=mr(n)?{documents:Si(t,n)}:{query:xi(t,n)},r.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){r.resumeToken=ui(t,e.resumeToken);const n=oi(t,e.expectedCount);null!==n&&(r.expectedCount=n)}else if(e.snapshotVersion.compareTo(B.min())>0){r.readTime=ai(t,e.snapshotVersion.toTimestamp());const n=oi(t,e.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,t);const r=function(t,e){const r=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return v()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,t);r&&(e.labels=r),this.Wo(e)}iu(t){const e={};e.database=yi(this.serializer),e.removeTarget=t,this.Wo(e)}}class ha extends ca{constructor(t,e,r,n,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,n,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(b(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function(t,e){return t&&t.length>0?(b(void 0!==e),t.map((t=>function(t,e){let r=t.updateTime?li(t.updateTime):li(e);return r.isEqual(B.min())&&(r=li(e)),new pn(r,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),r=li(t.commitTime);return this.listener.cu(r,e)}return b(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=yi(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>_i(this.serializer,t)))};this.Wo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends class{}{constructor(t,e,r,n){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=n,this.lu=!1}fu(){if(this.lu)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([n,i])=>this.connection.Io(t,e,r,n,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new E(_.UNKNOWN,t.toString())}))}vo(t,e,r,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.vo(t,e,r,i,s,n))).catch((t=>{throw"FirebaseError"===t.name?(t.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new E(_.UNKNOWN,t.toString())}))}terminate(){this.lu=!0}}class da{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(m(e),this.mu=!1):p("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,e,r,n,i){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((t=>{r.enqueueAndForget((async()=>{Sa(this)&&(p("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=w(t);e.vu.add(4),await ga(e),e.bu.set("Unknown"),e.vu.delete(4),await ma(e)}(this))}))})),this.bu=new da(r,n)}}async function ma(t){if(Sa(t))for(const e of t.Ru)await e(!0)}async function ga(t){for(const e of t.Ru)await e(!1)}function ya(t,e){const r=w(t);r.Au.has(e.targetId)||(r.Au.set(e.targetId,e),Ea(r)?_a(r):Ua(r).Ko()&&ba(r,e))}function va(t,e){const r=w(t),n=Ua(r);r.Au.delete(e),n.Ko()&&wa(r,e),0===r.Au.size&&(n.Ko()?n.jo():Sa(r)&&r.bu.set("Unknown"))}function ba(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ua(t).su(e)}function wa(t,e){t.Vu.qt(e),Ua(t).iu(e)}function _a(t){t.Vu=new Zn({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.bu.gu()}function Ea(t){return Sa(t)&&!Ua(t).Uo()&&t.Au.size>0}function Sa(t){return 0===w(t).vu.size}function xa(t){t.Vu=void 0}async function Ma(t){t.Au.forEach(((e,r)=>{ba(t,e)}))}async function ka(t,e){xa(t),Ea(t)?(t.bu.Iu(e),_a(t)):t.bu.set("Unknown")}async function Ta(t,e,r){if(t.bu.set("Online"),e instanceof Qn&&2===e.state&&e.cause)try{await async function(t,e){const r=e.cause;for(const n of e.targetIds)t.Au.has(n)&&(await t.remoteSyncer.rejectListen(n,r),t.Au.delete(n),t.Vu.removeTarget(n))}(t,e)}catch(r){p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Aa(t,r)}else if(e instanceof Yn?t.Vu.Ht(e):e instanceof Xn?t.Vu.ne(e):t.Vu.Xt(e),!r.isEqual(B.min()))try{const e=await Po(t.localStore);r.compareTo(e)>=0&&await function(t,e){const r=t.Vu.ce(e);return r.targetChanges.forEach(((r,n)=>{if(r.resumeToken.approximateByteSize()>0){const i=t.Au.get(n);i&&t.Au.set(n,i.withResumeToken(r.resumeToken,e))}})),r.targetMismatches.forEach(((e,r)=>{const n=t.Au.get(e);if(!n)return;t.Au.set(e,n.withResumeToken(oe.EMPTY_BYTE_STRING,n.snapshotVersion)),wa(t,e);const i=new Li(n.target,e,r,n.sequenceNumber);ba(t,i)})),t.remoteSyncer.applyRemoteEvent(r)}(t,r)}catch(e){p("RemoteStore","Failed to raise snapshot:",e),await Aa(t,e)}}async function Aa(t,e,r){if(!ct(e))throw e;t.vu.add(1),await ga(t),t.bu.set("Offline"),r||(r=()=>Po(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{p("RemoteStore","Retrying IndexedDB access"),await r(),t.vu.delete(1),await ma(t)}))}function Ca(t,e){return e().catch((r=>Aa(t,r,e)))}async function Ia(t){const e=w(t),r=Va(e);let n=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Pa(e);)try{const t=await Oo(e.localStore,n);if(null===t){0===e.Eu.length&&r.jo();break}n=t.batchId,Ra(e,t)}catch(t){await Aa(e,t)}Oa(e)&&Da(e)}function Pa(t){return Sa(t)&&t.Eu.length<10}function Ra(t,e){t.Eu.push(e);const r=Va(t);r.Ko()&&r.ou&&r.uu(e.mutations)}function Oa(t){return Sa(t)&&!Va(t).Uo()&&t.Eu.length>0}function Da(t){Va(t).start()}async function La(t){Va(t).hu()}async function Na(t){const e=Va(t);for(const r of t.Eu)e.uu(r.mutations)}async function Fa(t,e,r){const n=t.Eu.shift(),i=Pn.from(n,e,r);await Ca(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ia(t)}async function Ba(t,e){e&&Va(t).ou&&await async function(t,e){if(Fn(r=e.code)&&r!==_.ABORTED){const r=t.Eu.shift();Va(t).Qo(),await Ca(t,(()=>t.remoteSyncer.rejectFailedWrite(r.batchId,e))),await Ia(t)}var r}(t,e),Oa(t)&&Da(t)}async function ja(t,e){const r=w(t);r.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials");const n=Sa(r);r.vu.add(3),await ga(r),n&&r.bu.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.vu.delete(3),await ma(r)}async function za(t,e){const r=w(t);e?(r.vu.delete(2),await ma(r)):e||(r.vu.add(2),await ga(r),r.bu.set("Unknown"))}function Ua(t){return t.Su||(t.Su=function(t,e,r){const n=w(t);return n.fu(),new la(e,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{uo:Ma.bind(null,t),ao:ka.bind(null,t),nu:Ta.bind(null,t)}),t.Ru.push((async e=>{e?(t.Su.Qo(),Ea(t)?_a(t):t.bu.set("Unknown")):(await t.Su.stop(),xa(t))}))),t.Su}function Va(t){return t.Du||(t.Du=function(t,e,r){const n=w(t);return n.fu(),new ha(e,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(t.datastore,t.asyncQueue,{uo:La.bind(null,t),ao:Ba.bind(null,t),au:Na.bind(null,t),cu:Fa.bind(null,t)}),t.Ru.push((async e=>{e?(t.Du.Qo(),await Ia(t)):(await t.Du.stop(),t.Eu.length>0&&(p("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))}))),t.Du
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class qa{constructor(t,e,r,n,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,r,n,i){const s=Date.now()+r,o=new qa(t,e,s,n,i);return o.start(r),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ga(t,e){if(m("AsyncQueue",`${e}: ${t}`),ct(t))return new E(_.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.comparator=t?(e,r)=>t(e,r)||q.comparator(e.key,r.key):(t,e)=>q.comparator(t.key,e.key),this.keyedMap=Ur(),this.sortedSet=new Jt(this.comparator)}static emptySet(t){return new Ha(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ha))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=r.getNext().key;if(!t.isEqual(n))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.Cu=new Jt(q.comparator)}track(t){const e=t.doc.key,r=this.Cu.get(e);r?0!==t.type&&3===r.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==r.type?this.Cu=this.Cu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Cu=this.Cu.remove(e):1===t.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):v():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Wa{constructor(t,e,r,n,i,s,o,a,u){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(t,e,r,n,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Wa(t,e,Ha.emptySet(e),s,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ir(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==r[t].type||!e[t].doc.isEqual(r[t].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.Nu=void 0,this.listeners=[]}}class Ya{constructor(){this.queries=new Fr((t=>Pr(t)),Ir),this.onlineState="Unknown",this.ku=new Set}}async function Xa(t,e){const r=w(t),n=e.query;let i=!1,s=r.queries.get(n);if(s||(i=!0,s=new Ka),i)try{s.Nu=await r.onListen(n)}catch(t){const r=Ga(t,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(r)}r.queries.set(n,s),s.listeners.push(e),e.Mu(r.onlineState),s.Nu&&e.$u(s.Nu)&&tu(r)}async function Qa(t,e){const r=w(t),n=e.query;let i=!1;const s=r.queries.get(n);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return r.queries.delete(n),r.onUnlisten(n)}function Ja(t,e){const r=w(t);let n=!1;for(const t of e){const e=t.query,i=r.queries.get(e);if(i){for(const e of i.listeners)e.$u(t)&&(n=!0);i.Nu=t}}n&&tu(r)}function Za(t,e,r){const n=w(t),i=n.queries.get(e);if(i)for(const t of i.listeners)t.onError(r);n.queries.delete(e)}function tu(t){t.ku.forEach((t=>{t.next()}))}class eu{constructor(t,e,r){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const e=[];for(const r of t.docChanges)3!==r.type&&e.push(r);t=new Wa(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){if(!t.fromCache)return!0;const r="Offline"!==e;return(!this.options.Ku||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){if(t.docChanges.length>0)return!0;const e=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Uu(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t){this.serializer=t}rr(t){return pi(this.serializer,t)}ur(t){return t.metadata.exists?wi(this.serializer,t.document,!1):ze.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return li(t)}}class iu{constructor(t,e,r){this.ju=t,this.localStore=e,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=su(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const r=z.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,r=new nu(this.serializer);for(const n of t)if(n.metadata.queries){const t=r.rr(n.metadata.name);for(const r of n.metadata.queries){const n=(e.get(r)||Kr()).add(t);e.set(r,n)}}return e}async complete(){const t=await async function(t,e,r,n){const i=w(t);let s=Kr(),o=jr();for(const t of r){const r=e.rr(t.metadata.name);t.document&&(s=s.add(r));const n=e.ur(t);n.setReadTime(e.cr(t.metadata.readTime)),o=o.insert(r,n)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),u=await Do(i,function(t){return Tr(_r(z.fromString(`__bundle__/docs/${t}`)))}(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",(t=>Ro(t,a,o).next((e=>(a.apply(t),e))).next((e=>i.Bs.removeMatchingKeysForTargetId(t,u.targetId).next((()=>i.Bs.addMatchingKeys(t,s,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(t,e.nr,e.sr))).next((()=>e.nr))))))}(this.localStore,new nu(this.serializer),this.documents,this.ju.id),e=this.Wu(this.documents);for(const t of this.queries)await zo(this.localStore,t,e.get(t.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}}}function su(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t){this.key=t}}class au{constructor(t){this.key=t}}class uu{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Kr(),this.mutatedKeys=Kr(),this.tc=Lr(t),this.ec=new Ha(this.tc)}get nc(){return this.Yu}sc(t,e){const r=e?e.ic:new $a,n=e?e.ec:this.ec;let i=e?e.mutatedKeys:this.mutatedKeys,s=n,o=!1;const a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,u="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(t.inorderTraversal(((t,e)=>{const c=n.get(t),l=Or(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let d=!1;c&&l?c.data.isEqual(l.data)?h!==f&&(r.track({type:3,doc:l}),d=!0):this.rc(c,l)||(r.track({type:2,doc:l}),d=!0,(a&&this.tc(l,a)>0||u&&this.tc(l,u)<0)&&(o=!0)):!c&&l?(r.track({type:0,doc:l}),d=!0):c&&!l&&(r.track({type:1,doc:c}),d=!0,(a||u)&&(o=!0)),d&&(l?(s=s.add(l),i=f?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),r.track({type:1,doc:t})}return{ec:s,ic:r,zi:o,mutatedKeys:i}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const n=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const i=t.ic.xu();i.sort(((t,e)=>function(t,e){const r=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return r(t)-r(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.tc(t.doc,e.doc))),this.oc(r);const s=e?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new Wa(this.query,t.ec,n,i,t.mutatedKeys,0===o,a,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $a,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach((t=>this.Yu=this.Yu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Yu=this.Yu.delete(t))),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Kr(),this.ec.forEach((t=>{this.ac(t.key)&&(this.Zu=this.Zu.add(t.key))}));const e=[];return t.forEach((t=>{this.Zu.has(t)||e.push(new au(t))})),this.Zu.forEach((r=>{t.has(r)||e.push(new ou(r))})),e}hc(t){this.Yu=t.ir,this.Zu=Kr();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Wa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cu{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class lu{constructor(t){this.key=t,this.fc=!1}}class hu{constructor(t,e,r,n,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Fr((t=>Pr(t)),Ir),this._c=new Map,this.mc=new Set,this.gc=new Jt(q.comparator),this.yc=new Map,this.Ic=new uo,this.Tc={},this.Ec=new Map,this.Ac=Fs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function fu(t,e){const r=Bu(t);let n,i;const s=r.wc.get(e);if(s)n=s.targetId,r.sharedClientState.addLocalQueryTarget(n),i=s.view.lc();else{const t=await Do(r.localStore,Tr(e)),s=r.sharedClientState.addLocalQueryTarget(t.targetId);n=t.targetId,i=await du(r,e,n,"current"===s,t.resumeToken),r.isPrimaryClient&&ya(r.remoteStore,t)}return i}async function du(t,e,r,n,i){t.Rc=(e,r,n)=>async function(t,e,r,n){let i=e.view.sc(r);i.zi&&(i=await No(t.localStore,e.query,!1).then((({documents:t})=>e.view.sc(t,i))));const s=n&&n.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return xu(t,e.targetId,o.cc),o.snapshot}(t,e,r,n);const s=await No(t.localStore,e,!0),o=new uu(e,s.ir),a=o.sc(s.documents),u=Kn.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);xu(t,r,c.cc);const l=new cu(e,r,o);return t.wc.set(e,l),t._c.has(r)?t._c.get(r).push(e):t._c.set(r,[e]),c.snapshot}async function pu(t,e){const r=w(t),n=r.wc.get(e),i=r._c.get(n.targetId);if(i.length>1)return r._c.set(n.targetId,i.filter((t=>!Ir(t,e)))),void r.wc.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(n.targetId),r.sharedClientState.isActiveQueryTarget(n.targetId)||await Lo(r.localStore,n.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(n.targetId),va(r.remoteStore,n.targetId),Eu(r,n.targetId)})).catch(nt)):(Eu(r,n.targetId),await Lo(r.localStore,n.targetId,!0))}async function mu(t,e){const r=w(t);try{const t=await function(t,e){const r=w(t),n=e.snapshotVersion;let i=r.Ji;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=r.Zi.newChangeBuffer({trackRemovals:!0});i=r.Ji;const o=[];e.targetChanges.forEach(((s,a)=>{const u=i.get(a);if(!u)return;o.push(r.Bs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>r.Bs.addMatchingKeys(t,s.addedDocuments,a))));let c=u.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(oe.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,n)),i=i.insert(a,c),function(t,e,r){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0}(u,c,s)&&o.push(r.Bs.updateTargetData(t,c))}));let a=jr(),u=Kr();if(e.documentUpdates.forEach((n=>{e.resolvedLimboDocuments.has(n)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(t,n))})),o.push(Ro(t,s,e.documentUpdates).next((t=>{a=t.nr,u=t.sr}))),!n.isEqual(B.min())){const e=r.Bs.getLastRemoteSnapshotVersion(t).next((e=>r.Bs.setTargetsMetadata(t,t.currentSequenceNumber,n)));o.push(e)}return it.waitFor(o).next((()=>s.apply(t))).next((()=>r.localDocuments.getLocalViewOfDocuments(t,a,u))).next((()=>a))})).then((t=>(r.Ji=i,t)))}(r.localStore,e);e.targetChanges.forEach(((t,e)=>{const n=r.yc.get(e);n&&(b(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.fc=!0:t.modifiedDocuments.size>0?b(n.fc):t.removedDocuments.size>0&&(b(n.fc),n.fc=!1))})),await Tu(r,t,e)}catch(t){await nt(t)}}function gu(t,e,r){const n=w(t);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const t=[];n.wc.forEach(((r,n)=>{const i=n.view.Mu(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const r=w(t);r.onlineState=e;let n=!1;r.queries.forEach(((t,r)=>{for(const t of r.listeners)t.Mu(e)&&(n=!0)})),n&&tu(r)}(n.eventManager,e),t.length&&n.dc.nu(t),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function yu(t,e,r){const n=w(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.yc.get(e),s=i&&i.key;if(s){let t=new Jt(q.comparator);t=t.insert(s,ze.newNoDocument(s,B.min()));const r=Kr().add(s),i=new Wn(B.min(),new Map,new Jt(D),t,r);await mu(n,i),n.gc=n.gc.remove(s),n.yc.delete(e),ku(n)}else await Lo(n.localStore,e,!1).then((()=>Eu(n,e,r))).catch(nt)}async function vu(t,e){const r=w(t),n=e.batch.batchId;try{const t=await function(t,e){const r=w(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const n=e.batch.keys(),i=r.Zi.newChangeBuffer({trackRemovals:!0});return function(t,e,r,n){const i=r.batch,s=i.keys();let o=it.resolve();return s.forEach((t=>{o=o.next((()=>n.getEntry(e,t))).next((e=>{const s=r.docVersions.get(t);b(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,r),e.isValidDocument()&&(e.setReadTime(r.commitVersion),n.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(r,t,e,i).next((()=>i.apply(t))).next((()=>r.mutationQueue.performConsistencyCheck(t))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(t,n,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Kr();for(let r=0;r<t.mutationResults.length;++r)t.mutationResults[r].transformResults.length>0&&(e=e.add(t.batch.mutations[r].key));return e}(e)))).next((()=>r.localDocuments.getDocuments(t,n)))}))}(r.localStore,e);_u(r,n,null),wu(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Tu(r,t)}catch(t){await nt(t)}}async function bu(t,e,r){const n=w(t);try{const t=await function(t,e){const r=w(t);return r.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let n;return r.mutationQueue.lookupMutationBatch(t,e).next((e=>(b(null!==e),n=e.keys(),r.mutationQueue.removeMutationBatch(t,e)))).next((()=>r.mutationQueue.performConsistencyCheck(t))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(t,n,e))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,n))).next((()=>r.localDocuments.getDocuments(t,n)))}))}(n.localStore,e);_u(n,e,r),wu(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Tu(n,t)}catch(r){await nt(r)}}function wu(t,e){(t.Ec.get(e)||[]).forEach((t=>{t.resolve()})),t.Ec.delete(e)}function _u(t,e,r){const n=w(t);let i=n.Tc[n.currentUser.toKey()];if(i){const t=i.get(e);t&&(r?t.reject(r):t.resolve(),i=i.remove(e)),n.Tc[n.currentUser.toKey()]=i}}function Eu(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t._c.get(e))t.wc.delete(n),r&&t.dc.Pc(n,r);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach((e=>{t.Ic.containsKey(e)||Su(t,e)}))}function Su(t,e){t.mc.delete(e.path.canonicalString());const r=t.gc.get(e);null!==r&&(va(t.remoteStore,r),t.gc=t.gc.remove(e),t.yc.delete(r),ku(t))}function xu(t,e,r){for(const n of r)n instanceof ou?(t.Ic.addReference(n.key,e),Mu(t,n)):n instanceof au?(p("SyncEngine","Document no longer in limbo: "+n.key),t.Ic.removeReference(n.key,e),t.Ic.containsKey(n.key)||Su(t,n.key)):v()}function Mu(t,e){const r=e.key,n=r.path.canonicalString();t.gc.get(r)||t.mc.has(n)||(p("SyncEngine","New document in limbo: "+r),t.mc.add(n),ku(t))}function ku(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const r=new q(z.fromString(e)),n=t.Ac.next();t.yc.set(n,new lu(r)),t.gc=t.gc.insert(r,n),ya(t.remoteStore,new Li(Tr(_r(r.path)),n,"TargetPurposeLimboResolution",gt.ct))}}async function Tu(t,e,r){const n=w(t),i=[],s=[],o=[];n.wc.isEmpty()||(n.wc.forEach(((t,a)=>{o.push(n.Rc(a,e,r).then((t=>{if((t||r)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){i.push(t);const e=ko.Li(a.targetId,t);s.push(e)}})))})),await Promise.all(o),n.dc.nu(i),await async function(t,e){const r=w(t);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>it.forEach(e,(e=>it.forEach(e.Fi,(n=>r.persistence.referenceDelegate.addReference(t,e.targetId,n))).next((()=>it.forEach(e.Bi,(n=>r.persistence.referenceDelegate.removeReference(t,e.targetId,n)))))))))}catch(t){if(!ct(t))throw t;p("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=r.Ji.get(e),n=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(n);r.Ji=r.Ji.insert(e,i)}}}(n.localStore,s))}async function Au(t,e){const r=w(t);if(!r.currentUser.isEqual(e)){p("SyncEngine","User change. New user:",e.toKey());const t=await Io(r.localStore,e);r.currentUser=e,function(t,e){t.Ec.forEach((t=>{t.forEach((t=>{t.reject(new E(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Ec.clear()}(r),r.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Tu(r,t.er)}}function Cu(t,e){const r=w(t),n=r.yc.get(e);if(n&&n.fc)return Kr().add(n.key);{let t=Kr();const n=r._c.get(e);if(!n)return t;for(const e of n){const n=r.wc.get(e);t=t.unionWith(n.view.nc)}return t}}async function Iu(t,e){const r=w(t),n=await No(r.localStore,e.query,!0),i=e.view.hc(n);return r.isPrimaryClient&&xu(r,e.targetId,i.cc),i}async function Pu(t,e){const r=w(t);return Bo(r.localStore,e).then((t=>Tu(r,t)))}async function Ru(t,e,r,n){const i=w(t),s=await function(t,e){const r=w(t),n=w(r.mutationQueue);return r.persistence.runTransaction("Lookup mutation documents","readonly",(t=>n.Sn(t,e).next((e=>e?r.localDocuments.getDocuments(t,e):it.resolve(null)))))}(i.localStore,e);null!==s?("pending"===r?await Ia(i.remoteStore):"acknowledged"===r||"rejected"===r?(_u(i,e,n||null),wu(i,e),function(t,e){w(w(t).mutationQueue).Cn(e)}(i.localStore,e)):v(),await Tu(i,s)):p("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Ou(t,e,r){const n=w(t),i=[],s=[];for(const t of e){let e;const r=n._c.get(t);if(r&&0!==r.length){e=await Do(n.localStore,Tr(r[0]));for(const t of r){const e=n.wc.get(t),r=await Iu(n,e);r.snapshot&&s.push(r.snapshot)}}else{const r=await Fo(n.localStore,t);e=await Do(n.localStore,r),await du(n,Du(r),t,!1,e.resumeToken)}i.push(e)}return n.dc.nu(s),i}function Du(t){return wr(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Lu(t){const e=w(t);return w(w(e.localStore).persistence).$i()}async function Nu(t,e,r,n){const i=w(t);if(i.vc)return void p("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(r){case"current":case"not-current":{const t=await Bo(i.localStore,Dr(s[0])),n=Wn.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,oe.EMPTY_BYTE_STRING);await Tu(i,t,n);break}case"rejected":await Lo(i.localStore,e,!0),Eu(i,e,n);break;default:v()}}async function Fu(t,e,r){const n=Bu(t);if(n.vc){for(const t of e){if(n._c.has(t)){p("SyncEngine","Adding an already active target "+t);continue}const e=await Fo(n.localStore,t),r=await Do(n.localStore,e);await du(n,Du(e),r.targetId,!1,r.resumeToken),ya(n.remoteStore,r)}for(const t of r)n._c.has(t)&&await Lo(n.localStore,t,!1).then((()=>{va(n.remoteStore,t),Eu(n,t)})).catch(nt)}}function Bu(t){const e=w(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yu.bind(null,e),e.dc.nu=Ja.bind(null,e.eventManager),e.dc.Pc=Za.bind(null,e.eventManager),e}function ju(t){const e=w(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vu.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bu.bind(null,e),e}class zu{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=aa(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Co(this.persistence,new To,t.initialUser,this.serializer)}createPersistence(t){return new mo(yo.zs,this.serializer)}createSharedClientState(t){return new Xo}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Uu extends zu{constructor(t){super(),this.cacheSizeBytes=t}createGarbageCollectionScheduler(t,e){b(this.persistence.referenceDelegate instanceof vo);const r=this.persistence.referenceDelegate.garbageCollector;return new Gs(r,t.asyncQueue,e)}createPersistence(t){const e=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new mo((t=>vo.zs(t,e)),this.serializer)}}class Vu extends zu{constructor(t,e,r){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Vc.initialize(this,t),await ju(this.Vc.syncEngine),await Ia(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(t){return Co(this.persistence,new To,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){const r=this.persistence.referenceDelegate.garbageCollector;return new Gs(r,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const r=new mt(e,this.persistence);return new pt(t.asyncQueue,r)}createPersistence(t){const e=Mo(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new Eo(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,sa(),oa(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Xo}}class qu extends Vu{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.Vc.syncEngine;this.sharedClientState instanceof Yo&&(this.sharedClientState.syncEngine={jr:Ru.bind(null,e),zr:Nu.bind(null,e),Wr:Fu.bind(null,e),$i:Lu.bind(null,e),Qr:Pu.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Ii((async t=>{await async function(t,e){const r=w(t);if(Bu(r),ju(r),!0===e&&!0!==r.vc){const t=r.sharedClientState.getAllActiveQueryTargets(),e=await Ou(r,t.toArray());r.vc=!0,await za(r.remoteStore,!0);for(const t of e)ya(r.remoteStore,t)}else if(!1===e&&!1!==r.vc){const t=[];let e=Promise.resolve();r._c.forEach(((n,i)=>{r.sharedClientState.isLocalQueryTarget(i)?t.push(i):e=e.then((()=>(Eu(r,i),Lo(r.localStore,i,!0)))),va(r.remoteStore,i)})),await e,await Ou(r,t),function(t){const e=w(t);e.yc.forEach(((t,r)=>{va(e.remoteStore,r)})),e.Ic.Ts(),e.yc=new Map,e.gc=new Jt(q.comparator)}(r),r.vc=!1,await za(r.remoteStore,!1)}}(this.Vc.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start():t||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(t&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():t||this.indexBackfillerScheduler.stop())}))}createSharedClientState(t){const e=sa();if(!Yo.D(e))throw new E(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Mo(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Yo(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class Gu{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>gu(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Au.bind(null,this.syncEngine),await za(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Ya}createDatastore(t){const e=aa(t.databaseInfo.databaseId),r=(n=t.databaseInfo,new ia(n));var n;return function(t,e,r,n){return new fa(t,e,r,n)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,n=t.asyncQueue,i=t=>gu(this.syncEngine,t,0),s=Jo.D()?new Jo:new Qo,new pa(e,r,n,i,s);var e,r,n,i,s}createSyncEngine(t,e){return function(t,e,r,n,i,s,o){const a=new hu(t,e,r,n,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=w(t);p("RemoteStore","RemoteStore shutting down."),e.vu.add(5),await ga(e),e.Pu.shutdown(),e.bu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e=10240){let r=0;return{async read(){if(r<t.byteLength){const n={value:t.slice(r,r+e),done:!1};return r+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):m("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new S,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((t=>{t&&t.Qu()?this.metadata.resolve(t.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.Gu)}`))}),(t=>this.metadata.reject(t)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const t=await this.kc();if(null===t)return null;const e=this.xc.decode(t),r=Number(e);isNaN(r)&&this.Mc(`length string (${e}) is not valid number`);const n=await this.$c(r);return new ru(JSON.parse(n),t.length+r)}Oc(){return this.buffer.findIndex((t=>t==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const t=this.Oc();t<0&&this.Mc("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async $c(t){for(;this.buffer.length<t;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const e=this.xc.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}async Fc(){const t=await this.Cc.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new E(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const r=w(t),n=yi(r.serializer)+"/documents",i={documents:e.map((t=>di(r.serializer,t)))},s=await r.vo("BatchGetDocuments",n,i,e.length),o=new Map;s.forEach((t=>{const e=function(t,e){return"found"in e?function(t,e){b(!!e.found),e.found.name,e.found.updateTime;const r=pi(t,e.found.name),n=li(e.found.updateTime),i=e.found.createTime?li(e.found.createTime):B.min(),s=new Be({mapValue:{fields:e.found.fields}});return ze.newFoundDocument(r,n,i,s)}(t,e):"missing"in e?function(t,e){b(!!e.missing),b(!!e.readTime);const r=pi(t,e.missing),n=li(e.readTime);return ze.newNoDocument(r,n)}(t,e):v()}(r.serializer,t);o.set(e.key.toString(),e)}));const a=[];return e.forEach((t=>{const e=o.get(t.toString());b(!!e),a.push(e)})),a}(this.datastore,t);return e.forEach((t=>this.recordVersion(t))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new An(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((t,e)=>{const r=q.fromPath(e);this.mutations.push(new Cn(r,this.precondition(r)))})),await async function(t,e){const r=w(t),n=yi(r.serializer)+"/documents",i={writes:e.map((t=>_i(r.serializer,t)))};await r.Io("Commit",n,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw v();e=B.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new E(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(B.min())?mn.exists(!1):mn.updateTime(e):mn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(B.min()))throw new E(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(e)}return mn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,e,r,n,i){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=n,this.deferred=i,this.Bc=r.maxAttempts,this.qo=new ua(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const t=new Ku(this.datastore),e=this.qc(t);e&&e.then((e=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(e)})).catch((t=>{this.Uc(t)}))))})).catch((t=>{this.Uc(t)}))}))}qc(t){try{const e=this.updateFunction(t);return!yt(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Fn(e)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,e,r,n){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=n,this.user=l.UNAUTHENTICATED,this.clientId=O.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,(async t=>{p("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(r,(t=>(p("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Ga(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Qu(t,e){t.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const r=await t.getConfiguration();await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async t=>{n.isEqual(t)||(await Io(e.localStore,t),n=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Ju(t,e){t.asyncQueue.verifyOperationInProgress();const r=await tc(t);p("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(r,n),t.setCredentialChangeListener((t=>ja(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,r)=>ja(e.remoteStore,r))),t._onlineComponents=e}function Zu(t){return"FirebaseError"===t.name?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function tc(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){p("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qu(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Zu(r))throw r;g("Error using user provided cache. Falling back to memory cache: "+r),await Qu(t,new zu)}}else p("FirestoreClient","Using default OfflineComponentProvider"),await Qu(t,new zu);return t._offlineComponents}async function ec(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(p("FirestoreClient","Using user provided OnlineComponentProvider"),await Ju(t,t._uninitializedComponentsProvider._online)):(p("FirestoreClient","Using default OnlineComponentProvider"),await Ju(t,new Gu))),t._onlineComponents}function rc(t){return tc(t).then((t=>t.persistence))}function nc(t){return tc(t).then((t=>t.localStore))}function ic(t){return ec(t).then((t=>t.remoteStore))}function sc(t){return ec(t).then((t=>t.syncEngine))}function oc(t){return ec(t).then((t=>t.datastore))}async function ac(t){const e=await ec(t),r=e.eventManager;return r.onListen=fu.bind(null,e.syncEngine),r.onUnlisten=pu.bind(null,e.syncEngine),r}function uc(t,e,r={}){const n=new S;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,r,n,i){const s=new $u({next:s=>{e.enqueueAndForget((()=>Qa(t,o)));const a=s.docs.has(r);!a&&s.fromCache?i.reject(new E(_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&n&&"server"===n.source?i.reject(new E(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new eu(_r(r.path),s,{includeMetadataChanges:!0,Ku:!0});return Xa(t,o)}(await ac(t),t.asyncQueue,e,r,n))),n.promise}function cc(t,e,r={}){const n=new S;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,r,n,i){const s=new $u({next:r=>{e.enqueueAndForget((()=>Qa(t,o))),r.fromCache&&"server"===n.source?i.reject(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(r)},error:t=>i.reject(t)}),o=new eu(r,s,{includeMetadataChanges:!0,Ku:!0});return Xa(t,o)}(await ac(t),t.asyncQueue,e,r,n))),n.promise}function lc(t,e,r,n){const i=function(t,e){let r;return r="string"==typeof t?Un().encode(t):t,function(t,e){return new Wu(t,e)}(function(t,e){if(t instanceof Uint8Array)return Hu(t,e);if(t instanceof ArrayBuffer)return Hu(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(r),e)}(r,aa(e));t.asyncQueue.enqueueAndForget((async()=>{!function(t,e,r){const n=w(t);(async function(t,e,r){try{const n=await e.getMetadata();if(await function(t,e){const r=w(t),n=li(e.createTime);return r.persistence.runTransaction("hasNewerBundle","readonly",(t=>r.qs.getBundleMetadata(t,e.id))).then((t=>!!t&&t.createTime.compareTo(n)>=0))}(t.localStore,n))return await e.close(),r._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(n)),Promise.resolve(new Set);r._updateProgress(su(n));const i=new iu(n,t.localStore,e.serializer);let s=await e.bc();for(;s;){const t=await i.zu(s);t&&r._updateProgress(t),s=await e.bc()}const o=await i.complete();return await Tu(t,o.Ju,void 0),await function(t,e){const r=w(t);return r.persistence.runTransaction("Save bundle","readwrite",(t=>r.qs.saveBundleMetadata(t,e)))}(t.localStore,n),r._completeWith(o.progress),Promise.resolve(o.Hu)}catch(t){return g("SyncEngine",`Loading bundle failed with ${t}`),r._failWith(t),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(n,e,r).then((t=>{n.sharedClientState.notifyBundleLoaded(t)}))}(await sc(t),i,n)}))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hc(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const fc=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t,e,r){if(!r)throw new E(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pc(t,e,r,n){if(!0===e&&!0===n)throw new E(_.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function mc(t){if(!q.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gc(t){if(q.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":v()}function vc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=yc(t);throw new E(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function bc(t,e){if(e<=0)throw new E(_.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hc(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(e=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,e.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var e,r}}class _c{constructor(t,e,r,n){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wc(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new M;switch(t.type){case"firstParty":return new C(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new E(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=fc.get(t);e&&(p("ComponentProvider","Removing Datastore"),fc.delete(t),e.terminate())}(this),Promise.resolve()}}function Ec(t,e,r,n={}){var i;const s=(t=vc(t,_c))._getSettings(),o=`${e}:${r}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&g("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let e,r;if("string"==typeof n.mockUserToken)e=n.mockUserToken,r=l.MOCK_USER;else{e=a.createMockUserToken(n.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new E(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new l(s)}t._authCredentials=new k(new x(e,r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Sc(this.firestore,t,this._key)}}class xc{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xc(this.firestore,t,this._query)}}class Mc extends xc{constructor(t,e,r){super(t,e,_r(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Sc(this.firestore,null,new q(t))}withConverter(t){return new Mc(this.firestore,t,this._path)}}function kc(t,e,...r){if(t=a.getModularInstance(t),1===arguments.length&&(e=O.A()),dc("doc","path",e),t instanceof _c){const n=z.fromString(e,...r);return mc(n),new Sc(t,null,new q(n))}{if(!(t instanceof Sc||t instanceof Mc))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(z.fromString(e,...r));return mc(n),new Sc(t.firestore,t instanceof Mc?t.converter:null,new q(n))}}function Tc(t,e){return t=a.getModularInstance(t),e=a.getModularInstance(e),t instanceof xc&&e instanceof xc&&t.firestore===e.firestore&&Ir(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ac{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ua(this,"async_queue_retry"),this.Xc=()=>{const t=oa();t&&p("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const t=oa();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=oa();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise((()=>{}));const e=new S;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Qc.push(t),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!ct(t))throw t;p("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(t){const e=this.Gc.then((()=>(this.Hc=!0,t().catch((t=>{this.Wc=t,this.Hc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);throw m("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Hc=!1,t))))));return this.Gc=e,e}enqueueAfterDelay(t,e,r){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const n=qa.createAndSchedule(this,t,e,r,(t=>this.na(t)));return this.zc.push(n),n}Zc(){this.Wc&&v()}verifyOperationInProgress(){}async sa(){let t;do{t=this.Gc,await t}while(t!==this.Gc)}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then((()=>{this.zc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()}))}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function Cc(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const t of["next","error","complete"])if(t in r&&"function"==typeof r[t])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)}class Ic{constructor(){this._progressObserver={},this._taskCompletionResolver=new S,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends _c{constructor(t,e,r,n){super(t,e,r,n),this.type="firestore",this._queue=new Ac,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Oc(this),this._firestoreClient.terminate()}}function Rc(t){return t._firestoreClient||Oc(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Oc(t){var e,r,n;const i=t._freezeSettings(),s=function(t,e,r,n){return new pe(t,e,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,hc(n.experimentalLongPollingOptions),n.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Xu(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(r=i.cache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=i.cache)||void 0===n?void 0:n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Dc(t,e,r){const n=new S;return t.asyncQueue.enqueue((async()=>{try{await Qu(t,r),await Ju(t,e),n.resolve()}catch(t){const e=t;if(!Zu(e))throw e;g("Error enabling indexeddb cache. Falling back to memory cache: "+e),n.reject(e)}})).then((()=>n.promise))}function Lc(t){if(t._initialized||t._terminated)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t="count",e){this._aggregateType=t,this._internalFieldPath=e,this.type="AggregateField"}}class Fc{constructor(t,e,r){this._userDataWriter=e,this._data=r,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bc(oe.fromBase64String(t))}catch(t){throw new E(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Bc(oe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new V(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zc{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return D(this._lat,t._lat)||D(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=/^__.*__$/;class qc{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new xn(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sn(t,this.data,e,this.fieldTransforms)}}class Gc{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new xn(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Hc(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}class $c{constructor(t,e,r,n,i,s){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new $c(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.aa({path:r,la:!1});return n.fa(t),n}da(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.aa({path:r,la:!1});return n.ua(),n}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return fl(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(Hc(this.ca)&&Vc.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Wc{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||aa(t)}ya(t,e,r,n=!1){return new $c({ca:t,methodName:e,ga:r,path:V.emptyPath(),la:!1,ma:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(t){const e=t._freezeSettings(),r=aa(t._databaseId);return new Wc(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Yc(t,e,r,n,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,r,i);ul("Data must be an object, but it was:",o,n);const a=ol(n,o);let u,c;if(s.merge)u=new ie(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const n of s.mergeFields){const i=cl(e,n,r);if(!o.contains(i))throw new E(_.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);dl(t,i)||t.push(i)}u=new ie(t),c=o.fieldTransforms.filter((t=>u.covers(t.field)))}else u=null,c=o.fieldTransforms;return new qc(new Be(a),u,c)}class Xc extends zc{_toFieldTransform(t){if(2!==t.ca)throw 1===t.ca?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xc}}function Qc(t,e,r){return new $c({ca:3,ga:e.settings.ga,methodName:t._methodName,la:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jc extends zc{_toFieldTransform(t){return new dn(t.path,new sn)}isEqual(t){return t instanceof Jc}}class Zc extends zc{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=Qc(this,t,!0),r=this.pa.map((t=>sl(t,e))),n=new on(r);return new dn(t.path,n)}isEqual(t){return this===t}}class tl extends zc{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=Qc(this,t,!0),r=this.pa.map((t=>sl(t,e))),n=new un(r);return new dn(t.path,n)}isEqual(t){return this===t}}class el extends zc{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new ln(t.serializer,Zr(t.serializer,this.Ia));return new dn(t.path,e)}isEqual(t){return this===t}}function rl(t,e,r,n){const i=t.ya(1,e,r);ul("Data must be an object, but it was:",i,n);const s=[],o=Be.empty();Xt(n,((t,n)=>{const u=hl(e,t,r);n=a.getModularInstance(n);const c=i.da(u);if(n instanceof Xc)s.push(u);else{const t=sl(n,c);null!=t&&(s.push(u),o.set(u,t))}}));const u=new ie(s);return new Gc(o,u,i.fieldTransforms)}function nl(t,e,r,n,i,s){const o=t.ya(1,e,r),u=[cl(e,n,r)],c=[i];if(s.length%2!=0)throw new E(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<s.length;t+=2)u.push(cl(e,s[t])),c.push(s[t+1]);const l=[],h=Be.empty();for(let t=u.length-1;t>=0;--t)if(!dl(l,u[t])){const e=u[t];let r=c[t];r=a.getModularInstance(r);const n=o.da(e);if(r instanceof Xc)l.push(e);else{const t=sl(r,n);null!=t&&(l.push(e),h.set(e,t))}}const f=new ie(l);return new Gc(h,f,o.fieldTransforms)}function il(t,e,r,n=!1){return sl(r,t.ya(n?4:3,e))}function sl(t,e){if(al(t=a.getModularInstance(t)))return ul("Unsupported field value:",e,t),ol(t,e);if(t instanceof zc)return function(t,e){if(!Hc(e.ca))throw e._a(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(e);r&&e.fieldTransforms.push(r)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,e){const r=[];let n=0;for(const i of t){let t=sl(i,e.wa(n));null==t&&(t={nullValue:"NULL_VALUE"}),r.push(t),n++}return{arrayValue:{values:r}}}(t,e)}return function(t,e){if(null===(t=a.getModularInstance(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zr(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=F.fromDate(t);return{timestampValue:ai(e.serializer,r)}}if(t instanceof F){const r=new F(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ai(e.serializer,r)}}if(t instanceof Uc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bc)return{bytesValue:ui(e.serializer,t._byteString)};if(t instanceof Sc){const r=e.databaseId,n=t.firestore._databaseId;if(!n.isEqual(r))throw e._a(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:hi(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e._a(`Unsupported field value: ${yc(t)}`)}(t,e)}function ol(t,e){const r={};return Qt(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xt(t,((t,n)=>{const i=sl(n,e.ha(t));null!=i&&(r[t]=i)})),{mapValue:{fields:r}}}function al(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof F||t instanceof Uc||t instanceof Bc||t instanceof Sc||t instanceof zc)}function ul(t,e,r){if(!al(r)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(r)){const n=yc(r);throw"an object"===n?e._a(t+" a custom object"):e._a(t+" "+n)}}function cl(t,e,r){if((e=a.getModularInstance(e))instanceof jc)return e._internalPath;if("string"==typeof e)return hl(t,e);throw fl("Field path arguments must be of type string or ",t,!1,void 0,r)}const ll=new RegExp("[~\\*/\\[\\]]");function hl(t,e,r){if(e.search(ll)>=0)throw fl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new jc(...e.split("."))._internalPath}catch(n){throw fl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function fl(t,e,r,n,i){const s=n&&!n.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new E(_.INVALID_ARGUMENT,a+t+u)}function dl(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,e,r,n,i){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new ml(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gl("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class ml extends pl{data(){return super.data()}}function gl(t,e){return"string"==typeof e?hl(t,e):e instanceof jc?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new E(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vl{}class bl extends vl{}class wl extends bl{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new wl(t,e,r)}_apply(t){const e=this._parse(t);return Cl(t._query,e),new xc(t.firestore,t.converter,Ar(t._query,e))}_parse(t){const e=Kc(t.firestore),r=function(t,e,r,n,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new E(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Al(o,s);const e=[];for(const r of o)e.push(Tl(n,t,r));a={arrayValue:{values:e}}}else a=Tl(n,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Al(o,s),a=il(r,"where",o,"in"===s||"not-in"===s);return We.create(i,s,a)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value);return r}}class _l extends vl{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new _l(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:Ke.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let r=t;const n=e.getFlattenedFilters();for(const t of n)Cl(r,t),r=Ar(r,t)}(t._query,e),new xc(t.firestore,t.converter,Ar(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class El extends bl{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new El(t,e)}_apply(t){const e=function(t,e,r){if(null!==t.startAt)throw new E(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new E(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const n=new Ge(e,r);return function(t,e){if(null===Sr(t)){const r=xr(t);null!==r&&Il(t,r,e.field)}}(t,n),n}(t._query,this._field,this._direction);return new xc(t.firestore,t.converter,function(t,e){const r=t.explicitOrderBy.concat([e]);return new br(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class Sl extends bl{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new Sl(t,e,r)}_apply(t){return new xc(t.firestore,t.converter,Cr(t._query,this._limit,this._limitType))}}class xl extends bl{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new xl(t,e,r)}_apply(t){const e=kl(t,this.type,this._docOrFields,this._inclusive);return new xc(t.firestore,t.converter,function(t,e){return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}class Ml extends bl{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new Ml(t,e,r)}_apply(t){const e=kl(t,this.type,this._docOrFields,this._inclusive);return new xc(t.firestore,t.converter,function(t,e){return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function kl(t,e,r,n){if(r[0]=a.getModularInstance(r[0]),r[0]instanceof pl)return function(t,e,r,n,i){if(!n)throw new E(_.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${r}().`);const s=[];for(const r of kr(t))if(r.field.isKeyField())s.push(ke(e,n.key));else{const t=n.data.field(r.field);if(he(t))throw new E(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+r.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=r.field.canonicalString();throw new E(_.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new Ue(s,i)}(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=Kc(t.firestore);return function(t,e,r,n,i,s){const o=t.explicitOrderBy;if(i.length>o.length)throw new E(_.INVALID_ARGUMENT,`Too many arguments provided to ${n}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const u=i[s];if(o[s].field.isKeyField()){if("string"!=typeof u)throw new E(_.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${n}(), but got a ${typeof u}`);if(!Mr(t)&&-1!==u.indexOf("/"))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${n}() must be a plain document ID, but '${u}' contains a slash.`);const r=t.path.child(z.fromString(u));if(!q.isDocumentKey(r))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${n}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);const i=new q(r);a.push(ke(e,i))}else{const t=il(r,n,u);a.push(t)}}return new Ue(a,s)}(t._query,t.firestore._databaseId,i,e,r,n)}}function Tl(t,e,r){if("string"==typeof(r=a.getModularInstance(r))){if(""===r)throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mr(e)&&-1!==r.indexOf("/"))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(z.fromString(r));if(!q.isDocumentKey(n))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ke(t,new q(n))}if(r instanceof Sc)return ke(t,r._key);throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yc(r)}.`)}function Al(t,e){if(!Array.isArray(t)||0===t.length)throw new E(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cl(t,e){if(e.isInequality()){const r=xr(t),n=e.field;if(null!==r&&!r.isEqual(n))throw new E(_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${n.toString()}'`);const i=Sr(t);null!==i&&Il(t,n,i)}const r=function(t,e){for(const r of t)for(const t of r.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw r===e.op?new E(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new E(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function Il(t,e,r){if(!r.isEqual(e))throw new E(_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}function Pl(t,e){if(!(e instanceof wl||e instanceof _l))throw new E(_.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Rl{convertValue(t,e="none"){switch(ve(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(le(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw v()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Xt(t,((t,n)=>{r[t]=this.convertValue(n,e)})),r}convertGeoPoint(t){return new Uc(ce(t.latitude),ce(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=fe(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(de(t));default:return null}}convertTimestamp(t){const e=ue(t);return new F(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=z.fromString(t);b(Di(r));const n=new me(r.get(1),r.get(3)),i=new q(r.popFirst(5));return n.isEqual(e)||m(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Dl extends Rl{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sc(this.firestore,null,e)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(){return new Nc("count")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fl extends pl{constructor(t,e,r,n,i,s){super(t,e,r,n,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(gl("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Bl extends Fl{data(t={}){return super.data(t)}}class jl{constructor(t,e,r,n){this._firestore=t,this._userDataWriter=e,this._snapshot=n,this.metadata=new Nl(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Bl(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((r=>{const n=new Bl(t._firestore,t._userDataWriter,r.doc.key,r.doc,new Nl(t._snapshot.mutatedKeys.has(r.doc.key),t._snapshot.fromCache),t.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:e++}}))}{let r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const n=new Bl(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nl(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(r=r.add(e.doc),s=r.indexOf(e.doc.key)),{type:zl(e.type),doc:n,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zl(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}class Ul extends Rl{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sc(this.firestore,null,e)}}function Vl(t,e){return function(t,e){const r=new S;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,r){const n=ju(t);try{const t=await function(t,e){const r=w(t),n=F.now(),i=e.reduce(((t,e)=>t.add(e.key)),Kr());let s,o;return r.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=jr(),u=Kr();return r.Zi.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(u=u.add(t))}))})).next((()=>r.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=_n(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new xn(t.key,e,je(e.value.mapValue),mn.exists(!0)))}return r.mutationQueue.addMutationBatch(t,n,o,e)})).next((e=>{o=e;const n=e.applyToLocalDocumentSet(s,u);return r.documentOverlayCache.saveOverlays(t,e.batchId,n)}))})).then((()=>({batchId:o.batchId,changes:Vr(s)})))}(n.localStore,e);n.sharedClientState.addPendingMutation(t.batchId),function(t,e,r){let n=t.Tc[t.currentUser.toKey()];n||(n=new Jt(D)),n=n.insert(e,r),t.Tc[t.currentUser.toKey()]=n}(n,t.batchId,r),await Tu(n,t.changes),await Ia(n.remoteStore)}catch(t){const e=Ga(t,"Failed to persist write");r.reject(e)}}(await sc(t),e,r))),r.promise}(Rc(t),e)}function ql(t,e,r){const n=r.docs.get(e._key),i=new Ul(t);return new Fl(t,i,e._key,n,new Nl(r.hasPendingWrites,r.fromCache),e.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e){const r=vc(t.firestore,Pc),n=Rc(r),i=function(t,e){const r=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(e(t[n],n));return r}(e,((t,e)=>new On(e,t._aggregateType,t._internalFieldPath)));return function(t,e,r){const n=new S;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await oc(t);n.resolve(async function(t,e,r){var n;const i=w(t),{request:s,du:o}=function(t,e,r){const n=xi(t,e),i={},s=[];let o=0;return r.forEach((t=>{const e="aggregate_"+o++;i[e]=t.alias,"count"===t.yt?s.push({alias:e,count:{}}):"avg"===t.yt?s.push({alias:e,avg:{field:Ii(t.fieldPath)}}):"sum"===t.yt&&s.push({alias:e,sum:{field:Ii(t.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:n.structuredQuery},parent:n.parent},du:i}}(i.serializer,Tr(e),r),a=s.parent;i.connection.po||delete s.parent;const u=(await i.vo("RunAggregationQuery",a,s,1)).filter((t=>!!t.result));b(1===u.length);const c=null===(n=u[0].result)||void 0===n?void 0:n.aggregateFields;return Object.keys(c).reduce(((t,e)=>(t[o[e]]=c[e],t)),{})}(i,e,r))}catch(t){n.reject(t)}})),n.promise}(n,t._query,i).then((e=>function(t,e,r){const n=new Ul(t);return new Fc(e,n,r)}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,t,e)))}class Hl{constructor(t){this.kind="memory",this._onlineComponentProvider=new Gu,(null==t?void 0:t.garbageCollector)?this._offlineComponentProvider=t.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new zu}toJSON(){return{kind:this.kind}}}class $l{constructor(t){let e;this.kind="persistent",(null==t?void 0:t.tabManager)?(t.tabManager._initialize(t),e=t.tabManager):(e=Ql(void 0),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Wl{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new zu}toJSON(){return{kind:this.kind}}}class Kl{constructor(t){this.kind="memoryLru",this._offlineComponentProvider=new Uu(t)}toJSON(){return{kind:this.kind}}}class Yl{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=new Gu,this._offlineComponentProvider=new Vu(this._onlineComponentProvider,null==t?void 0:t.cacheSizeBytes,this.forceOwnership)}}class Xl{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=new Gu,this._offlineComponentProvider=new qu(this._onlineComponentProvider,null==t?void 0:t.cacheSizeBytes)}}function Ql(t){return new Yl(null==t?void 0:t.forceOwnership)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Jl={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Kc(t)}set(t,e,r){this._verifyNotCommitted();const n=th(t,this._firestore),i=Ol(n.converter,e,r),s=Yc(this._dataReader,"WriteBatch.set",n._key,i,null!==n.converter,r);return this._mutations.push(s.toMutation(n._key,mn.none())),this}update(t,e,r,...n){this._verifyNotCommitted();const i=th(t,this._firestore);let s;return s="string"==typeof(e=a.getModularInstance(e))||e instanceof jc?nl(this._dataReader,"WriteBatch.update",i._key,e,r,n):rl(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(s.toMutation(i._key,mn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=th(t,this._firestore);return this._mutations=this._mutations.concat(new An(e._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new E(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function th(t,e){if((t=a.getModularInstance(t)).firestore!==e)throw new E(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Kc(t)}get(t){const e=th(t,this._firestore),r=new Dl(this._firestore);return this._transaction.lookup([e._key]).then((t=>{if(!t||1!==t.length)return v();const n=t[0];if(n.isFoundDocument())return new pl(this._firestore,r,n.key,n,e.converter);if(n.isNoDocument())return new pl(this._firestore,r,e._key,null,e.converter);throw v()}))}set(t,e,r){const n=th(t,this._firestore),i=Ol(n.converter,e,r),s=Yc(this._dataReader,"Transaction.set",n._key,i,null!==n.converter,r);return this._transaction.set(n._key,s),this}update(t,e,r,...n){const i=th(t,this._firestore);let s;return s="string"==typeof(e=a.getModularInstance(e))||e instanceof jc?nl(this._dataReader,"Transaction.update",i._key,e,r,n):rl(this._dataReader,"Transaction.update",i._key,e),this._transaction.update(i._key,s),this}delete(t){const e=th(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=th(t,this._firestore),r=new Ul(this._firestore);return super.get(t).then((t=>new Fl(this._firestore,r,e._key,t._document,new Nl(!1,!1),e.converter)))}}function rh(t,e){if("string"!=typeof t[e])throw new E(_.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}!function(t,e=!0){!function(t){h=t}(i.SDK_VERSION),i._registerComponent(new s.Component("firestore",((t,{instanceIdentifier:r,options:n})=>{const i=t.getProvider("app").getImmediate(),s=new Pc(new T(t.getProvider("auth-internal")),new P(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new me(t.options.projectId,e)}(i,r),i);return n=Object.assign({useFetchStreams:e},n),s._setSettings(n),s}),"PUBLIC").setMultipleInstances(!0)),i.registerVersion(c,"3.13.0",t),i.registerVersion(c,"3.13.0","cjs2017")}(),e.AbstractUserDataWriter=Rl,e.AggregateField=Nc,e.AggregateQuerySnapshot=Fc,e.Bytes=Bc,e.CACHE_SIZE_UNLIMITED=-1,e.CollectionReference=Mc,e.DocumentReference=Sc,e.DocumentSnapshot=Fl,e.FieldPath=jc,e.FieldValue=zc,e.Firestore=Pc,e.FirestoreError=E,e.GeoPoint=Uc,e.LoadBundleTask=Ic,e.Query=xc,e.QueryCompositeFilterConstraint=_l,e.QueryConstraint=bl,e.QueryDocumentSnapshot=Bl,e.QueryEndAtConstraint=Ml,e.QueryFieldFilterConstraint=wl,e.QueryLimitConstraint=Sl,e.QueryOrderByConstraint=El,e.QuerySnapshot=jl,e.QueryStartAtConstraint=xl,e.SnapshotMetadata=Nl,e.Timestamp=F,e.Transaction=eh,e.WriteBatch=Zl,e._DatabaseId=me,e._DocumentKey=q,e._EmptyAppCheckTokenProvider=class{getToken(){return Promise.resolve(new I(""))}invalidateToken(){}start(t,e){}shutdown(){}},e._EmptyAuthCredentialsProvider=M,e._FieldPath=V,e._TestingHooks=jn,e._cast=vc,e._debugAssert=function(t,e){t||v()},e._isBase64Available=function(){return"undefined"!=typeof atob},e._logWarn=g,e._validateIsNotUsedTogether=pc,e.addDoc=function(t,e){const r=vc(t.firestore,Pc),n=kc(t),i=Ol(t.converter,e);return Vl(r,[Yc(Kc(t.firestore),"addDoc",n._key,i,null!==t.converter,{}).toMutation(n._key,mn.exists(!1))]).then((()=>n))},e.aggregateFieldEqual=function(t,e){var r,n;return t instanceof Nc&&e instanceof Nc&&t._aggregateType===e._aggregateType&&(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())===(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())},e.aggregateQuerySnapshotEqual=function(t,e){return Tc(t.query,e.query)&&a.deepEqual(t.data(),e.data())},e.and=function(...t){return t.forEach((t=>Pl("and",t))),_l._create("and",t)},e.arrayRemove=function(...t){return new tl("arrayRemove",t)},e.arrayUnion=function(...t){return new Zc("arrayUnion",t)},e.average=function(t){return new Nc("avg",cl("average",t))},e.clearIndexedDbPersistence=function(t){if(t._initialized&&!t._terminated)throw new E(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new S;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(t){if(!ot.D())return Promise.resolve();const e=t+"main";await ot.delete(e)}(Mo(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise},e.collection=function(t,e,...r){if(t=a.getModularInstance(t),dc("collection","path",e),t instanceof _c){const n=z.fromString(e,...r);return gc(n),new Mc(t,null,n)}{if(!(t instanceof Sc||t instanceof Mc))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(z.fromString(e,...r));return gc(n),new Mc(t.firestore,null,n)}},e.collectionGroup=function(t,e){if(t=vc(t,_c),dc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xc(t,null,function(t){return new br(z.emptyPath(),t)}(e))},e.connectFirestoreEmulator=Ec,e.count=Ll,e.deleteDoc=function(t){return Vl(vc(t.firestore,Pc),[new An(t._key,mn.none())])},e.deleteField=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){return new Xc("deleteField")},e.disableNetwork=function(t){return function(t){return t.asyncQueue.enqueue((async()=>{const e=await rc(t),r=await ic(t);return e.setNetworkEnabled(!1),async function(t){const e=w(t);e.vu.add(0),await ga(e),e.bu.set("Offline")}(r)}))}(Rc(t=vc(t,Pc)))},e.doc=kc,e.documentId=function(){return new jc("__name__")},e.enableIndexedDbPersistence=function(t,e){Lc(t=vc(t,Pc));const r=Rc(t);if(r._uninitializedComponentsProvider)throw new E(_.FAILED_PRECONDITION,"SDK cache is already specified.");g("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new Gu;return Dc(r,i,new Vu(i,n.cacheSizeBytes,null==e?void 0:e.forceOwnership))},e.enableMultiTabIndexedDbPersistence=function(t){Lc(t=vc(t,Pc));const e=Rc(t);if(e._uninitializedComponentsProvider)throw new E(_.FAILED_PRECONDITION,"SDK cache is already specified.");g("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),n=new Gu;return Dc(e,n,new qu(n,r.cacheSizeBytes))},e.enableNetwork=function(t){return function(t){return t.asyncQueue.enqueue((async()=>{const e=await rc(t),r=await ic(t);return e.setNetworkEnabled(!0),function(t){const e=w(t);return e.vu.delete(0),ma(e)}(r)}))}(Rc(t=vc(t,Pc)))},e.endAt=function(...t){return Ml._create("endAt",t,!0)},e.endBefore=function(...t){return Ml._create("endBefore",t,!1)},e.ensureFirestoreConfigured=Rc,e.executeWrite=Vl,e.getAggregateFromServer=Gl,e.getCountFromServer=function(t){return Gl(t,{count:Ll()})},e.getDoc=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){t=vc(t,Sc);const e=vc(t.firestore,Pc);return uc(Rc(e),t._key).then((r=>ql(e,t,r)))},e.getDocFromCache=function(t){t=vc(t,Sc);const e=vc(t.firestore,Pc),r=Rc(e),n=new Ul(e);return function(t,e){const r=new S;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,r){try{const n=await function(t,e){const r=w(t);return r.persistence.runTransaction("read document","readonly",(t=>r.localDocuments.getDocument(t,e)))}(t,e);n.isFoundDocument()?r.resolve(n):n.isNoDocument()?r.resolve(null):r.reject(new E(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const n=Ga(t,`Failed to get document '${e} from cache`);r.reject(n)}}(await nc(t),e,r))),r.promise}(r,t._key).then((r=>new Fl(e,n,t._key,r,new Nl(null!==r&&r.hasLocalMutations,!0),t.converter)))},e.getDocFromServer=function(t){t=vc(t,Sc);const e=vc(t.firestore,Pc);return uc(Rc(e),t._key,{source:"server"}).then((r=>ql(e,t,r)))},e.getDocs=function(t){t=vc(t,xc);const e=vc(t.firestore,Pc),r=Rc(e),n=new Ul(e);return yl(t._query),cc(r,t._query).then((r=>new jl(e,n,t,r)))},e.getDocsFromCache=function(t){t=vc(t,xc);const e=vc(t.firestore,Pc),r=Rc(e),n=new Ul(e);return function(t,e){const r=new S;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,r){try{const n=await No(t,e,!0),i=new uu(e,n.ir),s=i.sc(n.documents),o=i.applyChanges(s,!1);r.resolve(o.snapshot)}catch(t){const n=Ga(t,`Failed to execute query '${e} against cache`);r.reject(n)}}(await nc(t),e,r))),r.promise}(r,t._query).then((r=>new jl(e,n,t,r)))},e.getDocsFromServer=function(t){t=vc(t,xc);const e=vc(t.firestore,Pc),r=Rc(e),n=new Ul(e);return cc(r,t._query,{source:"server"}).then((r=>new jl(e,n,t,r)))},e.getFirestore=function(t,e){const r="object"==typeof t?t:i.getApp(),n="string"==typeof t?t:e||"(default)",s=i._getProvider(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const t=a.getDefaultEmulatorHostnameAndPort("firestore");t&&Ec(s,...t)}return s},e.increment=function(t){return new el("increment",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.initializeFirestore=function(t,e,r){r||(r="(default)");const n=i._getProvider(t,"firestore");if(n.isInitialized(r)){const t=n.getImmediate({identifier:r}),i=n.getOptions(r);if(a.deepEqual(i,e))return t;throw new E(_.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==e.cacheSizeBytes&&void 0!==e.localCache)throw new E(_.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==e.cacheSizeBytes&&-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e,instanceIdentifier:r})},e.limit=function(t){return bc("limit",t),Sl._create("limit",t,"F")},e.limitToLast=function(t){return bc("limitToLast",t),Sl._create("limitToLast",t,"L")},e.loadBundle=function(t,e){const r=Rc(t=vc(t,Pc)),n=new Ic;return lc(r,t._databaseId,e,n),n},e.memoryEagerGarbageCollector=function(){return new Wl},e.memoryLocalCache=function(t){return new Hl(t)},e.memoryLruGarbageCollector=function(t){return new Kl(null==t?void 0:t.cacheSizeBytes)},e.namedQuery=function(t,e){return function(t,e){return t.asyncQueue.enqueue((async()=>function(t,e){const r=w(t);return r.persistence.runTransaction("Get named query","readonly",(t=>r.qs.getNamedQuery(t,e)))}(await nc(t),e)))}(Rc(t=vc(t,Pc)),e).then((e=>e?new xc(t,null,e.query):null))},e.onSnapshot=function(t,...e){var r,n,i;t=a.getModularInstance(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Cc(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(Cc(e[o])){const t=e[o];e[o]=null===(r=t.next)||void 0===r?void 0:r.bind(t),e[o+1]=null===(n=t.error)||void 0===n?void 0:n.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let c,l,h;if(t instanceof Sc)l=vc(t.firestore,Pc),h=_r(t._key.path),c={next:r=>{e[o]&&e[o](ql(l,t,r))},error:e[o+1],complete:e[o+2]};else{const r=vc(t,xc);l=vc(r.firestore,Pc),h=r._query;const n=new Ul(l);c={next:t=>{e[o]&&e[o](new jl(l,n,r,t))},error:e[o+1],complete:e[o+2]},yl(t._query)}return function(t,e,r,n){const i=new $u(n),s=new eu(e,i,r);return t.asyncQueue.enqueueAndForget((async()=>Xa(await ac(t),s))),()=>{i.Dc(),t.asyncQueue.enqueueAndForget((async()=>Qa(await ac(t),s)))}}(Rc(l),h,u,c)},e.onSnapshotsInSync=function(t,e){return function(t,e){const r=new $u(e);return t.asyncQueue.enqueueAndForget((async()=>function(t,e){w(t).ku.add(e),e.next()}(await ac(t),r))),()=>{r.Dc(),t.asyncQueue.enqueueAndForget((async()=>function(t,e){w(t).ku.delete(e)}(await ac(t),r)))}}(Rc(t=vc(t,Pc)),Cc(e)?e:{next:e})},e.or=function(...t){return t.forEach((t=>Pl("or",t))),_l._create("or",t)},e.orderBy=function(t,e="asc"){const r=e,n=gl("orderBy",t);return El._create(n,r)},e.persistentLocalCache=function(t){return new $l(t)},e.persistentMultipleTabManager=function(){return new Xl},e.persistentSingleTabManager=Ql,e.query=function(t,e,...r){let n=[];e instanceof vl&&n.push(e),n=n.concat(r),function(t){const e=t.filter((t=>t instanceof _l)).length,r=t.filter((t=>t instanceof wl)).length;if(e>1||e>0&&r>0)throw new E(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);for(const e of n)t=e._apply(t);return t},e.queryEqual=Tc,e.refEqual=function(t,e){return t=a.getModularInstance(t),e=a.getModularInstance(e),(t instanceof Sc||t instanceof Mc)&&(e instanceof Sc||e instanceof Mc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter},e.runTransaction=function(t,e,r){t=vc(t,Pc);const n=Object.assign(Object.assign({},Jl),r);return function(t){if(t.maxAttempts<1)throw new E(_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(t,e,r){const n=new S;return t.asyncQueue.enqueueAndForget((async()=>{const i=await oc(t);new Yu(t.asyncQueue,i,r,e,n).run()})),n.promise}(Rc(t),(r=>e(new eh(t,r))),n)},e.serverTimestamp=function(){return new Jc("serverTimestamp")},e.setDoc=function(t,e,r){t=vc(t,Sc);const n=vc(t.firestore,Pc),i=Ol(t.converter,e,r);return Vl(n,[Yc(Kc(n),"setDoc",t._key,i,null!==t.converter,r).toMutation(t._key,mn.none())])},e.setIndexConfiguration=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){var r;const n=Rc(t=vc(t,Pc));if(!n._uninitializedComponentsProvider||"memory"===(null===(r=n._uninitializedComponentsProvider)||void 0===r?void 0:r._offlineKind))return g("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(t){const e="string"==typeof t?function(t){try{return JSON.parse(t)}catch(t){throw new E(_.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==t?void 0:t.message))}}(t):t,r=[];if(Array.isArray(e.indexes))for(const t of e.indexes){const e=rh(t,"collectionGroup"),n=[];if(Array.isArray(t.fields))for(const e of t.fields){const t=hl("setIndexConfiguration",rh(e,"fieldPath"));"CONTAINS"===e.arrayConfig?n.push(new K(t,2)):"ASCENDING"===e.order?n.push(new K(t,0)):"DESCENDING"===e.order&&n.push(new K(t,1))}r.push(new G(G.UNKNOWN_ID,e,n,X.empty()))}return r}(e);return function(t,e){return t.asyncQueue.enqueue((async()=>async function(t,e){const r=w(t),n=r.indexManager,i=[];return r.persistence.runTransaction("Configure indexes","readwrite",(t=>n.getFieldIndexes(t).next((r=>
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,r,n,i){t=[...t],e=[...e],t.sort(r),e.sort(r);const s=t.length,o=e.length;let a=0,u=0;for(;a<o&&u<s;){const s=r(t[u],e[a]);s<0?i(t[u++]):s>0?n(e[a++]):(a++,u++)}for(;a<o;)n(e[a++]);for(;u<s;)i(t[u++])}(r,e,W,(e=>{i.push(n.addFieldIndex(t,e))}),(e=>{i.push(n.deleteFieldIndex(t,e))})))).next((()=>it.waitFor(i)))))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(await nc(t),e)))}(n,i)},e.setLogLevel=function(t){f.setLogLevel(t)},e.snapshotEqual=function(t,e){return t instanceof Fl&&e instanceof Fl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jl&&e instanceof jl&&t._firestore===e._firestore&&Tc(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)},e.startAfter=function(...t){return xl._create("startAfter",t,!1)},e.startAt=function(...t){return xl._create("startAt",t,!0)},e.sum=function(t){return new Nc("sum",cl("sum",t))},e.terminate=function(t){return i._removeServiceInstance(t.app,"firestore",t._databaseId.database),t._delete()},e.updateDoc=function(t,e,r,...n){t=vc(t,Sc);const i=vc(t.firestore,Pc),s=Kc(i);let o;return o="string"==typeof(e=a.getModularInstance(e))||e instanceof jc?nl(s,"updateDoc",t._key,e,r,n):rl(s,"updateDoc",t._key,e),Vl(i,[o.toMutation(t._key,mn.exists(!0))])},e.waitForPendingWrites=function(t){return function(t){const e=new S;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e){const r=w(t);Sa(r.remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(t){const e=w(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(t=>e.mutationQueue.getHighestUnacknowledgedBatchId(t)))}(r.localStore);if(-1===t)return void e.resolve();const n=r.Ec.get(t)||[];n.push(e),r.Ec.set(t,n)}catch(t){const r=Ga(t,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}(await sc(t),e))),e.promise}(Rc(t=vc(t,Pc)))},e.where=function(t,e,r){const n=e,i=gl("where",t);return wl._create(i,n,r)},e.writeBatch=function(t){return Rc(t=vc(t,Pc)),new Zl(t,(e=>Vl(t,e)))}},97019:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i,s=r(97582),o=[];
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.LogLevel=void 0,(i=e.LogLevel||(e.LogLevel={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var a={debug:e.LogLevel.DEBUG,verbose:e.LogLevel.VERBOSE,info:e.LogLevel.INFO,warn:e.LogLevel.WARN,error:e.LogLevel.ERROR,silent:e.LogLevel.SILENT},u=e.LogLevel.INFO,c=((n={})[e.LogLevel.DEBUG]="log",n[e.LogLevel.VERBOSE]="log",n[e.LogLevel.INFO]="info",n[e.LogLevel.WARN]="warn",n[e.LogLevel.ERROR]="error",n),l=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));console[o].apply(console,s.__spreadArray(["[".concat(i,"]  ").concat(t.name,":")],r,!1))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in e.LogLevel))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,e.LogLevel.DEBUG],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,e.LogLevel.DEBUG],t,!1))},t.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,e.LogLevel.VERBOSE],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,e.LogLevel.VERBOSE],t,!1))},t.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,e.LogLevel.INFO],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,e.LogLevel.INFO],t,!1))},t.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,e.LogLevel.WARN],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,e.LogLevel.WARN],t,!1))},t.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,e.LogLevel.ERROR],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,e.LogLevel.ERROR],t,!1))},t}();e.Logger=h,e.setLogLevel=function(t){o.forEach((function(e){e.setLogLevel(t)}))},e.setUserLogHandler=function(t,r){for(var n=function(n){var i=null;r&&r.level&&(i=a[r.level]),n.userLogHandler=null===t?null:function(r,n){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=s.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:r.logLevel)&&t({level:e.LogLevel[n].toLowerCase(),message:a,args:s,type:r.name})}},i=0,s=o;i<s.length;i++){n(s[i])}}},31313:(t,e,r)=>{"use strict";var n=r(34155);Object.defineProperty(e,"__esModule",{value:!0});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++n)),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let e=0;e<t.length;e+=3){const i=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,u=a?t[e+2]:0,c=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|u>>6,f=63&u;a||(f=64,s||(h=64)),n.push(r[c],r[l],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let e=0;e<t.length;){const i=r[t.charAt(e++)],s=e<t.length?r[t.charAt(e)]:0;++e;const o=e<t.length?r[t.charAt(e)]:64;++e;const a=e<t.length?r[t.charAt(e)]:64;if(++e,null==i||null==s||null==o||null==a)throw new c;const u=i<<2|s>>4;if(n.push(u),64!==o){const t=s<<4&240|o>>2;if(n.push(t),64!==a){const t=o<<6&192|a;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(t){const e=a(t);return u.encodeByteArray(e,!0)},h=function(t){return l(t).replace(/\./g,"")},f=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)e.hasOwnProperty(r)&&"__proto__"!==r&&(t[r]=d(t[r],e[r]));return t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m=()=>{try{return p().__FIREBASE_DEFAULTS__||(()=>{if(void 0===n||void 0==={ENV:"production",BABEL_ENV:"production",BFF_EXTENSION:"https://api-extension.meliuz.com.br",AZION_FF_ROUTE:"https://api-extension-ff.meliuz.com.br",BFF_CUSTOMER_CARD:"https://api-customer.cartaomeliuz.com.br",MELIUZ_URL:"https://www.meliuz.com.br",STATIC_MELIUZ:"https://static.meliuz.com.br/",FIREBASE_KEY:"AIzaSyCbK3JbSljRUhsYFQwesv4-ekZKKgNMV40",FIREBASE_ID:"lembrador-e49af",CLIENT_SECRET:"8b979018cdab447f6733b76bb75e493c6b93103d",CLIENT_ID_BFF:"meliuz-extension-production",CLIENT_SECRET_BFF:"zC73dgg9KMuXyCUGLRyL12yn7bnC1R",GA_TRACKING_ID:"UA-26865030-3",GA_TRACKING_ID_SITE:"UA-26865030-1",CUSTOM_REQUESTS_HEADER:"X-Meliuz-Client",GCP_FUNCTIONS_URL:"https://us-central1-meliuz-traceability-prd.cloudfunctions.net/predict",CLOUD_FUNCTION_PROJECT:"e49af",ANODOT_ID:"8dfc79c8af290de422fd975b9b04ee80",SENTRY_DSN:"https://91ef845682c34dd1b776781f0ee7d4bb@o51760.ingest.sentry.io/4505133381713920",SENTRY_TRACES_SAMPLE_RATE:"1.0",GA4_API_SECRET:"Dxk9AwQzS5qvLbkJTvAmgw",GA4_MEASUREMENT_ID:"G-W2B9H0ZM8H",GA4_ENDPOINT:"https://www.google-analytics.com/mp/collect"})return;const t={ENV:"production",BABEL_ENV:"production",BFF_EXTENSION:"https://api-extension.meliuz.com.br",AZION_FF_ROUTE:"https://api-extension-ff.meliuz.com.br",BFF_CUSTOMER_CARD:"https://api-customer.cartaomeliuz.com.br",MELIUZ_URL:"https://www.meliuz.com.br",STATIC_MELIUZ:"https://static.meliuz.com.br/",FIREBASE_KEY:"AIzaSyCbK3JbSljRUhsYFQwesv4-ekZKKgNMV40",FIREBASE_ID:"lembrador-e49af",CLIENT_SECRET:"8b979018cdab447f6733b76bb75e493c6b93103d",CLIENT_ID_BFF:"meliuz-extension-production",CLIENT_SECRET_BFF:"zC73dgg9KMuXyCUGLRyL12yn7bnC1R",GA_TRACKING_ID:"UA-26865030-3",GA_TRACKING_ID_SITE:"UA-26865030-1",CUSTOM_REQUESTS_HEADER:"X-Meliuz-Client",GCP_FUNCTIONS_URL:"https://us-central1-meliuz-traceability-prd.cloudfunctions.net/predict",CLOUD_FUNCTION_PROJECT:"e49af",ANODOT_ID:"8dfc79c8af290de422fd975b9b04ee80",SENTRY_DSN:"https://91ef845682c34dd1b776781f0ee7d4bb@o51760.ingest.sentry.io/4505133381713920",SENTRY_TRACES_SAMPLE_RATE:"1.0",GA4_API_SECRET:"Dxk9AwQzS5qvLbkJTvAmgw",GA4_MEASUREMENT_ID:"G-W2B9H0ZM8H",GA4_ENDPOINT:"https://www.google-analytics.com/mp/collect"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&f(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},g=t=>{var e,r;return null===(r=null===(e=m())||void 0===e?void 0:e.emulatorHosts)||void 0===r?void 0:r[t]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,r))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){var t;const e=null===(t=m())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(t){return!1}}class w extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},n=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(E,((t,r)=>{const n=e[r];return null!=n?String(n):`<${r}?>`}))}(i,r):"Error",o=`${this.serviceName}: ${s} (${n}).`;return new w(n,o,r)}}const E=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(t){return JSON.parse(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const x=function(t){let e={},r={},n={},i="";try{const s=t.split(".");e=S(f(s[0])||""),r=S(f(s[1])||""),i=s[2],n=r.d||{},delete r.d}catch(t){}return{header:e,claims:r,data:n,signature:i}};function M(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,r){let n;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");n=function(t,e){if("object"!=typeof t||null===t)return!1;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r},void 0===n.next&&(n.next=T),void 0===n.error&&(n.error=T),void 0===n.complete&&(n.complete=T);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(t){}})),this.observers.push(n),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function T(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t,e){return`${t} failed: ${e} argument `}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const C=144e5;e.CONSTANTS=i,e.DecodeBase64StringError=c,e.Deferred=y,e.ErrorFactory=_,e.FirebaseError=w,e.MAX_VALUE_MILLIS=C,e.RANDOM_FACTOR=.5,e.Sha1=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const r=this.W_;if("string"==typeof t)for(let n=0;n<16;n++)r[n]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let n=0;n<16;n++)r[n]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let t=16;t<80;t++){const e=r[t-3]^r[t-8]^r[t-14]^r[t-16];r[t]=4294967295&(e<<1|e>>>31)}let n,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(let t=0;t<80;t++){t<40?t<20?(n=u^o&(a^u),i=1518500249):(n=o^a^u,i=1859775393):t<60?(n=o&a|u&(o|a),i=2400959708):(n=o^a^u,i=3395469782);const e=(s<<5|s>>>27)+n+c+i+r[t]&4294967295;c=u,u=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const r=e-this.blockSize;let n=0;const i=this.buf_;let s=this.inbuf_;for(;n<e;){if(0===s)for(;n<=r;)this.compress_(t,n),n+=this.blockSize;if("string"==typeof t){for(;n<e;)if(i[s]=t.charCodeAt(n),++s,++n,s===this.blockSize){this.compress_(i),s=0;break}}else for(;n<e;)if(i[s]=t[n],++s,++n,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let t=this.blockSize-1;t>=56;t--)this.buf_[t]=255&e,e/=256;this.compress_(this.buf_);let r=0;for(let e=0;e<5;e++)for(let n=24;n>=0;n-=8)t[r]=this.chain_[e]>>n&255,++r;return t}},e.areCookiesEnabled=function(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.assert=s,e.assertionError=o,e.async=function(t,e){return(...r)=>{Promise.resolve(!0).then((()=>{t(...r)})).catch((t=>{e&&e(t)}))}},e.base64=u,e.base64Decode=f,e.base64Encode=l,e.base64urlEncodeWithoutPadding=h,e.calculateBackoffMillis=function(t,e=1e3,r=2){const n=e*Math.pow(r,t),i=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(C,n+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.contains=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createMockUserToken=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",n=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(s)),""].join(".")},e.createSubscribe=function(t,e){const r=new k(t,e);return r.subscribe.bind(r)},e.decode=x,e.deepCopy=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return d(void 0,t)},e.deepEqual=function t(e,r){if(e===r)return!0;const n=Object.keys(e),i=Object.keys(r);for(const s of n){if(!i.includes(s))return!1;const n=e[s],o=r[s];if(M(n)&&M(o)){if(!t(n,o))return!1}else if(n!==o)return!1}for(const t of i)if(!n.includes(t))return!1;return!0},e.deepExtend=d,e.errorPrefix=A,e.extractQuerystring=function(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)},e.getDefaultAppConfig=()=>{var t;return null===(t=m())||void 0===t?void 0:t.config},e.getDefaultEmulatorHost=g,e.getDefaultEmulatorHostnameAndPort=t=>{const e=g(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return"["===e[0]?[e.substring(1,r-1),n]:[e.substring(0,r),n]},e.getDefaults=m,e.getExperimentalSetting=t=>{var e;return null===(e=m())||void 0===e?void 0:e[`_${t}`]},e.getGlobal=p,e.getModularInstance=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return t&&t._delegate?t._delegate:t},e.getUA=v,e.isAdmin=function(t){const e=x(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return v().indexOf("Electron/")>=0},e.isEmpty=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){const t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){try{return"object"==typeof indexedDB}catch(t){return!1}},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())},e.isNode=b,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return v().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){const e=x(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){const e=x(t).claims,r=Math.floor((new Date).getTime()/1e3);let n=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?n=e.nbf:e.hasOwnProperty("iat")&&(n=e.iat),i=e.hasOwnProperty("exp")?e.exp:n+86400),!!r&&!!n&&!!i&&r>=n&&r<=i},e.issuedAtTime=function(t){const e=x(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=S,e.map=function(t,e,r){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e.call(r,t[i],i,t));return n},e.ordinal=function(t){return Number.isFinite(t)?t+function(t){t=Math.abs(t);const e=t%100;if(e>=10&&e<=20)return"th";const r=t%10;if(1===r)return"st";if(2===r)return"nd";if(3===r)return"rd";return"th"}(t):`${t}`},e.promiseWithTimeout=function(t,e=2e3){const r=new y;return setTimeout((()=>r.reject("timeout!")),e),t.then(r.resolve,r.reject),r.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.querystring=function(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach((t=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[r,n]=t.split("=");e[decodeURIComponent(r)]=decodeURIComponent(n)}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e},e.stringToByteArray=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i>=55296&&i<=56319){const e=i-55296;n++,s(n<t.length,"Surrogate pair missing trail surrogate.");i=65536+(e<<10)+(t.charCodeAt(n)-56320)}i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):i<65536?(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},e.validateArgCount=function(t,e,r,n){let i;if(n<e?i="at least "+e:n>r&&(i=0===r?"none":"no more than "+r),i){throw new Error(t+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+i+".")}},e.validateCallback=function(t,e,r,n){if((!n||r)&&"function"!=typeof r)throw new Error(A(t,e)+"must be a valid function.")},e.validateContextObject=function(t,e,r,n){if((!n||r)&&("object"!=typeof r||null===r))throw new Error(A(t,e)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise(((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))},e.validateNamespace=function(t,e,r){if((!r||e)&&"string"!=typeof e)throw new Error(A(t,"namespace")+"must be a valid firebase namespace.")}},43582:(t,e,r)=>{(function(){var e;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if(e)return e.call(t);if("number"==typeof t.length)return{next:n(t)};throw Error(String(t)+" is not an iterable or ArrayLike")}var s="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e},o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){return t==Array.prototype||t==Object.prototype||(t[e]=r.value),t};var a,u=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof r.g&&r.g];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function c(t,e){if(e)t:{var r=u;t=t.split(".");for(var n=0;n<t.length-1;n++){var i=t[n];if(!(i in r))break t;r=r[i]}(e=e(n=r[t=t[t.length-1]]))!=n&&null!=e&&o(r,t,{configurable:!0,writable:!0,value:e})}}if("function"==typeof Object.setPrototypeOf)a=Object.setPrototypeOf;else{var l;t:{var h={};try{h.__proto__={a:!0},l=h.a;break t}catch(U){}l=!1}a=l?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var f=a;function d(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function p(t,e){t instanceof String&&(t+="");var r=0,n=!1,i={next:function(){if(!n&&r<t.length){var i=r++;return{value:e(i,t[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function m(t,e){return Object.prototype.hasOwnProperty.call(t,e)}c("Symbol",(function(t){function e(t,e){this.g=t,o(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",n=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(r+(i||"")+"_"+n++,i)}})),c("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<e.length;r++){var i=u[e[r]];"function"==typeof i&&"function"!=typeof i.prototype[t]&&o(i.prototype,t,{configurable:!0,writable:!0,value:function(){return d(n(this))}})}return t})),c("Promise",(function(t){function e(t){this.g=0,this.i=void 0,this.h=[],this.o=!1;var e=this.j();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.g=null}function n(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.h=function(t){if(null==this.g){this.g=[];var e=this;this.i((function(){e.l()}))}this.g.push(t)};var s=u.setTimeout;r.prototype.i=function(t){s(t,0)},r.prototype.l=function(){for(;this.g&&this.g.length;){var t=this.g;this.g=[];for(var e=0;e<t.length;++e){var r=t[e];t[e]=null;try{r()}catch(t){this.j(t)}}}this.g=null},r.prototype.j=function(t){this.i((function(){throw t}))},e.prototype.j=function(){function t(t){return function(n){r||(r=!0,t.call(e,n))}}var e=this,r=!1;return{resolve:t(this.B),reject:t(this.l)}},e.prototype.B=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.D(t);else{t:switch(typeof t){case"object":var r=null!=t;break t;case"function":r=!0;break t;default:r=!1}r?this.A(t):this.m(t)}},e.prototype.A=function(t){var e=void 0;try{e=t.then}catch(t){return void this.l(t)}"function"==typeof e?this.G(e,t):this.m(t)},e.prototype.l=function(t){this.s(2,t)},e.prototype.m=function(t){this.s(1,t)},e.prototype.s=function(t,e){if(0!=this.g)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.g);this.g=t,this.i=e,2===this.g&&this.C(),this.u()},e.prototype.C=function(){var t=this;s((function(){if(t.v()){var e=u.console;void 0!==e&&e.error(t.i)}}),1)},e.prototype.v=function(){if(this.o)return!1;var t=u.CustomEvent,e=u.Event,r=u.dispatchEvent;return void 0===r||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof e?t=new e("unhandledrejection",{cancelable:!0}):(t=u.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.i,r(t))},e.prototype.u=function(){if(null!=this.h){for(var t=0;t<this.h.length;++t)o.h(this.h[t]);this.h=null}};var o=new r;return e.prototype.D=function(t){var e=this.j();t.la(e.resolve,e.reject)},e.prototype.G=function(t,e){var r=this.j();try{t.call(e,r.resolve,r.reject)}catch(t){r.reject(t)}},e.prototype.then=function(t,r){function n(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){s(t)}}:e}var i,s,o=new e((function(t,e){i=t,s=e}));return this.la(n(t,i),n(r,s)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.la=function(t,e){function r(){switch(n.g){case 1:t(n.i);break;case 2:e(n.i);break;default:throw Error("Unexpected state: "+n.g)}}var n=this;null==this.h?o.h(r):this.h.push(r),this.o=!0},e.resolve=n,e.reject=function(t){return new e((function(e,r){r(t)}))},e.race=function(t){return new e((function(e,r){for(var s=i(t),o=s.next();!o.done;o=s.next())n(o.value).la(e,r)}))},e.all=function(t){var r=i(t),s=r.next();return s.done?n([]):new e((function(t,e){function i(e){return function(r){o[e]=r,0==--a&&t(o)}}var o=[],a=0;do{o.push(void 0),a++,n(s.value).la(i(o.length-1),e),s=r.next()}while(!s.done)}))},e})),c("Array.prototype.values",(function(t){return t||function(){return p(this,(function(t,e){return e}))}})),c("Array.prototype.keys",(function(t){return t||function(){return p(this,(function(t){return t}))}})),c("WeakMap",(function(t){function e(t){if(this.g=(c+=Math.random()+1).toString(),t){t=i(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function r(){}function n(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}function s(t){if(!m(t,u)){var e=new r;o(t,u,{value:e})}}function a(t){var e=Object[t];e&&(Object[t]=function(t){return t instanceof r?t:(Object.isExtensible(t)&&s(t),e(t))})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),r=Object.seal({}),n=new t([[e,2],[r,3]]);return 2==n.get(e)&&3==n.get(r)&&(n.delete(e),n.set(r,4),!n.has(e)&&4==n.get(r))}catch(t){return!1}}())return t;var u="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var c=0;return e.prototype.set=function(t,e){if(!n(t))throw Error("Invalid WeakMap key");if(s(t),!m(t,u))throw Error("WeakMap key fail: "+t);return t[u][this.g]=e,this},e.prototype.get=function(t){return n(t)&&m(t,u)?t[u][this.g]:void 0},e.prototype.has=function(t){return n(t)&&m(t,u)&&m(t[u],this.g)},e.prototype.delete=function(t){return!!(n(t)&&m(t,u)&&m(t[u],this.g))&&delete t[u][this.g]},e})),c("Map",(function(t){function e(){var t={};return t.V=t.next=t.head=t}function r(t,e){var r=t.g;return d((function(){if(r){for(;r.head!=t.g;)r=r.V;for(;r.next!=r.head;)return r=r.next,{done:!1,value:e(r)};r=null}return{done:!0,value:void 0}}))}function n(t,e){var r=e&&typeof e;"object"==r||"function"==r?o.has(e)?r=o.get(e):(r=""+ ++a,o.set(e,r)):r="p_"+e;var n=t.h[r];if(n&&m(t.h,r))for(t=0;t<n.length;t++){var i=n[t];if(e!=e&&i.key!=i.key||e===i.key)return{id:r,list:n,index:t,K:i}}return{id:r,list:n,index:-1,K:void 0}}function s(t){if(this.h={},this.g=e(),this.size=0,t){t=i(t);for(var r;!(r=t.next()).done;)r=r.value,this.set(r[0],r[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),r=new t(i([[e,"s"]]));if("s"!=r.get(e)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var n=r.entries(),s=n.next();return!s.done&&s.value[0]==e&&"s"==s.value[1]&&!((s=n.next()).done||4!=s.value[0].x||"t"!=s.value[1]||!n.next().done)}catch(t){return!1}}())return t;var o=new WeakMap;s.prototype.set=function(t,e){var r=n(this,t=0===t?0:t);return r.list||(r.list=this.h[r.id]=[]),r.K?r.K.value=e:(r.K={next:this.g,V:this.g.V,head:this.g,key:t,value:e},r.list.push(r.K),this.g.V.next=r.K,this.g.V=r.K,this.size++),this},s.prototype.delete=function(t){return!(!(t=n(this,t)).K||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.h[t.id],t.K.V.next=t.K.next,t.K.next.V=t.K.V,t.K.head=null,this.size--,!0)},s.prototype.clear=function(){this.h={},this.g=this.g.V=e(),this.size=0},s.prototype.has=function(t){return!!n(this,t).K},s.prototype.get=function(t){return(t=n(this,t).K)&&t.value},s.prototype.entries=function(){return r(this,(function(t){return[t.key,t.value]}))},s.prototype.keys=function(){return r(this,(function(t){return t.key}))},s.prototype.values=function(){return r(this,(function(t){return t.value}))},s.prototype.forEach=function(t,e){for(var r,n=this.entries();!(r=n.next()).done;)r=r.value,t.call(e,r[1],r[0],this)},s.prototype[Symbol.iterator]=s.prototype.entries;var a=0;return s})),c("Array.prototype.find",(function(t){return t||function(t,e){t:{var r=this;r instanceof String&&(r=String(r));for(var n=r.length,i=0;i<n;i++){var s=r[i];if(t.call(e,s,i,r)){t=s;break t}}t=void 0}return t}})),c("Array.prototype.entries",(function(t){return t||function(){return p(this,(function(t,e){return[t,e]}))}})),c("Array.from",(function(t){return t||function(t,e,r){e=null!=e?e:function(t){return t};var n=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if("function"==typeof i){t=i.call(t);for(var s=0;!(i=t.next()).done;)n.push(e.call(r,i.value,s++))}else for(i=t.length,s=0;s<i;s++)n.push(e.call(r,t[s],s));return n}})),c("Set",(function(t){function e(t){if(this.g=new Map,t){t=i(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.g.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),r=new t(i([e]));if(!r.has(e)||1!=r.size||r.add(e)!=r||1!=r.size||r.add({x:4})!=r||2!=r.size)return!1;var n=r.entries(),s=n.next();return!s.done&&s.value[0]==e&&s.value[1]==e&&(!(s=n.next()).done&&s.value[0]!=e&&4==s.value[0].x&&s.value[1]==s.value[0]&&n.next().done)}catch(t){return!1}}()?t:(e.prototype.add=function(t){return t=0===t?0:t,this.g.set(t,t),this.size=this.g.size,this},e.prototype.delete=function(t){return t=this.g.delete(t),this.size=this.g.size,t},e.prototype.clear=function(){this.g.clear(),this.size=0},e.prototype.has=function(t){return this.g.has(t)},e.prototype.entries=function(){return this.g.entries()},e.prototype.values=function(){return this.g.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var r=this;this.g.forEach((function(n){return t.call(e,n,n,r)}))},e)}));var g=g||{},y=this||self;function v(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function b(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function w(t){return Object.prototype.hasOwnProperty.call(t,_)&&t[_]||(t[_]=++E)}var _="closure_uid_"+(1e9*Math.random()>>>0),E=0;function S(t,e,r){return t.call.apply(t.bind,arguments)}function x(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function M(t,e,r){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:x).apply(null,arguments)}function k(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var e=r.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function T(t,e){function r(){}r.prototype=e.prototype,t.Z=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.dc=function(t,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[r].apply(t,i)}}function A(){0!=C&&(I[w(this)]=this),this.s=this.s,this.o=this.o}var C=0,I={};A.prototype.s=!1,A.prototype.va=function(){if(!this.s&&(this.s=!0,this.O(),0!=C)){var t=w(this);if(0!=C&&this.o&&0<this.o.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete I[t]}},A.prototype.O=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var P=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var r=0;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1};function R(t){var e=t.length;if(0<e){for(var r=Array(e),n=0;n<e;n++)r[n]=t[n];return r}return[]}function O(t,e){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(v(n)){var i=t.length||0,s=n.length||0;t.length=i+s;for(var o=0;o<s;o++)t[i+o]=n[o]}else t.push(n)}}function D(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{y.addEventListener("test",(function(){}),e),y.removeEventListener("test",(function(){}),e)}catch(t){}return t}();function N(t){return/^[\s\xa0]*$/.test(t)}function F(){var t=y.navigator;return t&&(t=t.userAgent)?t:""}function B(t){return-1!=F().indexOf(t)}function j(t){return j[" "](t),t}j[" "]=function(){};var z,U,V,q=B("Opera"),G=B("Trident")||B("MSIE"),H=B("Edge"),$=H||G,W=B("Gecko")&&!(-1!=F().toLowerCase().indexOf("webkit")&&!B("Edge"))&&!(B("Trident")||B("MSIE"))&&!B("Edge"),K=-1!=F().toLowerCase().indexOf("webkit")&&!B("Edge");function Y(){var t=y.document;return t?t.documentMode:void 0}t:{var X="",Q=(U=F(),W?/rv:([^\);]+)(\)|;)/.exec(U):H?/Edge\/([\d\.]+)/.exec(U):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):K?/WebKit\/(\S+)/.exec(U):q?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Q&&(X=Q?Q[1]:""),G){var J=Y();if(null!=J&&J>parseFloat(X)){z=String(J);break t}}z=X}if(y.document&&G){var Z=Y();V=Z||(parseInt(z,10)||void 0)}else V=void 0;var tt=V;function et(t,e){if(D.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==r?e=t.fromElement:"mouseout"==r&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&et.Z.h.call(this)}}T(et,D);var rt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),it=0;function st(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.oa=i,this.key=++it,this.ha=this.ka=!1}function ot(t){t.ha=!0,t.listener=null,t.proxy=null,t.src=null,t.oa=null}function at(t,e,r){for(var n in t)e.call(r,t[n],n,t)}function ut(t){var e,r={};for(e in t)r[e]=t[e];return r}var ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])t[r]=n[r];for(var s=0;s<ct.length;s++)r=ct[s],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function ht(t){this.src=t,this.g={},this.h=0}function ft(t,e){var r=e.type;if(r in t.g){var n,i=t.g[r],s=P(i,e);(n=0<=s)&&Array.prototype.splice.call(i,s,1),n&&(ot(e),0==t.g[r].length&&(delete t.g[r],t.h--))}}function dt(t,e,r,n){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ha&&s.listener==e&&s.capture==!!r&&s.oa==n)return i}return-1}ht.prototype.add=function(t,e,r,n,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=dt(t,e,n,i);return-1<o?(e=t[o],r||(e.ka=!1)):((e=new st(e,this.src,s,!!n,i)).ka=r,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),mt={};function gt(t,e,r,n,i){if(n&&n.once)return vt(t,e,r,n,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)gt(t,e[s],r,n,i);return null}return r=Mt(r),t&&t[nt]?t.P(e,r,b(n)?!!n.capture:!!n,i):yt(t,e,r,!1,n,i)}function yt(t,e,r,n,i,s){if(!e)throw Error("Invalid event type");var o=b(i)?!!i.capture:!!i,a=St(t);if(a||(t[pt]=a=new ht(t)),(r=a.add(e,r,n,o,s)).proxy)return r;if(n=function(){function t(r){return e.call(t.src,t.listener,r)}var e=Et;return t}(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)L||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return r}function vt(t,e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vt(t,e[s],r,n,i);return null}return r=Mt(r),t&&t[nt]?t.R(e,r,b(n)?!!n.capture:!!n,i):yt(t,e,r,!0,n,i)}function bt(t,e,r,n,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)bt(t,e[s],r,n,i);else n=b(n)?!!n.capture:!!n,r=Mt(r),t&&t[nt]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(r=dt(s=t.g[e],r,n,i))&&(ot(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=St(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,r,n,i)),(r=-1<t?e[t]:null)&&wt(r))}function wt(t){if("number"!=typeof t&&t&&!t.ha){var e=t.src;if(e&&e[nt])ft(e.i,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(_t(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=St(e))?(ft(r,t),0==r.h&&(r.src=null,e[pt]=null)):ot(t)}}}function _t(t){return t in mt?mt[t]:mt[t]="on"+t}function Et(t,e){if(t.ha)t=!0;else{e=new et(e,this);var r=t.listener,n=t.oa||t.src;t.ka&&wt(t),t=r.call(n,e)}return t}function St(t){return(t=t[pt])instanceof ht?t:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(t){return"function"==typeof t?t:(t[xt]||(t[xt]=function(e){return t.handleEvent(e)}),t[xt])}function kt(){A.call(this),this.i=new ht(this),this.T=this,this.J=null}function Tt(t,e){var r,n=t.J;if(n)for(r=[];n;n=n.J)r.push(n);if(t=t.T,n=e.type||e,"string"==typeof e)e=new D(e,t);else if(e instanceof D)e.target=e.target||t;else{var i=e;lt(e=new D(n,t),i)}if(i=!0,r)for(var s=r.length-1;0<=s;s--){var o=e.g=r[s];i=At(o,n,!0,e)&&i}if(i=At(o=e.g=t,n,!0,e)&&i,i=At(o,n,!1,e)&&i,r)for(s=0;s<r.length;s++)i=At(o=e.g=r[s],n,!1,e)&&i}function At(t,e,r,n){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ha&&o.capture==r){var a=o.listener,u=o.oa||o.src;o.ka&&ft(t.i,o),i=!1!==a.call(u,n)&&i}}return i&&!n.defaultPrevented}T(kt,A),kt.prototype[nt]=!0,kt.prototype.removeEventListener=function(t,e,r,n){bt(this,t,e,r,n)},kt.prototype.O=function(){if(kt.Z.O.call(this),this.i){var t,e=this.i;for(t in e.g){for(var r=e.g[t],n=0;n<r.length;n++)ot(r[n]);delete e.g[t],e.h--}}this.J=null},kt.prototype.P=function(t,e,r,n){return this.i.add(String(t),e,!1,r,n)},kt.prototype.R=function(t,e,r,n){return this.i.add(String(t),e,!0,r,n)};var Ct=y.JSON.stringify;function It(t,e){this.i=t,this.j=e,this.h=0,this.g=null}function Pt(){this.h=this.g=null}function Rt(){var t=jt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}It.prototype.get=function(){if(0<this.h){this.h--;var t=this.g;this.g=t.next,t.next=null}else t=this.i();return t},Pt.prototype.add=function(t,e){var r=Ot.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r};var Ot=new It((function(){return new Dt}),(function(t){return t.reset()}));function Dt(){this.next=this.g=this.h=null}function Lt(t){var e=1;t=t.split(":");for(var r=[];0<e&&t.length;)r.push(t.shift()),e--;return t.length&&r.push(t.join(":")),r}function Nt(t){y.setTimeout((function(){throw t}),0)}Dt.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},Dt.prototype.reset=function(){this.next=this.g=this.h=null};var Ft,Bt=!1,jt=new Pt;function zt(t,e){Ft||function(){var t=y.Promise.resolve(void 0);Ft=function(){t.then(Ut)}}(),Bt||(Ft(),Bt=!0),jt.add(t,e)}function Ut(){for(var t;t=Rt();){try{t.h.call(t.g)}catch(t){Nt(t)}var e=Ot;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bt=!1}function Vt(t,e){kt.call(this),this.h=t||1,this.g=e||y,this.j=M(this.tb,this),this.l=Date.now()}function qt(t){t.ia=!1,t.U&&(t.g.clearTimeout(t.U),t.U=null)}function Gt(t,e,r){if("function"==typeof t)r&&(t=M(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=M(t.handleEvent,t)}return 2147483647<Number(e)?-1:y.setTimeout(t,e||0)}function Ht(t,e,r){A.call(this),this.m=null!=r?t.bind(r):t,this.j=e,this.h=null,this.i=!1,this.g=null}if(T(Vt,kt),(e=Vt.prototype).ia=!1,e.U=null,e.tb=function(){if(this.ia){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.U=this.g.setTimeout(this.j,this.h-t):(this.U&&(this.g.clearTimeout(this.U),this.U=null),Tt(this,"tick"),this.ia&&(qt(this),this.start()))}},e.start=function(){this.ia=!0,this.U||(this.U=this.g.setTimeout(this.j,this.h),this.l=Date.now())},e.O=function(){Vt.Z.O.call(this),qt(this),delete this.g},Ht.prototype=s(A.prototype),Ht.prototype.constructor=Ht,f)f(Ht,A);else for(var $t in A)if("prototype"!=$t)if(Object.defineProperties){var Wt=Object.getOwnPropertyDescriptor(A,$t);Wt&&Object.defineProperty(Ht,$t,Wt)}else Ht[$t]=A[$t];function Kt(t){t.g=Gt((function(){t.g=null,t.i&&(t.i=!1,Kt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}function Yt(t){A.call(this),this.h=t,this.g={}}Ht.Z=A.prototype,Ht.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Kt(this)},Ht.prototype.O=function(){A.prototype.O.call(this),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},T(Yt,A);var Xt=[];function Qt(t,e,r,n){Array.isArray(r)||(r&&(Xt[0]=r.toString()),r=Xt);for(var i=0;i<r.length;i++){var s=gt(e,r[i],n||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Jt(t){at(t.g,(function(t,e){this.g.hasOwnProperty(e)&&wt(t)}),t),t.g={}}function Zt(){this.g=!0}function te(t,e,r,n){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var n=r[t];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ct(r)}catch(t){return e}}(t,r)+(n?" "+n:"")}))}Yt.prototype.O=function(){Yt.Z.O.call(this),Jt(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.Ha=function(){this.g=!1},Zt.prototype.info=function(){};var ee={},re=null;function ne(){return re=re||new kt}function ie(t){D.call(this,ee.Wa,t)}function se(t){var e=ne();Tt(e,new ie(e,t))}function oe(t,e){D.call(this,ee.STAT_EVENT,t),this.stat=e}function ae(t){var e=ne();Tt(e,new oe(e,t))}function ue(t,e){D.call(this,ee.Xa,t),this.size=e}function ce(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return y.setTimeout((function(){t()}),e)}ee.Wa="serverreachability",T(ie,D),ee.STAT_EVENT="statevent",T(oe,D),ee.Xa="timingevent",T(ue,D);var le={NO_ERROR:0,ub:1,Hb:2,Gb:3,Bb:4,Fb:5,Ib:6,Ta:7,TIMEOUT:8,Lb:9},he={zb:"complete",Vb:"success",Ua:"error",Ta:"abort",Nb:"ready",Ob:"readystatechange",TIMEOUT:"timeout",Jb:"incrementaldata",Mb:"progress",Cb:"downloadprogress",cc:"uploadprogress"};function fe(){}function de(t){return t.h||(t.h=t.i())}function pe(){}fe.prototype.h=null;var me,ge={OPEN:"a",yb:"b",Ua:"c",Kb:"d"};function ye(){D.call(this,"d")}function ve(){D.call(this,"c")}function be(){}function we(t,e,r,n){this.l=t,this.j=e,this.m=r,this.Y=n||1,this.W=new Yt(this),this.R=Ee,t=$?125:void 0,this.X=new Vt(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.M=this.G=this.aa=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.ea=-1,this.J=!1,this.P=0,this.N=null,this.da=this.L=this.ca=this.T=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}T(ye,D),T(ve,D),T(be,fe),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},me=new be;var Ee=45e3,Se={},xe={};function Me(t,e,r){t.M=1,t.v=Ge(je(e)),t.s=r,t.T=!0,ke(t,null)}function ke(t,e){t.G=Date.now(),Ie(t),t.A=je(t.v);var r=t.A,n=t.Y;Array.isArray(n)||(n=[String(n)]),nr(r.i,"t",n),t.C=0,r=t.l.J,t.h=new _e,t.g=sn(t.l,r?e:null,!t.s),0<t.P&&(t.N=new Ht(M(t.Sa,t,t.g),t.P)),Qt(t.W,t.g,"readystatechange",t.qb),e=t.I?ut(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ja(t.A,t.u,t.s,e)):(t.u="GET",t.g.ja(t.A,t.u,null,e)),se(1),function(t,e,r,n,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+"\n"+r+"\n"+o}))}(t.j,t.u,t.A,t.m,t.Y,t.s)}function Te(t){return!!t.g&&("GET"==t.u&&2!=t.M&&t.l.Ka)}function Ae(t,e,r){for(var n,i=!0;!t.J&&t.C<r.length;){if((n=Ce(t,r))==xe){4==e&&(t.o=4,ae(14),i=!1),te(t.j,t.m,null,"[Incomplete Response]");break}if(n==Se){t.o=4,ae(15),te(t.j,t.m,r,"[Invalid Chunk]"),i=!1;break}te(t.j,t.m,n,null),Le(t,n)}Te(t)&&n!=xe&&n!=Se&&(t.h.g="",t.C=0),4!=e||0!=r.length||t.h.h||(t.o=1,ae(16),i=!1),t.i=t.i&&i,i?0<r.length&&!t.da&&(t.da=!0,(e=t.l).g==t&&e.ea&&!e.N&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Xr(e),e.N=!0,ae(11))):(te(t.j,t.m,r,"[Invalid Chunked Response]"),De(t),Oe(t))}function Ce(t,e){var r=t.C,n=e.indexOf("\n",r);return-1==n?xe:(r=Number(e.substring(r,n)),isNaN(r)?Se:(n+=1)+r>e.length?xe:(e=e.slice(n,n+r),t.C=n+r,e))}function Ie(t){t.aa=Date.now()+t.R,Pe(t,t.R)}function Pe(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ce(M(t.ob,t),e)}function Re(t){t.B&&(y.clearTimeout(t.B),t.B=null)}function Oe(t){0==t.l.H||t.J||Zr(t.l,t)}function De(t){Re(t);var e=t.N;e&&"function"==typeof e.va&&e.va(),t.N=null,qt(t.X),Jt(t.W),t.g&&(e=t.g,t.g=null,e.abort(),e.va())}function Le(t,e){try{var r=t.l;if(0!=r.H&&(r.g==t||hr(r.i,t)))if(!t.L&&hr(r.i,t)&&3==r.H){try{var n=r.Ma.g.parse(e)}catch(t){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){t:if(!r.u){if(r.g){if(!(r.g.G+3e3<t.G))break t;Jr(r),Vr(r)}Yr(r),ae(18)}}else r.Ia=i[1],0<r.Ia-r.X&&37500>i[2]&&r.G&&0==r.A&&!r.v&&(r.v=ce(M(r.lb,r),6e3));if(1>=lr(r.i)&&r.ra){try{r.ra()}catch(t){}r.ra=void 0}}else en(r,11)}else if((t.L||r.g==t)&&Jr(r),!N(e))for(i=r.Ma.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(r.X=s[0],s=s[1],2==r.H)if("c"==s[0]){r.L=s[1],r.sa=s[2];var o=s[3];null!=o&&(r.ua=o,r.l.info("VER="+r.ua));var a=s[4];null!=a&&(r.Ja=a,r.l.info("SVER="+r.Ja));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n=1.5*u,r.M=n,r.l.info("backChannelRequestTimeoutMs_="+n)),n=r;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=n.i;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(fr(h,h.h),h.h=null))}if(n.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(n.Ga=f,qe(n.I,n.D,f))}}r.H=3,r.h&&r.h.Ea(),r.ea&&(r.T=Date.now()-t.G,r.l.info("Handshake RTT: "+r.T+"ms"));var d=t;if((n=r).za=nn(n,n.J?n.sa:null,n.aa),d.L){dr(n.i,d);var p=d,m=n.M;m&&p.setTimeout(m),p.B&&(Re(p),Ie(p)),n.g=d}else Kr(n);0<r.j.length&&Gr(r)}else"stop"!=s[0]&&"close"!=s[0]||en(r,7);else 3==r.H&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?en(r,7):Ur(r):"noop"!=s[0]&&r.h&&r.h.Da(s),r.A=0)}se(4)}catch(t){}}function Ne(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var r=function(t){if(t.wa&&"function"==typeof t.wa)return t.wa();if(!t.ba||"function"!=typeof t.ba){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(v(t)||"string"==typeof t){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}for(var n in e=[],r=0,t)e[r++]=n;return e}}}(t),n=function(t){if(t.ba&&"function"==typeof t.ba)return t.ba();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(v(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}for(n in e=[],r=0,t)e[r++]=t[n];return e}(t),i=n.length,s=0;s<i;s++)e.call(void 0,n[s],r&&r[s],t)}(e=we.prototype).setTimeout=function(t){this.R=t},e.qb=function(t){t=t.target;var e=this.N;e&&3==Lr(t)?e.l():this.Sa(t)},e.Sa=function(t){try{if(t==this.g)t:{var e=Lr(this.g),r=this.g.La(),n=this.g.fa();if(!(3>e)&&(3!=e||$||this.g&&(this.h.h||this.g.ma()||Nr(this.g)))){this.J||4!=e||7==r||se(8==r||0>=n?3:2),Re(this);var i=this.g.fa();this.ea=i;e:if(Te(this)){var s=Nr(this.g);t="";var o=s.length,a=4==Lr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){De(this),Oe(this);var u="";break e}this.h.i=new y.TextDecoder}for(r=0;r<o;r++)this.h.h=!0,t+=this.h.i.decode(s[r],{stream:a&&r==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ma();if(this.i=200==i,function(t,e,r,n,i,s,o){t.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+"\n"+r+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.Y,e,i),this.i){if(this.ca&&!this.L){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ae(12),De(this),Oe(this);break t}te(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Le(this,i)}this.T?(Ae(this,e,u),$&&this.i&&3==e&&(Qt(this.W,this.X,"tick",this.pb),this.X.start())):(te(this.j,this.m,u,null),Le(this,u)),4==e&&De(this),this.i&&!this.J&&(4==e?Zr(this.l,this):(this.i=!1,Ie(this)))}else(function(t){var e={};t=(t.g&&2<=Lr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(var r=0;r<t.length;r++)if(!N(t[r])){var n=Lt(t[r]),i=n[0];if("string"==typeof(n=n[1])){n=n.trim();var s=e[i]||[];e[i]=s,s.push(n)}}!function(t,e){for(var r in t)e.call(void 0,t[r],r,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ae(12)):(this.o=0,ae(13)),De(this),Oe(this)}}}catch(t){}},e.pb=function(){if(this.g){var t=Lr(this.g),e=this.g.ma();this.C<e.length&&(Re(this),Ae(this,t,e),this.i&&4!=t&&Ie(this))}},e.cancel=function(){this.J=!0,De(this)},e.ob=function(){this.B=null;var t=Date.now();0<=t-this.aa?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.M&&(se(3),ae(17)),De(this),this.o=2,Oe(this)):Pe(this,this.aa-t)};var Fe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Be(t){var e;this.g=this.s=this.j="",this.o=null,this.m=this.h="",this.l=!1,t instanceof Be?(this.l=t.l,ze(this,t.j),this.s=t.s,this.g=t.g,Ue(this,t.o),this.h=t.h,Ve(this,ir(t.i)),this.m=t.m):t&&(e=String(t).match(Fe))?(this.l=!1,ze(this,e[1]||"",!0),this.s=He(e[2]||""),this.g=He(e[3]||"",!0),Ue(this,e[4]),this.h=He(e[5]||"",!0),Ve(this,e[6]||"",!0),this.m=He(e[7]||"")):(this.l=!1,this.i=new Ze(null,this.l))}function je(t){return new Be(t)}function ze(t,e,r){t.j=r?He(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.o=e}else t.o=null}function Ve(t,e,r){e instanceof Ze?(t.i=e,function(t,e){e&&!t.j&&(tr(t),t.i=null,t.g.forEach((function(t,e){var r=e.toLowerCase();e!=r&&(er(this,e),nr(this,r,t))}),t)),t.j=e}(t.i,t.l)):(r||(e=$e(e,Qe)),t.i=new Ze(e,t.l))}function qe(t,e,r){t.i.set(e,r)}function Ge(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $e(t,e,r){return"string"==typeof t?(t=encodeURI(t).replace(e,We),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function We(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Be.prototype.toString=function(){var t=[],e=this.j;e&&t.push($e(e,Ke,!0),":");var r=this.g;return(r||"file"==e)&&(t.push("//"),(e=this.s)&&t.push($e(e,Ke,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.o)&&t.push(":",String(r))),(r=this.h)&&(this.g&&"/"!=r.charAt(0)&&t.push("/"),t.push($e(r,"/"==r.charAt(0)?Xe:Ye,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.m)&&t.push("#",$e(r,Je)),t.join("")},Be.prototype.resolve=function(t){var e=je(this),r=!!t.j;r?ze(e,t.j):r=!!t.s,r?e.s=t.s:r=!!t.g,r?e.g=t.g:r=null!=t.o;var n=t.h;if(r)Ue(e,t.o);else if(r=!!t.h){if("/"!=n.charAt(0))if(this.g&&!this.h)n="/"+n;else{var i=e.h.lastIndexOf("/");-1!=i&&(n=e.h.slice(0,i+1)+n)}if(".."==(i=n)||"."==i)n="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){n=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?n&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),n&&o==i.length&&s.push("")):(s.push(a),n=!0)}n=s.join("/")}else n=i}return r?e.h=n:r=""!==t.i.toString(),r?Ve(e,ir(t.i)):r=!!t.m,r&&(e.m=t.m),e};var Ke=/[#\/\?@]/g,Ye=/[#\?:]/g,Xe=/[#\?]/g,Qe=/[#\?@]/g,Je=/#/g;function Ze(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function tr(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var s=t[r].substring(0,n);i=t[r].substring(n+1)}else s=t[r];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)})))}function er(t,e){tr(t),e=sr(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rr(t,e){return tr(t),e=sr(t,e),t.g.has(e)}function nr(t,e,r){er(t,e),0<r.length&&(t.i=null,t.g.set(sr(t,e),R(r)),t.h+=r.length)}function ir(t){var e=new Ze;return e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),e}function sr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function or(t,e){this.g=t,this.map=e}function ar(t){this.l=t||ur,y.PerformanceNavigationTiming?t=0<(t=y.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(y.g&&y.g.Na&&y.g.Na()&&y.g.Na().ic),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(e=Ze.prototype).add=function(t,e){tr(this),this.i=null,t=sr(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this},e.forEach=function(t,e){tr(this),this.g.forEach((function(r,n){r.forEach((function(r){t.call(e,r,n,this)}),this)}),this)},e.wa=function(){tr(this);for(var t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[],n=0;n<e.length;n++)for(var i=t[n],s=0;s<i.length;s++)r.push(e[n]);return r},e.ba=function(t){tr(this);var e=[];if("string"==typeof t)rr(this,t)&&(e=e.concat(this.g.get(sr(this,t))));else{t=Array.from(this.g.values());for(var r=0;r<t.length;r++)e=e.concat(t[r])}return e},e.set=function(t,e){return tr(this),this.i=null,rr(this,t=sr(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},e.get=function(t,e){return t&&0<(t=this.ba(t)).length?String(t[0]):e},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=Array.from(this.g.keys()),r=0;r<e.length;r++){var n=e[r],i=encodeURIComponent(String(n));n=this.ba(n);for(var s=0;s<n.length;s++){var o=i;""!==n[s]&&(o+="="+encodeURIComponent(String(n[s]))),t.push(o)}}return this.i=t.join("&")};var ur=10;function cr(t){return!!t.h||!!t.g&&t.g.size>=t.j}function lr(t){return t.h?1:t.g?t.g.size:0}function hr(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function fr(t,e){t.g?t.g.add(e):t.h=e}function dr(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pr(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){for(var e=t.i,r=(t=i(t.g.values())).next();!r.done;r=t.next())e=e.concat(r.value.D);return e}return R(t.i)}function mr(){}function gr(){this.g=new mr}function yr(t,e,r){var n=r||"";try{Ne(t,(function(t,r){var i=t;b(t)&&(i=Ct(t)),e.push(n+r+"="+encodeURIComponent(i))}))}catch(t){throw e.push(n+"type="+encodeURIComponent("_badmap")),t}}function vr(t,e,r,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch(t){}}function br(t){this.l=t.jc||null,this.j=t.rb||!1}function wr(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=_r,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ar.prototype.cancel=function(){if(this.i=pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(var t=i(this.g.values()),e=t.next();!e.done;e=t.next())e.value.cancel();this.g.clear()}},mr.prototype.stringify=function(t){return y.JSON.stringify(t,void 0)},mr.prototype.parse=function(t){return y.JSON.parse(t,void 0)},T(br,fe),br.prototype.g=function(){return new wr(this.l,this.j)},br.prototype.i=function(t){return function(){return t}}({}),T(wr,kt);var _r=0;function Er(t){t.j.read().then(t.$a.bind(t)).catch(t.na.bind(t))}function Sr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xr(t)}function xr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(e=wr.prototype).open=function(t,e){if(this.readyState!=_r)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xr(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||y).fetch(new Request(this.B,e)).then(this.cb.bind(this),this.na.bind(this))},e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sr(this)),this.readyState=_r},e.cb=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.ab.bind(this),this.na.bind(this));else if(void 0!==y.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Er(this)}else t.text().then(this.bb.bind(this),this.na.bind(this))},e.$a=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sr(this):xr(this),3==this.readyState&&Er(this)}},e.bb=function(t){this.g&&(this.response=this.responseText=t,Sr(this))},e.ab=function(t){this.g&&(this.response=t,Sr(this))},e.na=function(){this.g&&Sr(this)},e.setRequestHeader=function(t,e){this.v.append(t,e)},e.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join("\r\n")},Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Mr=y.JSON.parse;function kr(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.D=!1,this.B=0,this.A=null,this.L=Tr,this.M=this.N=!1}T(kr,kt);var Tr="",Ar=/^https?$/i,Cr=["POST","PUT"];function Ir(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Pr(t),Or(t)}function Pr(t){t.D||(t.D=!0,Tt(t,"complete"),Tt(t,"error"))}function Rr(t){if(t.h&&void 0!==g&&(!t.C[1]||4!=Lr(t)||2!=t.fa()))if(t.v&&4==Lr(t))Gt(t.Oa,0,t);else if(Tt(t,"readystatechange"),4==Lr(t)){t.h=!1;try{var e,r=t.fa();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}if(!(e=n)){var i;if(i=0===r){var s=String(t.I).match(Fe)[1]||null;!s&&y.self&&y.self.location&&(s=y.self.location.protocol.slice(0,-1)),i=!Ar.test(s?s.toLowerCase():"")}e=i}if(e)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var o=2<Lr(t)?t.g.statusText:""}catch(t){o=""}t.j=o+" ["+t.fa()+"]",Pr(t)}}finally{Or(t)}}}function Or(t,e){if(t.g){Dr(t);var r=t.g,n=t.C[0]?function(){}:null;t.g=null,t.C=null,e||Tt(t,"ready");try{r.onreadystatechange=n}catch(t){}}}function Dr(t){t.g&&t.M&&(t.g.ontimeout=null),t.A&&(y.clearTimeout(t.A),t.A=null)}function Lr(t){return t.g?t.g.readyState:0}function Nr(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.L){case Tr:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Fr(t){var e="";return at(t,(function(t,r){e+=r,e+=":",e+=t,e+="\r\n"})),e}function Br(t,e,r){t:{for(n in r){var n=!1;break t}n=!0}n||(r=Fr(r),"string"==typeof t?(encodeURIComponent(String(e)),null!=r&&encodeURIComponent(String(r))):qe(t,e,r))}function jr(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function zr(t){this.Ja=0,this.j=[],this.l=new Zt,this.sa=this.za=this.I=this.aa=this.g=this.Ga=this.D=this.qa=this.o=this.W=this.s=null,this.ib=this.Y=0,this.gb=jr("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.ca=!0,this.Ia=this.X=-1,this.da=this.A=this.C=0,this.eb=jr("baseRetryDelayMs",5e3,t),this.kb=jr("retryDelaySeedMs",1e4,t),this.hb=jr("forwardChannelMaxRetries",2,t),this.Aa=jr("forwardChannelRequestTimeoutMs",2e4,t),this.ya=t&&t.xmlHttpFactory||void 0,this.Ka=t&&t.hc||!1,this.M=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.L="",this.i=new ar(t&&t.concurrentRequestLimit),this.Ma=new gr,this.R=t&&t.fastHandshake||!1,this.P=t&&t.encodeInitMessageHeaders||!1,this.R&&this.P&&(this.P=!1),this.fb=t&&t.ec||!1,t&&t.Ha&&this.l.Ha(),t&&t.forceLongPolling&&(this.ca=!1),this.ea=!this.R&&this.ca&&t&&t.detectBufferingProxy||!1,this.ta=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ta=t.longPollingTimeout),this.ra=void 0,this.T=0,this.N=!1,this.pa=this.B=null}function Ur(t){if(qr(t),3==t.H){var e=t.Y++,r=je(t.I);if(qe(r,"SID",t.L),qe(r,"RID",e),qe(r,"TYPE","terminate"),$r(t,r),(e=new we(t,t.l,e)).M=2,e.v=Ge(je(r)),r=!1,y.navigator&&y.navigator.sendBeacon)try{r=y.navigator.sendBeacon(e.v.toString(),"")}catch(t){}!r&&y.Image&&((new Image).src=e.v,r=!0),r||(e.g=sn(e.l,null),e.g.ja(e.v)),e.G=Date.now(),Ie(e)}rn(t)}function Vr(t){t.g&&(Xr(t),t.g.cancel(),t.g=null)}function qr(t){Vr(t),t.u&&(y.clearTimeout(t.u),t.u=null),Jr(t),t.i.cancel(),t.m&&("number"==typeof t.m&&y.clearTimeout(t.m),t.m=null)}function Gr(t){cr(t.i)||t.m||(t.m=!0,zt(t.Qa,t),t.C=0)}function Hr(t,e){var r;r=e?e.m:t.Y++;var n=je(t.I);qe(n,"SID",t.L),qe(n,"RID",r),qe(n,"AID",t.X),$r(t,n),t.o&&t.s&&Br(n,t.o,t.s),r=new we(t,t.l,r,t.C+1),null===t.o&&(r.I=t.s),e&&(t.j=e.D.concat(t.j)),e=Wr(t,r,1e3),r.setTimeout(Math.round(.5*t.Aa)+Math.round(.5*t.Aa*Math.random())),fr(t.i,r),Me(r,n,e)}function $r(t,e){t.qa&&at(t.qa,(function(t,r){qe(e,r,t)})),t.h&&Ne({},(function(t,r){qe(e,r,t)}))}function Wr(t,e,r){r=Math.min(t.j.length,r);var n=t.h?M(t.h.Ya,t.h,t):null;t:for(var i=t.j,s=-1;;){var o=["count="+r];-1==s?0<r?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<r;u++){var c=i[u].g,l=i[u].map;if(0>(c-=s))s=Math.max(0,i[u].g-100),a=!1;else try{yr(l,o,"req"+c+"_")}catch(t){n&&n(l)}}if(a){n=o.join("&");break t}}return t=t.j.splice(0,r),e.D=t,n}function Kr(t){t.g||t.u||(t.da=1,zt(t.Pa,t),t.A=0)}function Yr(t){return!(t.g||t.u||3<=t.A)&&(t.da++,t.u=ce(M(t.Pa,t),tn(t,t.A)),t.A++,!0)}function Xr(t){null!=t.B&&(y.clearTimeout(t.B),t.B=null)}function Qr(t){t.g=new we(t,t.l,"rpc",t.da),null===t.o&&(t.g.I=t.s),t.g.P=0;var e=je(t.za);qe(e,"RID","rpc"),qe(e,"SID",t.L),qe(e,"AID",t.X),qe(e,"CI",t.G?"0":"1"),!t.G&&t.ta&&qe(e,"TO",t.ta),qe(e,"TYPE","xmlhttp"),$r(t,e),t.o&&t.s&&Br(e,t.o,t.s),t.M&&t.g.setTimeout(t.M);var r=t.g;t=t.sa,r.M=1,r.v=Ge(je(e)),r.s=null,r.T=!0,ke(r,t)}function Jr(t){null!=t.v&&(y.clearTimeout(t.v),t.v=null)}function Zr(t,e){var r=null;if(t.g==e){Jr(t),Xr(t),t.g=null;var n=2}else{if(!hr(t.i,e))return;r=e.D,dr(t.i,e),n=1}if(0!=t.H)if(e.i)if(1==n){r=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Tt(n=ne(),new ue(n,r,e,i)),Gr(t)}else Kr(t);else if(3==(i=e.o)||0==i&&0<e.ea||!(1==n&&function(t,e){return!(lr(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.D.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.gb?0:t.hb)||(t.m=ce(M(t.Qa,t,e),tn(t,t.C)),t.C++,0)))}(t,e)||2==n&&Yr(t)))switch(r&&0<r.length&&(e=t.i,e.i=e.i.concat(r)),i){case 1:en(t,5);break;case 4:en(t,10);break;case 3:en(t,6);break;default:en(t,2)}}function tn(t,e){var r=t.eb+Math.floor(Math.random()*t.kb);return t.isActive()||(r*=2),r*e}function en(t,e){if(t.l.info("Error code "+e),2==e){var r=null;t.h&&(r=null);var n=M(t.sb,t);r||(r=new Be("//www.google.com/images/cleardot.gif"),y.location&&"http"==y.location.protocol||ze(r,"https"),Ge(r)),function(t,e){var r=new Zt;if(y.Image){var n=new Image;n.onload=k(vr,r,n,"TestLoadImage: loaded",!0,e),n.onerror=k(vr,r,n,"TestLoadImage: error",!1,e),n.onabort=k(vr,r,n,"TestLoadImage: abort",!1,e),n.ontimeout=k(vr,r,n,"TestLoadImage: timeout",!1,e),y.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=t}else e(!1)}(r.toString(),n)}else ae(2);t.H=0,t.h&&t.h.Ca(e),rn(t),qr(t)}function rn(t){if(t.H=0,t.pa=[],t.h){var e=pr(t.i);0==e.length&&0==t.j.length||(O(t.pa,e),O(t.pa,t.j),t.i.i.length=0,R(t.j),t.j.length=0),t.h.Ba()}}function nn(t,e,r){var n=r instanceof Be?je(r):new Be(r);if(""!=n.g)e&&(n.g=e+"."+n.g),Ue(n,n.o);else{var i=y.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Be(null);n&&ze(s,n),e&&(s.g=e),i&&Ue(s,i),r&&(s.h=r),n=s}return r=t.D,e=t.Ga,r&&e&&qe(n,r,e),qe(n,"VER",t.ua),$r(t,n),n}function sn(t,e,r){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=r&&t.Ka&&!t.ya?new kr(new br({rb:!0})):new kr(t.ya)).Ra(t.J),e}function on(){}function an(){if(G&&!(10<=Number(tt)))throw Error("Environmental error: no available transport.")}function un(t,e){kt.call(this),this.g=new zr(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Fa&&(t?t["X-WebChannel-Client-Profile"]=e.Fa:t={"X-WebChannel-Client-Profile":e.Fa}),this.g.W=t,(t=e&&e.fc)&&!N(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new hn(this)}function cn(t){ye.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(var r in e){t=r;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ln(){ve.call(this),this.status=1}function hn(t){this.g=t}function fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dn(t,e,r){r||(r=0);var n=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)n[i]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;e=t.g[0],r=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^r&(i^s))+n[0]+3614090360&4294967295;o=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=r+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(r^i))+n[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^s&(e^r))+n[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=r+(e^i&(s^e))+n[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^r&(i^s))+n[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(r^i))+n[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^s&(e^r))+n[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=r+(e^i&(s^e))+n[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^r&(i^s))+n[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(r^i))+n[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^s&(e^r))+n[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=r+(e^i&(s^e))+n[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^r&(i^s))+n[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(r^i))+n[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^s&(e^r))+n[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=r+(e^i&(s^e))+n[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(r^i))+n[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(r^i&(e^r))+n[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^r&(s^e))+n[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=r+(s^e&(i^s))+n[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(r^i))+n[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(r^i&(e^r))+n[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^r&(s^e))+n[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=r+(s^e&(i^s))+n[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(r^i))+n[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(r^i&(e^r))+n[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^r&(s^e))+n[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=r+(s^e&(i^s))+n[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(r^i))+n[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(r^i&(e^r))+n[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^r&(s^e))+n[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=r+(s^e&(i^s))+n[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^i^s)+n[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^r^i)+n[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^r)+n[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^s^e)+n[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^i^s)+n[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^r^i)+n[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^r)+n[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^s^e)+n[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^i^s)+n[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^r^i)+n[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^r)+n[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^s^e)+n[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^i^s)+n[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^r^i)+n[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^r)+n[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^s^e)+n[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(r|~s))+n[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(r^(e|~i))+n[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~r))+n[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=r+(s^(i|~e))+n[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(r|~s))+n[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(r^(e|~i))+n[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~r))+n[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=r+(s^(i|~e))+n[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(r|~s))+n[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(r^(e|~i))+n[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~r))+n[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=r+(s^(i|~e))+n[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=r+((o=e+(i^(r|~s))+n[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(r^(e|~i))+n[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~r))+n[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function pn(t,e){this.h=e;for(var r=[],n=!0,i=t.length-1;0<=i;i--){var s=0|t[i];n&&s==e||(r[i]=s,n=!1)}this.g=r}(e=kr.prototype).Ra=function(t){this.N=t},e.ja=function(t,e,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():me.g(),this.C=this.u?de(this.u):de(me),this.g.onreadystatechange=M(this.Oa,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(t){return void Ir(this,t)}if(t=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var s in n)r.set(s,n[s]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(var o=(s=i(n.keys())).next();!o.done;o=s.next())o=o.value,r.set(o,n.get(o))}for(n=Array.from(r.keys()).find((function(t){return"content-type"==t.toLowerCase()})),s=y.FormData&&t instanceof y.FormData,!(0<=P(Cr,e))||n||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n=(e=i(r)).next();!n.done;n=e.next())n=(r=i(n.value)).next().value,r=r.next().value,this.g.setRequestHeader(n,r);this.L&&(this.g.responseType=this.L),"withCredentials"in this.g&&this.g.withCredentials!==this.N&&(this.g.withCredentials=this.N);try{Dr(this),0<this.B&&((this.M=function(t){return G&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=M(this.xa,this)):this.A=Gt(this.xa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Ir(this,t)}},e.xa=function(){void 0!==g&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))},e.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),Or(this))},e.O=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Or(this,!0)),kr.Z.O.call(this)},e.Oa=function(){this.s||(this.G||this.v||this.l?Rr(this):this.nb())},e.nb=function(){Rr(this)},e.isActive=function(){return!!this.g},e.fa=function(){try{return 2<Lr(this)?this.g.status:-1}catch(t){return-1}},e.ma=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},e.Za=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Mr(e)}},e.La=function(){return this.m},e.Va=function(){return"string"==typeof this.j?this.j:String(this.j)},(e=zr.prototype).ua=8,e.H=1,e.Qa=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.Y=Math.floor(1e5*Math.random()),t=this.Y++;var e,r=new we(this,this.l,t),n=this.s;if(this.W&&(n?lt(n=ut(n),this.W):n=this.W),null!==this.o||this.P||(r.I=n,n=null),this.R)t:{for(var i=e=0;i<this.j.length;i++){var s=this.j[i];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.j.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Wr(this,r,e),qe(i=je(this.I),"RID",t),qe(i,"CVER",22),this.D&&qe(i,"X-HTTP-Session-Id",this.D),$r(this,i),n&&(this.P?e="headers="+encodeURIComponent(String(Fr(n)))+"&"+e:this.o&&Br(i,this.o,n)),fr(this.i,r),this.fb&&qe(i,"TYPE","init"),this.R?(qe(i,"$req",e),qe(i,"SID","null"),r.ca=!0,Me(r,i,null)):Me(r,i,e),this.H=2}}else 3==this.H&&(t?Hr(this,t):0==this.j.length||cr(this.i)||Hr(this))},e.Pa=function(){if(this.u=null,Qr(this),this.ea&&!(this.N||null==this.g||0>=this.T)){var t=2*this.T;this.l.info("BP detection timer enabled: "+t),this.B=ce(M(this.mb,this),t)}},e.mb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.N=!0,ae(10),Vr(this),Qr(this))},e.lb=function(){null!=this.v&&(this.v=null,Vr(this),Yr(this),ae(19))},e.sb=function(t){t?(this.l.info("Successfully pinged google.com"),ae(2)):(this.l.info("Failed to ping google.com"),ae(1))},e.isActive=function(){return!!this.h&&this.h.isActive(this)},(e=on.prototype).Ea=function(){},e.Da=function(){},e.Ca=function(){},e.Ba=function(){},e.isActive=function(){return!0},e.Ya=function(){},an.prototype.g=function(t,e){return new un(t,e)},T(un,kt),un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,r=this.h||void 0;ae(0),t.aa=e,t.qa=r||{},t.G=t.ca,t.I=nn(t,null,t.aa),Gr(t)},un.prototype.close=function(){Ur(this.g)},un.prototype.u=function(t){var e=this.g;if("string"==typeof t){var r={};r.__data__=t,t=r}else this.v&&((r={}).__data__=Ct(t),t=r);e.j.push(new or(e.ib++,t)),3==e.H&&Gr(e)},un.prototype.O=function(){this.g.h=null,delete this.j,Ur(this.g),delete this.g,un.Z.O.call(this)},T(cn,ye),T(ln,ve),T(hn,on),hn.prototype.Ea=function(){Tt(this.g,"a")},hn.prototype.Da=function(t){Tt(this.g,new cn(t))},hn.prototype.Ca=function(t){Tt(this.g,new ln(t))},hn.prototype.Ba=function(){Tt(this.g,"b")},T(fn,(function(){this.blockSize=-1})),fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,n=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=r;)dn(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(n[i++]=t.charCodeAt(s++),i==this.blockSize){dn(this,n),i=0;break}}else for(;s<e;)if(n[i++]=t[s++],i==this.blockSize){dn(this,n),i=0;break}}this.h=i,this.i+=e},fn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var r=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&r,r/=256;for(this.j(t),t=Array(16),e=r=0;4>e;++e)for(var n=0;32>n;n+=8)t[r++]=this.g[e]>>>n&255;return t};var mn={};function gn(t){return-128<=t&&128>t?function(t,e){var r=mn;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}(t,(function(t){return new pn([0|t],0>t?-1:0)})):new pn([0|t],0>t?-1:0)}function yn(t){if(isNaN(t)||!isFinite(t))return bn;if(0>t)return xn(yn(-t));for(var e=[],r=1,n=0;t>=r;n++)e[n]=t/r|0,r*=vn;return new pn(e,0)}var vn=4294967296,bn=gn(0),wn=gn(1),_n=gn(16777216);function En(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Sn(t){return-1==t.h}function xn(t){for(var e=t.g.length,r=[],n=0;n<e;n++)r[n]=~t.g[n];return new pn(r,~t.h).add(wn)}function Mn(t,e){return t.add(xn(e))}function kn(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Tn(t,e){this.g=t,this.h=e}function An(t,e){if(En(e))throw Error("division by zero");if(En(t))return new Tn(bn,bn);if(Sn(t))return e=An(xn(t),e),new Tn(xn(e.g),xn(e.h));if(Sn(e))return e=An(t,xn(e)),new Tn(xn(e.g),e.h);if(30<t.g.length){if(Sn(t)||Sn(e))throw Error("slowDivide_ only works with positive integers.");for(var r=wn,n=e;0>=n.$(t);)r=Cn(r),n=Cn(n);var i=In(r,1),s=In(n,1);for(n=In(n,2),r=In(r,2);!En(n);){var o=s.add(n);0>=o.$(t)&&(i=i.add(r),s=o),n=In(n,1),r=In(r,1)}return e=Mn(t,i.S(e)),new Tn(i,e)}for(i=bn;0<=t.$(e);){for(r=Math.max(1,Math.floor(t.ga()/e.ga())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),o=(s=yn(r)).S(e);Sn(o)||0<o.$(t);)o=(s=yn(r-=n)).S(e);En(s)&&(s=wn),i=i.add(s),t=Mn(t,o)}return new Tn(i,t)}function Cn(t){for(var e=t.g.length+1,r=[],n=0;n<e;n++)r[n]=t.F(n)<<1|t.F(n-1)>>>31;return new pn(r,t.h)}function In(t,e){var r=e>>5;e%=32;for(var n=t.g.length-r,i=[],s=0;s<n;s++)i[s]=0<e?t.F(s+r)>>>e|t.F(s+r+1)<<32-e:t.F(s+r);return new pn(i,t.h)}(e=pn.prototype).ga=function(){if(Sn(this))return-xn(this).ga();for(var t=0,e=1,r=0;r<this.g.length;r++){var n=this.F(r);t+=(0<=n?n:vn+n)*e,e*=vn}return t},e.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(En(this))return"0";if(Sn(this))return"-"+xn(this).toString(t);for(var e=yn(Math.pow(t,6)),r=this,n="";;){var i=An(r,e).g,s=((0<(r=Mn(r,i.S(e))).g.length?r.g[0]:r.h)>>>0).toString(t);if(En(r=i))return s+n;for(;6>s.length;)s="0"+s;n=s+n}},e.F=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},e.$=function(t){return Sn(t=Mn(this,t))?-1:En(t)?0:1},e.abs=function(){return Sn(this)?xn(this):this},e.add=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0,i=0;i<=e;i++){var s=n+(65535&this.F(i))+(65535&t.F(i)),o=(s>>>16)+(this.F(i)>>>16)+(t.F(i)>>>16);n=o>>>16,s&=65535,o&=65535,r[i]=o<<16|s}return new pn(r,-2147483648&r[r.length-1]?-1:0)},e.S=function(t){if(En(this)||En(t))return bn;if(Sn(this))return Sn(t)?xn(this).S(xn(t)):xn(xn(this).S(t));if(Sn(t))return xn(this.S(xn(t)));if(0>this.$(_n)&&0>t.$(_n))return yn(this.ga()*t.ga());for(var e=this.g.length+t.g.length,r=[],n=0;n<2*e;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<t.g.length;i++){var s=this.F(n)>>>16,o=65535&this.F(n),a=t.F(i)>>>16,u=65535&t.F(i);r[2*n+2*i]+=o*u,kn(r,2*n+2*i),r[2*n+2*i+1]+=s*u,kn(r,2*n+2*i+1),r[2*n+2*i+1]+=o*a,kn(r,2*n+2*i+1),r[2*n+2*i+2]+=s*a,kn(r,2*n+2*i+2)}for(n=0;n<e;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=e;n<2*e;n++)r[n]=0;return new pn(r,0)},e.jb=function(t){return An(this,t).h},e.and=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.F(n)&t.F(n);return new pn(r,this.h&t.h)},e.or=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.F(n)|t.F(n);return new pn(r,this.h|t.h)},e.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],n=0;n<e;n++)r[n]=this.F(n)^t.F(n);return new pn(r,this.h^t.h)},an.prototype.createWebChannel=an.prototype.g,un.prototype.send=un.prototype.u,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,he.COMPLETE="complete",pe.EventType=ge,ge.OPEN="a",ge.CLOSE="b",ge.ERROR="c",ge.MESSAGE="d",kt.prototype.listen=kt.prototype.P,kr.prototype.listenOnce=kr.prototype.R,kr.prototype.getLastError=kr.prototype.Va,kr.prototype.getLastErrorCode=kr.prototype.La,kr.prototype.getStatus=kr.prototype.fa,kr.prototype.getResponseJson=kr.prototype.Za,kr.prototype.getResponseText=kr.prototype.ma,kr.prototype.send=kr.prototype.ja,kr.prototype.setWithCredentials=kr.prototype.Ra,fn.prototype.digest=fn.prototype.l,fn.prototype.reset=fn.prototype.reset,fn.prototype.update=fn.prototype.j,pn.prototype.add=pn.prototype.add,pn.prototype.multiply=pn.prototype.S,pn.prototype.modulo=pn.prototype.jb,pn.prototype.compare=pn.prototype.$,pn.prototype.toNumber=pn.prototype.ga,pn.prototype.toString=pn.prototype.toString,pn.prototype.getBits=pn.prototype.F,pn.fromNumber=yn,pn.fromString=function t(e,r){if(0==e.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==e.charAt(0))return xn(t(e.substring(1),r));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=yn(Math.pow(r,8)),i=bn,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),r);8>o?(o=yn(Math.pow(r,o)),i=i.S(o).add(yn(a))):i=(i=i.S(n)).add(yn(a))}return i},t.exports.createWebChannelTransport=function(){return new an},t.exports.getStatEventTarget=function(){return ne()},t.exports.ErrorCode=le,t.exports.EventType=he,t.exports.Event=ee,t.exports.Stat={Ab:0,Db:1,Eb:2,Xb:3,bc:4,Zb:5,$b:6,Yb:7,Wb:8,ac:9,PROXY:10,NOPROXY:11,Ub:12,Qb:13,Rb:14,Pb:15,Sb:16,Tb:17,wb:18,vb:19,xb:20},t.exports.FetchXmlHttpFactory=br,t.exports.WebChannel=pe,t.exports.XhrIo=kr,t.exports.Md5=fn,t.exports.Integer=pn}).apply(void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},79638:(t,e,r)=>{"use strict";r.d(e,{Z:()=>T});var n=Object.create,i=Object.defineProperty,s=Object.defineProperties,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,l=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=(t,e,r)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p=(t,e)=>{for(var r in e||={})h.call(e,r)&&d(t,r,e[r]);if(c)for(var r of c(e))f.call(e,r)&&d(t,r,e[r]);return t},m=(t,e)=>s(t,a(e)),g=(t,e)=>function(){return e||(0,t[u(t)[0]])((e={exports:{}}).exports,e),e.exports},y=(t,e,r)=>(r=null!=t?n(l(t)):{},((t,e,r,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let s of u(e))h.call(t,s)||s===r||i(t,s,{get:()=>e[s],enumerable:!(n=o(e,s))||n.enumerable});return t})(!e&&t&&t.__esModule?r:i(r,"default",{value:t,enumerable:!0}),t)),v=(t,e,r)=>new Promise(((n,i)=>{var s=t=>{try{a(r.next(t))}catch(t){i(t)}},o=t=>{try{a(r.throw(t))}catch(t){i(t)}},a=t=>t.done?n(t.value):Promise.resolve(t.value).then(s,o);a((r=r.apply(t,e)).next())})),b=g({"node_modules/axios/lib/helpers/bind.js"(t,e){e.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}}}),w=g({"node_modules/axios/lib/utils.js"(t,e){var r=b(),n=Object.prototype.toString;function i(t){return"[object Array]"===n.call(t)}function s(t){return void 0===t}function o(t){return null!==t&&"object"==typeof t}function a(t){if("[object Object]"!==n.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===n.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}e.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isPlainObject:a,isUndefined:s,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:u,isStream:function(t){return o(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function r(r,n){a(e[n])&&a(r)?e[n]=t(e[n],r):a(r)?e[n]=t({},r):i(r)?e[n]=r.slice():e[n]=r}for(var n=0,s=arguments.length;n<s;n++)c(arguments[n],r);return e},extend:function(t,e,n){return c(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}}}),_=g({"node_modules/axios/lib/helpers/buildURL.js"(t,e){var r=w();function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(t,e,i){if(!e)return t;var s;if(i)s=i(e);else if(r.isURLSearchParams(e))s=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(n(e)+"="+n(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}}}),E=g({"node_modules/axios/lib/helpers/combineURLs.js"(t,e){e.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}}}),S=g({"node_modules/axios/lib/helpers/isAbsoluteURL.js"(t,e){e.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}}}),x=y(_()),M=y(E()),k=y(S());var T=function(t){const e=t?t.fetch:void 0;return function(t){return v(this,null,(function*(){const r=function(t){const e=new Headers(t.headers);if(t.auth){const r=t.auth.username||"",n=t.auth.password?decodeURI(encodeURIComponent(t.auth.password)):"";e.set("Authorization",`Basic ${Buffer.from(r+":"+n).toString("base64")}`)}void 0===t.method&&(t.method="get");const r=t.method.toUpperCase(),n={headers:e,method:r};"GET"!==r&&"HEAD"!==r&&(n.body=t.data);void 0!==t.withCredentials&&(n.credentials=t.withCredentials?"include":"omit");const i=(a=t.url?t.url:"",u=t.baseURL,a&&u&&!(0,k.default)(a)?(0,M.default)(u,a):!a&&u?u:a),s=t.paramsSerializer?t.paramsSerializer:void 0,o=(0,x.default)(i,t.params,s);var a,u;return new Request(o,n)}(t),n=[A(r,t,e)];let i=null;t.timeout&&t.timeout>0&&n.push(new Promise(((e,n)=>{i=setTimeout((()=>{const e=t.timeoutErrorMessage?t.timeoutErrorMessage:"timeout of "+t.timeout+"ms exceeded";n(C(e,t,"ETIMEDOUT",r))}),t.timeout)})));const s=yield Promise.race(n);return null!==i&&clearTimeout(i),new Promise(((e,n)=>{if(s instanceof Error)n(s);else{const o=t.validateStatus;s.status&&o&&!o(s.status)?n(C("Request failed with status code "+s.status,t,(i=s.status,["ERR_BAD_REQUEST","ERR_BAD_RESPONSE"][Math.floor(i/100)-4]||"ERR_BAD_OPTION"),r,s)):e(s)}var i}))}))}}();function A(t,e){return v(this,arguments,(function*(t,e,r=fetch){let n;try{n=yield r(t)}catch(r){return C("Network Error",e,"ERR_NETWORK",t)}const i=Object.assign({},n.headers),s={status:n.status,statusText:n.statusText,headers:i,config:e,request:t,data:void 0};if(n.status>=200&&204!==n.status)switch(e.responseType){case"arraybuffer":s.data=yield n.arrayBuffer();break;case"blob":s.data=yield n.blob();break;case"json":s.data=yield n.json();break;default:s.data=yield n.text()}return m(p({},s),{ok:n.ok})}))}function C(t,e,r,n,i){const s=new Error(t);return s.config=e,s.code=r,s.request=n,s.response=i,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},s}},1762:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Breadcrumbs:()=>fs,BrowserClient:()=>ri,BrowserProfilingIntegration:()=>Vh,BrowserTracing:()=>oh,Dedupe:()=>vs,Feedback:()=>Bl,FunctionToString:()=>Ve,GlobalHandlers:()=>Oi,HttpContext:()=>gs,Hub:()=>Ht,InboundFilters:()=>$e,Integrations:()=>Gh,LinkedErrors:()=>ps,ModuleMetadata:()=>_r,Replay:()=>sl,SDK_VERSION:()=>Vt,Scope:()=>zt,TryCatch:()=>ji,WINDOW:()=>jn,addBreadcrumb:()=>ye,addEventProcessor:()=>Lr,addGlobalEventProcessor:()=>ot,addIntegration:()=>Be,addTracingExtensions:()=>dn,captureEvent:()=>me,captureException:()=>de,captureMessage:()=>pe,captureUserFeedback:()=>Cs,chromeStackLineParser:()=>pi,close:()=>Te,configureScope:()=>ge,continueTrace:()=>wn,createTransport:()=>Cn,createUserFeedbackEnvelope:()=>ei,defaultIntegrations:()=>Ss,defaultRequestInstrumentationOptions:()=>th,defaultStackLineParsers:()=>xi,defaultStackParser:()=>Mi,eventFromException:()=>Xn,eventFromMessage:()=>Qn,exceptionFromError:()=>Hn,extractTraceparentData:()=>Kr,flush:()=>ke,forceLoad:()=>ks,geckoStackLineParser:()=>yi,getActiveSpan:()=>bn,getActiveTransaction:()=>Wr,getClient:()=>Ce,getCurrentHub:()=>Kt,getCurrentScope:()=>Ie,getHubFromCarrier:()=>Jt,init:()=>xs,instrumentOutgoingRequests:()=>eh,lastEventId:()=>Ae,makeBrowserOfflineTransport:()=>gh,makeFetchTransport:()=>ai,makeMain:()=>Wt,makeMultiplexedTransport:()=>Rn,makeXHRTransport:()=>ci,metrics:()=>Fn,onLoad:()=>Ts,onProfilingStartRouteTransaction:()=>jh,opera10StackLineParser:()=>_i,opera11StackLineParser:()=>Si,setContext:()=>ve,setExtra:()=>we,setExtras:()=>be,setMeasurement:()=>Bn,setTag:()=>Ee,setTags:()=>_e,setUser:()=>Se,showReportDialog:()=>Ms,spanStatusfromHttpCode:()=>Zr,startInactiveSpan:()=>vn,startSpan:()=>gn,startSpanManual:()=>yn,startTransaction:()=>Me,trace:()=>mn,winjsStackLineParser:()=>bi,withScope:()=>xe,wrap:()=>As});var n={};r.r(n),r.d(n,{FunctionToString:()=>Ve,InboundFilters:()=>$e,LinkedErrors:()=>er});var i={};r.r(i),r.d(i,{Breadcrumbs:()=>fs,Dedupe:()=>vs,GlobalHandlers:()=>Oi,HttpContext:()=>gs,LinkedErrors:()=>ps,TryCatch:()=>ji});const s=Object.prototype.toString;function o(t){switch(s.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(t,Error)}}function a(t,e){return s.call(t)===`[object ${e}]`}function u(t){return a(t,"ErrorEvent")}function c(t){return a(t,"DOMError")}function l(t){return a(t,"String")}function h(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function f(t){return null===t||h(t)||"object"!=typeof t&&"function"!=typeof t}function d(t){return a(t,"Object")}function p(t){return"undefined"!=typeof Event&&y(t,Event)}function m(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function g(t){return"number"==typeof t&&t!=t}function y(t,e){try{return t instanceof e}catch(t){return!1}}function v(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}function b(t){return t&&t.Math==Math?t:void 0}const w="object"==typeof globalThis&&b(globalThis)||"object"==typeof window&&b(window)||"object"==typeof self&&b(self)||"object"==typeof r.g&&b(r.g)||function(){return this}()||{};function _(){return w}function E(t,e,r){const n=r||w,i=n.__SENTRY__=n.__SENTRY__||{};return i[t]||(i[t]=e())}const S=_(),x=80;function M(t,e={}){if(!t)return"<unknown>";try{let r=t;const n=5,i=[];let s=0,o=0;const a=" > ",u=a.length;let c;const l=Array.isArray(e)?e:e.keyAttrs,h=!Array.isArray(e)&&e.maxStringLength||x;for(;r&&s++<n&&(c=k(r,l),!("html"===c||s>1&&o+i.length*u+c.length>=h));)i.push(c),o+=c.length,r=r.parentNode;return i.reverse().join(a)}catch(t){return"<unknown>"}}function k(t,e){const r=t,n=[];let i,s,o,a,u;if(!r||!r.tagName)return"";if(S.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());const c=e&&e.length?e.filter((t=>r.getAttribute(t))).map((t=>[t,r.getAttribute(t)])):null;if(c&&c.length)c.forEach((t=>{n.push(`[${t[0]}="${t[1]}"]`)}));else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&l(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)n.push(`.${s[u]}`);const h=["aria-label","type","name","title","alt"];for(u=0;u<h.length;u++)o=h[u],a=r.getAttribute(o),a&&n.push(`[${o}="${a}"]`);return n.join("")}function T(){try{return S.document.location.href}catch(t){return""}}function A(t){if(!S.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}const C="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,I=["debug","info","warn","error","log","assert","trace"],P={};function R(t){if(!("console"in w))return t();const e=w.console,r={},n=Object.keys(P);n.forEach((t=>{const n=P[t];r[t]=e[t],e[t]=n}));try{return t()}finally{n.forEach((t=>{e[t]=r[t]}))}}const O=function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return C?I.forEach((r=>{e[r]=(...e)=>{t&&R((()=>{w.console[r](`Sentry Logger [${r}]:`,...e)}))}})):I.forEach((t=>{e[t]=()=>{}})),e}();function D(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function L(t,e){if(!Array.isArray(t))return"";const r=[];for(let e=0;e<t.length;e++){const n=t[e];try{v(n)?r.push("[VueViewModel]"):r.push(String(n))}catch(t){r.push("[value cannot be serialized]")}}return r.join(e)}function N(t,e,r=!1){return!!l(t)&&(a(e,"RegExp")?e.test(t):!!l(e)&&(r?t===e:t.includes(e)))}function F(t,e=[],r=!1){return e.some((e=>N(t,e,r)))}function B(t,e,r){if(!(e in t))return;const n=t[e],i=r(n);"function"==typeof i&&z(i,n),t[e]=i}function j(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch(r){C&&O.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function z(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,j(t,"__sentry_original__",e)}catch(t){}}function U(t){return t.__sentry_original__}function V(t){if(o(t))return{message:t.message,name:t.name,stack:t.stack,...G(t)};if(p(t)){const e={type:t.type,target:q(t.target),currentTarget:q(t.currentTarget),...G(t)};return"undefined"!=typeof CustomEvent&&y(t,CustomEvent)&&(e.detail=t.detail),e}return t}function q(t){try{return e=t,"undefined"!=typeof Element&&y(e,Element)?M(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}var e}function G(t){if("object"==typeof t&&null!==t){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}return{}}function H(t){return $(t,new Map)}function $(t,e){if(d(t)){const r=e.get(t);if(void 0!==r)return r;const n={};e.set(t,n);for(const r of Object.keys(t))void 0!==t[r]&&(n[r]=$(t[r],e));return n}if(Array.isArray(t)){const r=e.get(t);if(void 0!==r)return r;const n=[];return e.set(t,n),t.forEach((t=>{n.push($(t,e))})),n}return t}function W(){const t=w,e=t.crypto||t.msCrypto;let r=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&r())>>t/4).toString(16)))}function K(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Y(t){const{message:e,event_id:r}=t;if(e)return e;const n=K(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function X(t,e,r){const n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}function Q(t,e){const r=K(t);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...e},e&&"data"in e){const t={...n&&n.data,...e.data};r.mechanism.data=t}}function J(t){if(t&&t.__sentry_captured__)return!0;try{j(t,"__sentry_captured__",!0)}catch(t){}return!1}function Z(t){return Array.isArray(t)?t:[t]}const tt="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var et;function rt(t){return new it((e=>{e(t)}))}function nt(t){return new it(((e,r)=>{r(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(et||(et={}));class it{constructor(t){it.prototype.__init.call(this),it.prototype.__init2.call(this),it.prototype.__init3.call(this),it.prototype.__init4.call(this),this._state=et.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new it(((r,n)=>{this._handlers.push([!1,e=>{if(t)try{r(t(e))}catch(t){n(t)}else r(e)},t=>{if(e)try{r(e(t))}catch(t){n(t)}else n(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new it(((e,r)=>{let n,i;return this.then((e=>{i=!1,n=e,t&&t()}),(e=>{i=!0,n=e,t&&t()})).then((()=>{i?r(n):e(n)}))}))}__init(){this._resolve=t=>{this._setResult(et.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(et.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===et.PENDING&&(m(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===et.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===et.RESOLVED&&t[1](this._value),this._state===et.REJECTED&&t[2](this._value),t[0]=!0)}))}}}function st(){return E("globalEventProcessors",(()=>[]))}function ot(t){st().push(t)}function at(t,e,r,n=0){return new it(((i,s)=>{const o=t[n];if(null===e||"function"!=typeof o)i(e);else{const a=o({...e},r);tt&&o.id&&null===a&&O.log(`Event processor "${o.id}" dropped event`),m(a)?a.then((e=>at(t,e,r,n+1).then(i))).then(null,s):at(t,a,r,n+1).then(i).then(null,s)}}))}const ut="production",ct=1e3;function lt(){return Date.now()/ct}const ht=function(){const{performance:t}=w;if(!t||!t.now)return lt;const e=Date.now()-t.now(),r=null==t.timeOrigin?e:t.timeOrigin;return()=>(r+t.now())/ct}();let ft;const dt=(()=>{const{performance:t}=w;if(!t||!t.now)return void(ft="none");const e=36e5,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,o=t.timing&&t.timing.navigationStart,a="number"==typeof o?Math.abs(o+r-n):e;return s||a<e?i<=a?(ft="timeOrigin",t.timeOrigin):(ft="navigationStart",o):(ft="dateNow",n)})();function pt(t){const e=ht(),r={sid:W(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return H({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(r)};return t&&mt(r,t),r}function mt(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ht(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:W()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function gt(t,e){let r={};e?r={status:e}:"ok"===t.status&&(r={status:"exited"}),mt(t,r)}const yt="baggage",vt="sentry-",bt=/^sentry-/,wt=8192;function _t(t){if(!t)return;return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce(((t,[e,r],n)=>{const i=`${encodeURIComponent(e)}=${encodeURIComponent(r)}`,s=0===n?i:`${t},${i}`;return s.length>wt?(C&&O.warn(`Not adding key: ${e} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s}),"")}(Object.entries(t).reduce(((t,[e,r])=>(r&&(t[`${vt}${e}`]=r),t)),{}))}function Et(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,r])=>(t[e]=r,t)),{})}const St=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function xt(t){if(!t)return;const e=t.match(St);if(!e)return;let r;return"1"===e[3]?r=!0:"0"===e[3]&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function Mt(t,e){const r=xt(t),n=function(t){if(!l(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce(((t,e)=>{const r=Et(e);for(const e of Object.keys(r))t[e]=r[e];return t}),{});else{if(!t)return;e=Et(t)}const r=Object.entries(e).reduce(((t,[e,r])=>(e.match(bt)&&(t[e.slice(vt.length)]=r),t)),{});return Object.keys(r).length>0?r:void 0}(e),{traceId:i,parentSpanId:s,parentSampled:o}=r||{},a={traceId:i||W(),spanId:W().substring(16),sampled:o};return s&&(a.parentSpanId=s),n&&(a.dsc=n),{traceparentData:r,dynamicSamplingContext:n,propagationContext:a}}function kt(t=W(),e=W().substring(16),r){let n="";return void 0!==r&&(n=r?"-1":"-0"),`${t}-${e}${n}`}const Tt=1;function At(t){const{spanId:e,traceId:r}=t.spanContext(),{data:n,op:i,parent_span_id:s,status:o,tags:a,origin:u}=Rt(t);return H({data:n,op:i,parent_span_id:s,span_id:e,status:o,tags:a,trace_id:r,origin:u})}function Ct(t){const{traceId:e,spanId:r}=t.spanContext();return kt(e,r,Ot(t))}function It(t){return"number"==typeof t?Pt(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Pt(t.getTime()):ht()}function Pt(t){return t>9999999999?t/1e3:t}function Rt(t){return function(t){return"function"==typeof t.getSpanJSON}(t)?t.getSpanJSON():"function"==typeof t.toJSON?t.toJSON():{}}function Ot(t){const{traceFlags:e}=t.spanContext();return Boolean(e&Tt)}function Dt(t,e,r){const n=e.getOptions(),{publicKey:i}=e.getDsn()||{},{segment:s}=r&&r.getUser()||{},o=H({environment:n.environment||ut,release:n.release,user_segment:s,public_key:i,trace_id:t});return e.emit&&e.emit("createDsc",o),o}function Lt(t){const e=Ce();if(!e)return{};const r=Dt(Rt(t).trace_id||"",e,Ie()),n=t.transaction;if(!n)return r;const i=n&&n._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:o}=n.metadata;null!=s&&(r.sample_rate=`${s}`);const a=Rt(n);return o&&"url"!==o&&(r.transaction=a.description),r.sampled=String(Ot(n)),e.emit&&e.emit("createDsc",r),r}function Nt(t,e){const{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s,propagationContext:o}=e;!function(t,e){const{extra:r,tags:n,user:i,contexts:s,level:o,transactionName:a}=e;r&&Object.keys(r).length&&(t.extra={...r,...t.extra});n&&Object.keys(n).length&&(t.tags={...n,...t.tags});i&&Object.keys(i).length&&(t.user={...i,...t.user});s&&Object.keys(s).length&&(t.contexts={...s,...t.contexts});o&&(t.level=o);a&&(t.transaction=a)}(t,e),n&&function(t,e){t.contexts={trace:At(e),...t.contexts};const r=e.transaction;if(r){t.sdkProcessingMetadata={dynamicSamplingContext:Lt(e),...t.sdkProcessingMetadata};const n=Rt(r).description;n&&(t.tags={transaction:n,...t.tags})}}(t,n),function(t,e){t.fingerprint=t.fingerprint?Z(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,r),function(t,e){const r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}(t,i),function(t,e,r){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e,propagationContext:r}}(t,s,o)}function Ft(t,e){const{extra:r,tags:n,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:u,fingerprint:c,eventProcessors:l,attachments:h,propagationContext:f,transactionName:d,span:p}=e;Bt(t,"extra",r),Bt(t,"tags",n),Bt(t,"user",i),Bt(t,"contexts",s),Bt(t,"sdkProcessingMetadata",a),o&&(t.level=o),d&&(t.transactionName=d),p&&(t.span=p),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),c.length&&(t.fingerprint=[...t.fingerprint,...c]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),h.length&&(t.attachments=[...t.attachments,...h]),t.propagationContext={...t.propagationContext,...f}}function Bt(t,e,r){r&&Object.keys(r).length&&(t[e]={...t[e],...r})}let jt;class zt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ut()}static clone(t){return t?t.clone():new zt}clone(){const t=new zt;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&mt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof zt?e:this}return t instanceof zt?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):d(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ut(),this}addBreadcrumb(t,e){const r="number"==typeof e?e:100;if(r<=0)return this;const n={timestamp:lt(),...t},i=this._breadcrumbs;return i.push(n),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:e,_contexts:r,_tags:n,_extra:i,_user:s,_level:o,_fingerprint:a,_eventProcessors:u,_propagationContext:c,_sdkProcessingMetadata:l,_transactionName:h,_span:f}=this;return{breadcrumbs:t,attachments:e,contexts:r,tags:n,extra:i,user:s,level:o,fingerprint:a||[],eventProcessors:u,propagationContext:c,sdkProcessingMetadata:l,transactionName:h,span:f}}applyToEvent(t,e={},r=[]){Nt(t,this.getScopeData());return at([...r,...st(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const r=e&&e.event_id?e.event_id:W();if(!this._client)return O.warn("No client configured on scope - will not capture exception!"),r;const n=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:n,...e,event_id:r},this),r}captureMessage(t,e,r){const n=r&&r.event_id?r.event_id:W();if(!this._client)return O.warn("No client configured on scope - will not capture message!"),n;const i=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:i,...r,event_id:n},this),n}captureEvent(t,e){const r=e&&e.event_id?e.event_id:W();return this._client?(this._client.captureEvent(t,{...e,event_id:r},this),r):(O.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}function Ut(){return{traceId:W(),spanId:W().substring(16)}}const Vt="7.93.0",qt=parseFloat(Vt),Gt=100;class Ht{constructor(t,e,r,n=qt){let i,s;this._version=n,e?i=e:(i=new zt,i.setClient(t)),r?s=r:(s=new zt,s.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=s}isOlderThan(t){return this._version<t}bindClient(t){const e=this.getStackTop();e.client=t,e.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){const e=this.pushScope();let r;try{r=t(e)}catch(t){throw this.popScope(),t}return m(r)?r.then((t=>(this.popScope(),t)),(t=>{throw this.popScope(),t})):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const r=this._lastEventId=e&&e.event_id?e.event_id:W(),n=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:n,...e,event_id:r}),r}captureMessage(t,e,r){const n=this._lastEventId=r&&r.event_id?r.event_id:W(),i=new Error(t);return this.getScope().captureMessage(t,e,{originalException:t,syntheticException:i,...r,event_id:n}),n}captureEvent(t,e){const r=e&&e.event_id?e.event_id:W();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...e,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:r,client:n}=this.getStackTop();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Gt}=n.getOptions&&n.getOptions()||{};if(s<=0)return;const o={timestamp:lt(),...t},a=i?R((()=>i(o,e))):o;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,e),r.addBreadcrumb(a,s))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,e){this.getScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e)}setContext(t,e){this.getScope().setContext(t,e)}configureScope(t){const{scope:e,client:r}=this.getStackTop();r&&t(e)}run(t){const e=Wt(this);try{t(this)}finally{Wt(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return tt&&O.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){const r=this._callExtensionMethod("startTransaction",t,e);if(tt&&!r){this.getClient()?O.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):O.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop().scope,e=t.getSession();e&&gt(e),this._sendSessionUpdate(),t.setSession()}startSession(t){const{scope:e,client:r}=this.getStackTop(),{release:n,environment:i=ut}=r&&r.getOptions()||{},{userAgent:s}=w.navigator||{},o=pt({release:n,environment:i,user:e.getUser(),...s&&{userAgent:s},...t}),a=e.getSession&&e.getSession();return a&&"ok"===a.status&&mt(a,{status:"exited"}),this.endSession(),e.setSession(o),o}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop(),r=t.getSession();r&&e&&e.captureSession&&e.captureSession(r)}_withClient(t){const{scope:e,client:r}=this.getStackTop();r&&t(r,e)}_callExtensionMethod(t,...e){const r=$t().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);tt&&O.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function $t(){return w.__SENTRY__=w.__SENTRY__||{extensions:{},hub:void 0},w}function Wt(t){const e=$t(),r=Jt(e);return Zt(e,t),r}function Kt(){const t=$t();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return Xt(t)}function Yt(){return Kt().getIsolationScope()}function Xt(t=$t()){return Qt(t)&&!Jt(t).isOlderThan(qt)||Zt(t,new Ht),Jt(t)}function Qt(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Jt(t){return E("hub",(()=>new Ht),t)}function Zt(t,e){if(!t)return!1;return(t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0}const te=50,ee=/\(error: (.*)\)/,re=/captureMessage|captureException/;function ne(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,r=0)=>{const n=[],i=t.split("\n");for(let t=r;t<i.length;t++){const r=i[t];if(r.length>1024)continue;const s=ee.test(r)?r.replace(ee,"$1"):r;if(!s.match(/\S*Error: /)){for(const t of e){const e=t(s);if(e){n.push(e);break}}if(n.length>=te)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop();e.reverse(),re.test(e[e.length-1].function||"")&&(e.pop(),re.test(e[e.length-1].function||"")&&e.pop());return e.slice(0,te).map((t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||"?"})))}(n)}}const ie="<anonymous>";function se(t){try{return t&&"function"==typeof t&&t.name||ie}catch(t){return ie}}function oe(t,e=100,r=1/0){try{return ue("",t,e,r)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function ae(t,e=3,r=102400){const n=oe(t,e);return i=n,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(i))>r?ae(t,e-1,r):n;var i}function ue(t,e,n=1/0,i=1/0,s=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(r){if(t)return!!e.has(r)||(e.add(r),!1);for(let t=0;t<e.length;t++)if(e[t]===r)return!0;return e.push(r),!1},function(r){if(t)e.delete(r);else for(let t=0;t<e.length;t++)if(e[t]===r){e.splice(t,1);break}}]}()){const[o,a]=s;if(null==e||["number","boolean","string"].includes(typeof e)&&!g(e))return e;const u=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(void 0!==r.g&&e===r.g)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(v(e))return"[VueViewModel]";if(d(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof e&&e!=e)return"[NaN]";if("function"==typeof e)return`[Function: ${se(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const i=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(i)?`[HTMLElement: ${i}]`:`[object ${i}]`}catch(t){return`**non-serializable** (${t})`}var n}(t,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;const c="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===c)return u.replace("object ","");if(o(e))return"[Circular ~]";const l=e;if(l&&"function"==typeof l.toJSON)try{return ue("",l.toJSON(),c-1,i,s)}catch(t){}const h=Array.isArray(e)?[]:{};let f=0;const p=V(e);for(const t in p){if(!Object.prototype.hasOwnProperty.call(p,t))continue;if(f>=i){h[t]="[MaxProperties ~]";break}const e=p[t];h[t]=ue(t,e,c-1,i,s),f++}return a(e),h}function ce(t,e,r,n,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=t,u={...e,event_id:e.event_id||r.event_id||W(),timestamp:e.timestamp||lt()},c=r.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:r,release:n,dist:i,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?r:ut);void 0===t.release&&void 0!==n&&(t.release=n);void 0===t.dist&&void 0!==i&&(t.dist=i);t.message&&(t.message=D(t.message,s));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=D(o.value,s));const a=t.request;a&&a.url&&(a.url=D(a.url,s))}(u,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(u,c),void 0===e.type&&function(t,e){const r=w._sentryDebugIds;if(!r)return;let n;const i=le.get(e);i?n=i:(n=new Map,le.set(e,n));const s=Object.keys(r).reduce(((t,i)=>{let s;const o=n.get(i);o?s=o:(s=e(i),n.set(i,s));for(let e=s.length-1;e>=0;e--){const n=s[e];if(n.filename){t[n.filename]=r[i];break}}return t}),{});try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.filename&&(t.debug_id=s[t.filename])}))}))}catch(t){}}(u,t.stackParser);const l=function(t,e){if(!e)return t;const r=t?t.clone():new zt;return r.update(e),r}(n,r.captureContext);r.mechanism&&Q(u,r.mechanism);const h=i&&i.getEventProcessors?i.getEventProcessors():[],f=(jt||(jt=new zt),jt).getScopeData();if(s){Ft(f,s.getScopeData())}if(l){Ft(f,l.getScopeData())}const d=[...r.attachments||[],...f.attachments];d.length&&(r.attachments=d),Nt(u,f);return at([...h,...st(),...f.eventProcessors],u,r).then((t=>(t&&function(t){const e={};try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))}))}catch(t){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.keys(e).forEach((t=>{r.push({type:"sourcemap",code_file:t,debug_id:e[t]})}))}(t),"number"==typeof o&&o>0?function(t,e,r){if(!t)return null;const n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:oe(t.data,e,r)}})))},...t.user&&{user:oe(t.user,e,r)},...t.contexts&&{contexts:oe(t.contexts,e,r)},...t.extra&&{extra:oe(t.extra,e,r)}};t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=oe(t.contexts.trace.data,e,r)));t.spans&&(n.spans=t.spans.map((t=>{const n=Rt(t).data;return n&&(t.data=oe(n,e,r)),t})));return n}(t,o,a):t)))}const le=new WeakMap;function he(t){if(t)return function(t){return t instanceof zt||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>fe.includes(t)))}(t)?{captureContext:t}:t}const fe=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function de(t,e){return Kt().captureException(t,he(e))}function pe(t,e){const r="string"==typeof e?e:void 0,n="string"!=typeof e?{captureContext:e}:void 0;return Kt().captureMessage(t,r,n)}function me(t,e){return Kt().captureEvent(t,e)}function ge(t){Kt().configureScope(t)}function ye(t,e){Kt().addBreadcrumb(t,e)}function ve(t,e){Kt().setContext(t,e)}function be(t){Kt().setExtras(t)}function we(t,e){Kt().setExtra(t,e)}function _e(t){Kt().setTags(t)}function Ee(t,e){Kt().setTag(t,e)}function Se(t){Kt().setUser(t)}function xe(...t){if(2===t.length){const[e,r]=t;if(!e)return Kt().withScope(r);const n=Kt();return n.withScope((()=>(n.getStackTop().scope=e,r(e))))}return Kt().withScope(t[0])}function Me(t,e){return Kt().startTransaction({...t},e)}async function ke(t){const e=Ce();return e?e.flush(t):(tt&&O.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function Te(t){const e=Ce();return e?e.close(t):(tt&&O.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Ae(){return Kt().lastEventId()}function Ce(){return Kt().getClient()}function Ie(){return Kt().getScope()}function Pe(t){const e=Ce(),r=Yt(),n=Ie(),{release:i,environment:s=ut}=e&&e.getOptions()||{},{userAgent:o}=w.navigator||{},a=pt({release:i,environment:s,user:r.getUser(),...o&&{userAgent:o},...t}),u=r.getSession();return u&&"ok"===u.status&&mt(u,{status:"exited"}),Re(),r.setSession(a),n.setSession(a),a}function Re(){const t=Yt(),e=Ie(),r=t.getSession();r&&gt(r),Oe(),t.setSession(),e.setSession()}function Oe(){const t=Yt(),e=Ie(),r=Ce(),n=e.getSession()||t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}function De(t=!1){t?Re():Oe()}const Le=[];function Ne(t){const e=t.defaultIntegrations||[],r=t.integrations;let n;e.forEach((t=>{t.isDefaultInstance=!0})),n=Array.isArray(r)?[...e,...r]:"function"==typeof r?Z(r(e)):e;const i=function(t){const e={};return t.forEach((t=>{const{name:r}=t,n=e[r];n&&!n.isDefaultInstance&&t.isDefaultInstance||(e[r]=t)})),Object.keys(e).map((t=>e[t]))}(n),s=function(t,e){for(let r=0;r<t.length;r++)if(!0===e(t[r]))return r;return-1}(i,(t=>"Debug"===t.name));if(-1!==s){const[t]=i.splice(s,1);i.push(t)}return i}function Fe(t,e,r){if(r[e.name])tt&&O.log(`Integration skipped because it was already installed: ${e.name}`);else{if(r[e.name]=e,-1===Le.indexOf(e.name)&&(e.setupOnce(ot,Kt),Le.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),t.on&&"function"==typeof e.preprocessEvent){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,n)=>r(e,n,t)))}if(t.addEventProcessor&&"function"==typeof e.processEvent){const r=e.processEvent.bind(e),n=Object.assign(((e,n)=>r(e,n,t)),{id:e.name});t.addEventProcessor(n)}tt&&O.log(`Integration installed: ${e.name}`)}}function Be(t){const e=Ce();e&&e.addIntegration?e.addIntegration(t):tt&&O.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`)}function je(t,e){return Object.assign((function(...t){return{setupOnce:()=>{},...e(...t)}}),{id:t})}let ze;const Ue="FunctionToString",Ve=je(Ue,(()=>({name:Ue,setupOnce(){ze=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=U(this)||this;return ze.apply(e,t)}}catch(t){}}}))),qe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ge=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],He="InboundFilters",$e=je(He,(t=>({name:He,processEvent(e,r,n){const i=n.getOptions(),s=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:qe],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:Ge],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,i);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return tt&&O.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Y(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){const e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch(t){}r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`));tt&&0===e.length&&O.error(`Could not extract message for event ${Y(t)}`);return e}(t).some((t=>F(t,e)))}(t,e.ignoreErrors))return tt&&O.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Y(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const r=t.transaction;return!!r&&F(r,e)}(t,e.ignoreTransactions))return tt&&O.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Y(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const r=We(t);return!!r&&F(r,e)}(t,e.denyUrls))return tt&&O.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Y(t)}.\nUrl: ${We(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const r=We(t);return!r||F(r,e)}(t,e.allowUrls))return tt&&O.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Y(t)}.\nUrl: ${We(t)}`),!0;return!1}(e,s)?null:e}})));function We(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(e):null}catch(e){return tt&&O.error(`Cannot extract url for event ${Y(t)}`),null}}function Ke(t,e,r=250,n,i,s,o){if(!(s.exception&&s.exception.values&&o&&y(o.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var u,c;a&&(s.exception.values=(u=Ye(t,e,i,o.originalException,n,s.exception.values,a,0),c=r,u.map((t=>(t.value&&(t.value=D(t.value,c)),t)))))}function Ye(t,e,r,n,i,s,o,a){if(s.length>=r+1)return s;let u=[...s];if(y(n[i],Error)){Xe(o,a);const s=t(e,n[i]),c=u.length;Qe(s,i,c,a),u=Ye(t,e,r,n[i],i,[s,...u],s,c)}return Array.isArray(n.errors)&&n.errors.forEach(((n,s)=>{if(y(n,Error)){Xe(o,a);const c=t(e,n),l=u.length;Qe(c,`errors[${s}]`,l,a),u=Ye(t,e,r,n,i,[c,...u],c,l)}})),u}function Xe(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function Qe(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function Je(t,e){return t(e.stack||"",1)}function Ze(t,e){const r={type:e.name||e.constructor.name,value:e.message},n=Je(t,e);return n.length&&(r.stacktrace={frames:n}),r}const tr="LinkedErrors",er=je(tr,((t={})=>{const e=t.limit||5,r=t.key||"cause";return{name:tr,preprocessEvent(t,n,i){const s=i.getOptions();Ke(Ze,s.stackParser,s.maxValueLength,r,e,t,n)}}})),rr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function nr(t,e=!1){const{host:r,path:n,pass:i,port:s,projectId:o,protocol:a,publicKey:u}=t;return`${a}://${u}${e&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n?`${n}/`:n}${o}`}function ir(t){const e=rr.exec(t);if(!e)return void R((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[r,n,i="",s,o="",a]=e.slice(1);let u="",c=a;const l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){const t=c.match(/^\d+/);t&&(c=t[0])}return sr({host:s,pass:i,path:u,projectId:c,port:o,protocol:r,publicKey:n})}function sr(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function or(t){const e="string"==typeof t?ir(t):sr(t);if(e&&function(t){if(!C)return!0;const{port:e,projectId:r,protocol:n}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(O.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(r.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(n)?e&&isNaN(parseInt(e,10))&&(O.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(O.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),1):(O.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),1)))}(e))return e}function ar(t,e=[]){return[t,e]}function ur(t,e){const[r,n]=t;return[r,[...n,e]]}function cr(t,e){const r=t[1];for(const t of r){if(e(t,t[0].type))return!0}return!1}function lr(t,e){return(e||new TextEncoder).encode(t)}function hr(t,e){const[r,n]=t;let i=JSON.stringify(r);function s(t){"string"==typeof i?i="string"==typeof t?i+t:[lr(i,e),t]:i.push("string"==typeof t?lr(t,e):t)}for(const t of n){const[e,r]=t;if(s(`\n${JSON.stringify(e)}\n`),"string"==typeof r||r instanceof Uint8Array)s(r);else{let t;try{t=JSON.stringify(r)}catch(e){t=JSON.stringify(oe(r))}s(t)}}return"string"==typeof i?i:function(t){const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);let n=0;for(const e of t)r.set(e,n),n+=e.length;return r}(i)}function fr(t,e){const r="string"==typeof t.data?lr(t.data,e):t.data;return[H({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}const dr={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function pr(t){return dr[t]}function mr(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function gr(t,e,r,n){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:nr(n)},...i&&{trace:H({...i})}}}const yr=new Map,vr=new Set;function br(t,e){return function(t){if(w._sentryModuleMetadata)for(const e of Object.keys(w._sentryModuleMetadata)){const r=w._sentryModuleMetadata[e];if(vr.has(e))continue;vr.add(e);const n=t(e);for(const t of n.reverse())if(t.filename){yr.set(t.filename,r);break}}}(t),yr.get(e)}const wr="ModuleMetadata",_r=je(wr,(()=>({name:wr,setup(t){"function"==typeof t.on&&t.on("beforeEnvelope",(t=>{cr(t,((t,e)=>{if("event"===e){const e=Array.isArray(t)?t[1]:void 0;e&&(!function(t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const e of t.stacktrace.frames||[])delete e.module_metadata}))}catch(t){}}(e),t[1]=e)}}))}))},processEvent:(t,e,r)=>(function(t,e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const r of e.stacktrace.frames||[]){if(!r.filename)continue;const e=br(t,r.filename);e&&(r.module_metadata=e)}}))}catch(t){}}(r.getOptions().stackParser,t),t)})));class Er extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}const Sr="7";function xr(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function Mr(t,e){return r={sentry_key:t.publicKey,sentry_version:Sr,...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(r).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(r[t])}`)).join("&");var r}function kr(t,e={}){const r="string"==typeof e?e:e.tunnel,n="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return r||`${function(t){return`${xr(t)}${t.projectId}/envelope/`}(t)}?${Mr(t,n)}`}function Tr(t,e,r,n){const i=mr(r),s=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,r&&r.sdk);const o=gr(t,i,n,e);delete t.sdkProcessingMetadata;return ar(o,[[{type:s},t]])}const Ar=/[^a-zA-Z0-9_/.-]+/g,Cr=/[^\w\d_:/@.{}[\]$-]+/g;function Ir(t,e,r,n){const i={sent_at:(new Date).toISOString()};r&&r.sdk&&(i.sdk={name:r.sdk.name,version:r.sdk.version}),n&&e&&(i.dsn=nr(e));const s=function(t){const e=function(t){let e="";for(const r of t){const t=Object.entries(r.tags),n=t.length>0?`|#${t.map((([t,e])=>`${t}:${e}`)).join(",")}`:"";e+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${n}|T${r.timestamp}\n`}return e}(t);return[{type:"statsd",length:e.length},e]}(t);return ar(i,[s])}const Pr="Not capturing exception because it's already been captured.";class Rr{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=or(t.dsn):tt&&O.warn("No DSN provided, client will not send events."),this._dsn){const e=kr(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,r){if(J(t))return void(tt&&O.log(Pr));let n=e&&e.event_id;return this._process(this.eventFromException(t,e).then((t=>this._captureEvent(t,e,r))).then((t=>{n=t}))),n}captureMessage(t,e,r,n){let i=r&&r.event_id;const s=h(t)?t:String(t),o=f(t)?this.eventFromMessage(s,e,r):this.eventFromException(t,r);return this._process(o.then((t=>this._captureEvent(t,r,n))).then((t=>{i=t}))),i}captureEvent(t,e,r){if(e&&e.originalException&&J(e.originalException))return void(tt&&O.log(Pr));let n=e&&e.event_id;return this._process(this._captureEvent(t,e,r).then((t=>{n=t}))),n}captureSession(t){"string"!=typeof t.release?tt&&O.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),mt(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then((r=>e.flush(t).then((t=>r&&t))))):rt(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(t,e){const r={};return e.forEach((e=>{e&&Fe(t,e,r)})),r}(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return tt&&O.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){Fe(this,t,this._integrations)}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let r=Tr(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])r=ur(r,fr(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));const n=this._sendEnvelope(r);n&&n.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const e=function(t,e,r,n){const i=mr(r);return ar({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!n&&e&&{dsn:nr(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}recordDroppedEvent(t,e,r){if(this._options.sendClientReports){const r=`${t}:${e}`;tt&&O.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}captureAggregateMetrics(t){tt&&O.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const e=Ir(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach((t=>t(...e)))}_updateSessionFromEvent(t,e){let r=!1,n=!1;const i=e.exception&&e.exception.values;if(i){n=!0;for(const t of i){const e=t.mechanism;if(e&&!1===e.handled){r=!0;break}}}const s="ok"===t.status;(s&&0===t.errors||s&&r)&&(mt(t,{...r&&{status:"crashed"},errors:t.errors||Number(n||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new it((e=>{let r=0;const n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),e(!0)):(r+=1,t&&r>=t&&(clearInterval(n),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,r,n=Yt()){const i=this.getOptions(),s=Object.keys(this._integrations);return!e.integrations&&s.length>0&&(e.integrations=s),this.emit("preprocessEvent",t,e),ce(i,t,e,r,this,n).then((t=>{if(null===t)return t;const{propagationContext:e}=t.sdkProcessingMetadata||{};if(!(t.contexts&&t.contexts.trace)&&e){const{traceId:n,spanId:i,parentSpanId:s,dsc:o}=e;t.contexts={trace:{trace_id:n,span_id:i,parent_span_id:s},...t.contexts};const a=o||Dt(n,this,r);t.sdkProcessingMetadata={dynamicSamplingContext:a,...t.sdkProcessingMetadata}}return t}))}_captureEvent(t,e={},r){return this._processEvent(t,e,r).then((t=>t.event_id),(t=>{if(tt){const e=t;"log"===e.logLevel?O.log(e.message):O.warn(e)}}))}_processEvent(t,e,r){const n=this.getOptions(),{sampleRate:i}=n,s=Dr(t),o=Or(t),a=t.type||"error",u=`before send for type \`${a}\``;if(o&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),nt(new Er(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===a?"replay":a;return this._prepareEvent(t,e,r).then((r=>{if(null===r)throw this.recordDroppedEvent("event_processor",c,t),new Er("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return r;const i=function(t,e,r){const{beforeSend:n,beforeSendTransaction:i}=t;if(Or(e)&&n)return n(e,r);if(Dr(e)&&i)return i(e,r);return e}(n,r,e);return function(t,e){const r=`${e} must return \`null\` or a valid event.`;if(m(t))return t.then((t=>{if(!d(t)&&null!==t)throw new Er(r);return t}),(t=>{throw new Er(`${e} rejected with ${t}`)}));if(!d(t)&&null!==t)throw new Er(r);return t}(i,u)})).then((n=>{if(null===n)throw this.recordDroppedEvent("before_send",c,t),new Er(`${u} returned \`null\`, will not send event.`,"log");const i=r&&r.getSession();!s&&i&&this._updateSessionFromEvent(i,n);const o=n.transaction_info;if(s&&o&&n.transaction!==t.transaction){const t="custom";n.transaction_info={...o,source:t}}return this.sendEvent(n,e),n})).then(null,(t=>{if(t instanceof Er)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new Er(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,(t=>{tt&&O.error("Error while sending event:",t)}));tt&&O.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[r,n]=e.split(":");return{reason:r,category:n,quantity:t[e]}}))}}function Or(t){return void 0===t.type}function Dr(t){return"transaction"===t.type}function Lr(t){const e=Ce();e&&e.addEventProcessor&&e.addEventProcessor(t)}const Nr={},Fr={};function Br(t,e){Nr[t]=Nr[t]||[],Nr[t].push(e)}function jr(t,e){Fr[t]||(e(),Fr[t]=!0)}function zr(t,e){const r=t&&Nr[t];if(r)for(const n of r)try{n(e)}catch(e){C&&O.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${se(n)}\nError:`,e)}}let Ur=null;function Vr(t){const e="error";Br(e,t),jr(e,qr)}function qr(){Ur=w.onerror,w.onerror=function(t,e,r,n,i){return zr("error",{column:n,error:i,line:r,msg:t,url:e}),!(!Ur||Ur.__SENTRY_LOADER__)&&Ur.apply(this,arguments)},w.onerror.__SENTRY_INSTRUMENTED__=!0}let Gr=null;function Hr(t){const e="unhandledrejection";Br(e,t),jr(e,$r)}function $r(){Gr=w.onunhandledrejection,w.onunhandledrejection=function(t){return zr("unhandledrejection",t),!(Gr&&!Gr.__SENTRY_LOADER__)||Gr.apply(this,arguments)},w.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Wr(t){return(t||Kt()).getScope().getTransaction()}const Kr=xt;let Yr=!1;function Xr(){const t=Wr();if(t){const e="internal_error";tt&&O.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Xr.tag="sentry_tracingErrorCallback";class Qr{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class Jr{constructor(t={}){this._traceId=t.traceId||W(),this._spanId=t.spanId||W().substring(16),this.startTimestamp=t.startTimestamp||ht(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this._attributes=t.attributes?{...t.attributes}:{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",this._name=t.name||t.description,t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.op&&(this.op=t.op),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}spanContext(){const{_spanId:t,_traceId:e,_sampled:r}=this;return{spanId:t,traceId:e,traceFlags:r?Tt:0}}startChild(t){const e=new Jr({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});if(e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e),e.transaction=this.transaction,tt&&e.transaction){const r=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${Rt(e).description||"< unknown name >"}' (${e.transaction.spanContext().spanId}).`;O.log(r),this._logMessage=r}return e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}setData(t,e){return this.data={...this.data,[t]:e},this}setAttribute(t,e){void 0===e?delete this._attributes[t]:this._attributes[t]=e}setAttributes(t){Object.keys(t).forEach((e=>this.setAttribute(e,t[e])))}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);const e=Zr(t);return"unknown_error"!==e&&this.setStatus(e),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return"ok"===this.status}finish(t){return this.end(t)}end(t){if(tt&&this.transaction&&this.transaction.spanContext().spanId!==this._spanId){const t=this._logMessage;t&&O.log(t.replace("Starting","Finishing"))}this.endTimestamp=It(t)}toTraceparent(){return Ct(this)}toContext(){return H({data:this._getData(),description:this._name,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return At(this)}getSpanJSON(){return H({data:this._getData(),description:this._name,op:this.op,parent_span_id:this.parentSpanId,span_id:this._spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this._traceId,origin:this.origin})}isRecording(){return!this.endTimestamp&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:e}=this,r=Object.keys(t).length>0,n=Object.keys(e).length>0;if(r||n)return r&&n?{...t,...e}:r?t:e}}function Zr(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}const tn="sentry.source",en="sentry.sample_rate";class rn extends Jr{constructor(t,e){super(t),this._measurements={},this._contexts={},this._hub=e||Kt(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[tn]&&{source:this._attributes[tn]},...this._attributes[en]&&{sampleRate:this._attributes[en]}}}set metadata(t){this._metadata=t}setName(t,e="custom"){this._name=t,this.setAttribute(tn,e)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Qr(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,r=""){this._measurements[t]={value:e,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const e=It(t),r=this._finishTransaction(e);if(r)return this._hub.captureEvent(r)}toContext(){return H({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Lt(this)}setHub(t){this._hub=t}_finishTransaction(t){if(void 0!==this.endTimestamp)return;this._name||(tt&&O.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this._sampled)return tt&&O.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const r=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&t.endTimestamp)):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce(((t,e)=>t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t)).endTimestamp);const{metadata:n}=this,{source:i}=n,s={contexts:{...this._contexts,trace:At(this)},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...n,dynamicSamplingContext:Lt(this)},...i&&{transaction_info:{source:i}}};return Object.keys(this._measurements).length>0&&(tt&&O.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),tt&&O.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),s}}const nn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},sn=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class on extends Qr{constructor(t,e,r,n){super(n),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const e=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),e.apply(t,r)),void 0===t.endTimestamp&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class an extends rn{constructor(t,e,r=nn.idleTimeout,n=nn.finalTimeout,i=nn.heartbeatInterval,s=!1){super(t,e),this._idleHub=e,this._idleTimeout=r,this._finalTimeout=n,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=sn[4],s&&(tt&&O.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),e.getScope().setSpan(this)),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=sn[3],this.end())}),this._finalTimeout)}end(t){const e=It(t);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){tt&&O.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanContext().spanId===this.spanContext().spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),tt&&O.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const r=t.startTimestamp<e,n=(this._finalTimeout+this._idleTimeout)/1e3,i=t.endTimestamp-this.startTimestamp<n;if(tt){const e=JSON.stringify(t,void 0,2);r?i||O.log("[Tracing] discarding Span since it finished after Transaction final timeout",e):O.log("[Tracing] discarding Span since it happened after Transaction was finished",e)}return r&&i})),tt&&O.log("[Tracing] flushing IdleTransaction")}else tt&&O.log("[Tracing] No active IdleTransaction");if(this._onScope){const t=this._idleHub.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},r=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new on(e,r,this.spanContext().spanId,t),tt&&O.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=sn[5],this.end(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=sn[1],this.end(t))}),this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),tt&&O.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,tt&&O.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(tt&&O.log(`[Tracing] popActivity ${t}`),delete this.activities[t],tt&&O.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=ht();this._idleTimeoutCanceledPermanently?(this._finishReason=sn[5],this.end(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(tt&&O.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=sn[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){tt&&O.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function un(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=Ce(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}function cn(t,e,r){if(!un(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t.setAttribute(en,Number(t.sampled)),t;let n;return"function"==typeof e.tracesSampler?(n=e.tracesSampler(r),t.setAttribute(en,Number(n))):void 0!==r.parentSampled?n=r.parentSampled:void 0!==e.tracesSampleRate?(n=e.tracesSampleRate,t.setAttribute(en,Number(n))):(n=1,t.setAttribute(en,n)),function(t){if(g(t)||"number"!=typeof t&&"boolean"!=typeof t)return tt&&O.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1;if(t<0||t>1)return tt&&O.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1;return!0}(n)?n?(t.sampled=Math.random()<n,t.sampled?(tt&&O.log(`[Tracing] starting ${t.op} transaction - ${Rt(t).description}`),t):(tt&&O.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),t)):(tt&&O.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(tt&&O.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function ln(){const t=this.getScope().getSpan();return t?{"sentry-trace":Ct(t)}:{}}function hn(t,e){const r=this.getClient(),n=r&&r.getOptions()||{},i=n.instrumenter||"sentry",s=t.instrumenter||"sentry";i!==s&&(tt&&O.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.\nThe transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let o=new rn(t,this);return o=cn(o,n,{parentSampled:t.parentSampled,transactionContext:t,...e}),o.isRecording()&&o.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",o),o}function fn(t,e,r,n,i,s,o){const a=t.getClient(),u=a&&a.getOptions()||{};let c=new an(e,t,r,n,o,i);return c=cn(c,u,{parentSampled:e.parentSampled,transactionContext:e,...s}),c.isRecording()&&c.initSpanRecorder(u._experiments&&u._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",c),c}function dn(){const t=$t();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=hn),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=ln),Yr||(Yr=!0,Vr(Xr),Hr(Xr)))}function pn(t,e,r=(()=>{})){let n;try{n=t()}catch(t){throw e(t),r(),t}return function(t,e,r){if(m(t))return t.then((t=>(r(),t)),(t=>{throw e(t),r(),t}));return r(),t}(n,e,r)}function mn(t,e,r=(()=>{}),n=(()=>{})){const i=Kt(),s=Ie(),o=s.getSpan(),a=En(t),u=_n(i,o,a);return s.setSpan(u),pn((()=>e(u)),(t=>{u&&u.setStatus("internal_error"),r(t,u)}),(()=>{u&&u.end(),s.setSpan(o),n()}))}function gn(t,e){const r=En(t);return xe(t.scope,(t=>{const n=_n(Kt(),t.getSpan(),r);return t.setSpan(n),pn((()=>e(n)),(()=>{!n||n.status&&"ok"!==n.status||n.setStatus("internal_error")}),(()=>n&&n.end()))}))}function yn(t,e){const r=En(t);return xe(t.scope,(t=>{const n=_n(Kt(),t.getSpan(),r);function i(){n&&n.end()}return t.setSpan(n),pn((()=>e(n,i)),(()=>{!n||n.endTimestamp||n.status&&"ok"!==n.status||n.setStatus("internal_error")}))}))}function vn(t){if(!un())return;const e=En(t),r=Kt(),n=t.scope?t.scope.getSpan():bn();return n?n.startChild(e):r.startTransaction(e)}function bn(){return Ie().getSpan()}function wn({sentryTrace:t,baggage:e},r){const n=Ie(),{traceparentData:i,dynamicSamplingContext:s,propagationContext:o}=Mt(t,e);n.setPropagationContext(o),tt&&i&&O.log(`[Tracing] Continuing trace ${i.traceId}.`);const a={...i,metadata:H({dynamicSamplingContext:i&&!s?{}:s})};return r?r(a):a}function _n(t,e,r){if(un())return e?e.startChild(r):t.startTransaction(r)}function En(t){if(t.startTime){const e={...t};return e.startTimestamp=It(t.startTime),delete e.startTime,e}return t}function Sn(t){const e=[];function r(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(n){if(!(void 0===t||e.length<t))return nt(new Er("Not adding Promise because buffer limit was reached."));const i=n();return-1===e.indexOf(i)&&e.push(i),i.then((()=>r(i))).then(null,(()=>r(i).then(null,(()=>{})))),i},drain:function(t){return new it(((r,n)=>{let i=e.length;if(!i)return r(!0);const s=setTimeout((()=>{t&&t>0&&r(!1)}),t);e.forEach((t=>{rt(t).then((()=>{--i||(clearTimeout(s),r(!0))}),n)}))}))}}}const xn=6e4;function Mn(t,e=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r))return 1e3*r;const n=Date.parse(`${t}`);return isNaN(n)?xn:n-e}function kn(t,e,r=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>r}function Tn(t,{statusCode:e,headers:r},n=Date.now()){const i={...t},s=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(s)for(const t of s.trim().split(",")){const[e,r]=t.split(":",2),s=parseInt(e,10),o=1e3*(isNaN(s)?60:s);if(r)for(const t of r.split(";"))i[t]=n+o;else i.all=n+o}else o?i.all=n+Mn(o,n):429===e&&(i.all=n+6e4);return i}const An=30;function Cn(t,e,r=Sn(t.bufferSize||An)){let n={};function i(i){const s=[];if(cr(i,((e,r)=>{const i=pr(r);if(kn(n,i)){const n=In(e,r);t.recordDroppedEvent("ratelimit_backoff",i,n)}else s.push(e)})),0===s.length)return rt();const o=ar(i[0],s),a=e=>{cr(o,((r,n)=>{const i=In(r,n);t.recordDroppedEvent(e,pr(n),i)}))};return r.add((()=>e({body:hr(o,t.textEncoder)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&tt&&O.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),n=Tn(n,t),t)),(t=>{throw a("network_error"),t})))).then((t=>t),(t=>{if(t instanceof Er)return tt&&O.error("Skipped sending event because buffer is full."),a("queue_overflow"),rt();throw t}))}return i.__sentry__baseTransport__=!0,{send:i,flush:t=>r.drain(t)}}function In(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}function Pn(t,e){let r;return cr(t,((t,n)=>(e.includes(n)&&(r=Array.isArray(t)?t[1]:void 0),!!r))),r}function Rn(t,e){return r=>{const n=t(r),i={};function s(e,n){const s=n?`${e}:${n}`:e;if(!i[s]){const o=ir(e);if(!o)return;const a=kr(o);i[s]=n?function(t,e){return r=>{const n=t(r);return{send:async t=>{const r=Pn(t,["event","transaction","profile","replay_event"]);return r&&(r.release=e),n.send(t)},flush:t=>n.flush(t)}}}(t,n)({...r,url:a}):t({...r,url:a})}return i[s]}return{send:async function(t){const r=e({envelope:t,getEvent:function(e){const r=e&&e.length?e:["event"];return Pn(t,r)}}).map((t=>"string"==typeof t?s(t,void 0):s(t.dsn,t.release))).filter((t=>!!t));return 0===r.length&&r.push(n),(await Promise.all(r.map((e=>e.send(t)))))[0]},flush:async function(t){const e=[...Object.keys(i).map((t=>i[t])),n];return(await Promise.all(e.map((e=>e.flush(t))))).every((t=>t))}}}}const On={c:class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}},g:class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},d:class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},s:class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map((t=>"string"==typeof t?function(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e&=e;return e>>>0}(t):t)).join(":")}}};class Dn{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(t,e,r,n="none",i={},s=ht()){const o=Math.floor(s),a=e.replace(Ar,"_"),u=function(t){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r.replace(Ar,"_")]=String(t[r]).replace(Cr,"_"));return e}(i),c=function(t,e,r,n){return`${t}${e}${r}${Object.entries(H(n)).sort(((t,e)=>t[0].localeCompare(e[0])))}`}(t,a,n,u),l=this._buckets.get(c);l?(l.metric.add(r),l.timestamp<o&&(l.timestamp=o)):this._buckets.set(c,{metric:new On[t](r),timestamp:o,metricType:t,name:a,unit:n,tags:u})}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map((([,t])=>t));this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const Ln="MetricsAggregator";function Nn(t,e,r,n={}){const i=Ce(),s=Ie();if(i){if(!i.metricsAggregator)return void(tt&&O.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:o,tags:a,timestamp:u}=n,{release:c,environment:l}=i.getOptions(),h=s.getTransaction(),f={};c&&(f.release=c),l&&(f.environment=l),h&&(f.transaction=Rt(h).description||""),tt&&O.log(`Adding value of ${r} to ${t} metric ${e}`),i.metricsAggregator.add(t,e,r,o,{...f,...a},u)}}const Fn={increment:function(t,e=1,r){Nn("c",t,e,r)},distribution:function(t,e,r){Nn("d",t,e,r)},set:function(t,e,r){Nn("s",t,e,r)},gauge:function(t,e,r){Nn("g",t,e,r)},MetricsAggregator:je(Ln,(()=>({name:Ln,setup(t){t.metricsAggregator=new Dn(t)}})))};function Bn(t,e,r){const n=Wr();n&&n.setMeasurement(t,e,r)}const jn=w;let zn=0;function Un(){return zn>0}function Vn(t,e={},r){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if(U(t))return t}catch(e){return t}const n=function(){const n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);const i=n.map((t=>Vn(t,e)));return t.apply(this,i)}catch(t){throw zn++,setTimeout((()=>{zn--})),xe((r=>{r.addEventProcessor((t=>(e.mechanism&&(X(t,void 0,void 0),Q(t,e.mechanism)),t.extra={...t.extra,arguments:n},t))),de(t)})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}catch(t){}z(n,t),j(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch(t){}return n}var qn=r(57816);const Gn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Hn(t,e){const r=Wn(t,e),n={type:e&&e.name,value:Yn(e)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function $n(t,e){return{exception:{values:[Hn(t,e)]}}}function Wn(t,e){const r=e.stacktrace||e.stack||"",n=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(Kn.test(t.message))return 1}return 0}(e);try{return t(r,n)}catch(t){}return[]}const Kn=/Minified React error #\d+;/i;function Yn(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Xn(t,e,r,n){const i=Jn(t,e,r&&r.syntheticException||void 0,n);return Q(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),rt(i)}function Qn(t,e,r="info",n,i){const s=Zn(t,e,n&&n.syntheticException||void 0,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),rt(s)}function Jn(t,e,r,n,i){let s;if(u(e)&&e.error){return $n(t,e.error)}if(c(e)||a(e,"DOMException")){const i=e;if("stack"in e)s=$n(t,e);else{const e=i.name||(c(i)?"DOMError":"DOMException"),o=i.message?`${e}: ${i.message}`:e;s=Zn(t,o,r,n),X(s,o)}return"code"in i&&(s.tags={...s.tags,"DOMException.code":`${i.code}`}),s}if(o(e))return $n(t,e);if(d(e)||p(e)){return s=function(t,e,r,n){const i=Ce(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:p(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:ti(e,{isUnhandledRejection:n})}]},extra:{__serialized__:ae(e,s)}};if(r){const e=Wn(t,r);e.length&&(o.exception.values[0].stacktrace={frames:e})}return o}(t,e,r,i),Q(s,{synthetic:!0}),s}return s=Zn(t,e,r,n),X(s,`${e}`,void 0),Q(s,{synthetic:!0}),s}function Zn(t,e,r,n){const i={};if(n&&r){const n=Wn(t,r);n.length&&(i.exception={values:[{value:e,stacktrace:{frames:n}}]})}if(h(e)){const{__sentry_template_string__:t,__sentry_template_values__:r}=e;return i.logentry={message:t,params:r},i}return i.message=e,i}function ti(t,{isUnhandledRejection:e}){const r=function(t,e=40){const r=Object.keys(V(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return D(r[0],e);for(let t=r.length;t>0;t--){const n=r.slice(0,t).join(", ");if(!(n.length>e))return t===r.length?n:D(n,e)}return""}(t),n=e?"promise rejection":"exception";if(u(t))return`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``;if(p(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${n}`}return`Object captured as ${n} with keys: ${r}`}function ei(t,{metadata:e,tunnel:r,dsn:n}){const i={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:nr(n)}},s=function(t){return[{type:"user_report"},t]}(t);return ar(i,[s])}class ri extends Rr{constructor(t){const e=jn.SENTRY_SDK_SOURCE||(0,qn.S)();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${e}:@sentry/browser`,version:Vt}],version:Vt},super(t),t.sendClientReports&&jn.document&&jn.document.addEventListener("visibilitychange",(()=>{"hidden"===jn.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return Xn(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",r){return Qn(this._options.stackParser,t,e,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Gn&&O.warn("SDK not enabled, will not capture user feedback."));const e=ei(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(e)}_prepareEvent(t,e,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,r)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(Gn&&O.log("No outcomes to send"));if(!this._dsn)return void(Gn&&O.log("No dsn provided, will not send outcomes"));Gn&&O.log("Sending outcomes:",t);const e=(r=t,ar((n=this._options.tunnel&&nr(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:i||lt(),discarded_events:r}]]));var r,n,i;this._sendEnvelope(e)}}const ni=_();function ii(){if(!("fetch"in ni))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function si(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}let oi;function ai(t,e=function(){if(oi)return oi;if(si(jn.fetch))return oi=jn.fetch.bind(jn);const t=jn.document;let e=jn.fetch;if(t&&"function"==typeof t.createElement)try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(e=n.fetch),t.head.removeChild(r)}catch(t){Gn&&O.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return oi=e.bind(jn)}()){let r=0,n=0;return Cn(t,(function(i){const s=i.body.length;r+=s,n++;const o={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};try{return e(t.url,o).then((t=>(r-=s,n--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return oi=void 0,r-=s,n--,nt(t)}}))}const ui=4;function ci(t){return Cn(t,(function(e){return new it(((r,n)=>{const i=new XMLHttpRequest;i.onerror=n,i.onreadystatechange=()=>{i.readyState===ui&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",t.url);for(const e in t.headers)Object.prototype.hasOwnProperty.call(t.headers,e)&&i.setRequestHeader(e,t.headers[e]);i.send(e.body)}))}))}const li="?";function hi(t,e,r,n){const i={filename:t,function:e,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}const fi=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,di=/\((\S*)(?::(\d+))(?::(\d+))\)/,pi=[30,t=>{const e=fi.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){const t=di.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[t,r]=ki(e[1]||li,e[2]);return hi(r,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],mi=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,gi=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yi=[50,t=>{const e=mi.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=gi.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],r=e[1]||li;return[r,t]=ki(r,t),hi(t,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],vi=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,bi=[40,t=>{const e=vi.exec(t);return e?hi(e[2],e[1]||li,+e[3],e[4]?+e[4]:void 0):void 0}],wi=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,_i=[10,t=>{const e=wi.exec(t);return e?hi(e[2],e[3]||li,+e[1]):void 0}],Ei=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Si=[20,t=>{const e=Ei.exec(t);return e?hi(e[5],e[3]||e[4]||li,+e[1],+e[2]):void 0}],xi=[pi,yi,bi],Mi=ne(...xi),ki=(t,e)=>{const r=-1!==t.indexOf("safari-extension"),n=-1!==t.indexOf("safari-web-extension");return r||n?[-1!==t.indexOf("@")?t.split("@")[0]:li,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};const Ti=_();const Ai=w;let Ci;function Ii(t){const e="history";Br(e,t),jr(e,Pi)}function Pi(){if(!function(){const t=Ti.chrome,e=t&&t.app&&t.app.runtime,r="history"in Ti&&!!Ti.history.pushState&&!!Ti.history.replaceState;return!e&&r}())return;const t=Ai.onpopstate;function e(t){return function(...e){const r=e.length>2?e[2]:void 0;if(r){const t=Ci,e=String(r);Ci=e;zr("history",{from:t,to:e})}return t.apply(this,e)}}Ai.onpopstate=function(...e){const r=Ai.location.href,n=Ci;Ci=r;if(zr("history",{from:n,to:r}),t)try{return t.apply(this,e)}catch(t){}},B(Ai.history,"pushState",e),B(Ai.history,"replaceState",e)}const Ri="GlobalHandlers",Oi=je(Ri,((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:Ri,setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){Vr((e=>{const{stackParser:r,attachStacktrace:n}=Ni();if(Ce()!==t||Un())return;const{msg:i,url:s,line:o,column:a,error:c}=e,h=void 0===c&&l(i)?function(t,e,r,n){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=u(t)?t.message:t,o="Error";const a=s.match(i);a&&(o=a[1],s=a[2]);const c={exception:{values:[{type:o,value:s}]}};return Di(c,e,r,n)}(i,s,o,a):Di(Jn(r,c||i,void 0,n,!1),s,o,a);h.level="error",me(h,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(t),Li("onerror")),e.onunhandledrejection&&(!function(t){Hr((e=>{const{stackParser:r,attachStacktrace:n}=Ni();if(Ce()!==t||Un())return;const i=function(t){if(f(t))return t;const e=t;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return t}(e),s=f(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Jn(r,i,void 0,n,!0);s.level="error",me(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),Li("onunhandledrejection"))}}}));function Di(t,e,r,n){const i=t.exception=t.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},u=a.frames=a.frames||[],c=isNaN(parseInt(n,10))?void 0:n,h=isNaN(parseInt(r,10))?void 0:r,f=l(e)&&e.length>0?e:T();return 0===u.length&&u.push({colno:c,filename:f,function:"?",in_app:!0,lineno:h}),t}function Li(t){Gn&&O.log(`Global Handler attached: ${t}`)}function Ni(){const t=Ce();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Fi=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Bi="TryCatch",ji=je(Bi,((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:Bi,setupOnce(){e.setTimeout&&B(jn,"setTimeout",zi),e.setInterval&&B(jn,"setInterval",zi),e.requestAnimationFrame&&B(jn,"requestAnimationFrame",Ui),e.XMLHttpRequest&&"XMLHttpRequest"in jn&&B(XMLHttpRequest.prototype,"send",Vi);const t=e.eventTarget;if(t){(Array.isArray(t)?t:Fi).forEach(qi)}}}}));function zi(t){return function(...e){const r=e[0];return e[0]=Vn(r,{mechanism:{data:{function:se(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Ui(t){return function(e){return t.apply(this,[Vn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:se(t)},handled:!1,type:"instrument"}})])}}function Vi(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in r&&"function"==typeof r[t]&&B(r,t,(function(e){const r={mechanism:{data:{function:t,handler:se(e)},handled:!1,type:"instrument"}},n=U(e);return n&&(r.mechanism.data.handler=se(n)),Vn(e,r)}))})),t.apply(this,e)}}function qi(t){const e=jn,r=e[t]&&e[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(B(r,"addEventListener",(function(e){return function(r,n,i){try{"function"==typeof n.handleEvent&&(n.handleEvent=Vn(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:se(n),target:t},handled:!1,type:"instrument"}}))}catch(t){}return e.apply(this,[r,Vn(n,{mechanism:{data:{function:"addEventListener",handler:se(n),target:t},handled:!1,type:"instrument"}}),i])}})),B(r,"removeEventListener",(function(t){return function(e,r,n){const i=r;try{const r=i&&i.__sentry_wrapped__;r&&t.call(this,e,r,n)}catch(t){}return t.call(this,e,i,n)}})))}function Gi(){"console"in w&&I.forEach((function(t){t in w.console&&B(w.console,t,(function(e){return P[t]=e,function(...e){zr("console",{args:e,level:t});const r=P[t];r&&r.apply(w.console,e)}}))}))}const Hi=w,$i=1e3;let Wi,Ki,Yi;function Xi(t){Br("dom",t),jr("dom",Qi)}function Qi(){if(!Hi.document)return;const t=zr.bind(null,"dom"),e=Ji(t,!0);Hi.document.addEventListener("click",e,!1),Hi.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const r=Hi[e]&&Hi[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(B(r,"addEventListener",(function(e){return function(r,n,i){if("click"===r||"keypress"==r)try{const n=this,s=n.__sentry_instrumentation_handlers__=n.__sentry_instrumentation_handlers__||{},o=s[r]=s[r]||{refCount:0};if(!o.handler){const n=Ji(t);o.handler=n,e.call(this,r,n,i)}o.refCount++}catch(t){}return e.call(this,r,n,i)}})),B(r,"removeEventListener",(function(t){return function(e,r,n){if("click"===e||"keypress"==e)try{const r=this,i=r.__sentry_instrumentation_handlers__||{},s=i[e];s&&(s.refCount--,s.refCount<=0&&(t.call(this,e,s.handler,n),s.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete r.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,r,n)}})))}))}function Ji(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(t){try{return t.target}catch(t){return null}}(r);if(function(t,e){return"keypress"===t&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(r.type,n))return;j(r,"_sentryCaptured",!0),n&&!n._sentryId&&j(n,"_sentryId",W());const i="keypress"===r.type?"input":r.type;if(!function(t){if(t.type!==Ki)return!1;try{if(!t.target||t.target._sentryId!==Yi)return!1}catch(t){}return!0}(r)){t({event:r,name:i,global:e}),Ki=r.type,Yi=n?n._sentryId:void 0}clearTimeout(Wi),Wi=Hi.setTimeout((()=>{Yi=void 0,Ki=void 0}),$i)}}const Zi=w,ts="__sentry_xhr_v3__";function es(t){Br("xhr",t),jr("xhr",rs)}function rs(){if(!Zi.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;B(t,"open",(function(t){return function(...e){const r=Date.now(),n=l(e[0])?e[0].toUpperCase():void 0,i=function(t){if(l(t))return t;try{return t.toString()}catch(t){}return}(e[1]);if(!n||!i)return t.apply(this,e);this[ts]={method:n,url:i,request_headers:{}},"POST"===n&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const t=this[ts];if(t&&4===this.readyState){try{t.status_code=this.status}catch(t){}zr("xhr",{args:[n,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?B(this,"onreadystatechange",(function(t){return function(...e){return s(),t.apply(this,e)}})):this.addEventListener("readystatechange",s),B(this,"setRequestHeader",(function(t){return function(...e){const[r,n]=e,i=this[ts];return i&&l(r)&&l(n)&&(i.request_headers[r.toLowerCase()]=n),t.apply(this,e)}})),t.apply(this,e)}})),B(t,"send",(function(t){return function(...e){const r=this[ts];if(!r)return t.apply(this,e);void 0!==e[0]&&(r.body=e[0]);return zr("xhr",{args:[r.method,r.url],startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}function ns(t){const e="fetch";Br(e,t),jr(e,is)}function is(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!ii())return!1;if(si(ni.fetch))return!0;let t=!1;const e=ni.document;if(e&&"function"==typeof e.createElement)try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=si(r.contentWindow.fetch)),e.head.removeChild(r)}catch(t){C&&O.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t})()&&B(w,"fetch",(function(t){return function(...e){const{method:r,url:n}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,r]=t;return{url:os(e),method:ss(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:os(e),method:ss(e,"method")?String(e.method).toUpperCase():"GET"}}(e),i={args:e,fetchData:{method:r,url:n},startTimestamp:Date.now()};return zr("fetch",{...i}),t.apply(w,e).then((t=>(zr("fetch",{...i,endTimestamp:Date.now(),response:t}),t)),(t=>{throw zr("fetch",{...i,endTimestamp:Date.now(),error:t}),t}))}}))}function ss(t,e){return!!t&&"object"==typeof t&&!!t[e]}function os(t){return"string"==typeof t?t:t?ss(t,"url")?t.url:t.toString?t.toString():"":""}const as=["fatal","error","warning","log","info","debug"];function us(t){return"warn"===t?"warning":as.includes(t)?t:"log"}function cs(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}const ls=1024,hs="Breadcrumbs",fs=je(hs,((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:hs,setup(t){e.console&&function(t){const e="console";Br(e,t),jr(e,Gi)}(function(t){return function(e){if(Ce()!==t)return;const r={category:"console",data:{arguments:e.args,logger:"console"},level:us(e.level),message:L(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;r.message=`Assertion failed: ${L(e.args.slice(1)," ")||"console.assert"}`,r.data.arguments=e.args.slice(1)}ye(r,{input:e.args,level:e.level})}}(t)),e.dom&&Xi(function(t,e){return function(r){if(Ce()!==t)return;let n,i,s="object"==typeof e?e.serializeAttribute:void 0,o="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;o&&o>ls&&(Gn&&O.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=ls),"string"==typeof s&&(s=[s]);try{const t=r.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;n=M(e,{keyAttrs:s,maxStringLength:o}),i=A(e)}catch(t){n="<unknown>"}if(0===n.length)return;const a={category:`ui.${r.name}`,message:n};i&&(a.data={"ui.component_name":i}),ye(a,{event:r.event,name:r.name,global:r.global})}}(t,e.dom)),e.xhr&&es(function(t){return function(e){if(Ce()!==t)return;const{startTimestamp:r,endTimestamp:n}=e,i=e.xhr[ts];if(!r||!n||!i)return;const{method:s,url:o,status_code:a,body:u}=i;ye({category:"xhr",data:{method:s,url:o,status_code:a},type:"http"},{xhr:e.xhr,input:u,startTimestamp:r,endTimestamp:n})}}(t)),e.fetch&&ns(function(t){return function(e){if(Ce()!==t)return;const{startTimestamp:r,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){ye({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:r,endTimestamp:n})}else{const t=e.response;ye({category:"fetch",data:{...e.fetchData,status_code:t&&t.status},type:"http"},{input:e.args,response:t,startTimestamp:r,endTimestamp:n})}}}(t)),e.history&&Ii(function(t){return function(e){if(Ce()!==t)return;let r=e.from,n=e.to;const i=cs(jn.location.href);let s=r?cs(r):void 0;const o=cs(n);s&&s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),ye({category:"navigation",data:{from:r,to:n}})}}(t)),e.sentry&&t.on&&t.on("beforeSendEvent",function(t){return function(e){Ce()===t&&ye({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Y(e)},{event:e})}}(t))}}}));const ds="LinkedErrors",ps=je(ds,((t={})=>{const e=t.limit||5,r=t.key||"cause";return{name:ds,preprocessEvent(t,n,i){const s=i.getOptions();Ke(Hn,s.stackParser,s.maxValueLength,r,e,t,n)}}})),ms="HttpContext",gs=je(ms,(()=>({name:ms,preprocessEvent(t){if(!jn.navigator&&!jn.location&&!jn.document)return;const e=t.request&&t.request.url||jn.location&&jn.location.href,{referrer:r}=jn.document||{},{userAgent:n}=jn.navigator||{},i={...t.request&&t.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},s={...t.request,...e&&{url:e},headers:i};t.request=s}}))),ys="Dedupe",vs=je(ys,(()=>{let t;return{name:ys,processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const r=t.message,n=e.message;if(!r&&!n)return!1;if(r&&!n||!r&&n)return!1;if(r!==n)return!1;if(!ws(t,e))return!1;if(!bs(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const r=_s(e),n=_s(t);if(!r||!n)return!1;if(r.type!==n.type||r.value!==n.value)return!1;if(!ws(t,e))return!1;if(!bs(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return Gn&&O.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}}));function bs(t,e){let r=Es(t),n=Es(e);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(n.length!==r.length)return!1;for(let t=0;t<n.length;t++){const e=n[t],i=r[t];if(e.filename!==i.filename||e.lineno!==i.lineno||e.colno!==i.colno||e.function!==i.function)return!1}return!0}function ws(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(t){return!1}}function _s(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Es(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}const Ss=[new $e,new Ve,new ji,new fs,new Oi,new ps,new vs,new gs];function xs(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ss),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),jn.SENTRY_RELEASE&&jn.SENTRY_RELEASE.id&&(t.release=jn.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);const e={...t,stackParser:(r=t.stackParser||Mi,Array.isArray(r)?ne(...r):r),integrations:Ne(t),transport:t.transport||(ii()?ai:ci)};var r;!function(t,e){!0===e.debug&&(tt?O.enable():R((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));const r=Kt();r.getScope().update(e.initialScope);const n=new t(e);r.bindClient(n)}(ri,e),t.autoSessionTracking&&function(){if(void 0===jn.document)return void(Gn&&O.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));Pe({ignoreDuration:!0}),De(),Ii((({from:t,to:e})=>{void 0!==t&&t!==e&&(Pe({ignoreDuration:!0}),De())}))}()}const Ms=(t={},e=Kt())=>{if(!jn.document)return void(Gn&&O.error("Global document not defined in showReportDialog call"));const{client:r,scope:n}=e.getStackTop(),i=t.dsn||r&&r.getDsn();if(!i)return void(Gn&&O.error("DSN not configured for showReportDialog call"));n&&(t.user={...n.getUser(),...t.user}),t.eventId||(t.eventId=e.lastEventId());const s=jn.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=function(t,e){const r=or(t);if(!r)return"";const n=`${xr(r)}embed/error-page/`;let i=`dsn=${nr(r)}`;for(const t in e)if("dsn"!==t&&"onClose"!==t)if("user"===t){const t=e.user;if(!t)continue;t.name&&(i+=`&name=${encodeURIComponent(t.name)}`),t.email&&(i+=`&email=${encodeURIComponent(t.email)}`)}else i+=`&${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`;return`${n}?${i}`}(i,t),t.onLoad&&(s.onload=t.onLoad);const{onClose:o}=t;if(o){const t=e=>{if("__sentry_reportdialog_closed__"===e.data)try{o()}finally{jn.removeEventListener("message",t)}};jn.addEventListener("message",t)}const a=jn.document.head||jn.document.body;a?a.appendChild(s):Gn&&O.error("Not injecting report dialog. No injection point found in HTML")};function ks(){}function Ts(t){t()}function As(t){return Vn(t)()}function Cs(t){const e=Ce();e&&e.captureUserFeedback(t)}function Is(t){let e,r=t[0],n=1;for(;n<t.length;){const i=t[n],s=t[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(e=r,r=s(r)):"call"!==i&&"optionalCall"!==i||(r=s(((...t)=>r.call(e,...t))),e=void 0)}return r}function Ps(t,e){const r=e&&function(t){return void 0!==t.getClient}(e)?e.getClient():e,n=r&&r.getDsn(),i=r&&r.getOptions().tunnel;return function(t,e){return!!e&&t.includes(e.host)}(t,n)||function(t,e){if(!e)return!1;return Rs(t)===Rs(e)}(t,i)}function Rs(t){return"/"===t[t.length-1]?t.slice(0,-1):t}var Os=r(61422);function Ds(){return"undefined"!=typeof window&&(!(0,Os.KV)()||void 0!==w.process&&"renderer"===w.process.type)}const Ls="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ns=(t,e,r)=>{let n,i;return s=>{e.value>=0&&(s||r)&&(i=e.value-(n||0),(i||void 0===n)&&(n=e.value,e.delta=i,t(e)))}},Fs=w,Bs=()=>Fs.__WEB_VITALS_POLYFILL__?Fs.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const t=Fs.performance.timing,e=Fs.performance.navigation.type,r={entryType:"navigation",startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"};for(const e in t)"navigationStart"!==e&&"toJSON"!==e&&(r[e]=Math.max(t[e]-t.navigationStart,0));return r})()):Fs.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],js=()=>{const t=Bs();return t&&t.activationStart||0},zs=(t,e)=>{const r=Bs();let n="navigate";return r&&(n=Fs.document.prerendering||js()>0?"prerender":r.type.replace(/_/g,"-")),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},Us=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const n=new PerformanceObserver((t=>{e(t.getEntries())}));return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch(t){}},Vs=(t,e)=>{const r=n=>{"pagehide"!==n.type&&"hidden"!==Fs.document.visibilityState||(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},qs=t=>{const e=zs("CLS",0);let r,n=0,i=[];const s=t=>{t.forEach((t=>{if(!t.hadRecentInput){const s=i[0],o=i[i.length-1];n&&0!==i.length&&t.startTime-o.startTime<1e3&&t.startTime-s.startTime<5e3?(n+=t.value,i.push(t)):(n=t.value,i=[t]),n>e.value&&(e.value=n,e.entries=i,r&&r())}}))},o=Us("layout-shift",s);if(o){r=Ns(t,e);const n=()=>{s(o.takeRecords()),r(!0)};return Vs(n),n}};let Gs=-1;const Hs=()=>(Gs<0&&(Gs="hidden"!==Fs.document.visibilityState||Fs.document.prerendering?1/0:0,Vs((({timeStamp:t})=>{Gs=t}),!0)),{get firstHiddenTime(){return Gs}}),$s=t=>{const e=Hs(),r=zs("FID");let n;const i=t=>{t.startTime<e.firstHiddenTime&&(r.value=t.processingStart-t.startTime,r.entries.push(t),n(!0))},s=t=>{t.forEach(i)},o=Us("first-input",s);n=Ns(t,r),o&&Vs((()=>{s(o.takeRecords()),o.disconnect()}),!0)},Ws={},Ks=t=>{const e=Hs(),r=zs("LCP");let n;const i=t=>{const i=t[t.length-1];if(i){const t=Math.max(i.startTime-js(),0);t<e.firstHiddenTime&&(r.value=t,r.entries=[i],n())}},s=Us("largest-contentful-paint",i);if(s){n=Ns(t,r);const e=()=>{Ws[r.id]||(i(s.takeRecords()),s.disconnect(),Ws[r.id]=!0,n(!0))};return["keydown","click"].forEach((t=>{addEventListener(t,e,{once:!0,capture:!0})})),Vs(e,!0),e}},Ys={},Xs={};let Qs,Js,Zs;function to(t){return oo("lcp",t,so,Zs)}function eo(t,e){return ao(t,e),Xs[t]||(!function(t){const e={};"event"===t&&(e.durationThreshold=0);Us(t,(e=>{ro(t,{entries:e})}),e)}(t),Xs[t]=!0),uo(t,e)}function ro(t,e){const r=Ys[t];if(r&&r.length)for(const n of r)try{n(e)}catch(e){Ls&&O.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${se(n)}\nError:`,e)}}function no(){qs((t=>{ro("cls",{metric:t}),Qs=t}))}function io(){$s((t=>{ro("fid",{metric:t}),Js=t}))}function so(){Ks((t=>{ro("lcp",{metric:t}),Zs=t}))}function oo(t,e,r,n){return ao(t,e),Xs[t]||(r(),Xs[t]=!0),n&&e({metric:n}),uo(t,e)}function ao(t,e){Ys[t]=Ys[t]||[],Ys[t].push(e)}function uo(t,e){return()=>{const r=Ys[t];if(!r)return;const n=r.indexOf(e);-1!==n&&r.splice(n,1)}}const co=w,lo="sentryReplaySession",ho="replay_event",fo="Unable to send Replay",po=15e4,mo=5e3,go=2e7,yo=36e5,vo={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}};function bo(t){let e,r=t[0],n=1;for(;n<t.length;){const i=t[n],s=t[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(e=r,r=s(r)):"call"!==i&&"optionalCall"!==i||(r=s(((...t)=>r.call(e,...t))),e=void 0)}return r}var wo;function _o(t){const e=bo([t,"optionalAccess",t=>t.host]);return Boolean(bo([e,"optionalAccess",t=>t.shadowRoot])===t)}function Eo(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function So(t){try{const r=t.rules||t.cssRules;return r?((e=Array.from(r,xo).join("")).includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e):null}catch(t){return null}var e}function xo(t){let e;if(function(t){return"styleSheet"in t}(t))try{e=So(t.styleSheet)||function(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const r=["@import",`url(${JSON.stringify(t.href)})`];return""===t.layerName?r.push("layer"):t.layerName&&r.push(`layer(${t.layerName})`),t.supportsText&&r.push(`supports(${t.supportsText})`),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}(t)}catch(t){}else if(function(t){return"selectorText"in t}(t)&&t.selectorText.includes(":"))return function(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}(t.cssText);return e||t.cssText}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(wo||(wo={}));class Mo{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const e=bo([this,"access",t=>t.getMeta,"call",e=>e(t),"optionalAccess",t=>t.id]);return n=()=>-1,null!=(r=e)?r:n();var r,n}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const e=this.getId(t);this.idNodeMap.delete(e),t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,e){const r=e.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,e)}replace(t,e){const r=this.getNode(t);if(r){const t=this.nodeMetaMap.get(r);t&&this.nodeMetaMap.set(e,t)}this.idNodeMap.set(t,e)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function ko({maskInputOptions:t,tagName:e,type:r}){return"OPTION"===e&&(e="SELECT"),Boolean(t[e.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===e&&!r&&t.text)}function To({isMasked:t,element:e,value:r,maskInputFn:n}){let i=r||"";return t?(n&&(i=n(i,e)),"*".repeat(i.length)):i}function Ao(t){return t.toLowerCase()}function Co(t){return t.toUpperCase()}const Io="__rrweb_original__";function Po(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Ao(e):null}function Ro(t,e,r){return"INPUT"!==e||"radio"!==r&&"checkbox"!==r?t.value:t.getAttribute("value")||""}let Oo=1;const Do=new RegExp("[^a-z0-9-_:]"),Lo=-2;function No(){return Oo++}let Fo,Bo;const jo=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,zo=/^(?:[a-z+]+:)?\/\//i,Uo=/^www\..*/i,Vo=/^(data:)([^,]*),(.*)/i;function qo(t,e){return(t||"").replace(jo,((t,r,n,i,s,o)=>{const a=n||s||o,u=r||i||"";if(!a)return t;if(zo.test(a)||Uo.test(a))return`url(${u}${a}${u})`;if(Vo.test(a))return`url(${u}${a}${u})`;if("/"===a[0])return`url(${u}${function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a}${u})`;const c=e.split("/"),l=a.split("/");c.pop();for(const t of l)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${u}${c.join("/")}${u})`}))}const Go=/^[^ \t\n\r\u000c]+/,Ho=/^[, \t\n\r\u000c]+/;function $o(t,e){if(!e||""===e.trim())return e;const r=t.createElement("a");return r.href=e,r.href}function Wo(t){return Boolean("svg"===t.tagName||t.ownerSVGElement)}function Ko(){const t=document.createElement("a");return t.href="",t.href}function Yo(t,e,r,n,i,s){return n?"src"===r||"href"===r&&("use"!==e||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?$o(t,n):"background"!==r||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===r?function(t,e){if(""===e.trim())return e;let r=0;function n(t){let n;const i=t.exec(e.substring(r));return i?(n=i[0],r+=n.length,n):""}const i=[];for(;n(Ho),!(r>=e.length);){let s=n(Go);if(","===s.slice(-1))s=$o(t,s.substring(0,s.length-1)),i.push(s);else{let n="";s=$o(t,s);let o=!1;for(;;){const t=e.charAt(r);if(""===t){i.push((s+n).trim());break}if(o)")"===t&&(o=!1);else{if(","===t){r+=1,i.push((s+n).trim());break}"("===t&&(o=!0)}n+=t,r+=1}}}return i.join(", ")}(t,n):"style"===r?qo(n,Ko()):"object"===e&&"data"===r?$o(t,n):"function"==typeof s?s(r,n,i):n:$o(t,n):n}function Xo(t,e,r){return("video"===t||"audio"===t)&&"autoplay"===e}function Qo(t,e,r=1/0,n=0){return t?t.nodeType!==t.ELEMENT_NODE||n>r?-1:e(t)?n:Qo(t.parentNode,e,r,n+1):-1}function Jo(t,e){return r=>{const n=r;if(null===n)return!1;if(t)if("string"==typeof t){if(n.matches(`.${t}`))return!0}else if(function(t,e){for(let r=t.classList.length;r--;){const n=t.classList[r];if(e.test(n))return!0}return!1}(n,t))return!0;return!(!e||!n.matches(e))}}function Zo(t,e,r,n,i,s){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===o)return!1;let a=-1,u=-1;if(s){if(u=Qo(o,Jo(n,i)),u<0)return!0;a=Qo(o,Jo(e,r),u>=0?u:1/0)}else{if(a=Qo(o,Jo(e,r)),a<0)return!1;u=Qo(o,Jo(n,i),a>=0?a:1/0)}return a>=0?!(u>=0)||a<=u:!(u>=0)&&!!s}catch(t){}return!!s}function ta(t,e){const{doc:r,mirror:n,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:u,maskTextClass:c,unmaskTextClass:l,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:d,maskInputOptions:p={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:b,keepIframeSrcFn:w,newlyAddedElement:_=!1}=e,E=function(t,e){if(!e.hasNode(t))return;const r=e.getId(t);return 1===r?void 0:r}(r,n);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:wo.Document,childNodes:[],compatMode:t.compatMode}:{type:wo.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:wo.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:E};case t.ELEMENT_NODE:return function(t,e){const{doc:r,blockClass:n,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:u,maskInputFn:c,dataURLOptions:l={},inlineImages:h,recordCanvas:f,keepIframeSrcFn:d,newlyAddedElement:p=!1,rootId:m,maskAllText:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:b,unmaskTextSelector:w}=e,_=function(t,e,r,n){try{if(n&&t.matches(n))return!1;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let r=t.classList.length;r--;){const n=t.classList[r];if(e.test(n))return!0}if(r)return t.matches(r)}catch(t){}return!1}(t,n,i,s),E=function(t){if(t instanceof HTMLFormElement)return"form";const e=Ao(t.tagName);return Do.test(e)?"div":e}(t);let S={};const x=t.attributes.length;for(let e=0;e<x;e++){const n=t.attributes[e];Xo(E,n.name,n.value)||(S[n.name]=Yo(r,E,Ao(n.name),n.value,t,u))}if("link"===E&&o){const e=Array.from(r.styleSheets).find((e=>e.href===t.href));let n=null;e&&(n=So(e)),n&&(delete S.rel,delete S.href,S._cssText=qo(n,e.href))}if("style"===E&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=So(t.sheet);e&&(S._cssText=qo(e,Ko()))}if("input"===E||"textarea"===E||"select"===E||"option"===E){const e=t,r=Po(e),n=Ro(e,Co(E),r),i=e.checked;if("submit"!==r&&"button"!==r&&n){const t=Zo(e,y,b,v,w,ko({type:r,tagName:Co(E),maskInputOptions:a}));S.value=To({isMasked:t,element:e,value:n,maskInputFn:c})}i&&(S.checked=i)}"option"===E&&(t.selected&&!a.select?S.selected=!0:delete S.selected);if("canvas"===E&&f)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let r=0;r<t.width;r+=50)for(let n=0;n<t.height;n+=50){const i=e.getImageData,s=Io in i?i[Io]:i;if(new Uint32Array(s.call(e,r,n,Math.min(50,t.width-r),Math.min(50,t.height-n)).data.buffer).some((t=>0!==t)))return!1}return!0})(t)||(S.rr_dataURL=t.toDataURL(l.type,l.quality));else if(!("__context"in t)){const e=t.toDataURL(l.type,l.quality),r=document.createElement("canvas");r.width=t.width,r.height=t.height;e!==r.toDataURL(l.type,l.quality)&&(S.rr_dataURL=e)}if("img"===E&&h){Fo||(Fo=r.createElement("canvas"),Bo=Fo.getContext("2d"));const e=t,n=e.crossOrigin;e.crossOrigin="anonymous";const i=()=>{e.removeEventListener("load",i);try{Fo.width=e.naturalWidth,Fo.height=e.naturalHeight,Bo.drawImage(e,0,0),S.rr_dataURL=Fo.toDataURL(l.type,l.quality)}catch(t){console.warn(`Cannot inline img src=${e.currentSrc}! Error: ${t}`)}n?S.crossOrigin=n:e.removeAttribute("crossorigin")};e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i)}"audio"!==E&&"video"!==E||(S.rr_mediaState=t.paused?"paused":"played",S.rr_mediaCurrentTime=t.currentTime);p||(t.scrollLeft&&(S.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(S.rr_scrollTop=t.scrollTop));if(_){const{width:e,height:r}=t.getBoundingClientRect();S={class:S.class,rr_width:`${e}px`,rr_height:`${r}px`}}"iframe"!==E||d(S.src)||(t.contentDocument||(S.rr_src=S.src),delete S.src);let M;try{customElements.get(E)&&(M=!0)}catch(t){}return{type:wo.Element,tagName:E,attributes:S,childNodes:[],isSVG:Wo(t)||void 0,needBlock:_,rootId:m,isCustom:M}}(t,{doc:r,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:d,maskAttributeFn:u,maskInputOptions:p,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:b,keepIframeSrcFn:w,newlyAddedElement:_,rootId:E,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:h,unmaskTextSelector:f});case t.TEXT_NODE:return function(t,e){const{maskAllText:r,maskTextClass:n,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:u,maskInputFn:c,rootId:l}=e,h=t.parentNode&&t.parentNode.tagName;let f=t.textContent;const d="STYLE"===h||void 0,p="SCRIPT"===h||void 0,m="TEXTAREA"===h||void 0;if(d&&f){try{t.nextSibling||t.previousSibling||bo([t,"access",t=>t.parentNode,"access",t=>t.sheet,"optionalAccess",t=>t.cssRules])&&(f=So(t.parentNode.sheet))}catch(e){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${e}`,t)}f=qo(f,Ko())}p&&(f="SCRIPT_PLACEHOLDER");const g=Zo(t,n,s,i,o,r);d||p||m||!f||!g||(f=a?a(f):f.replace(/[\S]/g,"*"));m&&f&&(u.textarea||g)&&(f=c?c(f,t.parentNode):f.replace(/[\S]/g,"*"));if("OPTION"===h&&f){f=To({isMasked:Zo(t,n,s,i,o,ko({type:null,tagName:h,maskInputOptions:u})),element:t,value:f,maskInputFn:c})}return{type:wo.Text,textContent:f||"",isStyle:d,rootId:l}}(t,{maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:h,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:p,maskInputFn:g,rootId:E});case t.CDATA_SECTION_NODE:return{type:wo.CDATA,textContent:"",rootId:E};case t.COMMENT_NODE:return{type:wo.Comment,textContent:t.textContent||"",rootId:E};default:return!1}}function ea(t){return null==t?"":t.toLowerCase()}function ra(t,e){const{doc:r,mirror:n,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:u,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:h,skipChild:f=!1,inlineStylesheet:d=!0,maskInputOptions:p={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b={},inlineImages:w=!1,recordCanvas:_=!1,onSerialize:E,onIframeLoad:S,iframeLoadTimeout:x=5e3,onStylesheetLoad:M,stylesheetLoadTimeout:k=5e3,keepIframeSrcFn:T=(()=>!1),newlyAddedElement:A=!1}=e;let{preserveWhiteSpace:C=!0}=e;const I=ta(t,{doc:r,mirror:n,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:h,inlineStylesheet:d,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:b,inlineImages:w,recordCanvas:_,keepIframeSrcFn:T,newlyAddedElement:A});if(!I)return console.warn(t,"not serialized"),null;let P;P=n.hasNode(t)?n.getId(t):!function(t,e){if(e.comment&&t.type===wo.Comment)return!0;if(t.type===wo.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(ea(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===ea(t.attributes.name)||"icon"===ea(t.attributes.rel)||"apple-touch-icon"===ea(t.attributes.rel)||"shortcut icon"===ea(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&ea(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(ea(t.attributes.property).match(/^(og|twitter|fb):/)||ea(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===ea(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===ea(t.attributes.name)||"googlebot"===ea(t.attributes.name)||"bingbot"===ea(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===ea(t.attributes.name)||"generator"===ea(t.attributes.name)||"framework"===ea(t.attributes.name)||"publisher"===ea(t.attributes.name)||"progid"===ea(t.attributes.name)||ea(t.attributes.property).match(/^article:/)||ea(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===ea(t.attributes.name)||"yandex-verification"===ea(t.attributes.name)||"csrf-token"===ea(t.attributes.name)||"p:domain_verify"===ea(t.attributes.name)||"verify-v1"===ea(t.attributes.name)||"verification"===ea(t.attributes.name)||"shopify-checkout-api-token"===ea(t.attributes.name)))return!0}}return!1}(I,v)&&(C||I.type!==wo.Text||I.isStyle||I.textContent.replace(/^\s+|\s+$/gm,"").length)?No():Lo;const R=Object.assign(I,{id:P});if(n.add(t,R),P===Lo)return null;E&&E(t);let O=!f;if(R.type===wo.Element){O=O&&!R.needBlock,delete R.needBlock;const e=t.shadowRoot;e&&Eo(e)&&(R.isShadowHost=!0)}if((R.type===wo.Document||R.type===wo.Element)&&O){v.headWhitespace&&R.type===wo.Element&&"head"===R.tagName&&(C=!1);const e={doc:r,mirror:n,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:h,skipChild:f,inlineStylesheet:d,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:C,onSerialize:E,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:M,stylesheetLoadTimeout:k,keepIframeSrcFn:T};for(const r of Array.from(t.childNodes)){const t=ra(r,e);t&&R.childNodes.push(t)}if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(const r of Array.from(t.shadowRoot.childNodes)){const n=ra(r,e);n&&(Eo(t.shadowRoot)&&(n.isShadow=!0),R.childNodes.push(n))}}return t.parentNode&&_o(t.parentNode)&&Eo(t.parentNode)&&(R.isShadow=!0),R.type===wo.Element&&"iframe"===R.tagName&&function(t,e,r){const n=t.contentWindow;if(!n)return;let i,s=!1;try{i=n.document.readyState}catch(t){return}if("complete"!==i){const n=setTimeout((()=>{s||(e(),s=!0)}),r);return void t.addEventListener("load",(()=>{clearTimeout(n),s=!0,e()}))}const o="about:blank";if(n.location.href!==o||t.src===o||""===t.src)return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}(t,(()=>{const e=t.contentDocument;if(e&&S){const r=ra(e,{doc:e,mirror:n,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:u,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:d,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:C,onSerialize:E,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:M,stylesheetLoadTimeout:k,keepIframeSrcFn:T});r&&S(t,r)}}),x),R.type===wo.Element&&"link"===R.tagName&&"stylesheet"===R.attributes.rel&&function(t,e,r){let n,i=!1;try{n=t.sheet}catch(t){return}if(n)return;const s=setTimeout((()=>{i||(e(),i=!0)}),r);t.addEventListener("load",(()=>{clearTimeout(s),i=!0,e()}))}(t,(()=>{if(M){const e=ra(t,{doc:r,mirror:n,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:u,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:d,maskInputOptions:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:w,recordCanvas:_,preserveWhiteSpace:C,onSerialize:E,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:M,stylesheetLoadTimeout:k,keepIframeSrcFn:T});e&&M(t,e)}}),k),R}function na(t){let e,r=t[0],n=1;for(;n<t.length;){const i=t[n],s=t[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(e=r,r=s(r)):"call"!==i&&"optionalCall"!==i||(r=s(((...t)=>r.call(e,...t))),e=void 0)}return r}function ia(t,e,r=document){const n={capture:!0,passive:!0};return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e,n)}const sa="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let oa={map:{},getId:()=>(console.error(sa),-1),getNode:()=>(console.error(sa),null),removeNodeFromMap(){console.error(sa)},has:()=>(console.error(sa),!1),reset(){console.error(sa)}};function aa(t,e,r={}){let n=null,i=0;return function(...s){const o=Date.now();i||!1!==r.leading||(i=o);const a=e-(o-i),u=this;a<=0||a>e?(n&&(clearTimeout(n),n=null),i=o,t.apply(u,s)):n||!1===r.trailing||(n=setTimeout((()=>{i=!1===r.leading?0:Date.now(),n=null,t.apply(u,s)}),a))}}function ua(t,e,r,n,i=window){const s=i.Object.getOwnPropertyDescriptor(t,e);return i.Object.defineProperty(t,e,n?r:{set(t){setTimeout((()=>{r.set.call(this,t)}),0),s&&s.set&&s.set.call(this,t)}}),()=>ua(t,e,s||{},!0)}function ca(t,e,r){try{if(!(e in t))return()=>{};const n=t[e],i=r(n);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),t[e]=i,()=>{t[e]=n}}catch(t){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(oa=new Proxy(oa,{get:(t,e,r)=>("map"===e&&console.error(sa),Reflect.get(t,e,r))}));let la,ha=Date.now;function fa(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:na([e,"optionalAccess",t=>t.documentElement,"access",t=>t.scrollLeft])||na([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.parentElement,"optionalAccess",t=>t.scrollLeft])||na([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.scrollLeft])||0,top:e.scrollingElement?e.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:na([e,"optionalAccess",t=>t.documentElement,"access",t=>t.scrollTop])||na([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.parentElement,"optionalAccess",t=>t.scrollTop])||na([e,"optionalAccess",t=>t.body,"optionalAccess",t=>t.scrollTop])||0}}function da(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function pa(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ma(t,e,r,n,i){if(!t)return!1;const s=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!s)return!1;const o=Jo(e,r);if(!i){const t=n&&s.matches(n);return o(s)&&!t}const a=Qo(s,o);let u=-1;return!(a<0)&&(n&&(u=Qo(s,Jo(null,n))),a>-1&&u<0||a<u)}function ga(t,e){return e.getId(t)===Lo}function ya(t,e){if(_o(t))return!1;const r=e.getId(t);return!e.has(r)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||ya(t.parentNode,e))}function va(t){return Boolean(t.changedTouches)}function ba(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function wa(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function _a(t){return Boolean(na([t,"optionalAccess",t=>t.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(ha=()=>(new Date).getTime());class Ea{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return e=this.styleIDMap.get(t),r=()=>-1,null!=e?e:r();var e,r}has(t){return this.styleIDMap.has(t)}add(t,e){if(this.has(t))return this.getId(t);let r;return r=void 0===e?this.id++:e,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Sa(t){let e=null;return na([t,"access",t=>t.getRootNode,"optionalCall",t=>t(),"optionalAccess",t=>t.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function xa(t){const e=t.ownerDocument;if(!e)return!1;const r=function(t){let e,r=t;for(;e=Sa(r);)r=e;return r}(t);return e.contains(r)}function Ma(t){const e=t.ownerDocument;return!!e&&(e.contains(t)||xa(t))}function ka(...t){return function(){if(la)return la;const t=window.document;let e=window.requestAnimationFrame;if(t&&"function"==typeof t.createElement)try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);const n=r.contentWindow;n&&n.requestAnimationFrame&&(e=n.requestAnimationFrame),t.head.removeChild(r)}catch(t){}return la=e.bind(window)}()(...t)}var Ta=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Ta||{}),Aa=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Aa||{}),Ca=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Ca||{}),Ia=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Ia||{});function Pa(t){let e,r=t[0],n=1;for(;n<t.length;){const i=t[n],s=t[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(e=r,r=s(r)):"call"!==i&&"optionalCall"!==i||(r=s(((...t)=>r.call(e,...t))),e=void 0)}return r}function Ra(t){return"__ln"in t}class Oa{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let r=0;r<t;r++)e=Pa([e,"optionalAccess",t=>t.next])||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&Ra(t.previousSibling)){const r=t.previousSibling.__ln.next;e.next=r,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,r&&(r.previous=e)}else if(t.nextSibling&&Ra(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;e.previous=r,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,r&&(r.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;null===e.next&&(this.tail=e),this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next?e.next.previous=e.previous:this.tail=e.previous):(this.head=e.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Da=(t,e)=>`${t}@${e}`;class La{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new Set,r=new Oa,n=t=>{let e=t,r=Lo;for(;r===Lo;)e=e&&e.nextSibling,r=e&&this.mirror.getId(e);return r},i=i=>{if(!i.parentNode||!Ma(i))return;const s=_o(i.parentNode)?this.mirror.getId(Sa(i)):this.mirror.getId(i.parentNode),o=n(i);if(-1===s||-1===o)return r.addNode(i);const a=ra(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{ba(t,this.mirror)&&this.iframeManager.addIframe(t),wa(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),_a(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(t,e)=>{this.iframeManager.attachIframe(t,e),this.shadowDomManager.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{this.stylesheetManager.attachLinkElement(t,e)}});a&&(t.push({parentId:s,nextId:o,node:a}),e.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const t of this.movedSet)Fa(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||i(t);for(const t of this.addedSet)ja(this.droppedSet,t)||Fa(this.removes,t,this.mirror)?ja(this.movedSet,t)?i(t):this.droppedSet.add(t):i(t);let s=null;for(;r.length;){let t=null;if(s){const e=this.mirror.getId(s.value.parentNode),r=n(s.value);-1!==e&&-1!==r&&(t=s)}if(!t){let e=r.tail;for(;e;){const r=e;if(e=e.previous,r){const e=this.mirror.getId(r.value.parentNode);if(-1===n(r.value))continue;if(-1!==e){t=r;break}{const e=r.value;if(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const n=e.parentNode.host;if(-1!==this.mirror.getId(n)){t=r;break}}}}}}if(!t){for(;r.head;)r.removeNode(r.head.value);break}s=t.previous,r.removeNode(t.value),i(t.value)}const o={texts:this.texts.map((t=>({id:this.mirror.getId(t.node),value:t.value}))).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),attributes:this.attributes.map((t=>{const{attributes:e}=t;if("string"==typeof e.style){const r=JSON.stringify(t.styleDiff),n=JSON.stringify(t._unchangedStyles);r.length<e.style.length&&(r+n).split("var(").length===e.style.split("var(").length&&(e.style=t.styleDiff)}return{id:this.mirror.getId(t.node),attributes:e}})).filter((t=>!e.has(t.id))).filter((t=>this.mirror.has(t.id))),removes:this.removes,adds:t};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=t=>{if(ga(t.target,this.mirror))return;let e;try{e=document.implementation.createHTMLDocument()}catch(t){e=this.doc}switch(t.type){case"characterData":{const e=t.target.textContent;ma(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||e===t.oldValue||this.texts.push({value:Zo(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&e?this.maskTextFn?this.maskTextFn(e):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const r=t.target;let n=t.attributeName,i=t.target.getAttribute(n);if("value"===n){const e=Po(r),n=r.tagName;i=Ro(r,n,e);const s=ko({maskInputOptions:this.maskInputOptions,tagName:n,type:e});i=To({isMasked:Zo(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:r,value:i,maskInputFn:this.maskInputFn})}if(ma(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributes.find((e=>e.node===t.target));if("IFRAME"===r.tagName&&"src"===n&&!this.keepIframeSrcFn(i)){if(r.contentDocument)return;n="rr_src"}if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s)),"type"===n&&"INPUT"===r.tagName&&"password"===(t.oldValue||"").toLowerCase()&&r.setAttribute("data-rr-is-password","true"),!Xo(r.tagName,n)&&(s.attributes[n]=Yo(this.doc,Ao(r.tagName),Ao(n),i,r,this.maskAttributeFn),"style"===n)){const n=e.createElement("span");t.oldValue&&n.setAttribute("style",t.oldValue);for(const t of Array.from(r.style)){const e=r.style.getPropertyValue(t),i=r.style.getPropertyPriority(t);e!==n.style.getPropertyValue(t)||i!==n.style.getPropertyPriority(t)?s.styleDiff[t]=""===i?e:[e,i]:s._unchangedStyles[t]=[e,i]}for(const t of Array.from(n.style))""===r.style.getPropertyValue(t)&&(s.styleDiff[t]=!1)}break}case"childList":if(ma(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach((e=>this.genAdds(e,t.target))),t.removedNodes.forEach((e=>{const r=this.mirror.getId(e),n=_o(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ma(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ga(e,this.mirror)||!function(t,e){return-1!==e.getId(t)}(e,this.mirror)||(this.addedSet.has(e)?(Na(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===r||ya(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[Da(r,n)]?Na(this.movedSet,e):this.removes.push({parentId:n,id:r,isShadow:!(!_o(t.target)||!Eo(t.target))||void 0})),this.mapRemoves.push(e))}))}},this.genAdds=(t,e)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!this.addedSet.has(t)&&!this.movedSet.has(t)){if(this.mirror.hasNode(t)){if(ga(t,this.mirror))return;this.movedSet.add(t);let r=null;e&&this.mirror.hasNode(e)&&(r=this.mirror.getId(e)),r&&-1!==r&&(this.movedMap[Da(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ma(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach((t=>this.genAdds(t))),_a(t)&&t.shadowRoot.childNodes.forEach((e=>{this.processedNodeManager.add(e,this),this.genAdds(e,t)})))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((e=>{this[e]=t[e]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Na(t,e){t.delete(e),e.childNodes.forEach((e=>Na(t,e)))}function Fa(t,e,r){return 0!==t.length&&Ba(t,e,r)}function Ba(t,e,r){const{parentNode:n}=e;if(!n)return!1;const i=r.getId(n);return!!t.some((t=>t.id===i))||Ba(t,n,r)}function ja(t,e){return 0!==t.size&&za(t,e)}function za(t,e){const{parentNode:r}=e;return!!r&&(!!t.has(r)||za(t,r))}let Ua;function Va(t){Ua=t}function qa(){Ua=void 0}const Ga=t=>{if(!Ua)return t;return(...e)=>{try{return t(...e)}catch(t){if(Ua&&!0===Ua(t))return()=>{};throw t}}};function Ha(t){let e,r=t[0],n=1;for(;n<t.length;){const i=t[n],s=t[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(e=r,r=s(r)):"call"!==i&&"optionalCall"!==i||(r=s(((...t)=>r.call(e,...t))),e=void 0)}return r}const $a=[];function Wa(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function Ka(t,e){const r=new La;$a.push(r),r.init(t);let n=window.MutationObserver||window.__rrMutationObserver;const i=Ha([window,"optionalAccess",t=>t.Zone,"optionalAccess",t=>t.__symbol__,"optionalCall",t=>t("MutationObserver")]);i&&window[i]&&(n=window[i]);const s=new n(Ga((e=>{t.onMutation&&!1===t.onMutation(e)||r.processMutations.bind(r)(e)})));return s.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Ya({mouseInteractionCb:t,doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,sampling:o}){if(!1===o.mouseInteraction)return()=>{};const a=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,u=[];let c=null;return Object.keys(Ca).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==a[t])).forEach((o=>{let a=Ao(o);const l=(e=>o=>{const a=Wa(o);if(ma(a,n,i,s,!0))return;let u=null,l=e;if("pointerType"in o){switch(o.pointerType){case"mouse":u=Ia.Mouse;break;case"touch":u=Ia.Touch;break;case"pen":u=Ia.Pen}u===Ia.Touch?Ca[e]===Ca.MouseDown?l="TouchStart":Ca[e]===Ca.MouseUp&&(l="TouchEnd"):Ia.Pen}else va(o)&&(u=Ia.Touch);null!==u?(c=u,(l.startsWith("Touch")&&u===Ia.Touch||l.startsWith("Mouse")&&u===Ia.Mouse)&&(u=null)):Ca[e]===Ca.Click&&(u=c,c=null);const h=va(o)?o.changedTouches[0]:o;if(!h)return;const f=r.getId(a),{clientX:d,clientY:p}=h;Ga(t)({type:Ca[l],id:f,x:d,y:p,...null!==u&&{pointerType:u}})})(o);if(window.PointerEvent)switch(Ca[o]){case Ca.MouseDown:case Ca.MouseUp:a=a.replace("mouse","pointer");break;case Ca.TouchStart:case Ca.TouchEnd:return}u.push(ia(a,l,e))})),Ga((()=>{u.forEach((t=>t()))}))}function Xa({scrollCb:t,doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,sampling:o}){return ia("scroll",Ga(aa(Ga((o=>{const a=Wa(o);if(!a||ma(a,n,i,s,!0))return;const u=r.getId(a);if(a===e&&e.defaultView){const r=fa(e.defaultView);t({id:u,x:r.left,y:r.top})}else t({id:u,x:a.scrollLeft,y:a.scrollTop})})),o.scroll||100)),e)}const Qa=["INPUT","TEXTAREA","SELECT"],Ja=new WeakMap;function Za({inputCb:t,doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:u,maskInputFn:c,sampling:l,userTriggeredOnInput:h,maskTextClass:f,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m}){function g(t){let r=Wa(t);const l=t.isTrusted,g=r&&Co(r.tagName);if("OPTION"===g&&(r=r.parentElement),!r||!g||Qa.indexOf(g)<0||ma(r,n,i,s,!0))return;const v=r;if(v.classList.contains(o)||a&&v.matches(a))return;const b=Po(r);let w=Ro(v,g,b),_=!1;const E=ko({maskInputOptions:u,tagName:g,type:b}),S=Zo(r,f,p,d,m,E);"radio"!==b&&"checkbox"!==b||(_=r.checked),w=To({isMasked:S,element:r,value:w,maskInputFn:c}),y(r,h?{text:w,isChecked:_,userTriggered:l}:{text:w,isChecked:_});const x=r.name;"radio"===b&&x&&_&&e.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach((t=>{if(t!==r){const e=To({isMasked:S,element:t,value:Ro(t,g,b),maskInputFn:c});y(t,h?{text:e,isChecked:!_,userTriggered:!1}:{text:e,isChecked:!_})}}))}function y(e,n){const i=Ja.get(e);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){Ja.set(e,n);const i=r.getId(e);Ga(t)({...n,id:i})}}const v=("last"===l.input?["change"]:["input","change"]).map((t=>ia(t,Ga(g),e))),b=e.defaultView;if(!b)return()=>{v.forEach((t=>t()))};const w=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),_=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&v.push(..._.map((t=>ua(t[0],t[1],{set(){Ga(g)({target:this,isTrusted:!1})}},!1,b)))),Ga((()=>{v.forEach((t=>t()))}))}function tu(t){return function(t,e){if(iu("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||iu("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||iu("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||iu("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const r=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(r)}else if(t.parentStyleSheet){const r=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(r)}return e}(t,[])}function eu(t,e,r){let n,i;return t?(t.ownerNode?n=e.getId(t.ownerNode):i=r.getId(t),{styleId:i,id:n}):{}}function ru({mirror:t,stylesheetManager:e},r){let n=null;n="#document"===r.nodeName?t.getId(r):t.getId(r.host);const i="#document"===r.nodeName?Ha([r,"access",t=>t.defaultView,"optionalAccess",t=>t.Document]):Ha([r,"access",t=>t.ownerDocument,"optionalAccess",t=>t.defaultView,"optionalAccess",t=>t.ShadowRoot]),s=Ha([i,"optionalAccess",t=>t.prototype])?Object.getOwnPropertyDescriptor(Ha([i,"optionalAccess",t=>t.prototype]),"adoptedStyleSheets"):void 0;return null!==n&&-1!==n&&i&&s?(Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return Ha([s,"access",t=>t.get,"optionalAccess",t=>t.call,"call",t=>t(this)])},set(t){const r=Ha([s,"access",t=>t.set,"optionalAccess",t=>t.call,"call",e=>e(this,t)]);if(null!==n&&-1!==n)try{e.adoptStyleSheets(t,n)}catch(t){}return r}}),Ga((()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))):()=>{}}function nu(t,e={}){const r=t.doc.defaultView;if(!r)return()=>{};const n=Ka(t,t.doc),i=function({mousemoveCb:t,sampling:e,doc:r,mirror:n}){if(!1===e.mousemove)return()=>{};const i="number"==typeof e.mousemove?e.mousemove:50,s="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let o,a=[];const u=aa(Ga((e=>{const r=Date.now()-o;t(a.map((t=>(t.timeOffset-=r,t))),e),a=[],o=null})),s),c=Ga(aa(Ga((t=>{const e=Wa(t),{clientX:r,clientY:i}=va(t)?t.changedTouches[0]:t;o||(o=ha()),a.push({x:r,y:i,id:n.getId(e),timeOffset:ha()-o}),u("undefined"!=typeof DragEvent&&t instanceof DragEvent?Aa.Drag:t instanceof MouseEvent?Aa.MouseMove:Aa.TouchMove)})),i,{trailing:!1})),l=[ia("mousemove",c,r),ia("touchmove",c,r),ia("drag",c,r)];return Ga((()=>{l.forEach((t=>t()))}))}(t),s=Ya(t),o=Xa(t),a=function({viewportResizeCb:t},{win:e}){let r=-1,n=-1;return ia("resize",Ga(aa(Ga((()=>{const e=da(),i=pa();r===e&&n===i||(t({width:Number(i),height:Number(e)}),r=e,n=i)})),200)),e)}(t,{win:r}),u=Za(t),c=function({mediaInteractionCb:t,blockClass:e,blockSelector:r,unblockSelector:n,mirror:i,sampling:s,doc:o}){const a=Ga((o=>aa(Ga((s=>{const a=Wa(s);if(!a||ma(a,e,r,n,!0))return;const{currentTime:u,volume:c,muted:l,playbackRate:h}=a;t({type:o,id:i.getId(a),currentTime:u,volume:c,muted:l,playbackRate:h})})),s.media||500))),u=[ia("play",a(0),o),ia("pause",a(1),o),ia("seeked",a(2),o),ia("volumechange",a(3),o),ia("ratechange",a(4),o)];return Ga((()=>{u.forEach((t=>t()))}))}(t),l=function({styleSheetRuleCb:t,mirror:e,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Ga(((n,i,s)=>{const[o,a]=s,{id:u,styleId:c}=eu(i,e,r.styleMirror);return(u&&-1!==u||c&&-1!==c)&&t({id:u,styleId:c,adds:[{rule:o,index:a}]}),n.apply(i,s)}))});const s=n.CSSStyleSheet.prototype.deleteRule;let o,a;n.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:Ga(((n,i,s)=>{const[o]=s,{id:a,styleId:u}=eu(i,e,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&t({id:a,styleId:u,removes:[{index:o}]}),n.apply(i,s)}))}),n.CSSStyleSheet.prototype.replace&&(o=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:Ga(((n,i,s)=>{const[o]=s,{id:a,styleId:u}=eu(i,e,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&t({id:a,styleId:u,replace:o}),n.apply(i,s)}))})),n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Ga(((n,i,s)=>{const[o]=s,{id:a,styleId:u}=eu(i,e,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&t({id:a,styleId:u,replaceSync:o}),n.apply(i,s)}))}));const u={};su("CSSGroupingRule")?u.CSSGroupingRule=n.CSSGroupingRule:(su("CSSMediaRule")&&(u.CSSMediaRule=n.CSSMediaRule),su("CSSConditionRule")&&(u.CSSConditionRule=n.CSSConditionRule),su("CSSSupportsRule")&&(u.CSSSupportsRule=n.CSSSupportsRule));const c={};return Object.entries(u).forEach((([n,i])=>{c[n]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(c[n].insertRule,{apply:Ga(((n,i,s)=>{const[o,a]=s,{id:u,styleId:c}=eu(i.parentStyleSheet,e,r.styleMirror);return(u&&-1!==u||c&&-1!==c)&&t({id:u,styleId:c,adds:[{rule:o,index:[...tu(i),a||0]}]}),n.apply(i,s)}))}),i.prototype.deleteRule=new Proxy(c[n].deleteRule,{apply:Ga(((n,i,s)=>{const[o]=s,{id:a,styleId:u}=eu(i.parentStyleSheet,e,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&t({id:a,styleId:u,removes:[{index:[...tu(i),o]}]}),n.apply(i,s)}))})})),Ga((()=>{n.CSSStyleSheet.prototype.insertRule=i,n.CSSStyleSheet.prototype.deleteRule=s,o&&(n.CSSStyleSheet.prototype.replace=o),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(u).forEach((([t,e])=>{e.prototype.insertRule=c[t].insertRule,e.prototype.deleteRule=c[t].deleteRule}))}))}(t,{win:r}),h=ru(t,t.doc),f=function({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:r,stylesheetManager:n},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:Ga(((i,o,a)=>{const[u,c,l]=a;if(r.has(u))return s.apply(o,[u,c,l]);const{id:h,styleId:f}=eu(Ha([o,"access",t=>t.parentRule,"optionalAccess",t=>t.parentStyleSheet]),e,n.styleMirror);return(h&&-1!==h||f&&-1!==f)&&t({id:h,styleId:f,set:{property:u,value:c,priority:l},index:tu(o.parentRule)}),i.apply(o,a)}))});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Ga(((i,s,a)=>{const[u]=a;if(r.has(u))return o.apply(s,[u]);const{id:c,styleId:l}=eu(Ha([s,"access",t=>t.parentRule,"optionalAccess",t=>t.parentStyleSheet]),e,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&t({id:c,styleId:l,remove:{property:u},index:tu(s.parentRule)}),i.apply(s,a)}))}),Ga((()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o}))}(t,{win:r}),d=t.collectFonts?function({fontCb:t,doc:e}){const r=e.defaultView;if(!r)return()=>{};const n=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(t,e,r){const n=new s(t,e,r);return i.set(n,{family:t,buffer:"string"!=typeof e,descriptors:r,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),n};const o=ca(e.fonts,"add",(function(e){return function(r){return setTimeout(Ga((()=>{const e=i.get(r);e&&(t(e),i.delete(r))})),0),e.apply(this,[r])}}));return n.push((()=>{r.FontFace=s})),n.push(o),Ga((()=>{n.forEach((t=>t()))}))}(t):()=>{},p=function(t){const{doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,selectionCb:o}=t;let a=!0;const u=Ga((()=>{const t=e.getSelection();if(!t||a&&Ha([t,"optionalAccess",t=>t.isCollapsed]))return;a=t.isCollapsed||!1;const u=[],c=t.rangeCount||0;for(let e=0;e<c;e++){const o=t.getRangeAt(e),{startContainer:a,startOffset:c,endContainer:l,endOffset:h}=o;ma(a,n,i,s,!0)||ma(l,n,i,s,!0)||u.push({start:r.getId(a),startOffset:c,end:r.getId(l),endOffset:h})}o({ranges:u})}));return u(),ia("selectionchange",u)}(t),m=function({doc:t,customElementCb:e}){const r=t.defaultView;return r&&r.customElements?ca(r.customElements,"define",(function(t){return function(r,n,i){try{e({define:{name:r}})}catch(t){}return t.apply(this,[r,n,i])}})):()=>{}}(t),g=[];for(const e of t.plugins)g.push(e.observer(e.callback,r,e.options));return Ga((()=>{$a.forEach((t=>t.reset())),n.disconnect(),i(),s(),o(),a(),u(),c(),l(),h(),f(),d(),p(),m(),g.forEach((t=>t()))}))}function iu(t){return void 0!==window[t]}function su(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class ou{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,e,r,n){const i=r||this.getIdToRemoteIdMap(t),s=n||this.getRemoteIdToIdMap(t);let o=i.get(e);return o||(o=this.generateIdFn(),i.set(e,o),s.set(o,e)),o}getIds(t,e){const r=this.getIdToRemoteIdMap(t),n=this.getRemoteIdToIdMap(t);return e.map((e=>this.getId(t,e,r,n)))}getRemoteId(t,e,r){const n=r||this.getRemoteIdToIdMap(t);if("number"!=typeof e)return e;const i=n.get(e);return i||-1}getRemoteIds(t,e){const r=this.getRemoteIdToIdMap(t);return e.map((e=>this.getRemoteId(t,e,r)))}reset(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}getRemoteIdToIdMap(t){let e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}function au(t){let e,r=t[0],n=1;for(;n<t.length;){const i=t[n],s=t[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(e=r,r=s(r)):"call"!==i&&"optionalCall"!==i||(r=s(((...t)=>r.call(e,...t))),e=void 0)}return r}class uu{constructor(){this.crossOriginIframeMirror=new ou(No),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class cu{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ou(No),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ou(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),au([this,"access",t=>t.loadListener,"optionalCall",e=>e(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const e=t;if("rrweb"!==e.data.type||e.origin!==e.data.origin)return;if(!t.source)return;const r=this.crossOriginIframeMap.get(t.source);if(!r)return;const n=this.transformCrossOriginEvent(r,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}transformCrossOriginEvent(t,e){switch(e.type){case Ta.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t);const r=e.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(e.data.node,r),{timestamp:e.timestamp,type:Ta.IncrementalSnapshot,data:{source:Aa.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ta.Meta:case Ta.Load:case Ta.DomContentLoaded:return!1;case Ta.Plugin:return e;case Ta.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case Ta.IncrementalSnapshot:switch(e.data.source){case Aa.Mutation:return e.data.adds.forEach((e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t);const r=this.crossOriginIframeRootIdMap.get(t);r&&this.patchRootIdOnNode(e.node,r)})),e.data.removes.forEach((e=>{this.replaceIds(e,t,["parentId","id"])})),e.data.attributes.forEach((e=>{this.replaceIds(e,t,["id"])})),e.data.texts.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case Aa.Drag:case Aa.TouchMove:case Aa.MouseMove:return e.data.positions.forEach((e=>{this.replaceIds(e,t,["id"])})),e;case Aa.ViewportResize:return!1;case Aa.MediaInteraction:case Aa.MouseInteraction:case Aa.Scroll:case Aa.CanvasMutation:case Aa.Input:return this.replaceIds(e.data,t,["id"]),e;case Aa.StyleSheetRule:case Aa.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case Aa.Font:return e;case Aa.Selection:return e.data.ranges.forEach((e=>{this.replaceIds(e,t,["start","end"])})),e;case Aa.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),au([e,"access",t=>t.data,"access",t=>t.styles,"optionalAccess",t=>t.forEach,"call",e=>e((e=>{this.replaceStyleIds(e,t,["styleId"])}))]),e}}return!1}replace(t,e,r,n){for(const i of n)(Array.isArray(e[i])||"number"==typeof e[i])&&(Array.isArray(e[i])?e[i]=t.getIds(r,e[i]):e[i]=t.getId(r,e[i]));return e}replaceIds(t,e,r){return this.replace(this.crossOriginIframeMirror,t,e,r)}replaceStyleIds(t,e,r){return this.replace(this.crossOriginIframeStyleMirror,t,e,r)}replaceIdOnNode(t,e){this.replaceIds(t,e,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach((t=>{this.replaceIdOnNode(t,e)}))}patchRootIdOnNode(t,e){t.type===wo.Document||t.rootId||(t.rootId=e),"childNodes"in t&&t.childNodes.forEach((t=>{this.patchRootIdOnNode(t,e)}))}}class lu{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class hu{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,e){if(!Eo(t))return;if(this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=Ka({...this.bypassOptions,doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push((()=>r.disconnect())),this.restoreHandlers.push(Xa({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout((()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(ru({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))}),0)}observeAttachShadow(t){t.contentWindow&&t.contentDocument&&this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,e){const r=this;this.restoreHandlers.push(ca(t.prototype,"attachShadow",(function(t){return function(n){const i=t.call(this,n);return this.shadowRoot&&Ma(this)&&r.addShadowRoot(this.shadowRoot,e),i}})))}reset(){this.restoreHandlers.forEach((t=>{try{t()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class fu{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class du{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ea,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,e){if(0===t.length)return;const r={id:e,styleIds:[]},n=[];for(const e of t){let t;this.styleMirror.has(e)?t=this.styleMirror.getId(e):(t=this.styleMirror.add(e),n.push({styleId:t,rules:Array.from(e.rules||CSSRule,((t,e)=>({rule:xo(t),index:e})))})),r.styleIds.push(t)}n.length>0&&(r.styles=n),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class pu{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){ka((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(t,e){const r=this.nodeMap.get(t);return r&&Array.from(r).some((t=>t!==e))}add(t,e){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(e))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function mu(t){const e=t;return e.timestamp=ha(),e}let gu,yu;const vu=new Mo;function bu(t={}){const{emit:e,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:u=null,maskAllText:c=!1,maskTextClass:l="rr-mask",unmaskTextClass:h=null,maskTextSelector:f=null,unmaskTextSelector:d=null,inlineStylesheet:p=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:b,maskTextFn:w,packFn:_,sampling:E={},dataURLOptions:S={},mousemoveWait:x,recordCanvas:M=!1,recordCrossOriginIframes:k=!1,recordAfter:T=("DOMContentLoaded"===t.recordAfter?t.recordAfter:"load"),userTriggeredOnInput:A=!1,collectFonts:C=!1,inlineImages:I=!1,plugins:P,keepIframeSrcFn:R=(()=>!1),ignoreCSSAttributes:O=new Set([]),errorHandler:D,onMutation:L,getCanvasManager:N}=t;Va(D);const F=!k||window.parent===window;let B=!1;if(!F)try{window.parent.document&&(B=!1)}catch(t){B=!0}if(F&&!e)throw new Error("emit function is required");void 0!==x&&void 0===E.mousemove&&(E.mousemove=x),vu.reset();const j=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},z=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let U;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let e=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1})}();let V=0;const q=t=>{for(const e of P||[])e.eventProcessor&&(t=e.eventProcessor(t));return _&&!B&&(t=_(t)),t},G=(t,i)=>{if(!Is([$a,"access",t=>t[0],"optionalAccess",t=>t.isFrozen,"call",t=>t()])||t.type===Ta.FullSnapshot||t.type===Ta.IncrementalSnapshot&&t.data.source===Aa.Mutation||$a.forEach((t=>t.unfreeze())),F)Is([e,"optionalCall",e=>e(q(t),i)]);else if(B){const e={type:"rrweb",event:q(t),origin:window.location.origin,isCheckout:i};window.parent.postMessage(e,"*")}if(t.type===Ta.FullSnapshot)U=t,V=0;else if(t.type===Ta.IncrementalSnapshot){if(t.data.source===Aa.Mutation&&t.data.isAttachIframe)return;V++;const e=n&&V>=n,i=r&&t.timestamp-U.timestamp>r;(e||i)&&Z(!0)}};gu=G;const H=t=>{G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.Mutation,...t}}))},$=t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.Scroll,...t}})),W=t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.CanvasMutation,...t}})),K=new du({mutationCb:H,adoptedStyleSheetCb:t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.AdoptedStyleSheet,...t}}))}),Y="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new uu:new cu({mirror:vu,mutationCb:H,stylesheetManager:K,recordCrossOriginIframes:k,wrappedEmit:G});for(const t of P||[])t.getMirror&&t.getMirror({nodeMirror:vu,crossOriginIframeMirror:Y.crossOriginIframeMirror,crossOriginIframeStyleMirror:Y.crossOriginIframeStyleMirror});const X=new pu,Q=wu(N,{recordCanvas:M,blockClass:i,blockSelector:s,unblockSelector:o,sampling:E.canvas,dataURLOptions:S}),J="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new lu:new hu({mutationCb:H,scrollCb:$,bypassOptions:{onMutation:L,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:l,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:j,dataURLOptions:S,maskAttributeFn:v,maskTextFn:w,maskInputFn:b,recordCanvas:M,inlineImages:I,sampling:E,slimDOMOptions:z,iframeManager:Y,stylesheetManager:K,canvasManager:Q,keepIframeSrcFn:R,processedNodeManager:X},mirror:vu}),Z=(t=!1)=>{G(mu({type:Ta.Meta,data:{href:window.location.href,width:pa(),height:da()}}),t),K.reset(),J.init(),$a.forEach((t=>t.lock()));const e=function(t,e){const{mirror:r=new Mo,blockClass:n="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:u=null,maskTextSelector:c=null,unmaskTextSelector:l=null,inlineStylesheet:h=!0,inlineImages:f=!1,recordCanvas:d=!1,maskAllInputs:p=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:b,preserveWhiteSpace:w,onSerialize:_,onIframeLoad:E,iframeLoadTimeout:S,onStylesheetLoad:x,stylesheetLoadTimeout:M,keepIframeSrcFn:k=(()=>!1)}=e||{};return ra(t,{doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:u,maskTextSelector:c,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:h,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===p?{}:p,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:b,inlineImages:f,recordCanvas:d,preserveWhiteSpace:w,onSerialize:_,onIframeLoad:E,iframeLoadTimeout:S,onStylesheetLoad:x,stylesheetLoadTimeout:M,keepIframeSrcFn:k,newlyAddedElement:!1})}(document,{mirror:vu,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:l,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:d,inlineStylesheet:p,maskAllInputs:j,maskAttributeFn:v,maskInputFn:b,maskTextFn:w,slimDOM:z,dataURLOptions:S,recordCanvas:M,inlineImages:I,onSerialize:t=>{ba(t,vu)&&Y.addIframe(t),wa(t,vu)&&K.trackLinkElement(t),_a(t)&&J.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{Y.attachIframe(t,e),J.observeAttachShadow(t)},onStylesheetLoad:(t,e)=>{K.attachLinkElement(t,e)},keepIframeSrcFn:R});if(!e)return console.warn("Failed to snapshot the document");G(mu({type:Ta.FullSnapshot,data:{node:e,initialOffset:fa(window)}})),$a.forEach((t=>t.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&K.adoptStyleSheets(document.adoptedStyleSheets,vu.getId(document))};yu=Z;try{const t=[],e=t=>Ga(nu)({onMutation:L,mutationCb:H,mousemoveCb:(t,e)=>G(mu({type:Ta.IncrementalSnapshot,data:{source:e,positions:t}})),mouseInteractionCb:t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.MouseInteraction,...t}})),scrollCb:$,viewportResizeCb:t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.ViewportResize,...t}})),inputCb:t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.Input,...t}})),mediaInteractionCb:t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.MediaInteraction,...t}})),styleSheetRuleCb:t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.StyleSheetRule,...t}})),styleDeclarationCb:t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.StyleDeclaration,...t}})),canvasMutationCb:W,fontCb:t=>G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.Font,...t}})),selectionCb:t=>{G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.Selection,...t}}))},customElementCb:t=>{G(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.CustomElement,...t}}))},blockClass:i,ignoreClass:a,ignoreSelector:u,maskAllText:c,maskTextClass:l,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:d,maskInputOptions:j,inlineStylesheet:p,sampling:E,recordCanvas:M,inlineImages:I,userTriggeredOnInput:A,collectFonts:C,doc:t,maskAttributeFn:v,maskInputFn:b,maskTextFn:w,keepIframeSrcFn:R,blockSelector:s,unblockSelector:o,slimDOMOptions:z,dataURLOptions:S,mirror:vu,iframeManager:Y,stylesheetManager:K,shadowDomManager:J,processedNodeManager:X,canvasManager:Q,ignoreCSSAttributes:O,plugins:Is([P,"optionalAccess",t=>t.filter,"call",t=>t((t=>t.observer)),"optionalAccess",t=>t.map,"call",t=>t((t=>({observer:t.observer,options:t.options,callback:e=>G(mu({type:Ta.Plugin,data:{plugin:t.name,payload:e}}))})))])||[]},{});Y.addLoadListener((r=>{try{t.push(e(r.contentDocument))}catch(t){console.warn(t)}}));const r=()=>{Z(),t.push(e(document))};return"interactive"===document.readyState||"complete"===document.readyState?r():(t.push(ia("DOMContentLoaded",(()=>{G(mu({type:Ta.DomContentLoaded,data:{}})),"DOMContentLoaded"===T&&r()}))),t.push(ia("load",(()=>{G(mu({type:Ta.Load,data:{}})),"load"===T&&r()}),window))),()=>{t.forEach((t=>t())),X.destroy(),yu=void 0,qa()}}catch(t){console.warn(t)}}function wu(t,e){return t?t({...e,mirror:vu,win:window,mutationCb:t=>function(t){gu&&gu(t)}(mu({type:Ta.IncrementalSnapshot,data:{source:Aa.CanvasMutation,...t}}))}):new fu}bu.mirror=vu,bu.takeFullSnapshot=function(t){if(!yu)throw new Error("please take full snapshot after start recording");yu(t)};const _u=3;function Eu(t){return t>9999999999?t:1e3*t}function Su(t){return t>9999999999?t/1e3:t}function xu(t,e){"sentry.transaction"!==e.category&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate((()=>(t.throttledAddEvent({type:Ta.Custom,timestamp:1e3*(e.timestamp||0),data:{tag:"breadcrumb",payload:oe(e,10,1e3)}}),"console"===e.category))))}const Mu="button,a";function ku(t){return t.closest(Mu)||t}function Tu(t){const e=Au(t);return e&&e instanceof Element?ku(e):e}function Au(t){return function(t){return"object"==typeof t&&!!t&&"target"in t}(t)?t.target:t}let Cu;function Iu(t){return Cu||(Cu=[],B(co,"open",(function(t){return function(...e){if(Cu)try{Cu.forEach((t=>t()))}catch(t){}return t.apply(co,e)}}))),Cu.push(t),()=>{const e=Cu?Cu.indexOf(t):-1;e>-1&&Cu.splice(e,1)}}class Pu{constructor(t,e,r=xu){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=e.timeout/1e3,this._threshold=e.threshold/1e3,this._scollTimeout=e.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=e.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=Iu((()=>{this._lastMutation=Ou()}));this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,e){if(function(t,e){if(!Ru.includes(t.tagName))return!0;if("INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||""))return!0;if("A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target")))return!0;if(e&&t.matches(e))return!0;return!1}(e,this._ignoreSelector)||!function(t){return!(!t.data||"number"!=typeof t.data.nodeId||!t.timestamp)}(t))return;const r={timestamp:Su(t.timestamp),clickBreadcrumb:t,clickCount:0,node:e};this._clicks.some((t=>t.node===r.node&&Math.abs(t.timestamp-r.timestamp)<1))||(this._clicks.push(r),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Su(t)}registerScroll(t=Date.now()){this._lastScroll=Su(t)}registerClick(t){const e=ku(t);this._handleMultiClick(e)}_handleMultiClick(t){this._getClicks(t).forEach((t=>{t.clickCount++}))}_getClicks(t){return this._clicks.filter((e=>e.node===t))}_checkClicks(){const t=[],e=Ou();this._clicks.forEach((r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=e&&t.push(r)}));for(const e of t){const t=this._clicks.indexOf(e);t>-1&&(this._generateBreadcrumbs(e),this._clicks.splice(t,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const e=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,n=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!n,{clickCount:s,clickBreadcrumb:o}=t;if(i){const r=1e3*Math.min(t.mutationAfter||this._timeout,this._timeout),n=r<1e3*this._timeout?"mutation":"timeout",i={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:{...o.data,url:co.location.href,route:e.getCurrentRoute(),timeAfterClickMs:r,endReason:n,clickCount:s||1}};this._addBreadcrumbEvent(e,i)}else if(s>1){const t={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:{...o.data,url:co.location.href,route:e.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(e,t)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Ru=["A","BUTTON","INPUT"];function Ou(){return Date.now()/1e3}function Du(t,e){try{if(!function(t){return t.type===_u}(e))return;const{source:r}=e.data;if(r===Aa.Mutation&&t.registerMutation(e.timestamp),r===Aa.Scroll&&t.registerScroll(e.timestamp),function(t){return t.data.source===Aa.MouseInteraction}(e)){const{type:r,id:n}=e.data,i=bu.mirror.getNode(n);i instanceof HTMLElement&&r===Ca.Click&&t.registerClick(i)}}catch(t){}}function Lu(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Nu;!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(Nu||(Nu={}));const Fu=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Bu(t){const e={};for(const r in t)if(Fu.has(r)){let n=r;"data-testid"!==r&&"data-test-id"!==r||(n="testId"),e[n]=t[r]}return e}const ju=t=>e=>{if(!t.isEnabled())return;const r=function(t){const{target:e,message:r}=function(t){const e="click"===t.name;let r,n=null;try{n=e?Tu(t.event):Au(t.event),r=M(n,{maxStringLength:200})||"<unknown>"}catch(t){r="<unknown>"}return{target:n,message:r}}(t);return Lu({category:`ui.${t.name}`,...zu(e,r)})}(e);if(!r)return;const n="click"===e.name,i=n?e.event:void 0;!(n&&t.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||function(t,e,r){t.handleClick(e,r)}(t.clickDetector,r,Tu(e.event)),xu(t,r)};function zu(t,e){const r=bu.mirror.getId(t),n=r&&bu.mirror.getNode(r),i=n&&bu.mirror.getMeta(n),s=i&&function(t){return t.type===Nu.Element}(i)?i:null;return{message:e,data:s?{nodeId:r,node:{id:r,tagName:s.tagName,textContent:Array.from(s.childNodes).map((t=>t.type===Nu.Text&&t.textContent)).filter(Boolean).map((t=>t.trim())).join(""),attributes:Bu(s.attributes)}}:{}}}function Uu(t,e){if(!t.isEnabled())return;t.updateUserActivity();const r=function(t){const{metaKey:e,shiftKey:r,ctrlKey:n,altKey:i,key:s,target:o}=t;if(!o||function(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable}(o)||!s)return null;const a=e||n||i,u=1===s.length;if(!a&&u)return null;const c=M(o,{maxStringLength:200})||"<unknown>",l=zu(o,c);return Lu({category:"ui.keyDown",message:c,data:{...l.data,metaKey:e,shiftKey:r,ctrlKey:n,altKey:i,key:s}})}(e);r&&xu(t,r)}const Vu={resource:function(t){const{entryType:e,initiatorType:r,name:n,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:u,transferSize:c}=t;if(["fetch","xmlhttprequest"].includes(r))return null;return{type:`${e}.${r}`,start:Gu(s),end:Gu(i),name:n,data:{size:c,statusCode:u,decodedBodySize:o,encodedBodySize:a}}},paint:function(t){const{duration:e,entryType:r,name:n,startTime:i}=t,s=Gu(i);return{type:r,name:n,start:s,end:s+e,data:void 0}},navigation:function(t){const{entryType:e,name:r,decodedBodySize:n,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:u,domInteractive:c,loadEventStart:l,loadEventEnd:h,redirectCount:f,startTime:d,transferSize:p,type:m}=t;if(0===i)return null;return{type:`${e}.${m}`,start:Gu(d),end:Gu(s),name:r,data:{size:p,decodedBodySize:n,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:u,loadEventStart:l,loadEventEnd:h,domComplete:s,redirectCount:f}}}};function qu(t){return Vu[t.entryType]?Vu[t.entryType](t):null}function Gu(t){return((dt||co.performance.timeOrigin)+t)/1e3}function Hu(t){function e(e){t.performanceEntries.includes(e)||t.performanceEntries.push(e)}function r({entries:t}){t.forEach(e)}const n=[];return["navigation","paint","resource"].forEach((t=>{n.push(eo(t,r))})),n.push(to((({metric:e})=>{t.replayPerformanceEntries.push(function(t){const e=t.entries,r=e[e.length-1],n=r?r.element:void 0,i=t.value,s=Gu(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:i,size:i,nodeId:n?bu.mirror.getId(n):void 0}}}(e))}))),()=>{n.forEach((t=>t()))}}const $u="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Wu='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Ku(t,e){$u&&(O.info(t),e&&Xu(t))}function Yu(t,e){$u&&(O.info(t),e&&setTimeout((()=>{Xu(t)}),0))}function Xu(t){ye({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class Qu extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Ju{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const e=JSON.stringify(t).length;if(this._totalSize+=e,this._totalSize>go)throw new Qu;this.events.push(t)}finish(){return new Promise((t=>{const e=this.events;this.clear(),t(JSON.stringify(e))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map((t=>t.timestamp)).sort()[0];return t?Eu(t):null}}class Zu{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((t,e)=>{this._worker.addEventListener("message",(({data:r})=>{r.success?t():e()}),{once:!0}),this._worker.addEventListener("error",(t=>{e(t)}),{once:!0})}))),this._ensureReadyPromise}destroy(){Ku("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,e){const r=this._getAndIncrementId();return new Promise(((n,i)=>{const s=({data:e})=>{const o=e;if(o.method===t&&o.id===r){if(this._worker.removeEventListener("message",s),!o.success)return $u&&O.error("[Replay]",o.response),void i(new Error("Error in compression worker"));n(o.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:e})}))}_getAndIncrementId(){return this._id++}}class tc{constructor(t){this._worker=new Zu(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const e=Eu(t.timestamp);(!this._earliestTimestamp||e<this._earliestTimestamp)&&(this._earliestTimestamp=e);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>go?Promise.reject(new Qu):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(t=>{$u&&O.warn('[Replay] Sending "clear" message to worker failed',t)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class ec{constructor(t){this._fallback=new Ju,this._compression=new tc(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){return void Ku("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:e}=this._fallback,r=[];for(const e of t)r.push(this._compression.addEvent(e));this._compression.hasCheckout=e,this._used=this._compression;try{await Promise.all(r)}catch(t){$u&&O.warn("[Replay] Failed to add events when switching buffers.",t)}}}function rc({useCompression:t,workerUrl:e}){if(t&&window.Worker){const t=function(t){try{const e=t||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const t=new Blob([Wu]);return URL.createObjectURL(t)}();return""}();if(!e)return;Ku("[Replay] Using compression worker"+(t?` from ${t}`:""));const r=new Worker(e);return new ec(r)}catch(t){Ku("[Replay] Failed to create compression worker")}}(e);if(t)return t}return Ku("[Replay] Using simple buffer"),new Ju}function nc(){try{return"sessionStorage"in co&&!!co.sessionStorage}catch(t){return!1}}function ic(t){!function(){if(!nc())return;try{co.sessionStorage.removeItem(lo)}catch(t){}}(),t.session=void 0}function sc(t){return void 0!==t&&Math.random()<t}function oc(t){const e=Date.now();return{id:t.id||W(),started:t.started||e,lastActivity:t.lastActivity||e,segmentId:t.segmentId||0,sampled:t.sampled,previousSessionId:t.previousSessionId}}function ac(t){if(nc())try{co.sessionStorage.setItem(lo,JSON.stringify(t))}catch(t){}}function uc({sessionSampleRate:t,allowBuffering:e,stickySession:r=!1},{previousSessionId:n}={}){const i=function(t,e){return sc(t)?"session":!!e&&"buffer"}(t,e),s=oc({sampled:i,previousSessionId:n});return r&&ac(s),s}function cc(t,e,r=+new Date){return null===t||void 0===e||e<0||0!==e&&t+e<=r}function lc(t,{maxReplayDuration:e,sessionIdleExpire:r,targetTime:n=Date.now()}){return cc(t.started,e,n)||cc(t.lastActivity,r,n)}function hc(t,{sessionIdleExpire:e,maxReplayDuration:r}){return!!lc(t,{sessionIdleExpire:e,maxReplayDuration:r})&&("buffer"!==t.sampled||0!==t.segmentId)}function fc({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:r,previousSessionId:n},i){const s=i.stickySession&&function(t){if(!nc())return null;try{const e=co.sessionStorage.getItem(lo);if(!e)return null;const r=JSON.parse(e);return Yu("[Replay] Loading existing session",t),oc(r)}catch(t){return null}}(t);return s?hc(s,{sessionIdleExpire:e,maxReplayDuration:r})?(Yu("[Replay] Session in sessionStorage is expired, creating new one..."),uc(i,{previousSessionId:s.id})):s:(Yu("[Replay] Creating new session",t),uc(i,{previousSessionId:n}))}function dc(t,e,r){return!!mc(t,e)&&(pc(t,e,r),!0)}async function pc(t,e,r){if(!t.eventBuffer)return null;try{r&&"buffer"===t.recordingMode&&t.eventBuffer.clear(),r&&(t.eventBuffer.hasCheckout=!0);const n=function(t,e){try{if("function"==typeof e&&function(t){return t.type===Ta.Custom}(t))return e(t)}catch(t){return $u&&O.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",t),null}return t}(e,t.getOptions().beforeAddRecordingEvent);if(!n)return;return await t.eventBuffer.addEvent(n)}catch(e){const r=e&&e instanceof Qu?"addEventSizeExceeded":"addEvent";$u&&O.error(e),await t.stop({reason:r});const n=Ce();n&&n.recordDroppedEvent("internal_sdk_error","replay")}}function mc(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const r=Eu(e.timestamp);return!(r+t.timeouts.sessionIdlePause<Date.now())&&(!(r>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration)||(Ku(`[Replay] Skipping event with timestamp ${r} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1))}function gc(t){return!t.type}function yc(t){return"transaction"===t.type}function vc(t){return"feedback"===t.type}function bc(t){const e=function(){const t=Ce();if(!t)return!1;const e=t.getTransport();if(!e)return!1;return e.send.__sentry__baseTransport__||!1}();return(r,n)=>{if(!t.isEnabled()||!gc(r)&&!yc(r))return;const i=n&&n.statusCode;e&&(!i||i<200||i>=300)||(yc(r)?function(t,e){const r=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(e.contexts.trace.trace_id)}(t,r):function(t,e){const r=t.getContext();e.event_id&&r.errorIds.size<100&&r.errorIds.add(e.event_id);if("buffer"!==t.recordingMode||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:n}=t.getOptions();if("function"==typeof n&&!n(e))return;setTimeout((()=>{t.sendBufferedReplayOrFlush()}))}(t,r))}}function wc(t){return e=>{t.isEnabled()&&gc(e)&&function(t,e){const r=e.exception&&e.exception.values&&e.exception.values[0].value;if("string"!=typeof r)return;if(r.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i)){xu(t,Lu({category:"replay.hydrate-error"}))}}(t,e)}}function _c(t,e=!1){const r=e?bc(t):void 0;return Object.assign(((e,n)=>{if(!t.isEnabled())return e;if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!gc(e)&&!yc(e)&&!vc(e))return e;if(!t.checkAndHandleExpiredSession())return e;if(vc(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),function(t,e){t.triggerUserActivity(),t.addUpdate((()=>!e.timestamp||(t.throttledAddEvent({type:Ta.Custom,timestamp:1e3*e.timestamp,data:{timestamp:e.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1)))}(t,e),e;if(function(t,e){return!(t.type||!t.exception||!t.exception.values||!t.exception.values.length||!e.originalException||!e.originalException.__rrweb__)}(e,n)&&!t.getOptions()._experiments.captureExceptions)return $u&&O.log("[Replay] Ignoring error from rrweb internals",e),null;const i=function(t,e){return"buffer"===t.recordingMode&&e.message!==fo&&!(!e.exception||e.type)&&sc(t.getOptions().errorSampleRate)}(t,e);return(i||"session"===t.recordingMode)&&(e.tags={...e.tags,replayId:t.getSessionId()}),r&&r(e,{statusCode:200}),e}),{id:"Replay"})}function Ec(t,e){return e.map((({type:e,start:r,end:n,name:i,data:s})=>{const o=t.throttledAddEvent({type:Ta.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:e,description:i,startTimestamp:r,endTimestamp:n,data:s}}});return"string"==typeof o?Promise.resolve(null):o}))}function Sc(t){return e=>{if(!t.isEnabled())return;const r=function(t){const{from:e,to:r}=t,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:e}}}(e);null!==r&&(t.getContext().urls.push(r.name),t.triggerUserActivity(),t.addUpdate((()=>(Ec(t,[r]),!1))))}}function xc(t,e){t.isEnabled()&&null!==e&&(function(t,e){return(!$u||!t.getOptions()._experiments.traceInternals)&&Ps(e,Ce())}(t,e.name)||t.addUpdate((()=>(Ec(t,[e]),!0))))}function Mc(t){return e=>{if(!t.isEnabled())return;const r=function(t){const{startTimestamp:e,endTimestamp:r,xhr:n}=t,i=n[ts];if(!e||!r||!i)return null;const{method:s,url:o,status_code:a}=i;return void 0===o?null:{type:"resource.xhr",name:o,start:e/1e3,end:r/1e3,data:{method:s,statusCode:a}}}(e);xc(t,r)}}function kc(t,e){if(t)try{if("string"==typeof t)return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const r=Dc(t);return e.encode(r).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(t){}}function Tc(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Ac(t){try{if("string"==typeof t)return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[Dc(t)];if(!t)return[void 0]}catch(e){return $u&&O.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return $u&&O.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Cc(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const r={...t._meta},n=r.warnings||[];return r.warnings=[...n,e],t._meta=r,t}function Ic(t,e){if(!e)return null;const{startTimestamp:r,endTimestamp:n,url:i,method:s,statusCode:o,request:a,response:u}=e;return{type:t,start:r/1e3,end:n/1e3,name:i,data:H({method:s,statusCode:o,request:a,response:u})}}function Pc(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function Rc(t,e,r){if(!e&&0===Object.keys(t).length)return;if(!e)return{headers:t};if(!r)return{headers:t,size:e};const n={headers:t,size:e},{body:i,warnings:s}=function(t){if(!t||"string"!=typeof t)return{body:t};const e=t.length>po,r=function(t){const e=t[0],r=t[t.length-1];return"["===e&&"]"===r||"{"===e&&"}"===r}(t);if(e){const e=t.slice(0,po);return r?{body:e,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${e}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(t)}}catch(t){}return{body:t}}(r);return n.body=i,s&&s.length>0&&(n._meta={warnings:s}),n}function Oc(t,e){return Object.keys(t).reduce(((r,n)=>{const i=n.toLowerCase();return e.includes(i)&&t[n]&&(r[i]=t[n]),r}),{})}function Dc(t){return new URLSearchParams(t).toString()}function Lc(t,e){const r=function(t,e=co.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(co.location.origin))return t;const r=new URL(t,e);if(r.origin!==new URL(e).origin)return t;const n=r.href;if(!t.endsWith("/")&&n.endsWith("/"))return n.slice(0,-1);return n}(t);return F(r,e)}async function Nc(t,e,r){try{const n=await async function(t,e,r){const n=Date.now(),{startTimestamp:i=n,endTimestamp:s=n}=e,{url:o,method:a,status_code:u=0,request_body_size:c,response_body_size:l}=t.data,h=Lc(o,r.networkDetailAllowUrls)&&!Lc(o,r.networkDetailDenyUrls),f=h?function({networkCaptureBodies:t,networkRequestHeaders:e},r,n){const i=r?function(t,e){if(1===t.length&&"string"!=typeof t[0])return jc(t[0],e);if(2===t.length)return jc(t[1],e);return{}}(r,e):{};if(!t)return Rc(i,n,void 0);const s=Fc(r),[o,a]=Ac(s),u=Rc(i,n,o);if(a)return Cc(u,a);return u}(r,e.input,c):Pc(c),d=await async function(t,{networkCaptureBodies:e,textEncoder:r,networkResponseHeaders:n},i,s){if(!t&&void 0!==s)return Pc(s);const o=i?Bc(i.headers,n):{};if(!i||!e&&void 0!==s)return Rc(o,s,void 0);const[a,u]=await async function(t){const e=function(t){try{return t.clone()}catch(t){$u&&O.warn("[Replay] Failed to clone response body",t)}}(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{const t=await function(t){return new Promise(((e,r)=>{const n=setTimeout((()=>r(new Error("Timeout while trying to read response body"))),500);(async function(t){return await t.text()})(t).then((t=>e(t)),(t=>r(t))).finally((()=>clearTimeout(n)))}))}(e);return[t]}catch(t){return $u&&O.warn("[Replay] Failed to get text body from response",t),[void 0,"BODY_PARSE_ERROR"]}}(i),c=function(t,{networkCaptureBodies:e,textEncoder:r,responseBodySize:n,captureDetails:i,headers:s}){try{const o=t&&t.length&&void 0===n?kc(t,r):n;return i?Rc(s,o,e?t:void 0):Pc(o)}catch(t){return $u&&O.warn("[Replay] Failed to serialize response body",t),Rc(s,n,void 0)}}(a,{networkCaptureBodies:e,textEncoder:r,responseBodySize:s,captureDetails:t,headers:o});if(u)return Cc(c,u);return c}(h,r,e.response,l);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:u,request:f,response:d}}(t,e,r),i=Ic("resource.fetch",n);xc(r.replay,i)}catch(t){$u&&O.error("[Replay] Failed to capture fetch breadcrumb",t)}}function Fc(t=[]){if(2===t.length&&"object"==typeof t[1])return t[1].body}function Bc(t,e){const r={};return e.forEach((e=>{t.get(e)&&(r[e]=t.get(e))})),r}function jc(t,e){if(!t)return{};const r=t.headers;return r?r instanceof Headers?Bc(r,e):Array.isArray(r)?{}:Oc(r,e):{}}async function zc(t,e,r){try{const n=function(t,e,r){const n=Date.now(),{startTimestamp:i=n,endTimestamp:s=n,input:o,xhr:a}=e,{url:u,method:c,status_code:l=0,request_body_size:h,response_body_size:f}=t.data;if(!u)return null;if(!a||!Lc(u,r.networkDetailAllowUrls)||Lc(u,r.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:s,url:u,method:c,statusCode:l,request:Pc(h),response:Pc(f)}}const d=a[ts],p=d?Oc(d.request_headers,r.networkRequestHeaders):{},m=Oc(function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce(((t,e)=>{const[r,n]=e.split(": ");return t[r.toLowerCase()]=n,t}),{})}(a),r.networkResponseHeaders),[g,y]=r.networkCaptureBodies?Ac(o):[void 0],[v,b]=r.networkCaptureBodies?function(t){const e=[];try{return[t.responseText]}catch(t){e.push(t)}try{return function(t,e){try{if("string"==typeof t)return[t];if(t instanceof Document)return[t.body.outerHTML];if("json"===e&&t&&"object"==typeof t)return[JSON.stringify(t)];if(!t)return[void 0]}catch(e){return $u&&O.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return $u&&O.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}(t.response,t.responseType)}catch(t){e.push(t)}return $u&&O.warn("[Replay] Failed to get xhr response body",...e),[void 0]}(a):[void 0],w=Rc(p,h,g),_=Rc(m,f,v);return{startTimestamp:i,endTimestamp:s,url:u,method:c,statusCode:l,request:y?Cc(w,y):w,response:b?Cc(_,b):_}}(t,e,r),i=Ic("resource.xhr",n);xc(r.replay,i)}catch(t){$u&&O.error("[Replay] Failed to capture xhr breadcrumb",t)}}function Uc(t,e,r){const{xhr:n,input:i}=e;if(!n)return;const s=kc(i,r.textEncoder),o=n.getResponseHeader("content-length")?Tc(n.getResponseHeader("content-length")):function(t,e,r){try{return kc("json"===e&&t&&"object"==typeof t?JSON.stringify(t):t,r)}catch(t){return}}(n.response,n.responseType,r.textEncoder);void 0!==s&&(t.data.request_body_size=s),void 0!==o&&(t.data.response_body_size=o)}function Vc(t){const e=Ce();try{const r=new TextEncoder,{networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a}=t.getOptions(),u={replay:t,textEncoder:r,networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a};e&&e.on?e.on("beforeAddBreadcrumb",((t,e)=>function(t,e,r){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return t&&t.xhr}(r)&&(Uc(e,r,t),zc(e,r,t)),function(t){return"fetch"===t.category}(e)&&function(t){return t&&t.response}(r)&&(!function(t,e,r){const{input:n,response:i}=e,s=kc(n?Fc(n):void 0,r.textEncoder),o=i?Tc(i.headers.get("content-length")):void 0;void 0!==s&&(t.data.request_body_size=s),void 0!==o&&(t.data.response_body_size=o)}(e,r,t),Nc(e,r,t))}catch(t){$u&&O.warn("Error when enriching network breadcrumb")}}(u,t,e))):(ns(function(t){return e=>{if(!t.isEnabled())return;const r=function(t){const{startTimestamp:e,endTimestamp:r,fetchData:n,response:i}=t;if(!r)return null;const{method:s,url:o}=n;return{type:"resource.fetch",start:e/1e3,end:r/1e3,name:o,data:{method:s,statusCode:i?i.status:void 0}}}(e);xc(t,r)}}(t)),es(Mc(t)))}catch(t){}}let qc=null;const Gc=t=>e=>{if(!t.isEnabled())return;const r=function(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();if(qc===e||!e)return null;if(qc=e,!function(t){return!!t.category}(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||0===e.length)return Lu(t);let r=!1;const n=e.map((t=>{if(!t)return t;if("string"==typeof t)return t.length>mo?(r=!0,`${t.slice(0,mo)}\u2026`):t;if("object"==typeof t)try{const e=oe(t,7);return JSON.stringify(e).length>mo?(r=!0,`${JSON.stringify(e,null,2).slice(0,mo)}\u2026`):e}catch(t){}return t}));return Lu({...t,data:{...t.data,arguments:n,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return Lu(e)}(e);r&&xu(t,r)};function Hc(t){return!(!t||!t.on)}function $c(t){const{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:n}=t,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:r,usedJSHeapSize:n}}}}function Wc(t){let e=!1;return(r,n)=>{if(!t.checkAndHandleExpiredSession())return void($u&&O.warn("[Replay] Received replay event after session expired."));const i=n||!e;e=!0,t.clickDetector&&Du(t.clickDetector,r),t.addUpdate((()=>{if("buffer"===t.recordingMode&&i&&t.setInitialState(),!dc(t,r,i))return!0;if(!i)return!1;if(function(t,e){if(!e||!t.session||0!==t.session.segmentId)return;dc(t,function(t){const e=t.getOptions();return{type:Ta.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:!!t.eventBuffer&&"worker"===t.eventBuffer.type,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}(t),!1)}(t,i),t.session&&t.session.previousSessionId)return!0;if("buffer"===t.recordingMode&&t.session&&t.eventBuffer){const e=t.eventBuffer.getEarliestTimestamp();e&&(Ku(`[Replay] Updating session start time to earliest event in buffer to ${new Date(e)}`,t.getOptions()._experiments.traceInternals),t.session.started=e,t.getOptions().stickySession&&ac(t.session))}return"session"===t.recordingMode&&t.flush(),!0}))}}async function Kc({recordingData:t,replayId:e,segmentId:r,eventContext:n,timestamp:i,session:s}){const o=function({recordingData:t,headers:e}){let r;const n=`${JSON.stringify(e)}\n`;if("string"==typeof t)r=`${n}${t}`;else{const e=(new TextEncoder).encode(n);r=new Uint8Array(e.length+t.length),r.set(e),r.set(t,e.length)}return r}({recordingData:t,headers:{segment_id:r}}),{urls:a,errorIds:u,traceIds:c,initialTimestamp:l}=n,h=Ce(),f=Ie(),d=h&&h.getTransport(),p=h&&h.getDsn();if(!(h&&d&&p&&s.sampled))return;const m={type:ho,replay_start_timestamp:l/1e3,timestamp:i/1e3,error_ids:u,trace_ids:c,urls:a,replay_id:e,segment_id:r,replay_type:s.sampled},g=await async function({client:t,scope:e,replayId:r,event:n}){const i={event_id:r,integrations:"object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit&&t.emit("preprocessEvent",n,i);const s=await ce(t.getOptions(),n,i,e,t,Yt());if(!s)return null;s.platform=s.platform||"javascript";const o=t.getSdkMetadata&&t.getSdkMetadata(),{name:a,version:u}=o&&o.sdk||{};return s.sdk={...s.sdk,name:a||"sentry.javascript.unknown",version:u||"0.0.0"},s}({scope:f,client:h,replayId:e,event:m});if(!g)return h.recordDroppedEvent("event_processor","replay",m),void Ku("An event processor returned `null`, will not send event.");delete g.sdkProcessingMetadata;const y=function(t,e,r,n){return ar(gr(t,mr(t),n,r),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"==typeof e?(new TextEncoder).encode(e).length:e.length},e]])}(g,o,p,h.getOptions().tunnel);let v;try{v=await d.send(y)}catch(t){const e=new Error(fo);try{e.cause=t}catch(t){}throw e}if(!v)return v;if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new Yc(v.statusCode);const b=Tn({},v);if(kn(b,"replay"))throw new Xc(b);return v}class Yc extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Xc extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Qc(t,e={count:0,interval:5e3}){const{recordingData:r,options:n}=t;if(r.length)try{return await Kc(t),!0}catch(r){if(r instanceof Yc||r instanceof Xc)throw r;if(ve("Replays",{_retryCount:e.count}),$u&&n._experiments&&n._experiments.captureExceptions&&de(r),e.count>=3){const t=new Error(`${fo} - max retries exceeded`);try{t.cause=r}catch(t){}throw t}return e.interval*=++e.count,new Promise(((r,n)=>{setTimeout((async()=>{try{await Qc(t,e),r(!0)}catch(t){n(t)}}),e.interval)}))}}const Jc="__THROTTLED";function Zc(t,e,r){const n=new Map;let i=!1;return(...s)=>{const o=Math.floor(Date.now()/1e3);if((t=>{const e=t-r;n.forEach(((t,r)=>{r<e&&n.delete(r)}))})(o),[...n.values()].reduce(((t,e)=>t+e),0)>=e){const t=i;return i=!0,t?"__SKIPPED":Jc}i=!1;const a=n.get(o)||0;return n.set(o,a+1),t(...s)}}class tl{constructor({options:t,recordingOptions:e}){tl.prototype.__init.call(this),tl.prototype.__init2.call(this),tl.prototype.__init3.call(this),tl.prototype.__init4.call(this),tl.prototype.__init5.call(this),tl.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=e,this._options=t,this._debouncedFlush=function(t,e,r){let n,i,s;const o=r&&r.maxWait?Math.max(r.maxWait,e):0;function a(){return u(),n=t(),n}function u(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function c(){return i&&clearTimeout(i),i=setTimeout(a,e),o&&void 0===s&&(s=setTimeout(a,o)),n}return c.cancel=u,c.flush=function(){return void 0!==i||void 0!==s?a():n},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Zc(((t,e)=>function(t,e,r){return mc(t,e)?pc(t,e,r):Promise.resolve(null)}(this,t,e)),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:n}=this.getOptions(),i=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:n?n.join(","):""}:void 0;i&&(this.clickDetector=new Pu(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:e,sessionSampleRate:r}=this._options;e<=0&&r<=0||(this._initializeSessionForSampling(t),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Yu(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Yu("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const t=fc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Yu("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=fc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._options._experiments.canvas;this._stopRecording=bu({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Wc(this),onMutation:this._onMutationHandler,...t&&t.manager&&{recordCanvas:!0,getCanvasManager:t.manager,...vo[t.quality||"medium"]||vo.medium}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:e}={}){if(this._isEnabled){this._isEnabled=!1;try{Ku("[Replay] Stopping Replay"+(e?` triggered by ${e}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,ic(this)}catch(t){this._handleException(t)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ku("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),Ku("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const e=Date.now();Ku("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();t&&r&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(e),this._updateSessionActivity(e),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const e=t();"buffer"!==this.recordingMode&&!0!==e&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&cc(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const t=`${co.location.pathname}${co.location.hash}${co.location.search}`,e=`${co.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=e,this._context.initialTimestamp=Date.now(),this._context.urls.push(e)}throttledAddEvent(t,e){const r=this._throttledAddEvent(t,e);if(r===Jc){const t=Lu({category:"replay.throttled"});this.addUpdate((()=>!dc(this,{type:5,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t,metric:!0}})))}return r}getCurrentRoute(){const t=this.lastTransaction||Ie().getTransaction(),e=(t&&Rt(t).data||{})[tn];if(t&&e&&["route","custom"].includes(e))return Rt(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=rc({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){$u&&O.error("[Replay]",t),$u&&this._options._experiments&&this._options._experiments.captureExceptions&&de(t)}_initializeSessionForSampling(t){const e=this._options.errorSampleRate>0,r=fc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:e});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return!hc(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(t),!1)}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{co.document.addEventListener("visibilitychange",this._handleVisibilityChange),co.addEventListener("blur",this._handleWindowBlur),co.addEventListener("focus",this._handleWindowFocus),co.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(t){const e=Ie(),r=Ce();e.addScopeListener(Gc(t)),Xi(ju(t)),Ii(Sc(t)),Vc(t);const n=_c(t,!Hc(r));r&&r.addEventProcessor?r.addEventProcessor(n):Lr(n),Hc(r)&&(r.on("beforeSendEvent",wc(t)),r.on("afterSendEvent",bc(t)),r.on("createDsc",(e=>{const r=t.getSessionId();r&&t.isEnabled()&&"session"===t.recordingMode&&t.checkAndHandleExpiredSession()&&(e.replay_id=r)})),r.on("startTransaction",(e=>{t.lastTransaction=e})),r.on("finishTransaction",(e=>{t.lastTransaction=e})),r.on("beforeSendFeedback",((e,r)=>{const n=t.getSessionId();r&&r.includeReplay&&t.isEnabled()&&n&&(t.flush(),e.contexts&&e.contexts.feedback&&(e.contexts.feedback.replay_id=n))})))}(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=Hu(this)}_removeListeners(){try{co.document.removeEventListener("visibilitychange",this._handleVisibilityChange),co.removeEventListener("blur",this._handleWindowBlur),co.removeEventListener("focus",this._handleWindowFocus),co.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{"visible"===co.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Lu({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Lu({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{Uu(this,t)}}_doChangeToBackgroundTasks(t){if(!this.session)return;lc(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;this.checkAndHandleExpiredSession()?t&&this._createCustomBreadcrumb(t):Ku("[Replay] Document has become active, but session has expired")}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate((()=>{this.throttledAddEvent({type:Ta.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})}))}_addPerformanceEntries(){const t=(e=this.performanceEntries,e.map(qu).filter(Boolean)).concat(this.replayPerformanceEntries);var e;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Ec(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:e}=this;if(!t||!e)return;if(t.segmentId)return;const r=e.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(this.session&&this.eventBuffer&&t){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(t){try{return Promise.all(Ec(t,[$c(co.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const e=Date.now();if(e-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),n=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await Qc({replayId:t,recordingData:i,segmentId:n,eventContext:r,session:this.session,options:this.getOptions(),timestamp:e})}catch(t){this._handleException(t),this.stop({reason:"sendReplay"});const e=Ce();e&&e.recordDroppedEvent("send_error","replay")}}else $u&&O.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession())return void($u&&O.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const e=this.session.started,r=Date.now()-e;this._debouncedFlush.cancel();const n=r<this._options.minReplayDuration,i=r>this._options.maxReplayDuration+5e3;if(n||i)return Ku(`[Replay] Session duration (${Math.floor(r/1e3)}s) is too ${n?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(n&&this._debouncedFlush());const s=this.eventBuffer;if(s&&0===this.session.segmentId&&!s.hasCheckout&&Ku("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(t){$u&&O.error(t)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&ac(this.session)}__init6(){this._onMutationHandler=t=>{const e=t.length,r=this._options.mutationLimit,n=r&&e>r;if(e>this._options.mutationBreadcrumbLimit||n){const t=Lu({category:"replay.mutations",data:{count:e,limit:n}});this._createCustomBreadcrumb(t)}return!n||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function el(t,e,r,n){const i=[...t,..."string"==typeof n?n.split(","):[],...e];return void 0!==r&&("string"==typeof r&&i.push(`.${r}`),R((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),i.join(",")}const rl='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',nl=["content-length","content-type","accept"];let il=!1;class sl{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=5e3,flushMaxDelay:e=5500,minReplayDuration:r=4999,maxReplayDuration:n=36e5,stickySession:i=!0,useCompression:s=!0,workerUrl:o,_experiments:a={},sessionSampleRate:u,errorSampleRate:c,maskAllText:l=!0,maskAllInputs:h=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:d=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:v=[],networkCaptureBodies:b=!0,networkRequestHeaders:w=[],networkResponseHeaders:_=[],mask:E=[],maskAttributes:S=["title","placeholder"],unmask:x=[],block:M=[],unblock:k=[],ignore:T=[],maskFn:A,beforeAddRecordingEvent:C,beforeErrorSampling:I,blockClass:P,blockSelector:R,maskInputOptions:O,maskTextClass:D,maskTextSelector:L,ignoreClass:N}={}){this.name=sl.id;const F=function({mask:t,unmask:e,block:r,unblock:n,ignore:i,blockClass:s,blockSelector:o,maskTextClass:a,maskTextSelector:u,ignoreClass:c}){const l={maskTextSelector:el(t,[".sentry-mask","[data-sentry-mask]"],a,u),unmaskTextSelector:el(e,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:el(r,[".sentry-block","[data-sentry-block]",'base[href="/"]'],s,o),unblockSelector:el(n,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:el(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],c)};return s instanceof RegExp&&(l.blockClass=s),a instanceof RegExp&&(l.maskTextClass=a),l}({mask:E,unmask:x,block:M,unblock:k,ignore:T,blockClass:P,blockSelector:R,maskTextClass:D,maskTextSelector:L,ignoreClass:N});if(this._recordingOptions={maskAllInputs:h,maskAllText:l,maskInputOptions:{...O||{},password:!0},maskTextFn:A,maskInputFn:A,maskAttributeFn:(t,e,r)=>function({el:t,key:e,maskAttributes:r,maskAllText:n,privacyOptions:i,value:s}){return n?i.unmaskTextSelector&&t.matches(i.unmaskTextSelector)?s:r.includes(e)||"value"===e&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s:s}({maskAttributes:S,maskAllText:l,privacyOptions:F,key:t,value:e,el:r}),...F,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:t=>{try{t.__rrweb__=!0}catch(t){}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:e,minReplayDuration:Math.min(r,15e3),maxReplayDuration:Math.min(n,yo),stickySession:i,sessionSampleRate:u,errorSampleRate:c,useCompression:s,workerUrl:o,blockAllMedia:f,maskAllInputs:h,maskAllText:l,mutationBreadcrumbLimit:d,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:v,networkCaptureBodies:b,networkRequestHeaders:ol(w),networkResponseHeaders:ol(_),beforeAddRecordingEvent:C,beforeErrorSampling:I,_experiments:a},"number"==typeof u&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),"number"==typeof c&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${c} })`),this._initialOptions.errorSampleRate=c),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${rl}`:rl),this._isInitialized&&Ds())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return il}set _isInitialized(t){il=t}setupOnce(){Ds()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(t){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const t=function(t){const e=Ce(),r=e&&e.getOptions(),n={sessionSampleRate:0,errorSampleRate:0,...H(t)};if(!r)return R((()=>{console.warn("SDK client is not available.")})),n;null==t.sessionSampleRate&&null==t.errorSampleRate&&null==r.replaysSessionSampleRate&&null==r.replaysOnErrorSampleRate&&R((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof r.replaysSessionSampleRate&&(n.sessionSampleRate=r.replaysSessionSampleRate);"number"==typeof r.replaysOnErrorSampleRate&&(n.errorSampleRate=r.replaysOnErrorSampleRate);return n}(this._initialOptions);this._replay=new tl({options:t,recordingOptions:this._recordingOptions})}}function ol(t){return[...nl,...t.map((t=>t.toLowerCase()))]}sl.__initStatic();const al=w,ul="#ffffff",cl="inherit",ll="rgba(108, 95, 199, 1)",hl={fontFamily:"'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:ul,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:ll,submitBorder:ll,submitOutlineFocus:"#29232f",submitForeground:ul,submitForegroundHover:ul,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:cl,inputForeground:cl,inputBorder:"var(--border)",inputOutlineFocus:ll},fl=hl,dl={...hl,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},pl="widget",ml="api";async function gl({feedback:{message:t,email:e,name:r,source:n,url:i}},{includeReplay:s=!0}={}){const o=Ce(),a=o&&o.getTransport(),u=o&&o.getDsn();if(!o||!a||!u)return;const c={contexts:{feedback:{contact_email:e,name:r,message:t,url:i,source:n}},type:"feedback"};return xe((async t=>{t.clearBreadcrumbs(),[ml,pl].includes(String(n))&&t.setLevel("info");const e=await async function({client:t,scope:e,event:r}){const n={};t.emit&&t.emit("preprocessEvent",r,n);const i=await ce(t.getOptions(),r,n,e,t,Yt());return null===i?(t.recordDroppedEvent("event_processor","feedback",r),null):(i.platform=i.platform||"javascript",i)}({scope:t,client:o,event:c});if(!e)return;o.emit&&o.emit("beforeSendFeedback",e,{includeReplay:Boolean(s)});const r=Tr(e,u,o.getOptions()._metadata,o.getOptions().tunnel);let i;try{i=await a.send(r)}catch(t){const e=new Error("Unable to send Feedback");try{e.cause=t}catch(t){}throw e}if(i){if("number"==typeof i.statusCode&&(i.statusCode<200||i.statusCode>=300))throw new Error("Unable to send Feedback");return i}}))}const yl="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function vl(t,e){return{...t,...e,themeDark:{...t.themeDark,...e.themeDark},themeLight:{...t.themeLight,...e.themeLight}}}function bl(t){return`\n  --background: ${t.background};\n  --background-hover: ${t.backgroundHover};\n  --foreground: ${t.foreground};\n  --error: ${t.error};\n  --success: ${t.success};\n  --border: ${t.border};\n  --box-shadow: ${t.boxShadow};\n\n  --submit-background: ${t.submitBackground};\n  --submit-background-hover: ${t.submitBackgroundHover};\n  --submit-border: ${t.submitBorder};\n  --submit-outline-focus: ${t.submitOutlineFocus};\n  --submit-foreground: ${t.submitForeground};\n  --submit-foreground-hover: ${t.submitForegroundHover};\n\n  --cancel-background: ${t.cancelBackground};\n  --cancel-background-hover: ${t.cancelBackgroundHover};\n  --cancel-border: ${t.cancelBorder};\n  --cancel-outline-focus: ${t.cancelOutlineFocus};\n  --cancel-foreground: ${t.cancelForeground};\n  --cancel-foreground-hover: ${t.cancelForegroundHover};\n\n  --input-background: ${t.inputBackground};\n  --input-foreground: ${t.inputForeground};\n  --input-border: ${t.inputBorder};\n  --input-outline-focus: ${t.inputOutlineFocus};\n  `}function wl({id:t,colorScheme:e,themeDark:r,themeLight:n}){try{const i=al.document,s=i.createElement("div");s.id=t;const o=s.attachShadow({mode:"open"});return o.appendChild(function(t,e,r){const n=t.createElement("style");return n.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${r.light.fontFamily};\n  --font-size: ${r.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${bl("dark"===e?r.dark:r.light)}\n}\n\n${"system"===e?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${bl(r.dark)}\n  }\n}`:""}\n}`,n}(i,e,{dark:r,light:n})),o.appendChild(function(t){const e=t.createElement("style");return e.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: 20px;\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: 6px;\n  color: var(--input-foreground);\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: 12px;\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",e}(i)),{shadow:o,host:s}}catch(t){throw O.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function _l(t,e,r){if(!t)return;t.hideError();try{const t=await function({name:t,email:e,message:r,source:n=ml,url:i=T()},s={}){if(!r)throw new Error("Unable to submit feedback with empty message");return gl({feedback:{name:t,email:e,message:r,url:i,source:n}},s)}({...e,source:pl},r);return t}catch(e){yl&&O.error(e),t&&t.showError("There was a problem submitting feedback, please wait and try again.")}}function El(t,e){return Object.entries(e).forEach((([e,r])=>{t.setAttributeNS(null,e,r)})),t}const Sl=20,xl="http://www.w3.org/2000/svg";function Ml(t,e,...r){const n=al.document.createElement(t);e&&Object.entries(e).forEach((([t,e])=>{"className"===t&&"string"==typeof e?n.setAttribute("class",e):"boolean"==typeof e&&e?n.setAttribute(t,""):"string"==typeof e?n.setAttribute(t,e):t.startsWith("on")&&"function"==typeof e&&n.addEventListener(t.substring(2).toLowerCase(),e)}));for(const t of r)kl(n,t);return n}function kl(t,e){const r=al.document;if(null!=e)if(Array.isArray(e))for(const r of e)kl(t,r);else!1===e||("string"==typeof e?t.appendChild(r.createTextNode(e)):e instanceof Node?t.appendChild(e):t.appendChild(r.createTextNode(String(e))))}function Tl({buttonLabel:t,onClick:e}){const r=Ml("button",{type:"button",className:"widget__actor","aria-label":t,"aria-hidden":"false"},function(){const t=t=>al.document.createElementNS(xl,t),e=El(t("svg"),{class:"feedback-icon",width:`${Sl}`,height:`${Sl}`,viewBox:`0 0 ${Sl} ${Sl}`,fill:"none"}),r=El(t("g"),{clipPath:"url(#clip0_57_80)"}),n=El(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(r).appendChild(n);const i=t("defs"),s=El(t("clipPath"),{id:"clip0_57_80"}),o=El(t("rect"),{width:`${Sl}`,height:`${Sl}`,fill:"white"});return s.appendChild(o),i.appendChild(s),e.appendChild(i).appendChild(s).appendChild(o),{get el(){return e}}}().el,t?Ml("span",{className:"widget__actor__text"},t):null);return r.addEventListener("click",(function(t){e&&e(t)})),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function Al(t,e){const r=t.get(e);return"string"==typeof r?r.trim():""}function Cl({nameLabel:t,namePlaceholder:e,emailLabel:r,emailPlaceholder:n,messageLabel:i,messagePlaceholder:s,cancelButtonLabel:o,submitButtonLabel:a,showName:u,showEmail:c,isNameRequired:l,isEmailRequired:h,defaultName:f,defaultEmail:d,onCancel:p,onSubmit:m}){const{el:g}=function({label:t}){return{el:Ml("button",{type:"submit",className:"btn btn--primary","aria-label":t},t)}}({label:a});const y=Ml("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const v=Ml("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:l,className:"form__input",placeholder:e,value:f}),b=Ml("input",{id:"email",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"email",required:h,className:"form__input",placeholder:n,value:d}),w=Ml("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:s}),_=Ml("button",{type:"button",className:"btn btn--default","aria-label":o,onClick:t=>{p&&p(t)}},o),E=Ml("form",{className:"form",onSubmit:function(t){if(t.preventDefault(),t.target instanceof HTMLFormElement)try{if(m){const e=new FormData(t.target),r={name:Al(e,"name"),email:Al(e,"email"),message:Al(e,"message")};m(r)}}catch(t){}}},[y,u&&Ml("label",{htmlFor:"name",className:"form__label"},[Ml("span",{className:"form__label__text"},t,l&&Ml("span",{className:"form__label__text--required"}," (required)")),v]),!u&&v,c&&Ml("label",{htmlFor:"email",className:"form__label"},[Ml("span",{className:"form__label__text"},r,h&&Ml("span",{className:"form__label__text--required"}," (required)")),b]),!c&&b,Ml("label",{htmlFor:"message",className:"form__label"},[Ml("span",{className:"form__label__text"},i,Ml("span",{className:"form__label__text--required"}," (required)")),w]),Ml("div",{className:"btn-group"},[g,_])]);return{get el(){return E},showError:function(t){y.textContent=t,y.classList.remove("form__error-container--hidden"),y.setAttribute("aria-hidden","false")},hideError:function(){y.textContent="",y.classList.add("form__error-container--hidden"),y.setAttribute("aria-hidden","true")}}}const Il="http://www.w3.org/2000/svg";function Pl({formTitle:t,showBranding:e,showName:r,showEmail:n,isNameRequired:i,isEmailRequired:s,colorScheme:o,defaultName:a,defaultEmail:u,onClosed:c,onCancel:l,onSubmit:h,...f}){let d=null;function p(){d&&(d.open=!1)}const{el:m,showError:g,hideError:y}=Cl({showEmail:n,showName:r,isEmailRequired:s,isNameRequired:i,defaultName:a,defaultEmail:u,onSubmit:h,onCancel:l,...f});return d=Ml("dialog",{className:"dialog",open:!0,onClick:function(){p(),c&&c()}},Ml("div",{className:"dialog__content",onClick:t=>{t.stopPropagation()}},Ml("h2",{className:"dialog__header"},t,e&&Ml("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:t}){const e=t=>al.document.createElementNS(Il,t),r=El(e("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),n=El(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});r.append(n);const i=e("defs"),s=e("style");return"system"===t&&(s.textContent="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),s.textContent=`\n    path {\n      fill: ${"dark"===t?"#fff":"#362d59"};\n    }`,i.append(s),r.append(i),{get el(){return r}}}({colorScheme:o}).el)),m)),{get el(){return d},showError:g,hideError:y,open:function(){d&&(d.open=!0)},close:p,checkIsOpen:function(){return d&&!0===d.open||!1}}}const Rl=16,Ol=17,Dl="http://www.w3.org/2000/svg";function Ll({message:t,onRemove:e}){function r(){n&&(n.remove(),e&&e())}const n=Ml("div",{className:"success-message",onClick:r},function(){const t=t=>al.document.createElementNS(Dl,t),e=El(t("svg"),{class:"success-icon",width:`${Rl}`,height:`${Ol}`,viewBox:`0 0 ${Rl} ${Ol}`,fill:"none"}),r=El(t("g"),{clipPath:"url(#clip0_57_156)"}),n=El(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=El(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(r).append(i,n);const s=t("defs"),o=El(t("clipPath"),{id:"clip0_57_156"}),a=El(t("rect"),{width:`${Rl}`,height:`${Rl}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),s.appendChild(o),e.appendChild(s).appendChild(o).appendChild(a),{get el(){return e}}}().el,t);return{el:n,remove:r}}function Nl({shadow:t,options:{shouldCreateActor:e=!0,...r},attachTo:n}){let i,s,o=!1;async function a(e){if(!s)return;const n=[];if(r.isNameRequired&&!e.name&&n.push(r.nameLabel),r.isEmailRequired&&!e.email&&n.push(r.emailLabel),e.message||n.push(r.messageLabel),n.length>0)return void s.showError(`Please enter in the following required fields: ${n.join(", ")}`);await _l(s,e)?(f(),function(){if(t)try{const e=Ll({message:r.successMessageText,onRemove:()=>{n&&clearTimeout(n),u()}});if(!e.el)throw new Error("Unable to show success message");t.appendChild(e.el);const n=setTimeout((()=>{e&&e.remove()}),5e3)}catch(t){O.error(t)}}(),r.onSubmitSuccess&&r.onSubmitSuccess()):r.onSubmitError&&r.onSubmitError()}function u(){i&&i.show()}function c(){i&&i.hide()}function l(){try{if(s)return s.open(),o=!0,void(r.onFormOpen&&r.onFormOpen());const e=r.useSentryUser,n=Ie(),i=n&&n.getUser();if(s=Pl({colorScheme:r.colorScheme,showBranding:r.showBranding,showName:r.showName||r.isNameRequired,showEmail:r.showEmail||r.isEmailRequired,isNameRequired:r.isNameRequired,isEmailRequired:r.isEmailRequired,formTitle:r.formTitle,cancelButtonLabel:r.cancelButtonLabel,submitButtonLabel:r.submitButtonLabel,emailLabel:r.emailLabel,emailPlaceholder:r.emailPlaceholder,messageLabel:r.messageLabel,messagePlaceholder:r.messagePlaceholder,nameLabel:r.nameLabel,namePlaceholder:r.namePlaceholder,defaultName:e&&i&&i[e.name]||"",defaultEmail:e&&i&&i[e.email]||"",onClosed:()=>{u(),o=!1,r.onFormClose&&r.onFormClose()},onCancel:()=>{h(),u()},onSubmit:a}),!s.el)throw new Error("Unable to open Feedback dialog");t.appendChild(s.el),c(),r.onFormOpen&&r.onFormOpen()}catch(t){O.error(t)}}function h(){s&&(s.close(),o=!1,r.onFormClose&&r.onFormClose())}function f(){if(s){h();const t=s.el;t&&t.remove(),s=void 0}}function d(){o||l(),c()}return n?n.addEventListener("click",d):e&&(i=Tl({buttonLabel:r.buttonLabel,onClick:d}),i.el&&t.appendChild(i.el)),{get actor(){return i},get dialog(){return s},showActor:u,hideActor:c,removeActor:function(){i&&i.el&&i.el.remove()},openDialog:l,closeDialog:h,removeDialog:f}}const Fl=al.document;class Bl{static __initStatic(){this.id="Feedback"}constructor({id:t="sentry-feedback",showBranding:e=!0,autoInject:r=!0,showEmail:n=!0,showName:i=!0,useSentryUser:s={email:"email",name:"username"},isEmailRequired:o=!1,isNameRequired:a=!1,themeDark:u,themeLight:c,colorScheme:l="system",buttonLabel:h="Report a Bug",cancelButtonLabel:f="Cancel",submitButtonLabel:d="Send Bug Report",formTitle:p="Report a Bug",emailPlaceholder:m="your.email@example.org",emailLabel:g="Email",messagePlaceholder:y="What's the bug? What did you expect?",messageLabel:v="Description",namePlaceholder:b="Your Name",nameLabel:w="Name",successMessageText:_="Thank you for your report!",onFormClose:E,onFormOpen:S,onSubmitError:x,onSubmitSuccess:M}={}){this.name=Bl.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={id:t,showBranding:e,autoInject:r,isEmailRequired:o,isNameRequired:a,showEmail:n,showName:i,useSentryUser:s,colorScheme:l,themeDark:{...dl,...u},themeLight:{...fl,...c},buttonLabel:h,cancelButtonLabel:f,submitButtonLabel:d,formTitle:p,emailLabel:g,emailPlaceholder:m,messageLabel:v,messagePlaceholder:y,nameLabel:w,namePlaceholder:b,successMessageText:_,onFormClose:E,onFormOpen:S,onSubmitError:x,onSubmitSuccess:M}}setupOnce(){if(Ds())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){yl&&O.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,e){try{const r=vl(this.options,e||{});return this._ensureShadowHost(r,(({shadow:e})=>{const n="string"==typeof t?Fl.querySelector(t):"function"==typeof t.addEventListener?t:null;if(!n)return yl&&O.error("[Feedback] Unable to attach to target element"),null;const i=Nl({shadow:e,options:r,attachTo:n});return this._widgets.add(i),this._widget||(this._widget=i),i}))}catch(t){return yl&&O.error(t),null}}createWidget(t){try{return this._createWidget(vl(this.options,t||{}))}catch(t){return yl&&O.error(t),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(t){yl&&O.error(t)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=Fl.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,(({shadow:e})=>{const r=Nl({shadow:e,options:t});return!this._hasInsertedActorStyles&&r.actor&&(e.appendChild(function(t){const e=t.createElement("style");return e.textContent="\n.widget__actor {\n  line-height: 25px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 12px 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",e}(Fl)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r}))}_ensureShadowHost(t,e){let r=!1;if(!this._shadow||!this._host){const{id:e,colorScheme:n,themeLight:i,themeDark:s}=t,{shadow:o,host:a}=wl({id:e,colorScheme:n,themeLight:i,themeDark:s});this._shadow=o,this._host=a,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const n=e({shadow:this._shadow,host:this._host});return r&&Fl.body.appendChild(this._host),n}}function jl(t){return"number"==typeof t&&isFinite(t)}function zl(t,{startTimestamp:e,...r}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...r})}Bl.__initStatic();const Ul=2147483647;function Vl(t){return t/1e3}function ql(){return Fs&&Fs.addEventListener&&Fs.performance}let Gl,Hl,$l=0,Wl={};function Kl(){const t=ql();if(t&&dt){t.mark&&Fs.performance.mark("sentry-tracing-init");const e=oo("fid",(({metric:t})=>{const e=t.entries.pop();if(!e)return;const r=Vl(dt),n=Vl(e.startTime);Ls&&O.log("[Measurements] Adding FID"),Wl.fid={value:t.value,unit:"millisecond"},Wl["mark.fid"]={value:r+n,unit:"second"}}),io,Js),r=function(t){return oo("cls",t,no,Qs)}((({metric:t})=>{const e=t.entries.pop();e&&(Ls&&O.log("[Measurements] Adding CLS"),Wl.cls={value:t.value,unit:""},Hl=e)})),n=to((({metric:t})=>{const e=t.entries.pop();e&&(Ls&&O.log("[Measurements] Adding LCP"),Wl.lcp={value:t.value,unit:"millisecond"},Gl=e)}));return()=>{e(),r(),n()}}return()=>{}}function Yl(t){const e=ql();if(!e||!Fs.performance.getEntries||!dt)return;Ls&&O.log("[Tracing] Adding & adjusting spans using Performance API");const r=Vl(dt),n=e.getEntries();let i,s;if(n.slice($l).forEach((e=>{const n=Vl(e.startTime),o=Vl(e.duration);if(!("navigation"===t.op&&r+n<t.startTimestamp))switch(e.entryType){case"navigation":!function(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((n=>{Xl(t,e,n,r)})),Xl(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),Xl(t,e,"fetch",r,"cache","domainLookupStart"),Xl(t,e,"domainLookup",r,"DNS"),function(t,e,r){zl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+Vl(e.requestStart),endTimestamp:r+Vl(e.responseEnd)}),zl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+Vl(e.responseStart),endTimestamp:r+Vl(e.responseEnd)})}(t,e,r)}(t,e,r),i=r+Vl(e.responseStart),s=r+Vl(e.requestStart);break;case"mark":case"paint":case"measure":{!function(t,e,r,n,i){const s=i+r,o=s+n;zl(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})}(t,e,n,o,r);const i=Hs(),s=e.startTime<i.firstHiddenTime;"first-paint"===e.name&&s&&(Ls&&O.log("[Measurements] Adding FP"),Wl.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&s&&(Ls&&O.log("[Measurements] Adding FCP"),Wl.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":{const i=e.name.replace(Fs.location.origin,"");!function(t,e,r,n,i,s){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const o={};Ql(o,e,"transferSize","http.response_transfer_size"),Ql(o,e,"encodedBodySize","http.response_content_length"),Ql(o,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(o["resource.render_blocking_status"]=e.renderBlockingStatus);const a=s+n,u=a+i;zl(t,{description:r,endTimestamp:u,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}(t,e,i,n,o,r);break}}})),$l=Math.max(n.length-1,0),function(t){const e=Fs.navigator;if(!e)return;const r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),jl(r.rtt)&&(Wl["connection.rtt"]={value:r.rtt,unit:"millisecond"}));jl(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`);jl(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===t.op){"number"==typeof i&&(Ls&&O.log("[Measurements] Adding TTFB"),Wl.ttfb={value:1e3*(i-t.startTimestamp),unit:"millisecond"},"number"==typeof s&&s<=i&&(Wl["ttfb.requestTime"]={value:1e3*(i-s),unit:"millisecond"})),["fcp","fp","lcp"].forEach((e=>{if(!Wl[e]||r>=t.startTimestamp)return;const n=Wl[e].value,i=r+Vl(n),s=Math.abs(1e3*(i-t.startTimestamp)),o=s-n;Ls&&O.log(`[Measurements] Normalized ${e} from ${n} to ${s} (${o})`),Wl[e].value=s}));const e=Wl["mark.fid"];e&&Wl.fid&&(zl(t,{description:"first input delay",endTimestamp:e.value+Vl(Wl.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:e.value}),delete Wl["mark.fid"]),"fcp"in Wl||delete Wl.cls,Object.keys(Wl).forEach((e=>{t.setMeasurement(e,Wl[e].value,Wl[e].unit)})),function(t){Gl&&(Ls&&O.log("[Measurements] Adding LCP Data"),Gl.element&&t.setTag("lcp.element",M(Gl.element)),Gl.id&&t.setTag("lcp.id",Gl.id),Gl.url&&t.setTag("lcp.url",Gl.url.trim().slice(0,200)),t.setTag("lcp.size",Gl.size));Hl&&Hl.sources&&(Ls&&O.log("[Measurements] Adding CLS Data"),Hl.sources.forEach(((e,r)=>t.setTag(`cls.source.${r+1}`,M(e.node)))))}(t)}Gl=void 0,Hl=void 0,Wl={}}function Xl(t,e,r,n,i,s){const o=s?e[s]:e[`${r}End`],a=e[`${r}Start`];a&&o&&zl(t,{op:"browser",origin:"auto.browser.browser.metrics",description:i||r,startTimestamp:n+Vl(a),endTimestamp:n+Vl(o)})}function Ql(t,e,r,n){const i=e[r];null!=i&&i<Ul&&(t[n]=i)}function Jl(t,e,r,n,i="auto.http.browser"){if(!un()||!t.fetchData)return;const s=e(t.fetchData.url);if(t.endTimestamp&&s){const e=t.fetchData.__span;if(!e)return;const r=n[e];if(r){if(t.response){r.setHttpStatus(t.response.status);const e=t.response&&t.response.headers&&t.response.headers.get("content-length");if(e){const t=parseInt(e);t>0&&r.setAttribute("http.response_content_length",t)}}else t.error&&r.setStatus("internal_error");r.end(),delete n[e]}return}const o=Ie(),a=Ce(),u=bn(),{method:c,url:l}=t.fetchData,h=s&&u?u.startChild({data:{url:l,type:"fetch","http.method":c},description:`${c} ${l}`,op:"http.client",origin:i}):void 0;if(h&&(t.fetchData.__span=h.spanContext().spanId,n[h.spanContext().spanId]=h),r(t.fetchData.url)&&a){const e=t.args[0];t.args[1]=t.args[1]||{};const r=t.args[1];r.headers=function(t,e,r,n,i){const s=i||r.getSpan(),o=s&&s.transaction,{traceId:a,sampled:u,dsc:c}=r.getPropagationContext(),l=s?Ct(s):kt(a,void 0,u),h=o?Lt(o):c||Dt(a,e,r),f=_t(h),d="undefined"!=typeof Request&&y(t,Request)?t.headers:n.headers;if(d){if("undefined"!=typeof Headers&&y(d,Headers)){const t=new Headers(d);return t.append("sentry-trace",l),f&&t.append(yt,f),t}if(Array.isArray(d)){const t=[...d,["sentry-trace",l]];return f&&t.push([yt,f]),t}{const t="baggage"in d?d.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),f&&e.push(f),{...d,"sentry-trace":l,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":l,baggage:f}}(e,a,o,r,h)}return h}const Zl=["localhost",/^\/(?!\/)/],th={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Zl,tracePropagationTargets:Zl};function eh(t){const{traceFetch:e,traceXHR:r,tracePropagationTargets:n,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:th.traceFetch,traceXHR:th.traceXHR,...t},a="function"==typeof s?s:t=>!0,u=t=>function(t,e){return F(t,e||Zl)}(t,n||i),c={};e&&ns((t=>{const e=Jl(t,a,u,c);o&&e&&rh(e)})),r&&es((t=>{const e=function(t,e,r,n){const i=t.xhr,s=i&&i[ts];if(!un()||!i||i.__sentry_own_request__||!s)return;const o=e(s.url);if(t.endTimestamp&&o){const t=i.__sentry_xhr_span_id__;if(!t)return;const e=n[t];return void(e&&void 0!==s.status_code&&(e.setHttpStatus(s.status_code),e.end(),delete n[t]))}const a=Ie(),u=bn(),c=o&&u?u.startChild({data:{type:"xhr","http.method":s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;c&&(i.__sentry_xhr_span_id__=c.spanContext().spanId,n[i.__sentry_xhr_span_id__]=c);if(i.setRequestHeader&&r(s.url))if(c){const t=c&&c.transaction,e=_t(t&&Lt(t));ih(i,Ct(c),e)}else{const t=Ce(),{traceId:e,sampled:r,dsc:n}=a.getPropagationContext();ih(i,kt(e,void 0,r),_t(n||(t?Dt(e,t,a):void 0)))}return c}(t,a,u,c);o&&e&&rh(e)}))}function rh(t){const{url:e}=Rt(t).data||{};if(!e||"string"!=typeof e)return;const r=eo("resource",(({entries:n})=>{n.forEach((n=>{if(function(t){return"resource"===t.entryType&&"initiatorType"in t&&"string"==typeof t.nextHopProtocol&&("fetch"===t.initiatorType||"xmlhttprequest"===t.initiatorType)}(n)&&n.name.endsWith(e)){(function(t){const{name:e,version:r}=function(t){let e="unknown",r="unknown",n="";for(const i of t){if("/"===i){[e,r]=t.split("/");break}if(!isNaN(Number(i))){e="h"===n?"http":n,r=t.split(n)[1];break}n+=i}n===t&&(e=n);return{name:e,version:r}}(t.nextHopProtocol),n=[];if(n.push(["network.protocol.version",r],["network.protocol.name",e]),!dt)return n;return[...n,["http.request.redirect_start",nh(t.redirectStart)],["http.request.fetch_start",nh(t.fetchStart)],["http.request.domain_lookup_start",nh(t.domainLookupStart)],["http.request.domain_lookup_end",nh(t.domainLookupEnd)],["http.request.connect_start",nh(t.connectStart)],["http.request.secure_connection_start",nh(t.secureConnectionStart)],["http.request.connection_end",nh(t.connectEnd)],["http.request.request_start",nh(t.requestStart)],["http.request.response_start",nh(t.responseStart)],["http.request.response_end",nh(t.responseEnd)]]})(n).forEach((e=>t.setAttribute(...e))),setTimeout(r)}}))}))}function nh(t=0){return((dt||performance.timeOrigin)+t)/1e3}function ih(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader(yt,r)}catch(t){}}const sh={...nn,markBackgroundTransactions:!0,routingInstrumentation:function(t,e=!0,r=!0){if(!Fs||!Fs.location)return void(Ls&&O.warn("Could not initialize routing instrumentation due to invalid location"));let n,i=Fs.location.href;e&&(n=t({name:Fs.location.pathname,startTimestamp:dt?dt/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&Ii((({to:e,from:r})=>{void 0===r&&i&&-1!==i.indexOf(e)?i=void 0:r!==e&&(i=void 0,n&&(Ls&&O.log(`[Tracing] Finishing current transaction with op: ${n.op}`),n.end()),n=t({name:Fs.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...th};class oh{constructor(t){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,dn(),Ls&&(this._hasSetTracePropagationTargets=!(!t||!t.tracePropagationTargets&&!t.tracingOrigins)),this.options={...sh,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Kl(),this.options.enableLongTask&&eo("longtask",(({entries:t})=>{for(const e of t){const t=Wr();if(!t)return;const r=Vl(dt+e.startTime),n=Vl(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+n})}})),this.options._experiments.enableInteractions&&eo("event",(({entries:t})=>{for(const e of t){const t=Wr();if(!t)return;if("click"===e.name){const r=Vl(dt+e.startTime),n=Vl(e.duration),i={description:M(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+n},s=A(e.target);s&&(i.attributes={"ui.component_name":s}),t.startChild(i)}}}))}setupOnce(t,e){this._getCurrentHub=e;const r=e().getClient(),n=r&&r.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:s,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:u,traceXHR:c,shouldCreateSpanForRequest:l,enableHTTPTimings:h,_experiments:f}=this.options,d=n&&n.tracePropagationTargets,p=d||this.options.tracePropagationTargets;Ls&&this._hasSetTracePropagationTargets&&d&&O.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),i((t=>{const r=this._createRouteTransaction(t);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(r,t,e),r}),o,s),a&&(Fs&&Fs.document?Fs.document.addEventListener("visibilitychange",(()=>{const t=Wr();if(Fs.document.hidden&&t){const e="cancelled";Ls&&O.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}})):Ls&&O.warn("[Tracing] Could not set up background tab detection due to lack of global document")),f.enableInteractions&&this._registerInteractionListener(),eh({traceFetch:u,traceXHR:c,tracePropagationTargets:p,shouldCreateSpanForRequest:l,enableHTTPTimings:h})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(Ls&&O.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const e=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:n,finalTimeout:i,heartbeatInterval:s}=this.options,o="pageload"===t.op,a=o?ah("sentry-trace"):"",u=o?ah("baggage"):"",{traceparentData:c,dynamicSamplingContext:l,propagationContext:h}=Mt(a,u),f={...t,...c,metadata:{...t.metadata,dynamicSamplingContext:c&&!l?{}:l},trimEnd:!0},d="function"==typeof r?r(f):f,p=void 0===d?{...f,sampled:!1}:d;p.metadata=p.name!==f.name?{...p.metadata,source:"custom"}:p.metadata,this._latestRouteName=p.name;const m=t.data&&t.data[tn],g=p.metadata&&p.metadata.source;this._latestRouteSource=m||g,!1===p.sampled&&Ls&&O.log(`[Tracing] Will not send ${p.op} transaction because of beforeNavigate.`),Ls&&O.log(`[Tracing] Starting ${p.op} transaction on scope`);const{location:y}=Fs,v=fn(e,p,n,i,!0,{location:y},s),b=e.getScope();return o&&c?b.setPropagationContext(h):b.setPropagationContext({traceId:v.spanContext().traceId,spanId:v.spanContext().spanId,parentSpanId:v.parentSpanId,sampled:Ot(v)}),v.registerBeforeFinishCallback((t=>{this._collectWebVitals(),Yl(t)})),v}_registerInteractionListener(){let t;const e=()=>{const{idleTimeout:e,finalTimeout:r,heartbeatInterval:n}=this.options,i="ui.action.click",s=Wr();if(s&&s.op&&["navigation","pageload"].includes(s.op))return void(Ls&&O.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`));if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub)return void(Ls&&O.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(Ls&&O.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const o=this._getCurrentHub(),{location:a}=Fs,u={name:this._latestRouteName,op:i,trimEnd:!0,data:{[tn]:this._latestRouteSource||"url"}};t=fn(o,u,e,r,!0,{location:a},n)};["click"].forEach((t=>{addEventListener(t,e,{once:!1,capture:!0})}))}}function ah(t){const e=(r=`meta[name=${t}]`,S.document&&S.document.querySelector?S.document.querySelector(r):null);var r;return e?e.getAttribute("content"):void 0}const uh=100,ch=5e3,lh=36e5;function hh(t,e){tt&&O.info(`[Offline]: ${t}`,e)}function fh(t){return e=>{const r=t(e),n=e.createStore?e.createStore(e):void 0;let i,s=ch;function o(t,r,n){return i=["replay_event","replay_recording","client_report"],!cr(t,((t,e)=>i.includes(e)))&&(!e.shouldStore||e.shouldStore(t,r,n));var i}function a(t){n&&(i&&clearTimeout(i),i=setTimeout((async()=>{i=void 0;const t=await n.pop();t&&(hh("Attempting to send previously queued event"),c(t).catch((t=>{hh("Failed to retry sending",t)})))}),t),"number"!=typeof i&&i.unref&&i.unref())}function u(){i||(a(s),s=Math.min(2*s,lh))}async function c(t){try{const e=await r.send(t);let n=uh;if(e)if(e.headers&&e.headers["retry-after"])n=Mn(e.headers["retry-after"]);else if((e.statusCode||0)>=400)return e;return a(n),s=ch,e}catch(e){if(n&&await o(t,e,s))return await n.insert(t),u(),hh("Error sending. Event queued",e),{};throw e}}return e.flushAtStartup&&u(),{send:c,flush:t=>r.flush(t)}}}function dh(t){return new Promise(((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)}))}function ph(t){return dh(t.getAllKeys())}function mh(t){let e;function r(){return null==e&&(e=function(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=dh(r);return t=>n.then((r=>t(r.transaction(e,"readwrite").objectStore(e))))}(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{insert:async e=>{try{const n=await hr(e,t.textEncoder);await function(t,e,r){return t((t=>ph(t).then((n=>{if(!(n.length>=r))return t.put(e,Math.max(...n,0)+1),dh(t.transaction)}))))}(r(),n,t.maxQueueSize||30)}catch(t){}},pop:async()=>{try{const e=await function(t){return t((t=>ph(t).then((e=>{if(0!==e.length)return dh(t.get(e[0])).then((r=>(t.delete(e[0]),dh(t.transaction).then((()=>r)))))}))))}(r());if(e)return function(t,e,r){let n="string"==typeof t?e.encode(t):t;function i(t){const e=n.subarray(0,t);return n=n.subarray(t+1),e}function s(){let t=n.indexOf(10);return t<0&&(t=n.length),JSON.parse(r.decode(i(t)))}const o=s(),a=[];for(;n.length;){const t=s(),e="number"==typeof t.length?t.length:void 0;a.push([t,e?i(e):s()])}return[o,a]}(e,t.textEncoder||new TextEncoder,t.textDecoder||new TextDecoder)}catch(t){}}}}function gh(t){return function(t){return e=>t({...e,createStore:mh})}(fh(t))}const yh=1e6,vh=String(0),bh="main";let wh="",_h="",Eh="",Sh=jn.navigator&&jn.navigator.userAgent||"",xh="";const Mh=jn.navigator&&jn.navigator.language||jn.navigator&&jn.navigator.languages&&jn.navigator.languages[0]||"";const kh=jn.navigator&&jn.navigator.userAgentData;var Th;function Ah(t){return function(t){return!("thread_metadata"in t)}(t)?function(t){let e,r=0;const n={samples:[],stacks:[],frames:[],thread_metadata:{[vh]:{name:bh}}};if(!t.samples.length)return n;const i=t.samples[0].timestamp,s="number"==typeof performance.timeOrigin?performance.timeOrigin:dt||0,o=s-(dt||s);for(let s=0;s<t.samples.length;s++){const a=t.samples[s];if(void 0===a.stackId){void 0===e&&(e=r,n.stacks[e]=[],r++),n.samples[s]={elapsed_since_start_ns:((a.timestamp+o-i)*yh).toFixed(0),stack_id:e,thread_id:vh};continue}let u=t.stacks[a.stackId];const c=[];for(;u;){c.push(u.frameId);const e=t.frames[u.frameId];void 0===n.frames[u.frameId]&&(n.frames[u.frameId]={function:e.name,abs_path:"number"==typeof e.resourceId?t.resources[e.resourceId]:void 0,lineno:e.line,colno:e.column}),u=void 0===u.parentId?void 0:t.stacks[u.parentId]}const l={elapsed_since_start_ns:((a.timestamp+o-i)*yh).toFixed(0),stack_id:r,thread_id:vh};n.stacks[r]=c,n.samples[s]=l,r++}return n}(t):t}function Ch(t,e,r,n){if("transaction"!==n.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==r)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${r} instead.`);const i=function(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return"string"==typeof e&&32!==e.length&&Gn&&O.log(`[Profiling] Invalid traceId: ${e} on profiled event`),"string"!=typeof e?"":e}(n),s=Ah(r),o=e||("number"==typeof n.start_timestamp?1e3*n.start_timestamp:Date.now()),a="number"==typeof n.timestamp?1e3*n.timestamp:Date.now();return{event_id:t,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:n.release||"",environment:n.environment||ut,runtime:{name:"javascript",version:jn.navigator.userAgent},os:{name:wh,version:_h,build_number:Sh},device:{locale:Mh,model:xh,manufacturer:Sh,architecture:Eh,is_emulator:!1},debug_meta:{images:Rh(r.resources)},profile:s,transactions:[{name:n.transaction||"",id:n.event_id||W(),trace_id:i,active_thread_id:vh,relative_start_ns:"0",relative_end_ns:(1e6*(a-o)).toFixed(0)}]}}function Ih(t){return"pageload"===t.op}"object"==typeof(Th=kh)&&null!==Th&&"getHighEntropyValues"in Th&&kh.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((t=>{if(wh=t.platform||"",Eh=t.architecture||"",xh=t.model||"",_h=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];Sh=`${e.brand} ${e.version}`}})).catch((t=>{}));const Ph=new WeakMap;function Rh(t){const e=w._sentryDebugIds;if(!e)return[];const r=Ce(),n=r&&r.getOptions(),i=n&&n.stackParser;if(!i)return[];let s;const o=Ph.get(i);o?s=o:(s=new Map,Ph.set(i,s));const a=Object.keys(e).reduce(((t,r)=>{let n;const o=s.get(r);o?n=o:(n=i(r),s.set(r,n));for(let i=n.length-1;i>=0;i--){const s=n[i],o=s&&s.filename;if(s&&o){t[o]=e[r];break}}return t}),{}),u=[];for(const e of t)e&&a[e]&&u.push({type:"sourcemap",code_file:e,debug_id:a[e]});return u}let Oh=!1;const Dh=3e4;function Lh(t){if(Oh)return Gn&&O.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.isRecording())return Gn&&O.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const e=Ce(),r=e&&e.getOptions();if(!r)return Gn&&O.log("[Profiling] Profiling disabled, no options found."),!1;const n=r.profilesSampleRate;if(!("number"!=typeof(i=n)&&"boolean"!=typeof i||"number"==typeof i&&isNaN(i)?(Gn&&O.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),0):!0===i||!1===i||!(i<0||i>1)||(Gn&&O.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${i}.`),0)))return Gn&&O.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var i;if(!n)return Gn&&O.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===n||Math.random()<n)||(Gn&&O.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1)}function Nh(t,e,r,n){return function(t){return t.samples.length<2?(Gn&&O.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!t.frames.length||(Gn&&O.log("[Profiling] Discarding profile because it contains no frames"),!1)}(r)?Ch(t,e,r,n):null}const Fh=new Map;function Bh(t){const e=Fh.get(t);return e&&Fh.delete(t),e}function jh(t){return t?Lh(t)?zh(t):t:(Gn&&O.log("[Profiling] Transaction is undefined, skipping profiling"),t)}function zh(t){let e;Ih(t)&&(e=1e3*ht());const r=function(){const t=jn.Profiler;if("function"!=typeof t)return void(Gn&&O.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const e=Math.floor(Dh/10);try{return new t({sampleInterval:10,maxBufferSize:e})}catch(t){Gn&&(O.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),O.log("[Profiling] Disabling profiling for current user session.")),Oh=!0}}();if(!r)return t;Gn&&O.log(`[Profiling] started profiling transaction: ${Rt(t).description}`);const n=W();async function i(){return t&&r?r.stop().then((e=>(s&&(jn.clearTimeout(s),s=void 0),Gn&&O.log(`[Profiling] stopped profiling of transaction: ${Rt(t).description}`),e?(function(t,e){if(Fh.set(t,e),Fh.size>30){const t=Fh.keys().next().value;Fh.delete(t)}}(n,e),null):(Gn&&O.log(`[Profiling] profiler returned null profile for: ${Rt(t).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((t=>(Gn&&O.log("[Profiling] error while stopping profiler:",t),null))):null}let s=jn.setTimeout((()=>{Gn&&O.log("[Profiling] max profile duration elapsed, stopping profiling for:",Rt(t).description),i()}),Dh);const o=t.end.bind(t);return t.end=function(){return t?(i().then((()=>{t.setContext("profile",{profile_id:n,start_timestamp:e}),o()}),(()=>{o()})),t):o()},t}const Uh="BrowserProfiling",Vh=je(Uh,(()=>({name:Uh,setup(t){const e=Ie().getTransaction();e&&Ih(e)&&Lh(e)&&zh(e),"function"==typeof t.on?(t.on("startTransaction",(t=>{Lh(t)&&zh(t)})),t.on("beforeEnvelope",(t=>{if(!Fh.size)return;const e=function(t){const e=[];return cr(t,((t,r)=>{if("transaction"===r)for(let r=1;r<t.length;r++){const n=t[r];n&&n.contexts&&n.contexts.profile&&n.contexts.profile.profile_id&&e.push(t[r])}})),e}(t);if(!e.length)return;const r=[];for(const t of e){const e=t&&t.contexts,n=e&&e.profile&&e.profile.profile_id,i=e&&e.profile&&e.profile.start_timestamp;if("string"!=typeof n){Gn&&O.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!n){Gn&&O.log("[Profiling] cannot find profile for a transaction without a profile context");continue}e&&e.profile&&delete e.profile;const s=Bh(n);if(!s){Gn&&O.log(`[Profiling] Could not retrieve profile for transaction: ${n}`);continue}const o=Nh(n,i,s,t);o&&r.push(o)}!function(t,e){if(!e.length)return t;for(const r of e)t[1].push([{type:"profile"},r])}(t,r)}))):O.warn("[Profiling] Client does not support hooks, profiling will be disabled")}})));let qh={};jn.Sentry&&jn.Sentry.Integrations&&(qh=jn.Sentry.Integrations);const Gh={...qh,...n,...i}},57816:(t,e,r)=>{"use strict";function n(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}r.d(e,{S:()=>i,n:()=>n})},61422:(t,e,r)=>{"use strict";r.d(e,{KV:()=>s});var n=r(57816);t=r.hmd(t);var i=r(34155);function s(){return!(0,n.n)()&&"[object process]"===Object.prototype.toString.call(void 0!==i?i:0)}},39809:(t,e,r)=>{"use strict";const n=e;n.bignum=r(4590),n.define=r(22500).define,n.base=r(71979),n.constants=r(36826),n.decoders=r(78307),n.encoders=r(56579)},22500:(t,e,r)=>{"use strict";const n=r(56579),i=r(78307),s=r(35717);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){const e=this.name;function r(t){this._initNamed(t,e)}return s(r,t),r.prototype._initNamed=function(e,r){t.call(this,e,r)},new r(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},36625:(t,e,r)=>{"use strict";const n=r(35717),i=r(98465).b,s=r(2399).Buffer;function o(t,e){i.call(this,e),s.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return a.isEncoderBuffer(t)||(t=new a(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=s.byteLength(t);else{if(!s.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}n(o,i),e.C=o,o.isDecoderBuffer=function(t){if(t instanceof o)return!0;return"object"==typeof t&&s.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(t){const e=new o(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},o.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},o.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.R=a,a.isEncoderBuffer=function(t){if(t instanceof a)return!0;return"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},a.prototype.join=function(t,e){return t||(t=s.alloc(this.length)),e||(e=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(t,e),e+=r.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):s.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length)),t}},71979:(t,e,r)=>{"use strict";const n=e;n.Reporter=r(98465).b,n.DecoderBuffer=r(36625).C,n.EncoderBuffer=r(36625).R,n.Node=r(41949)},41949:(t,e,r)=>{"use strict";const n=r(98465).b,i=r(36625).R,s=r(36625).C,o=r(79746),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(t,e,r){const n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=c;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const t=this._baseState,e={};l.forEach((function(r){e[r]=t[r]}));const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach((function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}}),this)},c.prototype._init=function(t){const e=this._baseState;o(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),o.equal(e.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==r.length&&(o(null===e.children),e.children=r,r.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(o(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach((function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),a.forEach((function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===e.tag),e.tag=t,this._useArgs(r),this}})),c.prototype.use=function(t){o(t);const e=this._baseState;return o(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return o(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return o(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return o(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return o(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},c.prototype.contains=function(t){const e=this._baseState;return o(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,o=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(o=this._peekTag(t,n,r.any),t.isError(o))return o}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),o=!0}catch(t){o=!1}t.restore(n)}}if(r.obj&&o&&(n=t.enterObject()),o){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(t,e)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new s(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&o&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(s){const o=t.save(),a=r.choice[s];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:s,value:r},i=!0}catch(e){return t.restore(o),!1}return!0}),this),i?n:t.error("Choice not matched")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let s=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let o=null,a=!1;if(i.any)s=this._createEncoderBuffer(t);else if(i.choice)s=this._encodeChoice(t,e);else if(i.contains)o=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)o=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");const n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i}),this).filter((function(t){return t})),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,o=this._createEncoderBuffer(t.map((function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)}),r))}else null!==i.use?s=this._getUse(i.use,r)._encode(t,e):(o=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===t?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(t,a,r,o))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||o(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},98465:(t,e,r)=>{"use strict";const n=r(35717);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function s(t,e){this.path=t,this.rethrow(e)}e.b=i,i.prototype.isError=function(t){return t instanceof s},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof s;if(e=n?t:new s(r.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(s,Error),s.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},70160:(t,e)=>{"use strict";function r(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r})),e}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r(e.tag)},36826:(t,e,r)=>{"use strict";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach((function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r})),e},n.der=r(70160)},41671:(t,e,r)=>{"use strict";const n=r(35717),i=r(4590),s=r(36625).C,o=r(41949),a=r(70160);function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.call(this,"der",t)}function l(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return s.isDecoderBuffer(t)||(t=new s(t,e)),this.tree._decode(t,e)},n(c,o),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=l(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;let i=h(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');const s=t.save(),o=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(o)?o:(i=t.offset-s.offset,t.restore(s),t.skip(i,'Failed to match body of: "'+e+'"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=l(t,e);if(t.isError(r))return r;const n=h(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const s=r.decode(t,"der",n);if(t.isError(s)&&e)break;i.push(s)}return i},c.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let r="";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let s=0,o=0;for(;!t.isEmpty();)o=t.readUInt8(),s<<=7,s|=127&o,0==(128&o)&&(i.push(s),s=0);128&o&&i.push(s);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(" ")];void 0===t&&(t=e[n.join(".")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,s,o,a,u;if("gentime"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,o,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new i(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},78307:(t,e,r)=>{"use strict";const n=e;n.der=r(41671),n.pem=r(59631)},59631:(t,e,r)=>{"use strict";const n=r(35717),i=r(2399).Buffer,s=r(41671);function o(t){s.call(this,t),this.enc="pem"}n(o,s),t.exports=o,o.prototype.decode=function(t,e){const r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(o);if(null!==e&&e[2]===n){if(-1!==a){if("END"!==e[1])break;u=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);const c=r.slice(a+1,u).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const l=i.from(c,"base64");return s.prototype.decode.call(this,l,e)}},66984:(t,e,r)=>{"use strict";const n=r(35717),i=r(2399).Buffer,s=r(41949),o=r(70160);function a(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){s.call(this,"der",t)}function c(t){return t<10?"0"+t:t}t.exports=a,a.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(u,s),u.prototype._encodeComposite=function(t,e,r,n){const s=function(t,e,r,n){let i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(o.tagByName.hasOwnProperty(t))i=o.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}if(i>=31)return n.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=o.tagClassByName[r||"universal"]<<6,i}(t,e,r,this.reporter);if(n.length<128){const t=i.alloc(2);return t[0]=s,t[1]=n.length,this._createEncoderBuffer([t,n])}let a=1;for(let t=n.length;t>=256;t>>=8)a++;const u=i.alloc(2+a);u[0]=s,u[1]=128|a;for(let t=1+a,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=i.alloc(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const s=i.alloc(n);let o=s.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(s[o--]=127&r;(r>>=7)>0;)s[o--]=128|127&r}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return"gentime"===e?r=[c(n.getUTCFullYear()),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[c(n.getUTCFullYear()%100),c(n.getUTCMonth()+1),c(n.getUTCDate()),c(n.getUTCHours()),c(n.getUTCMinutes()),c(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=i.from(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=i.alloc(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(i.from(n))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const s=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),s.length!==n.defaultBuffer.length)return!1;for(i=0;i<s.length;i++)if(s[i]!==n.defaultBuffer[i])return!1;return!0}},56579:(t,e,r)=>{"use strict";const n=e;n.der=r(66984),n.pem=r(2883)},2883:(t,e,r)=>{"use strict";const n=r(35717),i=r(66984);function s(t){i.call(this,t),this.enc="pem"}n(s,i),t.exports=s,s.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},4590:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(80950).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,E=0|o[4],S=8191&E,x=E>>>13,M=0|o[5],k=8191&M,T=M>>>13,A=0|o[6],C=8191&A,I=A>>>13,P=0|o[7],R=8191&P,O=P>>>13,D=0|o[8],L=8191&D,N=D>>>13,F=0|o[9],B=8191&F,j=F>>>13,z=0|a[0],U=8191&z,V=z>>>13,q=0|a[1],G=8191&q,H=q>>>13,$=0|a[2],W=8191&$,K=$>>>13,Y=0|a[3],X=8191&Y,Q=Y>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(f,U)|0))<<13)|0;c=((s=Math.imul(f,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(m,U)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,V))+Math.imul(v,U)|0,s=Math.imul(v,V),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,H)|0;var vt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;c=((s=s+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,V))+Math.imul(_,U)|0,s=Math.imul(_,V),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,K)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(x,U)|0,s=Math.imul(x,V),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,W)|0,s=s+Math.imul(v,K)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(T,U)|0,s=Math.imul(T,V),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,H)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(I,U)|0,s=Math.imul(I,V),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,H)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;c=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(O,U)|0,s=Math.imul(O,V),n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,K)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((s=s+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,V))+Math.imul(N,U)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,K)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,V))+Math.imul(j,U)|0,s=Math.imul(j,V),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,Q)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(j,G)|0,s=Math.imul(j,H),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(j,W)|0,s=Math.imul(j,K),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ft)|0;var Tt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Q))+Math.imul(j,X)|0,s=Math.imul(j,Q),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(T,ut)|0,s=s+Math.imul(T,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var At=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,tt))+Math.imul(j,Z)|0,s=Math.imul(j,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,ft)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((s=s+Math.imul(T,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,st),i=(i=Math.imul(B,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ct)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,ct))+Math.imul(j,ut)|0,s=Math.imul(j,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Rt=(c+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Dt=(c+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(j,pt)|0))<<13)|0;return c=((s=Math.imul(j,mt))+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=xt,u[9]=Mt,u[10]=kt,u[11]=Tt,u[12]=At,u[13]=Ct,u[14]=It,u[15]=Pt,u[16]=Rt,u[17]=Ot,u[18]=Dt,0!==c&&(u[19]=c,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(b,v),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(_,v),i(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},i(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},84085:(t,e,r)=>{"use strict";var n=r(43902);t.exports={fireEvent:function(t,e){var r={name:t,eventParameter:e,data:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}};n.runtime.sendMessage({greeting:"SEND-MESSAGE-TO-GA4",options:r})}}},63625:(t,e,r)=>{"use strict";r(76727);var n=r(13990),i=r(3405),s=r(70266),o=t=>{var e=t.title,r=t.content,a=t.expanded,u=void 0!==a&&a,c=t.invertArrow,l=void 0!==c&&c;return o.contentId="mz-".concat(Math.random(2*Date.now())),o.container=document.createElement("div"),o.container.classList.add("mz:accordion"),o.title=n(e,o.contentId,l),o.content=i(r,o.contentId),o.content.container.id=o.title.container.dataset.contentId,o.container.appendChild(o.title.container),o.container.appendChild(o.content.container),o.setContent=t=>{o.content.container.remove(),o.content=i(t,o.contentId),o.container.append(o.content.container)},s({accordion:o,expanded:u}),o};t.exports=o},3405:t=>{"use strict";var e=(t,r)=>(e.container=document.createElement("div"),e.container.dataset.contentId="".concat(r,"_content"),e.container.classList.add("mz:accordion","mz:accordion__content"),"string"==typeof t?e.container.insertAdjacentHTML("beforeend",t):e.container.appendChild(t),e);t.exports=e},13990:t=>{"use strict";var e=(t,r,n)=>{e.container=document.createElement("div"),e.container.dataset.contentId=r,e.container.classList.add("mz:accordion","mz:accordion__title"),e.icon=document.createElement("div"),e.icon.classList.add("mz:icon"),e.icon.dataset.contentId=r,"string"==typeof t?e.container.insertAdjacentHTML("beforeend",t):e.container.appendChild(t);var i=document.createElement("img");return i.src="../../images/icon-small-chevron-down.svg",e.icon.appendChild(i),e.container.appendChild(e.icon),n&&e.container.classList.add("mz:accordion__title--reverse"),e};t.exports=e},41810:(t,e,r)=>{"use strict";var n=r(63625);t.exports=n},70266:t=>{"use strict";t.exports=t=>{var e=t.accordion,r={expanded:t.expanded},n=t=>{var e,n,i=null!==(e=t.target.dataset)&&void 0!==e&&e.contentId?t.target:t.target.parentElement,s=document.querySelector("[data-content-id='".concat(i.dataset.contentId,"']")),o=null===(n=s.getElementsByClassName("mz:icon"))||void 0===n?void 0:n[0],a=document.querySelector("[data-content-id='".concat(i.dataset.contentId,"_content']"));if(r.expanded)return r.expanded=!1,s.classList.remove("mz:accordion--expanded"),o.classList.remove("mz:icon--expanded"),void a.classList.remove("mz:accordion--expanded");r.expanded=!0,s.classList.add("mz:accordion--expanded"),o.classList.add("mz:icon--expanded"),a.classList.add("mz:accordion--expanded")};r.expanded&&(e.title.container.classList.add("mz:accordion--expanded"),e.title.icon.classList.add("mz:accordion--expanded"),e.content.container.classList.add("mz:accordion--expanded")),e.title.container.addEventListener("click",n)}},48212:(t,e,r)=>{"use strict";r(29175);t.exports=t=>{var e=t.variant,r=void 0===e?"primary":e,n=t.size,i=void 0===n?"medium":n,s=t.label,o=t.onClick,a=t.disabled,u=void 0!==a&&a,c=t.classList,l=void 0===c?[]:c,h=document.createElement("button");return h.classList.add("mz:button","mz:button--".concat(r),"mz:button--".concat(i)),h.addEventListener("click",o),h.title=s,h.type="button",h.disabled=u,h.insertAdjacentHTML("beforeend",s),l.forEach((t=>{h.classList.add(t)})),h}},74646:(t,e,r)=>{"use strict";var n=r(48212);t.exports=n},34982:(t,e,r)=>{"use strict";r(2157);var n="mz-carousel__item",i=!1,s=0,o=t=>{i=!0,setTimeout((()=>i=!1),500);var e=t.length;t.forEach((t=>{t.className=n}));var r=s-1,o=s+1;0===s?r=e-1:s===e-1&&(r=s-1,o=0),t[r].className="".concat(n," prev"),t[s].className="".concat(n," active"),t[o].className="".concat(n," next")},a=(t,e)=>{t[e].classList.remove("active"),t[s].classList.add("active")},u=(t,e,r,n,u)=>{e.addEventListener("click",(()=>((t,e,r,n,u)=>{if(!i){if(u){if(s===t.length-1)return;r.classList.contains("disabled")&&r.classList.remove("disabled")}var c=s;s===t.length-1?s=0:s+=1,o(t),a(e,c),u&&s===t.length-1&&n.classList.add("disabled")}})(r,n,t,e,u))),t.addEventListener("click",(()=>((t,e,r,n,u)=>{if(!i){if(u){if(0===s)return;n.classList.contains("disabled")&&n.classList.remove("disabled")}var c=s;0===s?s=t.length-1:s-=1,o(t),a(e,c),u&&0===s&&r.classList.add("disabled")}})(r,n,t,e,u))),u||n.forEach(((t,e)=>{t.style.cursor="pointer",t.addEventListener("click",(()=>((t,e,r)=>{if(!i){var n=s;s=r,o(t),a(e,n)}})(r,n,e)))}))},c=(t,e,r,n)=>{t.innerHTML='\n    <div id="mz-carousel" class="mz-carousel">\n        <div class="mz-carousel__button--next"></div>\n        <div class="mz-carousel__button--prev"></div>\n    </div>\n    <div class="mz-indicators">\n        '.concat(e.map((()=>"<span></span>")).join(""),"\n    </div>");var i,s=t.querySelector("#mz-carousel");if(e.forEach((t=>{var e=document.createElement("div");e.classList.add("mz-carousel__item"),e.appendChild(t.content),s.appendChild(e)})),r){var o=(i=r,window.getComputedStyle(i,null).getPropertyValue("padding-left"));o&&"0"!==o&&"0px"!==o&&(t.style.margin="0 -".concat(o))}n&&Object.keys(n).forEach((e=>{t.style[e]=n[e]}))},l=(t,e,r,i)=>{var o=t.querySelector(".mz-carousel__button--prev"),a=t.querySelector(".mz-carousel__button--next"),c=t.querySelectorAll(".mz-indicators > span"),l=t.querySelectorAll(".".concat(n));((t,e,r,n)=>{t.length>2&&t[t.length-1].classList.add("prev"),t[0].classList.add("active"),t[1].classList.add("next"),e[0].classList.add("active"),n&&r.classList.add("disabled")})(l,c,o,e),u(o,a,l,c,e),r&&((t,e)=>{var r=window.mzCarouselIntervalId;r&&(clearInterval(r),s=0),window.mzCarouselIntervalId=setInterval((()=>t.click()),e)})(a,i)};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.parentContainer,r=t.items,n=void 0===r?[]:r,o=t.styles,a=t.isWizard,u=void 0!==a&&a,h=t.autoplay,f=void 0!==h&&h,d=t.autoplayDelay,p=void 0===d?3e3:d;if(n.length<=1)return null;i=!1,s=0;var m=document.createElement("div");return m.classList.add("mz-carousel-wrapper"),c(m,n,e,o),l(m,u,f,p),m}},32482:(t,e,r)=>{"use strict";var n=r(34982);t.exports=n},17069:(t,e,r)=>{"use strict";r(64588);var n=r(1610).createShadowElementFromHTML;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.content,r=t.position,i=n((t=>'\n  <div id="mz-container" class="mz-container-float mz-container-float__'.concat(t,'"></div>\n'))(void 0===r?"top-right":r)),s=i.wrapper,o=i.shadowRoot,a=o.getElementById("mz-container");return a.innerHTML=e,document.body.append(s),{container:a,shadowRoot:o}}},33254:(t,e,r)=>{"use strict";var n=r(17069);t.exports=n},97081:t=>{"use strict";t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.as,r=void 0===e?"div":e,n=t.classList,i=void 0===n?[]:n,s=t.id,o=void 0===s?null:s,a=t.children,u=void 0===a?null:a,c=document.createElement(r);return o&&(c.id=o),i.forEach((t=>{c.classList.add(t)})),u&&(Array.isArray(u)?c.append(...u):c.appendChild(u)),c}},73695:(t,e,r)=>{"use strict";var n=r(97081);t.exports=n},51342:(t,e,r)=>{"use strict";r(62865);t.exports=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).color,e=void 0===t?"silver":t,r=document.createElement("div");return r.classList.add("mz:divider","mz:divider--".concat(e)),r}},30455:(t,e,r)=>{"use strict";var n=r(51342);t.exports=n},53523:(t,e,r)=>{"use strict";r(65876);var n=r(43902),i={"arrow-left":"icon-arrow-down.svg","arrow-right":"icon-arrow-down.svg","arrow-top":"icon-arrow-down.svg","arrow-bottom":"icon-arrow-down.svg","arrow-return":"icon-return-black.svg","chevron-left":"icon-small-chevron-down.svg","chevron-right":"icon-small-chevron-down.svg","chevron-top":"icon-small-chevron-down.svg","chevron-bottom":"icon-small-chevron-down.svg","circle-check":"icon-circle-check-white.svg",close:"close-grey.svg",cog:"icon-cog.svg",envelope:"icon-envelope.svg",plus:"icon-plus-gray.svg"};t.exports=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.type,s=e.size,o=void 0===s?"medium":s,a=e.id,u=void 0===a?null:a;return r&&i[r]?((t.container=document.createElement("img")).classList.add("mz:icon","mz:icon--".concat(o)),t.container.src=n.runtime.getURL("/images/".concat(i[r])),u&&(t.container.id=u),r.match(/arrow|chevron/g)&&t.container.classList.add("mz:icon__".concat(r.replace("-","--"))),t.container):null}},41338:(t,e,r)=>{"use strict";var n=r(53523);t.exports=n},59556:(t,e,r)=>{"use strict";var n=r(1634).LottieWeb;t.exports=t=>{var e=t.container,r=t.imagePath,i=t.styles,s=void 0===i?{width:"100%",height:"100%"}:i,o=t.autoplay,a=void 0===o||o,u=t.loop,c=void 0===u||u,l=document.createElement("div");return s&&Object.keys(s).length&&Object.keys(s).forEach((t=>{l.style[t]=s[t]})),e.appendChild(l),n.loadAnimation({container:l,renderer:"canvas",path:r,loop:c,autoplay:a}),l}},90815:(t,e,r)=>{"use strict";var n=r(59556);t.exports=n},77567:t=>{"use strict";t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.imagePath,r=t.alt,n=void 0===r?"IMAGEM":r,i=t.styles,s=t.classList,o=void 0===s?[]:s,a=document.createElement("img");return a.src=e,a.alt=n,i&&Object.keys(i).forEach((t=>{a.style[t]=i[t]})),o.forEach((t=>{a.classList.add(t)})),a}},94120:(t,e,r)=>{"use strict";var n=r(77567);t.exports=n},63417:(t,e,r)=>{"use strict";var n=r(32482),i=r(33254),s=r(94120),o=r(90815),a=r(40070),u=r(65234),c=r(34997),l=r(28745),h=r(41338),f=r(41810),d=r(74646),p=r(30455),m=r(73695);t.exports={Carousel:n,ContainerFloat:i,Image:s,ImageJson:o,Loading:a,Modal:u,ReminderModal:c,Text:l,Icon:h,Accordion:f,Button:d,Divider:p,CreateElement:m}},94428:(t,e,r)=>{"use strict";r(70254);var n=r(43902),i=r(1634).LottieWeb,s=t=>{var e=t.container,r=t.type,o=void 0===r?"dots":r,a=t.width,u=void 0===a?"100%":a,c=t.height,l=void 0===c?"100%":c;return s.container=document.createElement("div"),s.container.classList.add("mz:loading-component"),s.container.style.width=u,s.container.style.height=l,e.prepend(s.container),i.loadAnimation({container:s.container,renderer:"svg",loop:!0,autoplay:!0,path:n.runtime.getURL("images/components/loading/".concat(o,".json"))}),s.close=()=>{s.container.remove()},{container:s.container,close:s.close}};t.exports=s},40070:(t,e,r)=>{"use strict";var n=r(94428);t.exports=n},96224:(t,e,r)=>{"use strict";var n=r(64836)(r(27424));r(60324);var i=r(43902),s=r(33254),o=(t,e)=>{t&&e&&t.addEventListener("click",e)},a='\n  <img id="mz-icon-config" width="20px" height="20px" alt="Op\xe7\xf5es" title="Op\xe7\xf5es" src='.concat(i.runtime.getURL("/images/icon-config.png"),' />\n  <div id="mz-options-container" class="mz-options-container">\n    <ul class="mz-options-container__list">\n      <li id="close-option-24hours" class="mz-options-container__list--item">Dispensar por 24h</li>\n      <li id="close-option-this-site" class="mz-options-container__list--item">Dispensar neste site</li>\n      <li id="close-option-disable" class="mz-options-container__list--item">Dispensar totalmente</li>\n    </ul>\n  </div>\n'),u=t=>{var e=t.showLogo,r=t.showClose,n=t.showCap;return'\n  <header class="mz-modal__header">\n    <div class="mz-modal__header mz-modal__header-left">\n      '.concat(e?'<img alt="M\xe9liuz" title="M\xe9liuz" src='.concat(i.runtime.getURL("/images/common-logos/meliuz-m-logo.png")," />"):"",'\n    </div>\n    <div class="mz-modal__header mz-modal__header-right">\n      ').concat(n?a:"","\n      ").concat(r?'<img id="mz-icon-close" width="20px" height="20px" alt="Fechar" title="Fechar" src='.concat(i.runtime.getURL("/images/close.svg")," />"):"","\n    </div>\n  </header>\n")};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.cssFile,r=t.content,a=t.width,c=t.height,l=t.show,h=void 0!==l&&l,f=t.position,d=void 0===f?"top-right":f,p=t.showLogo,m=void 0===p||p,g=t.showCap,y=void 0===g||g,v=t.showClose,b=void 0===v||v,w=t.backdrop,_=void 0===w||w,E=t.closeOnClickOut,S=void 0!==E&&E,x=t.onCloseBtnClick,M=t.onDisable24hoursOptionClick,k=t.onDisableThisSiteOptionClick,T=t.onDisableIndefinetelyOptionClick,A={};a&&(A.width=a),c&&(A.height=c);var C,I,P=s({position:d,content:"\n      ".concat(e?'<link rel="stylesheet" href="'.concat(i.runtime.getURL(e),'">'):"",'\n      <div id="mz-modal" class="mz-modal" style="').concat(Object.entries(A).map((t=>{var e=(0,n.default)(t,2),r=e[0],i=e[1];return"".concat(r,":").concat(i)})).join(";"),'">\n        ').concat(u({showLogo:m,showCap:y,showClose:b}),'\n        <main class="mz-modal__content">').concat(r,"</main>\n      </div>\n    ")}),R=P.container,O=P.shadowRoot,D=()=>{R.style.display="none",_&&(O.querySelector(".mz-modal-backdrop").style.display="none")};return _&&O.appendChild(((C=document.createElement("div")).classList.add("mz-modal-backdrop"),C)),h||D(),I=()=>{var t=O.getElementById("mz-options-container");t&&"none"!==t.style.display&&(t.style.display="none"),S&&D()},window.addEventListener("click",(t=>{t.stopPropagation(),I&&I()})),o(O.getElementById("mz-icon-close"),(()=>{D(),x&&x()})),o(O.getElementById("mz-icon-config"),(t=>{t.stopPropagation(),(t=>{var e;t&&("block"!==(null===(e=t.style)||void 0===e?void 0:e.display)?t.style.display="block":t.style.display="none")})(O.getElementById("mz-options-container"))})),o(O.getElementById("close-option-24hours"),M),o(O.getElementById("close-option-this-site"),k),o(O.getElementById("close-option-disable"),T),h||(R.style.display="none"),{container:R,shadowRoot:O,closeModal:D}}},65234:(t,e,r)=>{"use strict";var n=r(96224);t.exports=n},50687:(t,e,r)=>{"use strict";r(30123);var n=r(43902),i=t=>{var e=t.showClose,r=t.showCap;return'\n  <div class="mz-reminder__header">\n    <div class="mz-reminder__header-logo">\n      <img id="mz-reminder__logo" class="mz-reminder__logo" src='.concat(n.runtime.getURL("/images/common-logos/meliuz-m-logo.png"),' />\n    </div>\n    <div class="mz-reminder__header-configs">\n      ').concat(r?'\n  <div class="mz-reminder__config-container">\n    <img id="icon-config" alt="Op\xe7\xf5es" src='.concat(n.runtime.getURL("/images/icon-config.png"),' />\n    <div id="mz-options-container" class="mz-options-container">\n      <ul class=\'mz-options-list\'>\n        <li id="close-option-24hours">Dispensar por 24h</li>\n        <li id="close-option-this-site">Dispensar neste site</li>\n        <li id="close-option-disable">Dispensar totalmente</li>\n      </ul>\n    </div>\n  </div>\n'):"","\n      ").concat(e?'\n  <div id="mz-close-container">\n    <img class="mz-close-icon " src='.concat(n.runtime.getURL("/images/close.svg")," />\n  </div>\n"):"","\n    </div>\n  </div>\n")},s=t=>{var e=t.isTabSuggester,r=t.isCashbackActivated,s=t.showCap,o=t.showClose;return e?(t=>{var e=t.isCashbackActivated,r=t.showCap,s=t.showClose;return e?'\n    <div class="meliuz-tab-suggester-header-container">\n      '.concat(i({showClose:s,showCap:r}),'\n      <div class="meliuz-tab-suggester-cashback-label">\n        <img id="meliuz-tab-suggester-check" class="meliuz-tab-suggester-check" src=').concat(n.runtime.getURL("/images/whitelabel/check.png"),' />\n        <span class="meliuz-tab-suggester-activate">Cashback ativado!</span>\n      </div>\n        <div class="meliuz-tab-suggester-container-logo">\n          <img id="meliuz-tab-suggester-logo" class="meliuz-tab-suggester-logo" src=').concat(n.runtime.getURL("/images/whitelabel/money-bag.png")," />\n        </div>\n    </div>"):'\n    <div class="meliuz-tab-suggester-header-container--blank"">\n      '.concat(i({showClose:s,showCap:r}),"\n    </div>\n  ")})({isCashbackActivated:r,showCap:s,showClose:o}):i({showCap:s,showClose:o})},o=t=>{var e;t&&("block"!==(null===(e=t.style)||void 0===e?void 0:e.display)?t.style.display="block":t.style.display="none")},a=(t,e)=>{t&&e&&t.addEventListener("click",e)};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.container,r=t.shadowRoot,n=t.content,i=t.show,u=void 0!==i&&i,c=t.showCap,l=void 0!==c&&c,h=t.showClose,f=void 0!==h&&h,d=t.mainActionBtnId,p=t.secondayActionBtnId,m=t.onMainBtnClick,g=t.onSecondaryActionClick,y=t.onCloseBtnClick,v=t.onDisable24hoursOptionClick,b=t.onDisableThisSiteOptionClick,w=t.onDisableIndefinetelyOptionClick,_=t.position,E=void 0===_?"right":_,S=t.isTabSuggester,x=void 0!==S&&S,M=t.isCashbackActivated,k=void 0!==M&&M,T=t.width,A=t.height,C=t.shouldHideOnClickOff,I=void 0!==C&&C,P=t.isTip,R=void 0!==P&&P,O=t.tipTopPosition,D=t.tipWidthPosition,L=t.wrapperId,N=void 0===L?"reminder-main":L;e&&(e.innerHTML="\n      ".concat(s({isTabSuggester:x,isCashbackActivated:k,showCap:l,showClose:f}),"\n      ").concat(n,"\n    "),I&&((t,e,r)=>{window.addEventListener("click",(n=>{if(n.stopPropagation(),e&&"none"!==e.style.display){var i=t.getElementById("mz-options-container");if(i){var s,o=Object.assign({},"block"===i.style.display);i&&!i.contains(n.target)&&o&&(i.style.display="none"),n.target.id!==r&&(s=e)&&(s.style.display="none")}}}))})(r,e,N),a(r.getElementById("mz-close-container"),(()=>{o(r.getElementById("meliuz-reminder")),y&&y()})),a(r.getElementById(d),m),a(r.getElementById(p),g),a(r.getElementById("icon-config"),(t=>{o(r.getElementById("mz-options-container")),t.stopPropagation()})),a(r.getElementById("close-option-24hours"),v),a(r.getElementById("close-option-this-site"),b),a(r.getElementById("close-option-disable"),w),((t,e,r,n,i,s,o)=>{if(!o){var a=e.getElementById("meliuz-activate-button");if(n&&a)window.innerHeight<630?(t.style.right="".concat(parseInt(s,10)+8,"px"),t.style.top="156px"):(t.style.right="24px",t.style.top="".concat("top"===r?parseInt(i,10)-parseInt("410px",10):parseInt(i,10)+parseInt("64px",10),"px"));else{if(window.innerHeight<630)return void t.classList.add("mz-reminder-modal--small-screen");t.classList.add("mz-reminder-modal--".concat(r))}}})(e,r,E,R,O,D,x),((t,e,r)=>{e&&(t.style.width="".concat(e,"px")),r&&(t.style.height="".concat(r,"px"))})(e,T,A),u&&o(e))}},34997:(t,e,r)=>{"use strict";var n=r(50687);t.exports=n},46038:(t,e,r)=>{"use strict";r(98304);t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.content,r=t.styles,n=t.variant,i=t.bold,s=void 0!==i&&i,o=t.as,a=void 0===o?"p":o,u=t.align,c=void 0===u?"left":u,l=t.classList,h=void 0===l?[]:l,f=document.createElement(a);return f.innerHTML=e,f.classList.add("mz:text"),r&&Object.keys(r).forEach((t=>{f.style[t]=r[t]})),f.classList.add("mz:text--".concat(c)),n&&f.classList.add("mz:text--".concat(n.split("-")[0]),"mz:text--".concat(n)),s&&f.classList.add("mz:text--bold"),h.forEach((t=>{f.classList.add(t)})),f}},28745:(t,e,r)=>{"use strict";var n=r(46038);t.exports=n},1634:(t,e,r)=>{"use strict";var n=r(4578);t.exports={LottieWeb:n}},4578:(t,e,r)=>{"use strict";var n=r(11248);t.exports=n},18687:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(38416)),s=n(r(70215)),o=["is_active"];function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,i.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}t.exports={getFlagNames:t=>t.split(","),response:(t,e)=>t||e?t?t.map((t=>{return{[t]:!!e&&(r=t,n=e,i=n.filter((t=>t.flag===r)).map((t=>u({isActive:t.is_active},(0,s.default)(t,o)))),0!==i.length&&i[0].isActive)};var r,n,i})).reduce(((t,e)=>u(u({},t),e))):e.map((t=>({[t.flag]:t.is_active}))).reduce(((t,e)=>u(u({},t),e))):{}}},51270:(t,e,r)=>{"use strict";var n=r(64836)(r(38416));function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){(0,n.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var o=r(97218),a=r(56281).default;t.exports=class{constructor(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.setBffClient(e,r,n,i),this.config={url:t}}setBffClient(t,e,r,n){var i={baseURL:t,timeout:e};n&&(i.adapter=n),this.bffClient=o.create(i),a(this.bffClient,{retries:r,retryDelay:a.exponentialDelay,shouldResetTimeout:!0})}execute(t){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?this.bffClient.request(s(s({},this.config),{},{params:t})).then((t=>t.data?t.data:t)).catch((t=>t)):this.bffClient.request(s(s({},this.config),{},{params:t})).then((t=>t.data?t.data:t))}}},56382:(t,e,r)=>{"use strict";var n=r(7738),i=r(98380);t.exports={GetFeatureFlags:n,GetFeatureFlagsV2:i}},7738:(t,e,r)=>{"use strict";var n=r(18687),i=r(51270);t.exports=class extends i{constructor(t){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feature-flags",t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null)}get(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t?n.getFlagNames(t):null;return e?super.execute({flags:t},e).then((t=>n.response(r,t.data))).catch((()=>n.response(r))):super.execute({flags:t},e).then((t=>n.response(r,t.data)))}}},98380:(t,e,r)=>{"use strict";var n=r(18687),i=r(51270);t.exports=class extends i{constructor(t){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v2/feature-flags",t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null)}get(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t?n.getFlagNames(t):null;return r?super.execute({flags:t,groups:e},r).then((t=>n.response(i,t.data))).catch((()=>n.response(i))):super.execute({flags:t,groups:e},r).then((t=>n.response(i,t.data)))}}},25664:t=>{"use strict";
/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */t.exports=function(){var t=Math.abs,e=Math.floor;function r(t){return getComputedStyle(t)}function n(t,e){for(var r in e){var n=e[r];"number"==typeof n&&(n+="px"),t.style[r]=n}return t}function i(t){var e=document.createElement("div");return e.className=t,e}function s(t,e){if(!_)throw new Error("No element matching method supported");return _.call(t,e)}function o(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function a(t,e){return Array.prototype.filter.call(t.children,(function(t){return s(t,e)}))}function u(t,e){var r=t.element.classList,n=E.state.scrolling(e);r.contains(n)?clearTimeout(S[e]):r.add(n)}function c(t,e){S[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(E.state.scrolling(e))}),t.settings.scrollingThreshold)}function l(t,e){u(t,e),c(t,e)}function h(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function f(t,e,r,n,i){var s;if(void 0===n&&(n=!0),void 0===i&&(i=!1),"top"===e)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}d(t,r,s,n,i)}function d(t,e,r,n,i){var s=r[0],o=r[1],a=r[2],u=r[3],c=r[4],f=r[5];void 0===n&&(n=!0),void 0===i&&(i=!1);var d=t.element;t.reach[u]=null,1>d[a]&&(t.reach[u]="start"),d[a]>t[s]-t[o]-1&&(t.reach[u]="end"),e&&(d.dispatchEvent(h("ps-scroll-"+u)),0>e?d.dispatchEvent(h("ps-scroll-"+c)):0<e&&d.dispatchEvent(h("ps-scroll-"+f)),n&&l(t,u)),t.reach[u]&&(e||i)&&d.dispatchEvent(h("ps-"+u+"-reach-"+t.reach[u]))}function p(t){return parseInt(t,10)||0}function m(t){return s(t,"input,[contenteditable]")||s(t,"select,[contenteditable]")||s(t,"textarea,[contenteditable]")||s(t,"button,[contenteditable]")}function g(t){var e=r(t);return p(e.width)+p(e.paddingLeft)+p(e.paddingRight)+p(e.borderLeftWidth)+p(e.borderRightWidth)}function y(t){var r=Math.round,n=t.element,i=e(n.scrollTop),s=n.getBoundingClientRect();t.containerWidth=r(s.width),t.containerHeight=r(s.height),t.contentWidth=n.scrollWidth,t.contentHeight=n.scrollHeight,n.contains(t.scrollbarXRail)||(a(n,E.element.rail("x")).forEach((function(t){return o(t)})),n.appendChild(t.scrollbarXRail)),n.contains(t.scrollbarYRail)||(a(n,E.element.rail("y")).forEach((function(t){return o(t)})),n.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=v(t,p(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=p((t.negativeScrollAdjustment+n.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=v(t,p(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=p(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),b(n,t),t.scrollbarXActive?n.classList.add(E.state.active("x")):(n.classList.remove(E.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,n.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?n.classList.add(E.state.active("y")):(n.classList.remove(E.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,n.scrollTop=0)}function v(t,e){var r=Math.min,n=Math.max;return t.settings.minScrollbarLength&&(e=n(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=r(e,t.settings.maxScrollbarLength)),e}function b(t,r){var i={width:r.railXWidth},s=e(t.scrollTop);i.left=r.isRtl?r.negativeScrollAdjustment+t.scrollLeft+r.containerWidth-r.contentWidth:t.scrollLeft,r.isScrollbarXUsingBottom?i.bottom=r.scrollbarXBottom-s:i.top=r.scrollbarXTop+s,n(r.scrollbarXRail,i);var o={top:s,height:r.railYHeight};r.isScrollbarYUsingRight?r.isRtl?o.right=r.contentWidth-(r.negativeScrollAdjustment+t.scrollLeft)-r.scrollbarYRight-r.scrollbarYOuterWidth-9:o.right=r.scrollbarYRight-t.scrollLeft:r.isRtl?o.left=r.negativeScrollAdjustment+t.scrollLeft+2*r.containerWidth-r.contentWidth-r.scrollbarYLeft-r.scrollbarYOuterWidth:o.left=r.scrollbarYLeft+t.scrollLeft,n(r.scrollbarYRail,o),n(r.scrollbarX,{left:r.scrollbarXLeft,width:r.scrollbarXWidth-r.railBorderXWidth}),n(r.scrollbarY,{top:r.scrollbarYTop,height:r.scrollbarYHeight-r.railBorderYWidth})}function w(t,e){function r(e){e.touches&&e.touches[0]&&(e[a]=e.touches[0].pageY),g[d]=v+w*(e[a]-b),u(t,p),y(t),e.stopPropagation(),e.type.startsWith("touch")&&1<e.changedTouches.length&&e.preventDefault()}function n(){c(t,p),t[m].classList.remove(E.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",r)}function i(e,i){v=g[d],i&&e.touches&&(e[a]=e.touches[0].pageY),b=e[a],w=(t[o]-t[s])/(t[l]-t[f]),i?t.event.bind(t.ownerDocument,"touchmove",r):(t.event.bind(t.ownerDocument,"mousemove",r),t.event.once(t.ownerDocument,"mouseup",n),e.preventDefault()),t[m].classList.add(E.state.clicking),e.stopPropagation()}var s=e[0],o=e[1],a=e[2],l=e[3],h=e[4],f=e[5],d=e[6],p=e[7],m=e[8],g=t.element,v=null,b=null,w=null;t.event.bind(t[h],"mousedown",(function(t){i(t)})),t.event.bind(t[h],"touchstart",(function(t){i(t,!0)}))}var _="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),E={main:"ps",rtl:"ps__rtl",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},S={x:null,y:null},x=function(t){this.element=t,this.handlers={}},M={isEmpty:{configurable:!0}};x.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},x.prototype.unbind=function(t,e){var r=this;this.handlers[t]=this.handlers[t].filter((function(n){return!(!e||n===e)||(r.element.removeEventListener(t,n,!1),!1)}))},x.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},M.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(x.prototype,M);var k=function(){this.eventElements=[]};k.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new x(t),this.eventElements.push(e)),e},k.prototype.bind=function(t,e,r){this.eventElement(t).bind(e,r)},k.prototype.unbind=function(t,e,r){var n=this.eventElement(t);n.unbind(e,r),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},k.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},k.prototype.once=function(t,e,r){var n=this.eventElement(t),i=function t(i){n.unbind(e,t),r(i)};n.bind(e,i)};var T={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&0<window.navigator.maxTouchPoints||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},A=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},C={"click-rail":function(t){t.element,t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var r=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=r*t.containerHeight,y(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var r=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=r*t.containerWidth,y(t),e.stopPropagation()}))},"drag-thumb":function(t){w(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),w(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){function r(r,i){var s=e(n.scrollTop);if(0===r){if(!t.scrollbarYActive)return!1;if(0===s&&0<i||s>=t.contentHeight-t.containerHeight&&0>i)return!t.settings.wheelPropagation}var o=n.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&0>r||o>=t.contentWidth-t.containerWidth&&0<r)return!t.settings.wheelPropagation}return!0}var n=t.element,i=function(){return s(n,":hover")},o=function(){return s(t.scrollbarX,":focus")||s(t.scrollbarY,":focus")};t.event.bind(t.ownerDocument,"keydown",(function(e){if(!(e.isDefaultPrevented&&e.isDefaultPrevented()||e.defaultPrevented)&&(i()||o())){var s=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(s){if("IFRAME"===s.tagName)s=s.contentDocument.activeElement;else for(;s.shadowRoot;)s=s.shadowRoot.activeElement;if(m(s))return}var a=0,u=0;switch(e.which){case 37:a=e.metaKey?-t.contentWidth:e.altKey?-t.containerWidth:-30;break;case 38:u=e.metaKey?t.contentHeight:e.altKey?t.containerHeight:30;break;case 39:a=e.metaKey?t.contentWidth:e.altKey?t.containerWidth:30;break;case 40:u=e.metaKey?-t.contentHeight:e.altKey?-t.containerHeight:-30;break;case 32:u=e.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:u=t.containerHeight;break;case 34:u=-t.containerHeight;break;case 36:u=t.contentHeight;break;case 35:u=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==a||t.settings.suppressScrollY&&0!==u||(n.scrollTop-=u,n.scrollLeft+=a,y(t),r(a,u)&&e.preventDefault())}}))},wheel:function(n){function i(r,i){var s=e(u.scrollTop),o=0===u.scrollTop,a=s+u.offsetHeight===u.scrollHeight,c=0===u.scrollLeft,l=u.scrollLeft+u.offsetWidth===u.scrollWidth;return!(t(i)>t(r)?o||a:c||l)||!n.settings.wheelPropagation}function s(t){var e=t.deltaX,r=-1*t.deltaY;return(void 0===e||void 0===r)&&(e=-1*t.wheelDeltaX/6,r=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,r*=10),e!=e&&r!=r&&(e=0,r=t.wheelDelta),t.shiftKey?[-r,-e]:[e,r]}function o(t,e,n){if(!T.isWebKit&&u.querySelector("select:focus"))return!0;if(!u.contains(t))return!1;for(var i=t;i&&i!==u;){if(i.classList.contains(E.element.consuming))return!0;var s=r(i);if(n&&s.overflowY.match(/(scroll|auto)/)){var o=i.scrollHeight-i.clientHeight;if(0<o&&(0<i.scrollTop&&0>n||i.scrollTop<o&&0<n))return!0}if(e&&s.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(0<a&&(0<i.scrollLeft&&0>e||i.scrollLeft<a&&0<e))return!0}i=i.parentNode}return!1}function a(t){var e=s(t),r=e[0],a=e[1];if(!o(t.target,r,a)){var c=!1;n.settings.useBothWheelAxes?n.scrollbarYActive&&!n.scrollbarXActive?(a?u.scrollTop-=a*n.settings.wheelSpeed:u.scrollTop+=r*n.settings.wheelSpeed,c=!0):n.scrollbarXActive&&!n.scrollbarYActive&&(r?u.scrollLeft+=r*n.settings.wheelSpeed:u.scrollLeft-=a*n.settings.wheelSpeed,c=!0):(u.scrollTop-=a*n.settings.wheelSpeed,u.scrollLeft+=r*n.settings.wheelSpeed),y(n),(c=c||i(r,a))&&!t.ctrlKey&&(t.stopPropagation(),t.preventDefault())}}var u=n.element;void 0===window.onwheel?void 0!==window.onmousewheel&&n.event.bind(u,"mousewheel",a):n.event.bind(u,"wheel",a)},touch:function(n){function i(r,i){var s=e(f.scrollTop),o=f.scrollLeft,a=t(r),u=t(i);if(u>a){if(0>i&&s===n.contentHeight-n.containerHeight||0<i&&0===s)return 0===window.scrollY&&0<i&&T.isChrome}else if(a>u&&(0>r&&o===n.contentWidth-n.containerWidth||0<r&&0===o))return!0;return!0}function s(t,e){f.scrollTop-=e,f.scrollLeft-=t,y(n)}function o(t){return t.targetTouches?t.targetTouches[0]:t}function a(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(a(t)){var e=o(t);d.pageX=e.pageX,d.pageY=e.pageY,p=(new Date).getTime(),null!==g&&clearInterval(g)}}function c(t,e,n){if(!f.contains(t))return!1;for(var i=t;i&&i!==f;){if(i.classList.contains(E.element.consuming))return!0;var s=r(i);if(n&&s.overflowY.match(/(scroll|auto)/)){var o=i.scrollHeight-i.clientHeight;if(0<o&&(0<i.scrollTop&&0>n||i.scrollTop<o&&0<n))return!0}if(e&&s.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(0<a&&(0<i.scrollLeft&&0>e||i.scrollLeft<a&&0<e))return!0}i=i.parentNode}return!1}function l(t){if(a(t)){var e=o(t),r={pageX:e.pageX,pageY:e.pageY},n=r.pageX-d.pageX,u=r.pageY-d.pageY;if(c(t.target,n,u))return;s(n,u),d=r;var l=(new Date).getTime(),h=l-p;0<h&&(m.x=n/h,m.y=u/h,p=l),i(n,u)&&t.preventDefault()}}function h(){n.settings.swipeEasing&&(clearInterval(g),g=setInterval((function(){return n.isInitialized?void clearInterval(g):m.x||m.y?.01>t(m.x)&&.01>t(m.y)?void clearInterval(g):n.element?(s(30*m.x,30*m.y),m.x*=.8,void(m.y*=.8)):void clearInterval(g):void clearInterval(g)}),10))}if(T.supportsTouch||T.supportsIePointer){var f=n.element,d={},p=0,m={},g=null;T.supportsTouch?(n.event.bind(f,"touchstart",u),n.event.bind(f,"touchmove",l),n.event.bind(f,"touchend",h)):T.supportsIePointer&&(window.PointerEvent?(n.event.bind(f,"pointerdown",u),n.event.bind(f,"pointermove",l),n.event.bind(f,"pointerup",h)):window.MSPointerEvent&&(n.event.bind(f,"MSPointerDown",u),n.event.bind(f,"MSPointerMove",l),n.event.bind(f,"MSPointerUp",h)))}}},I=function(t,s){var o=this;if(void 0===s&&(s={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=t,t.classList.add(E.main),this.settings=A(),s)this.settings[a]=s[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var u=function(){return t.classList.add(E.state.focus)},c=function(){return t.classList.remove(E.state.focus)};this.isRtl="rtl"===r(t).direction,!0===this.isRtl&&t.classList.add(E.rtl),this.isNegativeScroll=function(){var e=t.scrollLeft,r=null;return t.scrollLeft=-1,r=0>t.scrollLeft,t.scrollLeft=e,r}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new k,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=i(E.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=i(E.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",u),this.event.bind(this.scrollbarX,"blur",c),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=p(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=p(l.borderLeftWidth)+p(l.borderRightWidth),n(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=p(l.marginLeft)+p(l.marginRight),n(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=i(E.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=i(E.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",u),this.event.bind(this.scrollbarY,"blur",c),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=p(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?g(this.scrollbarY):null,this.railBorderYWidth=p(h.borderTopWidth)+p(h.borderBottomWidth),n(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=p(h.marginTop)+p(h.marginBottom),n(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:0>=t.scrollLeft?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:0>=t.scrollTop?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return C[t](o)})),this.lastScrollTop=e(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return o.onScroll(t)})),y(this)};return I.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,n(this.scrollbarXRail,{display:"block"}),n(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=p(r(this.scrollbarXRail).marginLeft)+p(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=p(r(this.scrollbarYRail).marginTop)+p(r(this.scrollbarYRail).marginBottom),n(this.scrollbarXRail,{display:"none"}),n(this.scrollbarYRail,{display:"none"}),y(this),f(this,"top",0,!1,!0),f(this,"left",0,!1,!0),n(this.scrollbarXRail,{display:""}),n(this.scrollbarYRail,{display:""}))},I.prototype.onScroll=function(){this.isAlive&&(y(this),f(this,"top",this.element.scrollTop-this.lastScrollTop),f(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=e(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},I.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),o(this.scrollbarX),o(this.scrollbarY),o(this.scrollbarXRail),o(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},I.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")},I}()},24654:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h,f=r(96594),d=r(55812),p=r(59845),m=r(58256),g=r(21267),y=r(75488);t.exports={partners:{},partnersCheckoutPages:{},backupPartners:{},parsePartners:(h=(0,o.default)(i.default.mark((function t(e){var r,n,s,o,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this,n={},s=[],o=[],e){t.next=8;break}return t.next=7,y.setFallbackMode();case 7:return t.abrupt("return",!1);case 8:return t.next=10,g.makesFeaturesVisible(e);case 10:return e.forEach((t=>{var e=r.getPartner(t.site),i=f(t);if(i){if(e)for(a in i.reminders=e.reminders,i.cashbackReminderShowCount=e.cashbackReminderShowCount,i.cashbackTimestamp=e.cashbackTimestamp,i.cashbackActive=e.cashbackActive,i.cashbackTimestamp<Date.now()-144e5&&i.disableCashback(),e.openInTabs)e.openInTabs.hasOwnProperty(a)&&i.openInTabs.push(e.openInTabs[a]);217!==t.id&&271!==t.id||s.push(i),421===t.id&&o.push(i),r.addPartner(i,n)}})),r.partners=n,r.backupPartners=l({},n),s.forEach((t=>{t.specialPartner=r.getPartner("submarinoviagens.com.br")})),o.forEach((t=>{t.specialPartner=r.getPartner("compracerta.com.br")})),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)}),addPartner:function(t,e){var r=e||this.partners;t.domainList.forEach((e=>{r[e]=t}))},hasPartner:function(t){return t in this.partners},getPartner:function(t){return!!this.hasPartner(t)&&this.partners[t]},getPartnerById:function(t){var e;for(e in this.partners)if(this.partners[e].id===parseInt(t,10))return this.partners[e];return!1},getPartnerCheckoutPageById:function(t){var e,r=a(this.partnersCheckoutPages);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(parseInt(n.partner_id,10)===t)return n.url.replace(/%/gi,"")}}catch(t){r.e(t)}finally{r.f()}return!1},getPartnerCheckoutPageByPartnerS3:function(t,e){for(var r in t.checkoutList)if(t.checkoutList.hasOwnProperty(r)&&e.includes(t.checkoutList[r]))return!0;return!1},getCheckoutPagesUrl:function(){var t=this;d.getCheckoutPagesUrl((e=>{t.partnersCheckoutPages=e}),((t,e)=>{if(404===e)throw new Error("Partner list not found")}))},getPartnersByHotDealsList:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(this.getPartnerById(t[r].partnerId));return e},checkForDomain:function(t){var e,r,n;if(!t||"string"!=typeof t||void 0===t)return!1;try{var i=p.domainName(t),s=i.domain,o=s.split(".");if(m.setContext("Domain Info",{Name:s}),o.length>2)for(n=-o.length;n<=-2;n+=1){if(e=o.slice(n).join("."),this.hasPartner(e)){r=e;break}if(r=this.tryMatchingPaths(e,i.path))break}else this.hasPartner(s)&&(r=s);r||(r=this.tryMatchingPaths(s,i.path))}catch(t){m.notify(t,"PartnersList")}return r||!1},tryMatchingPaths:function(t,e){var r,n=a(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(t="".concat(t,"/").concat(i),this.hasPartner(t))return t}}catch(t){n.e(t)}finally{n.f()}return null},showReminder:function(t,e){var r=new RegExp("\ufeff");if(!t||"string"!=typeof t||void 0===t||!e)return!1;var n=this.partners[e];t=new URL(t.replace(r,""));var i=n.cartList;if(!i||!i.length)return this.hasToShowInHome(t,n);var s,o=a(i);try{for(o.s();!(s=o.n()).done;){var u=s.value;if(""!==u&&void 0!==u)if((u=u.replace(r,"")).endsWith("/")&&(u=u.slice(0,-1)),u.endsWith("/#")&&(u=u.slice(0,-2)),"home"!==u){if(t.href.includes(u))return!0}else if(this.hasToShowInHome(t,n))return!0}}catch(t){o.e(t)}finally{o.f()}return!1},hasToShowInHome:function(t,e){var r=t.search,n="";return r?n=t.href.replace("/".concat(r),""):(n=t.href,t.href.endsWith("/")&&(n=t.href.slice(0,-1))),n==="".concat(t.protocol,"//").concat(e.domain)||(n==="".concat(t.protocol,"//www.").concat(e.domain)||n==="".concat(t.protocol,"//www2.").concat(e.domain))}}},50455:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(43902);t.exports={setAlarm:(t,e,r)=>(0,s.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((e=>{o.alarms.get(t,(t=>{e(t)}))}));case 2:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:o.alarms.create(t,{periodInMinutes:e}),o.alarms.onAlarm.addListener((e=>{e.name===t&&r()}));case 7:case"end":return n.stop()}}),n)})))(),getCookies(t,e,r){o.cookies.getAll({domain:t},(t=>{var n,i=[];for(n in t)e.indexOf(t[n].name)>=0&&i.push(t[n]);r(i)}))},getBrowser:t=>"undefined"==typeof chrome?"short"===t?"firefox":"mozilla-firefox":"short"===t?"chrome":"google-chrome"}},71747:t=>{"use strict";var e=/^([\w-]+(=[\w-]*)?(&[\w-]+(=[\w-]*)?)*)?$/i,r=function t(e){if(!(this instanceof t))return new t(e);this.updateUrl(e)};r.prototype.updateUrl=function(t){var r;if("string"==typeof t)r=t.split("?");else{if("object"!=typeof t||!t.href)throw new Error("Invalid url");r=t.href.split("?")}var n=r[0]||"",i=r[1]||"";if(!e.test(this.search))throw new Error("Invalid query string");this.url=t,this.mainUrl=n,this.search=i,this.queryParse()},r.prototype.queryParse=function(){var t;if(!this.search)return this.queryObj={};var e=this.search.split("&").map((t=>t.split("="))),r={};for(t=0;t<e.length;t+=1)r[e[t][0]]=e[t][1]||"";return this.queryObj=r,this.queryObj},r.prototype.stringify=function(){var t=this.queryObj;if(!t||"object"!=typeof t)return!1;var e=Object.keys(t).map((e=>e?"".concat(e,"=").concat(t[e]):e));return this.mainUrl+(e.length?"?".concat(e.join("&")):"")},r.prototype.addParameter=function(t,e){var r,n={};for(r in"object"==typeof t?n=t:n[t]=e,n)n.hasOwnProperty(r)&&(this.queryObj[r]=n[r])},r.prototype.hasParameter=function(t){return!!this.queryObj[t]},r.prototype.removeParameter=function(t){return this.queryObj[t]&&delete this.queryObj[t]},t.exports=r},59845:(t,e,r)=>{"use strict";var n,i,s=r(64836)(r(27424)),o=r(71747),a=r(53014),u=r(58256),c=r(51206).getParser(self.navigator.userAgent).getBrowser(),l="".concat("https://www.meliuz.com.br","/"),h={addInfo:function(t,e){n=t||this.browserFormat(c.name),i=e||c.version},getSiteRoot:function(){return l},matchMeliuzUrl:function(t){return t.match("meliuz".concat("","\\.com\\.br"))},matchMeliuzRedirect:function(t){return(t.match("meliuz".concat("","\\.com\\.br/redirecionar/ticket"))||t.match("meliuz".concat("","\\.com\\.br/v2/redirecionar/oferta"))||!!t.match("meliuz".concat("","\\.com\\.br/v2/produto")))&&"offer"},urlIsValid:function(t){return t&&"chrome://"!==t.substring(0,9)&&"chrome-extension://"!==t.substring(0,19)&&"about:"!==t.substring(0,6)},domainName:function(t){if(!t||"undefined/"===t)return{domain:"",path:[]};try{var e=new URL(t);return{domain:e.hostname,path:e.pathname.split("/").filter(Boolean)}}catch(e){return u.setContext("Domain Info",{url:t}),u.notify(e,"UrlHelper"),{domain:"",path:[]}}},checkForBlacklist:function(t){for(var e=new URL(t),r=0,n=[["http://www.buscape.com.br","Buscap\xe9"],["http://www.bondfaro.com.br","Bondfaro"],["http://www.zoom.com.br","Zoom"],["http://www.cuponomia.com.br","Cuponomia"],["http://cuponomize.com","Cuponomize"],["http://thiagorodrigo.com.br","Blog do Thiago Rodrigo"],["http://www.ciadosdescontos.com","Cia de descontos"],["http://www.pegadesconto.com.br","Pega Desconto"],["http://www.poup.com.br","Poup"],["http://www.cashola.com.br","Cashola"],["http://www.cuponkit.com","CuponKit"],["http://www.cuponsmagicos.com","Cupons M\xe1gicos"],["http://www.cupom.com","Cupom.com"],["http://www.cupomgratis.net","Cupom Gratis"],["http://www.saveme.com.br","Save Me"],["http://www.cuponeria.com.br","Cuponeria"],["http://www.descontosport.com","Desconto Sport"],["http://www.cuponation.com.br","Cuponation"],["http://www.cupomvalido.com.br","Cupom V\xe1lido"],["http://www.cupomlucas.com.br","Cupom Lucas"],["http://www.vouchercloudbr.com.br","Voucher Cloud Br"],["http://www.codigosdesconto.com.br","C\xf3digos Desconto"],["http://www.couponster.com.br","Cuponster"],["http://www.baixou.com.br","Baixou.com.br"],["http://www.maodevacadescontos.com","M\xe3o de vaca descontos"],["http://www.valecupomdesconto.com.br","Valeu cupom desconto"],["http://www.cupomlandia.com.br","Cupomlandia"],["http://www.descontonanet.com","Desconto na net"],["http://www.ncupons.com.br","nCupons.com.br"],["http://www.pelando.com.br","Pelando"],["http://www.tecnoblog.net/cupons","Tecnoblog"],["http://www.hardmob.com.br/promocoes","hardMOB"],["http://www.promobit.com.br","Promobit"],["http://www.descontos.climatempo.com.br","Climatempo"],["http://www.ig.com.br/cupons","iG"],["http://www.picodi.com","Picodi"],["http://www.cupomzeiros.com.br","Cupomzeiros"],["http://www.tecmundo.com.br/cupons","Tecmundo"],["http://www.rebatly.com.br","Rebalty"],["http://www.cupomjulia.com.br","Cupom Julia"],["http://www.cupom.org","Cupom.org"],["http://www.sul21.com.br/descontos","Sul 21"],["http://www.compraexpert.com","Compra Expert"],["http://www.radarcupom.com.br","Radar Cupom"],["http://cupom.net","Cupom.net"],["http://ocupom.com.br","O Cupom"],["http://www.descontocupom.com.br","Desconto Cupom"],["http://www.ganhedevolta.com.br","Ganhe de volta"],["http://www.mooba.com.br","Mooba"],["http://baudecupons.com.br","Ba\xfa de Cupons"],["http://www.meucupom.com","Meucupom.com"],["http://www.inmais.com.br","In Mais"],["http://www.brasil247.com/cupons","Brasil 247"],["http://www.esocomprar.com.br","\xc9 S\xf3 Comprar"],["http://www.shopback.com.br","Shopback"],["http://socialminer.com","Social Miner"],["http://www.agoracupom.com.br","Agora Cupom"],["https://www.loucospordesconto.com.br","Loucos por desconto"],["http://groupon.com.br/cupons","site de cupons"],["http://www.netshoes.com.br/sub/cupom-de-desconto","site de cupons"],["http://cupomdedesconto.pontofrio.com.br","site de cupons"],["http://cupomdedesconto.casasbahia.com.br","site de cupons"]];r<n.length;r++){var i=(0,s.default)(n[r],2),o=i[0],a=i[1],u=new URL(o),c=u.hostname===e.hostname,l="/"===u.pathname;if(c&&l)return a;if(c&&!l&&e.pathname.startsWith(u.pathname))return a}return!1},getPartnerUrl:function(t){return"".concat(l,"desconto/").concat(t.ref)},getCategoryUrl:function(t){var e=t.category.ref||"";return"".concat(l,"cupom/").concat(e)},getOfferUrl:function(t){return"".concat(l,"redirecionar/oferta/").concat(t)},getDetailsUrl:function(t){return this.formatUrl(t)},browserFormat:function(t){return t.split(" ").join("")},formatUrl:function(t,e){if(!t)return!1;var r=new o(t);return r.hasParameter("utm_source")?t:(r.addParameter("utm_source","lembrador"),r.addParameter("utm_medium",n),r.addParameter("utm_campaign",e||i),r.stringify())},getQueryParameters:function(t){var e=["utm_source=lembrador","utm_medium=".concat(n)];return t?e.push("utm_campaign=".concat(t)):e.push("utm_campaign=".concat(i)),e.join("&").toString()},convertToSlug:function(t){var e=t;return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace("%"," por cento")).replace("+","mais")).replace("r$","reais")).replace(/[\xe0\xe1\xe2\xe3\xe4\xe5]/g,"a")).replace(/\xe6/g,"ae")).replace(/\xe7/g,"c")).replace(/[\xe8\xe9\xea\xeb]/g,"e")).replace(/[\xec\xed\xee\xef]/g,"i")).replace(/\xf1/g,"n")).replace(/[\xf2\xf3\xf4\xf5\xf6]/g,"o")).replace(/\u0153/g,"oe")).replace(/[\xf9\xfa\xfb\xfc]/g,"u")).replace(/[\xfd\xff]/g,"y")).replace(/[^\w ]+/g,"").replace(/ +/g,"-")},formatDomain:function(t){return!(!t||"string"!=typeof t)&&t.match(/(www2?\.)?(([\w-]*)(\.([\w-]*))+)\/?/)[2]},getUtmCampaign:function(t,e){var r="";if("no-cashback-partner"===e)r+="relacionados_".concat(t.ref),r+=t.category.ref?"_".concat(t.category.ref):"";return r},getWithdrawalUrl:function(){return"".concat(l,"minha-conta/resgate")},getStatementUrl:function(){return"".concat(l,"minha-conta/extrato")},getEditUrl:function(){return"".concat(l,"minha-conta/meus-dados")},getRateUrl:function(){return"https://chrome.google.com/webstore/detail/m\xe9liuz/jdcfmebflppkljibgpdlboifpcaalolg"},getRateUrlFirefox:function(){return"https://addons.mozilla.org/pt-BR/firefox/addon/meliuz/"},getRateUrlSafari:()=>"about:blank",getAllHelpingTopicsUrl:function(){return"https://meliuz.zendesk.com/hc/pt-br"},getFullUrlOffer:function(t){var e=this.getOfferUrl(t),r=a.get();return this.formatUrl(e,r)},extractDomain:function(t){var e;return(e=t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]).indexOf("www.")>-1&&(e=e.split("www.")[1]),e=(e=e.split(":")[0]).split("?")[0]},getDomainWithoutSubdomain:t=>{var e=new URL(t).hostname.split(".");return e.slice(0).slice(-(4===e.length?3:2)).join(".")}};t.exports=h},53014:(t,e,r)=>{"use strict";var n=r(43902);t.exports={getName:()=>n.runtime.getManifest().name.replace(/"/g,""),get:()=>n.runtime.getManifest().version.replace(/"/g,"")}},82858:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(63592),a=r(59845);function u(t){this.id=t.id,this.ref=t.ref,this.name=t.titulo,this.domain=t.site,this.cashback=t.cashback||!1,this.category=t.category||{},this.categoryURL=a.getCategoryUrl(this),this.specialCashback=!1,this.detailURL=a.getPartnerUrl(this),this.domainList=t.domain_list,this.cartList=t.cart_list,this.checkoutList=t.checkout_list,this.mainOfferId=t.main_offer_id,this.countCoupons=t.count_cupons||0,this.daysToTrack=t.tempo_cashback||0,this.cashbackType=t.tipo_cashback,this.useSameTab=t.use_same_tab||!1,this.parametersBlacklistReminder=t.blacklist_reminder||!1,this.cookies=t.cookies||!1,this.isWhiteList=!!this.cookies&&this.cookies.is_whitelist,this.clearAllCookies=this.isWhiteList&&1===this.cookies.blacklist.split(",").length&&["","*"].includes(this.cookies.blacklist.split(",")[0]),this.premiumPartner=!1,this.premiumLogo=!1,this.reminders=!0,this.cashbackReminderShowCount=0,this.openInTabs=[],this.cashbackActive=!1,this.cashbackTimestamp=!1,this.specialPartner=!1,this.hidden=t.flags&&t.flags.hidden||!1,this.greyPartner=t.grey_partner||!1,this.domain.includes("nao-ativar-")&&(this.greyPartner=!0,this.domain=this.domain.replace("nao-ativar-",""),this.domainList=this.domainList.map((t=>t.replace("nao-ativar-","")))),this.domain.endsWith("/")&&(this.domain=this.domain.slice(0,-1)),this.domainList=this.domainList.map((t=>t.endsWith("/")?t.slice(0,-1):t))}u.prototype.muteReminders=function(){this.reminders=!1},u.prototype.unmuteReminders=function(){this.reminders=!0,this.cashbackReminderShowCount=0},u.prototype.hasOpenTab=function(t){return t?this.openInTabs.indexOf(t)>-1:this.openInTabs.length},u.prototype.addOpenTab=function(t){t&&!this.hasOpenTab(t)&&this.openInTabs.push(t)},u.prototype.removeOpenTab=function(t){this.hasOpenTab(t)&&this.openInTabs.splice(this.openInTabs.indexOf(t),1),this.hasOpenTab()||this.unmuteReminders()},u.prototype.enableCashback=function(){this.hasOpenTab()&&(this.cashbackActive=!0,this.cashbackTimestamp=Date.now())},u.prototype.disableCashback=function(){this.cashbackActive=!1},u.prototype.isActiveCashback=function(){return this.hasOpenTab()||(this.disableCashback(),this.resetSpecialCashback()),this.cashbackActive},u.prototype.getDetailsUrl=function(){return"".concat(a.getSiteRoot(),"desconto/").concat(this.ref)},u.prototype.resetSpecialCashback=function(){this.specialCashback=!1},u.prototype.urlIsCheckoutPage=function(t){if(void 0===this.checkoutList||0===this.checkoutList.length)return!1;for(var e in this.checkoutList)if(this.checkoutList.hasOwnProperty(e)&&t.indexOf(this.checkoutList[e])>-1)return!0;return!1},u.prototype.urlIsBlacklistReminderPage=function(){var t=(0,s.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.parametersBlacklistReminder&&0!==this.parametersBlacklistReminder.length){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,o.get("extension-enable-blacklist-reminder");case 4:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:t.t0=i.default.keys(this.parametersBlacklistReminder);case 8:if((t.t1=t.t0()).done){t.next=26;break}if(r=t.t1.value,!this.parametersBlacklistReminder.hasOwnProperty(r)){t.next=24;break}if("contains"!==this.parametersBlacklistReminder[r].action){t.next=16;break}if(!(e.indexOf(this.parametersBlacklistReminder[r].url)>-1)){t.next=14;break}return t.abrupt("return",!0);case 14:t.next=24;break;case 16:if("equal"!==this.parametersBlacklistReminder[r].action){t.next=21;break}if(e!==this.parametersBlacklistReminder[r].url){t.next=19;break}return t.abrupt("return",!0);case 19:t.next=24;break;case 21:if("notcontains"!==this.parametersBlacklistReminder[r].action){t.next=24;break}if(e.indexOf(this.parametersBlacklistReminder[r].url)>-1){t.next=24;break}return t.abrupt("return",!0);case 24:t.next=8;break;case 26:return t.abrupt("return",!1);case 27:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t.exports=u},75066:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(29825),a="user-information",u="customerId",c={get:()=>(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get(a);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=!1;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)})))(),remove:()=>(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.remove(a);case 2:case"end":return t.stop()}}),t)})))(),set:t=>(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l(t),e.next=3,o.local.set(a,r);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))(),getId:()=>(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get(u);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=!1;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)})))(),removeId:()=>(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.remove(u);case 2:case"end":return t.stop()}}),t)})))(),setId:t=>(0,s.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.local.set(u,t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))()};function l(t){return{id:t.id||!1,name:t.fullName||t.name||!1,email:t.email||!1,balance:"number"==typeof t.confirmed_balance&&t.confirmed_balance,image:t.avatar||"http://static.meliuz.com.br/img/theme/user-placeholder.png",confirmed_balance:t.confirmed_balance,pending_balance:t.pending_balance,minimum_withdrawal_balance:t.minimum_withdrawal_balance,refUrl:t.invite_url,accepted_current_terms:t.accepted_current_terms,current_terms:t.current_terms}}t.exports=c},96594:(t,e,r)=>{"use strict";var n=r(82858);t.exports=function(t){return!!(t.id&&t.ref&&t.titulo&&t.site&&t.domain_list&&t.domain_list.length>=1&&t.main_offer_id)&&new n(t)}},308:(t,e,r)=>{"use strict";var n,i,s,o=r(64836),a=o(r(64687)),u=o(r(17156)),c=r(75066),l=r(77776),h=r(55812),f=r(29825),d=r(63592),p=r(49704),m=!1,g={isUserLoggedIn:()=>(0,u.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.hasUserToken();case 2:if(!(e=t.sent)||i){t.next=6;break}return t.next=6,g.updateUserCredentials();case 6:return t.abrupt("return",e&&i);case 7:case"end":return t.stop()}}),t)})))(),userFactory(t){var e=this;return(0,u.default)(a.default.mark((function r(){return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=8;break}if(t.id&&t.email){r.next=3;break}return r.abrupt("return",!1);case 3:return r.next=5,c.set(t);case 5:n=r.sent,r.next=17;break;case 8:if(n.id!==t.id){r.next=14;break}return r.next=11,c.set(t);case 11:n=r.sent,r.next=17;break;case 14:return r.next=16,e.userLogout();case 16:e.userFactory(t);case 17:return r.next=19,c.getId();case 19:if(r.t0=r.sent,r.t1=n.id,r.t0===r.t1){r.next=26;break}return r.next=24,c.setId(n.id);case 24:return r.next=26,f.local.set("is-login-event-sent",!1);case 26:return r.abrupt("return",n);case 27:case"end":return r.stop()}}),r)})))()},getUser:function(){return n},getUserId:function(){return i},userLogout:()=>(0,u.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.logout(),n=!1,i=!1,t.next=5,c.remove();case 5:return t.next=7,c.removeId();case 7:return t.next=9,f.local.remove("is-login-event-sent");case 9:case"end":return t.stop()}}),t)})))(),getUserDetails:(s=(0,u.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.get("extension_user_information");case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:m||(m="fetching",h.getUserDetails((t=>{var r=function(){var r=(0,u.default)(a.default.mark((function r(){return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g.userFactory(t.data);case 2:n=r.sent,m=!1,"function"==typeof e&&e(n);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}),(0,u.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.userLogout();case 2:m=!1,"function"==typeof e&&e(!1);case 4:case"end":return t.stop()}}),t)})))));case 6:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)}),updateUserCredentials:()=>(0,u.default)(a.default.mark((function t(){var e,r,s,o,u,h;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.hasUserWebsiteSession();case 2:return e=t.sent,t.next=5,l.hasUserToken();case 5:return r=t.sent,t.next=8,d.get("extension_user_information");case 8:if(s=t.sent,t.t0=n,t.t0){t.next=14;break}return t.next=13,c.get();case 13:t.t0=t.sent;case 14:if(n=t.t0,t.t1=i,t.t1){t.next=20;break}return t.next=19,c.getId();case 19:t.t1=t.sent;case 20:if(i=t.t1,e){t.next=27;break}return t.next=24,g.userLogout();case 24:return t.next=26,g.removeCache();case 26:return t.abrupt("return",Promise.resolve());case 27:if(!r||n||!s){t.next=31;break}return t.next=30,g.removeCache();case 30:return t.abrupt("return",g.getUserDetails());case 31:if(r){t.next=37;break}if(n||!s){t.next=36;break}return t.next=35,g.removeCache();case 35:return t.abrupt("return",l.logout().then(g.getUserDetails));case 36:return t.abrupt("return",l.authToken("USER").catch((()=>g.removeCache().then(g.getUserDetails))));case 37:if(!r||i||s){t.next=45;break}return t.next=40,l.getUserToken();case 40:return o=t.sent,u=p.decode(o),h=u.customer_id,t.next=44,c.setId(h);case 44:i=t.sent;case 45:return t.abrupt("return",Promise.resolve());case 46:case"end":return t.stop()}}),t)})))(),removeCache:()=>(0,u.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.local.remove("cashback-hot-deals-list");case 2:return t.next=4,f.local.remove("cashback-trend-offers");case 4:return t.next=6,f.local.remove("current-referral-campaign");case 6:case"end":return t.stop()}}),t)})))()};t.exports=g},13462:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(38425),a=r(41871),u=r(43902),c=r(58256),l="https://cityads.com/mobilerewards/analytics/activity/meliuz";function h(){return h=(0,s.default)(i.default.mark((function t(){var e,r,n,s,h,f,d,p,m,g,y,v=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=(n=v.length>0&&void 0!==v[0]?v[0]:{category:null,currentUrl:null,caa:null,partnerName:null,partnerId:null}).category,h=n.currentUrl,f=n.caa,d=n.partnerName,p=n.partnerId,m=n.bestCoupon,g={category:s,type:"caa",url:h,caa:{version:o.version,coupon:"SUCCESS"===s?null==m?void 0:m.code:void 0},price:{saved:"SUCCESS"===s?Number.parseFloat(null==m||null===(e=m.discount)||void 0===e?void 0:e.toFixed(2)):void 0,total:f.total},button:{id:u.runtime.id,version:u.runtime.getManifest().version},store:{name:d,id:p},config:{id:null===(r=f.config)||void 0===r?void 0:r.id,type:"caa"}},y={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(g),url:l},a(y).catch((t=>c.notify(t,"GoogleAnalytics#BestToolBars#InstrumentFail")));case 4:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}t.exports={besttoolbarsGa:function(){return h.apply(this,arguments)}}},82188:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(41871),a=r(58256),u=r(29825),c="https://www.google-analytics.com/collect",l="first_run",h=["Active","Close","Click"],f="first_visualization";function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{documentHostname:null,page:null,title:null},e=t.documentHostname,r=t.page,n=t.title,i="";return e&&(i+="&dh=".concat(e)),r&&(i+="&dp=".concat(r)),n&&(i+="&dt=".concat(n)),i}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{eventLabel:null,eventValue:null},e=t.eventCategory,r=t.eventAction,n=t.eventLabel,i=t.eventValue,s=t.page,o="&ec=".concat(e,"&ea=").concat(r);return n&&(o+="&el=".concat(n)),s&&(o+="&dp=".concat(s)),i&&(o+="&ev=".concat(i)),o}function m(){return g.apply(this,arguments)}function g(){return g=(0,s.default)(i.default.mark((function t(){var e,r,n,s,m,g,y,v,b,w,_,E=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e=E.length>0&&void 0!==E[0]?E[0]:{eventCategory:null,eventAction:null,eventLabel:null,eventValue:null,documentHostname:null,page:null,title:null}).hitType,n=e.eventCategory,s=e.eventAction,m=e.eventLabel,g=e.eventValue,y=e.documentHostname,v=e.page,b=e.title,t.next=3,u.local.get("google-analytics-enabled");case 3:if(t.sent){t.next=6;break}if("Google analytics report"===m){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,u.local.get("extensionId");case 8:if(w=t.sent,_="v=1&tid=".concat("UA-26865030-3","&cid=").concat(w,"&aip=1&ds=add-on&t=").concat(r),"event"!==r){t.next=23;break}return t.next=13,u.local.get(l);case 13:if(t.t0=t.sent,!t.t0){t.next=16;break}t.t0=h.includes(s);case 16:if(!t.t0){t.next=20;break}return t.next=19,u.local.set(l,!1);case 19:m+=" First Popup";case 20:_+=p({eventCategory:n,eventAction:s,eventLabel:m,eventValue:g,page:v}),t.next=31;break;case 23:if("pageview"!==r){t.next=31;break}return t.next=26,u.local.get(f);case 26:if(!t.sent){t.next=30;break}return t.next=29,u.local.set(f,!1);case 29:b+=" First Popup";case 30:_+=d({documentHostname:y,page:v,title:b});case 31:o.post(c,_).catch((t=>a.notify(t,"GoogleAnalytics#InstrumentFail")));case 32:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}t.exports={ga:m,handleSendMessageAnalytic:function(t){var e=t.message;"SEND-MESSAGE-TO-GA"===e.greeting&&m(e.ga)}}},83772:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(82188).ga,a=r(29825),u=r(63592),c=r(41871);function l(){return(l=(0,s.default)(i.default.mark((function t(e,r){var n,s,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.get("extension-allow-incapsula-monitor");case 2:if(!t.sent){t.next=20;break}return t.next=6,a.local.get("BROWSER_NAME");case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0="";case 9:return n=t.t0,t.next=12,a.local.get("extensionId");case 12:if(t.t1=t.sent,t.t1){t.next=15;break}t.t1="";case 15:s=t.t1,o({hitType:"pageview",page:"Incapsula",title:"Incapsula Block"}),c="",e.includes("customer.meliuz")&&(c="BFF"),o({hitType:"event",eventCategory:"Incapsula Incident ".concat(n),eventAction:"Extension ID ".concat(s),eventLabel:"".concat(c," Blocked Call ").concat(r),page:"Incapsula"});case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports={execute:function(t,e,r){var n=t.options,i=t.successCallback,s=function(t,e){var r={url:t.url,method:t.method,validateStatus:t=>t>=200&&t<300||304===t},n=t.qs||{};"POST"===t.method?r.data=t.data||{}:Object.assign(n,t.data),r.params=n;var i={};return e&&(i.Authorization="Bearer ".concat(e)),r.headers=i,r}(t.options,r);c(s).then((t=>{i&&i(t.data,t.status)})).catch((r=>{var i=null==r?void 0:r.response,s=null==i?void 0:i.status;if(!s)throw new Error(r);403===s&&function(t,e){if(t&&!(t instanceof Object)&&t.match(/ROBOTS/gi)){var r="";2===t.split("incident_id=").length&&(r=t.split("incident_id=")[1],r="- ".concat(r.split("&edet")[0])),function(t,e){l.apply(this,arguments)}(e,r)}}(i,n.url),e(s,t)}))}}},61082:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(9998),a=r(77776),u=r(83772),c=r(14621).isEnabled,l=50,h=150,f=2,d=[],p=-1;function m(t,e,r){d.push({options:t,successCallback:e,errorCallback:r}),function(){M.apply(this,arguments)}()}function g(t){if(t.options.queueCount?t.options.queueCount+=1:t.options.queueCount=2,t.options.queueCount>f)throw new Error({reason:"unavailable"});m(t.options,t.successCallback,t.errorCallback)}function y(t){return v.apply(this,arguments)}function v(){return(v=(0,s.default)(i.default.mark((function t(e){var r,n,s,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.optionalToken,t.next=3,a.hasToken(r);case 3:return n=t.sent,t.next=6,a.canRefreshToken(r);case 6:if(s=t.sent,!r||e.optionalFailed||!n&&!s){t.next=11;break}return t.abrupt("return",{execute:n,withToken:r,optional:!0});case 11:if(!e.mandatoryToken){t.next=16;break}return t.next=14,a.hasToken(e.mandatoryToken);case 14:return o=t.sent,t.abrupt("return",{execute:o,withToken:e.mandatoryToken});case 16:return t.abrupt("return",{execute:!0,withToken:!1});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return w.apply(this,arguments)}function w(){return(w=(0,s.default)(i.default.mark((function t(){var e,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.shift()){t.next=4;break}return k(),t.abrupt("return");case 4:return t.next=6,y(e.options);case 6:r=t.sent,e.strategy=r,r.execute?_(e,r.withToken):S(e,r);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e){return E.apply(this,arguments)}function E(){return(E=(0,s.default)(i.default.mark((function t(e,r){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.getToken(r);case 2:n=t.sent,u.execute(e,x,n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e){var r=e.withToken;a.authToken(r).then((()=>g(t))).catch((r=>{"failed"!==r&&"disabled"!==r||!0!==e.optional?t.errorCallback&&t.errorCallback(r):(t.options.optionalFailed=!0,g(t))}))}function x(t,e){401===t?a.authToken(e.strategy.withToken,!0).then((()=>{g(e)})).catch((t=>{e.errorCallback&&e.errorCallback(t)})):e.errorCallback&&e.errorCallback()}function M(){return(M=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:t.sent?-1===p&&(p=o(b,l,h)):(d=[],k(),d.splice(0,d.length));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){-1!==p&&(setTimeout(p.clear),p=-1)}t.exports={enqueue:m}},77776:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(27424)),o=n(r(17156)),a=r(41871),u=r(29825),c=r(58256),l=r(97221).backoff,h=r(73814),f=r(59845),d=r(63592),p="".concat("https://www.meliuz.com.br","/"),m="CLIENT",g="USER",y="extension-mzsync-v2",v=new h({domain:"".concat(f.domainName(p).domain)}),b=!1,w=!1,_="bff-client-token",E={access:{url:"".concat(p,"v2/extension/oauth")}};function S(t){return x.apply(this,arguments)}function x(){return(x=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:if(t.t0=!t.sent,t.t0){t.next=5;break}t.t0=e;case 5:if(!t.t0){t.next=9;break}return t.next=8,u.local.remove(_);case 8:return t.abrupt("return",P());case 9:return t.t1=Promise,t.next=12,u.local.get(_);case 12:return t.t2=t.sent,t.abrupt("return",t.t1.resolve.call(t.t1,t.t2));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return k.apply(this,arguments)}function k(){return(k=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:if(r=t.sent,!e&&r){t.next=11;break}return j(),t.next=7,F();case 7:if(t.sent){t.next=10;break}return t.abrupt("return",Promise.reject("failed"));case 10:return t.abrupt("return",T().then((t=>t)).catch((()=>(j(),Promise.reject("failed")))));case 11:return t.abrupt("return",Promise.resolve(!0));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return b||(b=a({url:E.access.url,method:"get",maxRedirects:0,timeout:12e3}).then((()=>A())).catch((t=>{throw c.notify(t,"tokenService/user-token#fetch"),new Error(t)})).finally((()=>{b=!1}))),b}function A(){return C.apply(this,arguments)}function C(){return(C=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get(y);case 3:return e=t.sent,t.abrupt("return",null==e?void 0:e.value);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function I(){return u.local.get(_)}function P(){return R.apply(this,arguments)}function R(){return R=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w||(3,e="".concat("https://api-extension.meliuz.com.br","/oauth/token"),"meliuz-extension-production","zC73dgg9KMuXyCUGLRyL12yn7bnC1R",1e3,2,w=l(3,(()=>a({url:e,method:"post",withCredentials:!0,data:{grant_type:"client_credentials",client_id:"meliuz-extension-production",client_secret:"zC73dgg9KMuXyCUGLRyL12yn7bnC1R"}})),1e3,2).then(function(){var t=(0,o.default)(i.default.mark((function t(e){var r,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.data,w=!1,n=r.data.accessToken,t.next=5,u.local.set(_,n,{expiration:B(r)});case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((t=>{w=!1,c.notify(t,"bff/token#fetch")}))),t.abrupt("return",w);case 2:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}function O(){return D.apply(this,arguments)}function D(){return(D=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return t.t0=typeof t.sent,t.abrupt("return","undefined"!==t.t0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){return N.apply(this,arguments)}function N(){return(N=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return e=t.sent,t.abrupt("return",!!e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){return Promise.all([v.get("mzsync"),v.get("mzsync-r")]).then((t=>{var e=(0,s.default)(t,2),r=e[0],n=e[1];return Boolean(r||n)})).catch((()=>!1))}function B(t){var e=1e3*t.expires_in;return Date.now()+e}function j(){return z.apply(this,arguments)}function z(){return(z=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.remove(y);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return(U=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==m){t.next=4;break}return t.abrupt("return",O());case 4:if(e!==g){t.next=6;break}return t.abrupt("return",L());case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(){return(V=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==g){t.next=7;break}return t.next=3,F();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=!1;case 6:return t.abrupt("return",t.t0);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return(q=(0,o.default)(i.default.mark((function t(e,r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==m){t.next=2;break}return t.abrupt("return",S(r));case 2:return t.next=4,d.get("extension-login");case 4:if(t.sent){t.next=8;break}return j(),t.abrupt("return",Promise.reject("disabled"));case 8:return t.abrupt("return",M(r));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(){return(G=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==m){t.next=4;break}return t.abrupt("return",I());case 4:if(e!==g){t.next=6;break}return t.abrupt("return",A());case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports={authUserToken:M,logout:j,hasClientToken:O,hasUserToken:L,fetchAccessToken:P,authClientToken:S,hasUserWebsiteSession:F,getUserToken:A,getClientToken:I,hasToken:function(t){return U.apply(this,arguments)},authToken:function(t,e){return q.apply(this,arguments)},canRefreshToken:function(t){return V.apply(this,arguments)},getToken:function(t){return G.apply(this,arguments)},fetchUserToken:T}},43744:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(41871),a=r(58256),u=r(63592),c=r(75488),l=function(){var t=(0,s.default)(i.default.mark((function t(e,r){var n,s,l,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.get("extension_send_instrumentation_to_bff");case 3:if(!t.sent){t.next=12;break}if(n=c.settings.bff.instrumentation,s=!(n.functions.length&&!n.functions.includes(e)),l=!(n.partnersIds.length&&null!=r&&r.partnerId&&!n.partnersIds.includes(Number.parseInt(null==r?void 0:r.partnerId,10))),!s||!l){t.next=12;break}return t.next=11,o.post("".concat("https://api-extension.meliuz.com.br").concat(n["route-v2"]),{functionName:e,data:r});case 11:case 15:return t.abrupt("return",!0);case 12:return h=c.settings.gcp.cloudFunctionsUrl.production,t.next=15,o.post("".concat(h,"/").concat(e),r);case 18:throw t.prev=18,t.t0=t.catch(0),a.setContext("Cloud Function",{functionName:e,data:r}),a.notify(t.t0,"modules/api/cloudFunctionsHelper#postData"),t.t0;case 23:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e,r){return t.apply(this,arguments)}}();t.exports={postData:l}},55812:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(27424)),a=n(r(17156));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=r(41871),h=r(61082),f=r(63592),d="".concat("https://www.meliuz.com.br","/"),p="".concat("https://api-extension.meliuz.com.br","/"),m="https://static.meliuz.com.br/",g="".concat(d,"entrar"),y="".concat(d,"desconto"),v="".concat(p,"partners/:partnerId/cashback-categories"),b="".concat(p,"partners/:partnerIds/cashback-offers"),w="".concat(p,"v2/partners/:partnerIds/cashback-offers"),_="".concat(p,"offers"),E="".concat(p,"events"),S="".concat(p,"referral-campaign"),x="".concat(p,"partners/hot"),M="".concat(p,"customers/terms"),k="".concat(p,"customers/terms/current"),T="".concat(p,"partners/:partnerId/rules"),A="".concat(p,"notifications/emails"),C="".concat(p,"products"),I="".concat(p,"offers/trends"),P="".concat(p,"me"),R="".concat("https://us-central1-meliuz-traceability-prd.cloudfunctions.net/predict"),O="".concat(m,"cache/extension/banner-cashback.json"),D="".concat(m,"cache/extension/banner.json"),L="".concat(m,"cache/extension/blacklist.json"),N="".concat(m,"cache/extension/block-popup-in-partner.json"),F="".concat(m,"cache/extension/caa.json"),B="".concat(m,"cache/extension/cashback-evaluate-for-non-partner2.json"),j="".concat(m,"cache/extension/traceability/partner_urls.json"),z="".concat(m,"cache/extension/clear-cart2.json"),U="".concat(m,"cache/extension/collect-data-search-engines.json"),V="".concat(m,"cache/extension/comparator.json"),q="".concat(m,"cache/extension/config.json"),G="".concat(m,"cache/extension/conditions-not-display-reminder.json"),H="".concat(m,"cache/extension/coupon-applier-blacklist.json"),$="".concat(m,"cache/extension/google-sidebar.json"),W="".concat(m,"cache/extension/greypartner-abc.json"),K="".concat(m,"cache/extension/incrementability.json"),Y="".concat(m,"cache/extension/meliuz-travel-tracking.json"),X="".concat(m,"cache/extension/non-partner-tracking-list.json"),Q="".concat(m,"cache/extension/onboarding.json"),J="".concat(m,"cache/extension/partner-comparator.json"),Z="".concat(m,"cache/partner/partners2.json"),tt="".concat(m,"cache/extension/partner-tracking-list.json"),et="".concat(m,"cache/extension/post-purchase.json"),rt="".concat(m,"cache/extension/quatro-offer-modal.json"),nt="".concat(m,"cache/extension/reminder.json"),it="".concat(m,"cache/extension/traceability/settings-production.json"),st="".concat(m,"cache/extension/tab-suggester.json"),ot="".concat(m,"cache/extension/tip.json"),at="".concat(m,"cache/extension/tracking-to-Quatro.json"),ut="".concat(m,"cache/extension/whitelist-params.json"),ct="CLIENT",lt="USER",ht=!1,ft={sendEvents:(t,e,r)=>(0,a.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.get("extension-bff-send-events");case 2:if(n.sent){n.next=5;break}return n.abrupt("return");case 5:h.enqueue({url:E,method:"POST",json:!0,data:t,mandatoryToken:ct,optionalToken:lt},e,r);case 6:case"end":return n.stop()}}),n)})))(),acceptedTerms:(t,e,r)=>(0,a.default)(i.default.mark((function n(){return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.get("extension_lgpd");case 2:if(n.sent){n.next=5;break}return n.abrupt("return");case 5:h.enqueue({url:M,method:"POST",json:!0,data:t,mandatoryToken:lt},e,r);case 6:case"end":return n.stop()}}),n)})))(),sendInstallEvent(t,e,r){h.enqueue({url:E,method:"POST",json:!0,data:t,mandatoryToken:lt,optionalToken:ct},e,r)},sendInstallEventV2:t=>(0,a.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((e=>{h.enqueue({url:E,method:"POST",json:!0,data:t,mandatoryToken:lt,optionalToken:ct},e,e)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))(),getUserDetails(t,e){h.enqueue({url:P,method:"GET",mandatoryToken:lt},t,e)},getLgpdDetails:(t,e)=>(0,a.default)(i.default.mark((function r(){return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.get("extension_lgpd");case 2:if(r.sent&&t){r.next=6;break}return e({}),r.abrupt("return");case 6:h.enqueue({url:k,method:"GET",mandatoryToken:lt},e);case 7:case"end":return r.stop()}}),r)})))(),getPartners:()=>l({url:Z,params:{timestamp:Date.now()}}),getTraceability(t,e,r){var n=R;t.pred_version&&(n+="-".concat(t.pred_version)),t.client="extension",l({url:n,method:"POST",json:!0,data:t}).then((t=>{e(t.data)})).catch((t=>{t&&t.response?r(t.response.data,t.response.status):r(null,null)}))},getSettingsTraceability:()=>(0,a.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l({url:it,params:{timestamp:Date.now()}});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))(),getCheckoutPagesUrl(t,e){l({url:j,params:{timestamp:Date.now()}}).then((e=>{t(e.data,e.status)})).catch((t=>{t&&t.response?e(t.response.data,t.response.status):e(null,null)}))},getConfiguration:()=>(0,a.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l({url:q,params:{timestamp:Date.now()}});case 2:return e=t.sent,t.abrupt("return",null==e?void 0:e.data);case 4:case"end":return t.stop()}}),t)})))(),partnersEtag:t=>t?ht=t:ht,getLoginUrl:()=>g,getAllOffersUrl:()=>y,getHomeHotDeals(t,e){h.enqueue({url:x,method:"GET",mandatoryToken:ct},t,e)},getCashbackOffersV2(t,e){var r=arguments;return(0,a.default)(i.default.mark((function n(){var s,a,u,c,l,h,d,p;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=r.length>2&&void 0!==r[2]?r[2]:null,Array.isArray(t)||(t=[t]),a=[...new Set(t)].sort(((t,e)=>t-e)).join(","),n.next=5,Promise.all([f.get("extension_cashback_calculator"),f.get("extension_static_cashback_calculator")]);case 5:if(u=n.sent,c=(0,o.default)(u,2),l=c[0],h=c[1],!l||!e){n.next=14;break}return n.next=12,ft.getCashbackOffersDynamic(a,e,s);case 12:return d=n.sent,n.abrupt("return",{data:null==d?void 0:d.data});case 14:if(!h){n.next=19;break}return n.next=17,ft.getCashbackOffersStatic(a,s);case 17:return p=n.sent,n.abrupt("return",{data:null==p?void 0:p.data});case 19:return n.abrupt("return",{data:null});case 20:case"end":return n.stop()}}),n)})))()},getCashbackOffers:(t,e,r,n,s)=>(0,a.default)(i.default.mark((function a(){var u,c,l,h,d,p;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return Array.isArray(t)||(t=[t]),u=[...new Set(t)].sort(((t,e)=>t-e)).join(","),i.next=4,Promise.all([f.get("extension_cashback_calculator"),f.get("extension_static_cashback_calculator")]);case 4:if(c=i.sent,l=(0,o.default)(c,2),h=l[0],d=l[1],!h||!e){i.next=12;break}p=ft.getCashbackOffersDynamic(u,e,s),i.next=18;break;case 12:if(!d){i.next=16;break}p=ft.getCashbackOffersStatic(u,s),i.next=18;break;case 16:return n(),i.abrupt("return");case 18:p.then((t=>{r({data:t.data})})).catch((t=>{n(t)}));case 19:case"end":return i.stop()}}),a)})))(),getCashbackOffersDynamic:(t,e,r)=>new Promise(((n,i)=>{var s={url:b.replace(":partnerIds",t),method:"GET",optionalToken:lt,mandatoryToken:ct},o={};e&&Object.assign(o,{force_token:!0}),r&&Object.assign(o,{feature:r}),Object.assign(s,{data:o}),h.enqueue(s,n,i)})),getCashbackOffersStatic:t=>new Promise(((e,r)=>{var n={url:w.replace(":partnerIds",t),method:"GET",mandatoryToken:ct};h.enqueue(n,e,r)})),sendEmailToUser(t,e,r){h.enqueue({url:A,method:"POST",json:!0,data:t,mandatoryToken:lt},e,r)},sendEmailInstall(t,e){h.enqueue({url:"".concat(A,"/install"),method:"POST",json:!0,data:t,mandatoryToken:lt},(t=>t),e)},getReferralCampaign(t,e){h.enqueue({url:S,method:"GET",mandatoryToken:ct},t,e)},getBlacklist:()=>l({url:L,params:{timestamp:Date.now()}}),getTrendOffers(t,e){h.enqueue({url:I,method:"GET",mandatoryToken:ct},((e,r,n)=>{t(e,r,n)}),e)},getSidebarProducts:(t,e)=>(0,a.default)(i.default.mark((function r(){var n,s,o,a;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.products,r.next=3,f.get("extension_product_tracker_without_cashback");case 3:s=r.sent,o={user_id:t.customerId||"",origin:t.origin,query:t.query},s&&(o.cashback=!1),null!=t&&t.carousel_type&&(o.carousel_type=t.carousel_type),a={url:C,method:"POST",mandatoryToken:lt,optionalToken:ct,data:{products:n},qs:o,json:!0},h.enqueue(a,e);case 9:case"end":return r.stop()}}),r)})))(),getSidebarPartners:(t,e)=>(0,a.default)(i.default.mark((function r(){var n,s,o,a,u;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.googleAds,r.next=3,f.get("extension_product_tracker_without_cashback");case 3:s=r.sent,o=null==t?void 0:t.trigger,a={user_id:t.customerId||"",origin:t.origin,query:t.query},s&&(a.cashback=!1),u={url:"https://us-central1-meliuz-product-tracker-prd.cloudfunctions.net/sidebar-partner",method:"POST",optionalToken:lt,data:c({extension_version:t.extensionVersion,extension_id:t.extensionId,user_id:t.customerId,google_query:t.query,google_ads:n},o&&{trigger:o}),qs:a,json:!0},h.enqueue(u,e);case 9:case"end":return r.stop()}}),r)})))(),getComparatorProducts(t,e){h.enqueue({url:"".concat(C).concat(t?"?".concat(t):""),method:"GET",mandatoryToken:ct},e)},getNonPartnerTracking:()=>l({url:X,timeout:3e3,params:{timestamp:Date.now()}}),getPartnerTrackingList:()=>l({url:tt,params:{timestamp:Date.now()}}),getGoogleSidebarConfiguration:()=>l({url:$,params:{timestamp:Date.now()}}),getPostPurchaseConfiguration:()=>l({url:et,params:{timestamp:Date.now()}}),getBannerConfiguration:()=>l({url:D,params:{timestamp:Date.now()}}),getWhitelistConfiguration:()=>l({url:ut,params:{timestamp:Date.now()}}),getGreyPartnersAbcTest:()=>l({url:W,params:{timestamp:Date.now()}}),getTipConfiguration:()=>l({url:ot,params:{timestamp:Date.now()}}),getClearCartConfiguration:()=>l({url:z,params:{timestamp:Date.now()}}),getComparatorConfiguration:()=>l({url:V,params:{timestamp:Date.now()}}),getPartnerComparatorConfiguration:()=>l({url:J,params:{timestamp:Date.now()}}),getOnboardingConfiguration:()=>l({url:Q,params:{timestamp:Date.now()}}),getCashbackByCategory:t=>new Promise(((e,r)=>{var n={url:v.replace(":partnerId",t),method:"GET",mandatoryToken:ct,optionalToken:lt};h.enqueue(n,e,r)})),getCouponApplierBlacklist:()=>l({url:H,params:{timestamp:Date.now()}}),getCAA:()=>l({url:F,params:{timestamp:Date.now()}}),getConditionsNotDisplay:()=>l({url:G,timeout:3e3,params:{timestamp:Date.now()}}),getBlockPopupInPartnerConfiguration:()=>l({url:N,params:{timestamp:Date.now()}}),getCoupons:t=>isNaN(t)?Promise.resolve({offers:[]}):new Promise(((e,r)=>{var n={url:_,method:"GET",mandatoryToken:ct,data:{partner_id:t}};h.enqueue(n,e,r)})),getTrackingToQuatroConfiguration:()=>l({url:at,params:{timestamp:Date.now()}}),cashbackEvaluateForNonPartnerConfiguration:()=>l({url:B,params:{timestamp:Date.now()}}),meliuzTravelTrackingConfiguration:()=>l({url:Y,params:{timestamp:Date.now()}}),getQuatroOfferModalConfiguration:()=>l({url:rt,params:{timestamp:Date.now()}}),getBannerCashbackConfiguration:()=>l({url:O,params:{timestamp:Date.now()}}),getTabSuggesterConfiguration:()=>l({url:st,params:{timestamp:Date.now()}}),getIncrementabilityConfiguration:()=>l({url:K,params:{timestamp:Date.now()}}),getCollectDataSearchEnginesConfiguration:()=>l({url:U,params:{timestamp:Date.now()}}),getPartnerHomeRules:t=>new Promise((e=>{h.enqueue({url:T.replace(":partnerId",t),method:"GET",mandatoryToken:ct},(t=>e(t)),(t=>e(t)))})),getReminderConfiguration:()=>l({url:nt,params:{timestamp:Date.now()}})};t.exports=ft},41871:(t,e,r)=>{"use strict";var n=r(97218).default,i=r(79638).Z,s={headers:{"X-Meliuz-Client":r(27877)},adapter:i};t.exports=n.create(s)},81077:(t,e,r)=>{"use strict";var n=r(29825).BaseConfiguration,i=r(55812),s=r(75488);t.exports=class extends n{constructor(){super("BlockPopupInPartner",i.getBlockPopupInPartnerConfiguration,"block-popup-in-partner-configuration",s.settings.timers_features["update-extension-block-popup-in-partner-configuration-alarm"])}}},41270:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(24654),a=r(63592),u=r(43902),c=r(58256),l=r(81077);class h{static fetchConfiguration(){return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(new l).fetch();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),c.notify(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}static verify(){var t=arguments;return(0,s.default)(i.default.mark((function e(){var r,n,s,a,c,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:null,e.next=3,h.featureIsEnabled();case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:if(u.tabs){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,new Promise((t=>{u.tabs.query({active:!0,lastFocusedWindow:!0},(e=>{var r;return t(null===(r=e[0])||void 0===r?void 0:r.url)}))}));case 10:if(n=e.sent){e.next=13;break}return e.abrupt("return",!1);case 13:if(r){e.next=20;break}if(a=o.checkForDomain(n)){e.next=17;break}return e.abrupt("return",!1);case 17:if(r=null===(s=o.getPartner(a))||void 0===s?void 0:s.id){e.next=20;break}return e.abrupt("return",!1);case 20:return e.next=22,h.getConfigByPartner(r);case 22:if(c=e.sent){e.next=25;break}return e.abrupt("return",!1);case 25:if(!c.urls.find((t=>"*"===t))){e.next=28;break}return e.abrupt("return",!0);case 28:return l=c.urls.find((t=>n.includes(t))),e.abrupt("return",Boolean(l));case 30:case"end":return e.stop()}}),e)})))()}static featureIsEnabled(){return(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.get("extension_block_popup_in_partner");case 2:return h.isEnabled=t.sent,t.abrupt("return",h.isEnabled);case 4:case"end":return t.stop()}}),t)})))()}static getConfigByPartner(t){return(0,s.default)(i.default.mark((function e(){var r,n,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new l).get();case 2:if((n=e.sent)&&n.sites){e.next=5;break}return e.abrupt("return",!1);case 5:return s=null===(r=n.sites.find)||void 0===r?void 0:r.call(n.sites,(e=>(null==e?void 0:e.partnerId)===t)),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))()}}t.exports=h},55187:(t,e,r)=>{"use strict";var n=r(58256);t.exports=class{constructor(t){this.logger=n,this.browser=t,this.runtime=this.browser.runtime,this.cookies=this.browser.cookies,this.tabs=this.browser.tabs,this.windows=this.browser.windows,this.storage=this.browser.storage,this.alarms=this.browser.alarms,this.isChrome=!1}getURL(t){return this.browser.runtime.getURL(t)}executeScript(){throw new Error("".concat(this.browserName,".executeScript() not implemented."))}}},96488:(t,e,r)=>{"use strict";var n,i=r(64836),s=i(r(64687)),o=i(r(17156)),a=i(r(38416));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,a.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=r(55187);if(null!==(n=chrome)&&void 0!==n&&null!==(n=n.storage)&&void 0!==n&&n.sync){var h=chrome.storage.sync,f=h.set;h.set=(t,e)=>{f.call(h,{[t]:e})}}t.exports=class extends l{constructor(){var t,e,r,n;super(chrome),t=this,(0,a.default)(this,"executeScript",function(){var e=(0,o.default)(s.default.mark((function e(r,n,i){var o,a,u,c,l;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,o=n.file,a=n.code,u=void 0===a?null:a,c=Array.isArray(o)?o:[o],l={target:{tabId:parseInt(r,10)},files:c},u&&(l.func=u,null!=n&&n.args&&(l.args=n.args),delete l.files),e.next=9,t.scripting.executeScript(l,i);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t.logger.notify(e.t0,"Chrome#executeScript");case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r,n){return e.apply(this,arguments)}}()),(0,a.default)(this,"tabsQuery",function(){var e=(0,o.default)(s.default.mark((function e(r,n){var i;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.browser.tabs.query(r);case 3:i=e.sent,n(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.logger.notify(e.t0,"Chrome#executeScript");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),this.name="Chrome",this.browserAction=this.browser.action,this.tabs=c(c({},this.tabs),{},{executeScript:this.executeScript,query:this.tabsQuery}),this.scripting=this.browser.scripting,this.storage={sync:(null===(e=this.browser.storage)||void 0===e?void 0:e.sync)||{},session:(null===(r=this.browser.storage)||void 0===r?void 0:r.session)||{},local:(null===(n=this.browser.storage)||void 0===n?void 0:n.local)||{}},this.action=chrome.action,this.isChrome=!0}}},43902:(t,e,r)=>{"use strict";var n,i,s,o,a,u,c,l,h=r(96488);!chrome||null!==(n=chrome)&&void 0!==n&&null!==(n=n.runtime)&&void 0!==n&&null!==(i=n.getURL)&&void 0!==i&&null!==(s=(o=i.call(n,"/")).includes)&&void 0!==s&&s.call(o,"moz-extension")||null!==(a=chrome)&&void 0!==a&&null!==(a=a.runtime)&&void 0!==a&&null!==(u=a.getURL)&&void 0!==u&&null!==(c=(l=u.call(a,"/")).includes)&&void 0!==c&&c.call(l,"safari-web-extension")?t.exports=browser:t.exports=new h},3032:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(9750).EventListener;t.exports=class extends o{constructor(t){super("CONFIG-GET-SETTINGS",(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))))}}},6297:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(55812),a=r(29825).BaseConfiguration,u=r(50455),c=r(9090),l="update-extension-configuration-alarm";t.exports=class extends a{constructor(){super("GeneralSettingsConfiguration",o.getConfiguration,"general-settings-configuration")}fetch(){var t=this;return(0,s.default)(i.default.mark((function e(){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isExpired();case 2:if(e.sent){e.next=8;break}return e.next=6,t.get();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.next=11,o.getConfiguration();case 11:if(n=e.sent){e.next=14;break}throw new Error("Request to config.json not successful");case 14:return c.requestUpdateCheck(),t.expiration=n.timers_features[l],e.next=18,t.set(n);case 18:return u.setAlarm(l,n.timers_features[l],t.fetch.bind(t)),e.abrupt("return",n);case 22:return e.prev=22,e.t0=e.catch(8),t.logger.notify(e.t0,"modules/config/Configuration#fetch"),e.abrupt("return",{});case 26:case"end":return e.stop()}}),e,null,[[8,22]])})))()}}},75488:(t,e,r)=>{"use strict";var n,i,s=r(64836),o=s(r(64687)),a=s(r(17156)),u=r(42672),c=u.setFallbackConfig,l=u.overrideFeatureFlags,h=r(3032),f=r(6297),d=r(2334),p={settings:{},eventListener:()=>new h(p.getSettings),getConfiguration:(i=(0,a.default)(o.default.mark((function t(){var e,r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new f).fetch();case 2:if((r=t.sent)&&Object.keys(r).length){t.next=7;break}return t.next=6,p.setFallbackMode();case 6:return t.abrupt("return");case 7:return p.settings=r,t.next=10,c(r.fallback||d);case 10:return t.next=12,l((null===(e=r.fallback)||void 0===e?void 0:e.isActive)||d.isActive);case 12:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)}),getSettings:(n=(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p.settings||!Object.keys(p.settings).length){t.next=2;break}return t.abrupt("return",p.settings);case 2:return t.next=4,p.getConfiguration();case 4:return t.abrupt("return",p.settings);case 5:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)}),setFallbackMode:()=>(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p.settings||!Object.keys(p.settings).length){t.next=2;break}return t.abrupt("return");case 2:return p.settings=d,t.next=5,c(d);case 5:return t.next=7,l(d.isActive);case 7:case"end":return t.stop()}}),t)})))()};t.exports=p},73814:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(43902),a=r(58256),u=r(8014).isCookieAccessEnabled;t.exports=class{constructor(t){this.partner=t}list(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",Promise.reject("Cookie access disabled"));case 4:return r=new Promise((e=>{o.cookies.getAll({domain:t.partner.domain},(t=>{e(t)}))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))()}add(t,e){var r=arguments,n=this;return(0,s.default)(i.default.mark((function s(){var a,c,l;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=(r.length>2&&void 0!==r[2]?r[2]:{}).expiration,i.next=3,u();case 3:if(i.sent){i.next=5;break}return i.abrupt("return",Promise.reject("Cookie access disabled"));case 5:return c={name:t,value:e,domain:n.partner.domain,expirationDate:a,url:"https://".concat(n.partner.domain),sameSite:"no_restriction",secure:!0},l=new Promise((t=>{o.cookies.set(c,(e=>t(e)))})),i.abrupt("return",l);case 8:case"end":return i.stop()}}),s)})))()}get(t){var e=this;return(0,s.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u();case 2:if(r.sent){r.next=4;break}return r.abrupt("return",Promise.reject("Cookie access disabled"));case 4:return n=new Promise((r=>{o.cookies.getAll({domain:e.partner.domain},(e=>{var n=e.find((e=>e.name===t));r(n)}))})),r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()}remove(t){var e=arguments,r=this;return(0,s.default)(i.default.mark((function n(){var s,a;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.length>1&&void 0!==e[1]?e[1]:"https://".concat(r.partner.domain),n.next=3,u();case 3:if(n.sent){n.next=5;break}return n.abrupt("return",Promise.reject("Cookie access disabled"));case 5:return a=new Promise((e=>{o.cookies.remove({url:s,name:t},(t=>e(t)))})),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})))()}clear(){var t=this;return(0,s.default)(i.default.mark((function e(){var r,n,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",Promise.reject("Cookie access disabled"));case 4:if(t.partner.cookies){e.next=6;break}return e.abrupt("return",Promise.resolve([]));case 6:return r=t.partner.cookies.blacklist.split(","),n=t.partner.cookies.is_whitelist,s=new Promise((e=>{o.cookies.getAll({domain:t.partner.domain},(i=>{var s=i.reduce(((e,i)=>{var s="http".concat(i.secure?"s":"","://").concat(i.domain).concat(i.path),o=n&&!r.includes(i.name),a=!n&&r.includes(i.name);return o||a?[...e,t.remove(i.name,s)]:e}),[]);Promise.all(s).then((t=>e(t))).catch((t=>a.notify(t,"Cookies#clear")))}))})),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))()}}},71217:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(43902),a=r(58256),u=r(8014).isCookieAccessEnabled;t.exports=class{constructor(t){this.partner=t}list(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",Promise.reject("Cookie access disabled"));case 4:return r=t.partner.domain,e.abrupt("return",o.cookies.getAll({domain:r}));case 7:case"end":return e.stop()}}),e)})))()}add(t,e){var r=arguments,n=this;return(0,s.default)(i.default.mark((function s(){var a,c,l;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=(r.length>2&&void 0!==r[2]?r[2]:{}).expiration,i.next=3,u();case 3:if(i.sent){i.next=5;break}return i.abrupt("return",Promise.reject("Cookie access disabled"));case 5:return c={name:t,value:e,expirationDate:a,url:n.partner.url?n.partner.url:n.partner.domain,sameSite:"no_restriction",secure:!0},l=new Promise((t=>{o.cookies.set(c,(e=>t(e)))})),i.abrupt("return",l);case 8:case"end":return i.stop()}}),s)})))()}get(t){var e=this;return(0,s.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u();case 2:if(r.sent){r.next=4;break}return r.abrupt("return",Promise.reject("Cookie access disabled"));case 4:return n=new Promise((r=>{o.cookies.getAll({domain:e.partner.domain},(e=>{var n=e.find((e=>e.name===t));r(n)}))})),r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()}remove(t){var e=arguments,r=this;return(0,s.default)(i.default.mark((function n(){var s,a;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e.length>1&&void 0!==e[1]?e[1]:r.partner.domain,n.next=3,u();case 3:if(n.sent){n.next=5;break}return n.abrupt("return",Promise.reject("Cookie access disabled"));case 5:return a=new Promise((e=>{o.cookies.remove({url:s,name:t},(t=>e(t)))})),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})))()}clear(){var t=this;return(0,s.default)(i.default.mark((function e(){var r,n,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(e.sent){e.next=4;break}return e.abrupt("return",Promise.reject("Cookie access disabled"));case 4:if(t.partner.cookies){e.next=6;break}return e.abrupt("return",Promise.resolve([]));case 6:return r=t.partner.cookies.blacklist.split(","),n=t.partner.cookies.is_whitelist,s=new Promise((e=>{o.cookies.getAll({domain:t.partner.domain},(i=>{var s=i.reduce(((e,i)=>{var s="http".concat(i.secure?"s":"","://").concat(i.domain).concat(i.path),o=n&&!r.includes(i.name),a=!n&&r.includes(i.name);return o||a?[...e,t.remove(i.name,s)]:e}),[]);Promise.all(s).then((t=>e(t))).catch((t=>a.notify(t,"Cookies#clear")))}))})),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))()}}},39343:(t,e,r)=>{"use strict";var n=r(55812),i=r(29825).BaseConfiguration,s=r(75488);t.exports=class extends i{constructor(){super("CouponApplier",n.getCAA,"coupon-applier-configuration",s.settings.timers_features["update-extension-coupon-applier-configuration-alarm"])}}},33348:(t,e,r)=>{"use strict";var n=r(64836)(r(38416)),i=r(55812),s=r(29825).BaseConfiguration,o=r(75488);class a extends s{constructor(){super("CouponApplierBlacklistConfiguration",i.getCouponApplierBlacklist,"coupon-applier-blacklist",o.settings.timers_features["update-extension-coupon-applier-blacklist"])}static getInstance(){return a.instance||(a.instance=new a),a.instance}}(0,n.default)(a,"instance",void 0),t.exports=a},8584:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw s}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u,c,l,h,f,d,p,m,g=r(43902),y=r(58256),v=r(82188).ga,b=r(13462).besttoolbarsGa,w=r(63592),_=r(111).isCouponApplierSwitchEnabled,E=r(39343),S=r(33348),x=r(29825),M=r(91541),k=r(308),T=r(24654),A=r(26382),C=r(75488),I=r(18805).EVENT_FIRST_CASHBACK_ACTIVATE_CLOSED,P=r(54257),R=r(41270),O=r(9750).EventDispatch,D=r(58194).formatCashback,L="coupon-applier-cap",N={getCap:()=>Date.now()+36e5,instrument(t,e){var r=null==t?void 0:t.ga;r&&"object"==typeof r&&(r.page=N.getGaPage(e,t.source),"event"===r.hitType&&(r.eventCategory="Coupon Applier"),v(r))},btb_instrument(t,e){var r=null==t?void 0:t.ga;r.partnerName=null==e?void 0:e.name,r.partnerId=null==e?void 0:e.id,b(r)},getGaPage:(t,e)=>"/coupon-applier/".concat(e,"/").concat(t),handleRequestConfig:(t,e)=>(0,s.default)(i.default.mark((function t(){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new E).get();case 2:r=t.sent,e(r);case 4:case"end":return t.stop()}}),t)})))(),handleRequestBlacklist(t){t(C.settings.couponApplierBlacklist)},handleRequestPartnersBlacklist:t=>(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getInstance().get();case 2:r=e.sent,t(r);case 4:case"end":return e.stop()}}),e)})))(),handleShowInPopupPartnerPage:(t,e)=>(0,s.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S.getInstance().get();case 2:if((n=r.sent)&&!n.partnersIDs.find((e=>e===t.partnerId))){r.next=6;break}return e(!1),r.abrupt("return");case 6:return r.next=8,N.onTabUpdated(t.changeInfo,t.tab,e);case 8:case"end":return r.stop()}}),r)})))(),handleStoreToBigQuery:(t,e)=>(0,s.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.local.get("customerId");case 2:n=r.sent,M.storeEndResults(t.data,e.id,n);case 4:case"end":return r.stop()}}),r)})))(),onMessage:(t,e,r,n,i)=>{if("COUPON-APPLIER-SET-CAP"===t.greeting)return x.local.set("".concat(L,"-").concat(i.id),!0,{expiration:N.getCap()}),!1;if("COUPON-APPLIER-REQUEST-CONFIG"===t.greeting)return N.handleRequestConfig(t.url,r),!0;if("COUPON-APPLIER-INSTRUMENT"===t.greeting)return i&&N.instrument(t,i.id),!1;if("BEST-TOOLBARS-INSTRUMENT"===t.greeting)return i&&N.btb_instrument(t,i),!1;if("COUPON-APPLIER-STORE-TO-BIGQUERY"===t.greeting)return N.handleStoreToBigQuery(t,i),!1;if("COUPON-APPLIER-COMMAND-START-TESTING"===t.greeting){var s,o=null==e||null===(s=e.tab)||void 0===s?void 0:s.id;return o&&g.tabs.sendMessage(o,{greeting:"COUPON-APPLIER-TEST-COUPONS"}),!1}if("COUPON-APPLIER-COMMAND-STATUS"===t.greeting){var a,u=null==e||null===(a=e.tab)||void 0===a?void 0:a.id;return!!u&&(g.tabs.sendMessage(u,{greeting:"COUPON-APPLIER-STATUS"},r),!0)}if("COUPON-APPLIER-REQUEST-BLACKLIST"===t.greeting)return N.handleRequestBlacklist(r),!0;if(t.greeting===I)N.onTabUpdated({},{url:t.url});else{if("COUPON-APPLIER-REQUEST-PARTNERS-BLACKLIST"===t.greeting)return N.handleRequestPartnersBlacklist(r),!0;if("REQUEST-PARTNER-DATA-CAA"===t.greeting){var c;N.handleRequestPartnerDataCaa(e,i,null==e||null===(c=e.tab)||void 0===c?void 0:c.id,n)}else{if("COUPON-APPLIER-SHOW-IN-POPUP-PARTNER-PAGE"===t.greeting)return N.handleShowInPopupPartnerPage(t.data,r),!0;"COUPON-APPLIER-CLOSE"===t.greeting&&N.closeModal(t,e)}}return!1},getPageConfig(t,e){var r,n=null,i=o(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(null!=s&&s.url)if(Array.isArray(s.url)){var a,u=o(s.url);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(new RegExp(c).test(e)){n=s;break}}}catch(t){u.e(t)}finally{u.f()}}else{if(new RegExp(null==s?void 0:s.url).test(e)){n=s;break}}}}catch(t){i.e(t)}finally{i.f()}return n},getConfigForUrl:t=>(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getConfiguration();case 2:return e.next=4,(new E).get();case 4:return r=e.sent,e.abrupt("return",N.getPageConfig(r,t));case 6:case"end":return e.stop()}}),e)})))(),shouldExecuteScript:(m=(0,s.default)(i.default.mark((function t(e,r,n){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.isPartnerCapSet(e);case 2:if(t.t5=!t.sent,!t.t5){t.next=5;break}t.t5=N.isTabStatusValid(r.status);case 5:if(t.t4=t.t5,!t.t4){t.next=10;break}return t.next=9,_();case 9:t.t4=t.sent;case 10:if(t.t3=t.t4,!t.t3){t.next=13;break}t.t3=k.isUserLoggedIn();case 13:if(t.t2=t.t3,!t.t2){t.next=20;break}return t.t6=Boolean,t.next=18,N.getConfigForUrl(n);case 18:t.t7=t.sent,t.t2=(0,t.t6)(t.t7);case 20:if(t.t1=t.t2,!t.t1){t.next=25;break}return t.next=24,N.isFeatureFlagEnabled();case 24:t.t1=t.sent;case 25:if(t.t0=t.t1,!t.t0){t.next=30;break}return t.next=29,N.hasCoupon(e);case 29:t.t0=t.sent;case 30:return t.abrupt("return",t.t0);case 31:case"end":return t.stop()}}),t)}))),function(t,e,r){return m.apply(this,arguments)}),executeScript:t=>new Promise(((e,r)=>{g.tabs.executeScript(t,{file:"content-scripts/coupon-applier/loader.js"},(t=>{g.runtime.lastError?(y.notify(JSON.stringify(g.runtime.lastError),"modules/coupon-applier/index#handleCouponApplierScriptInjection"),r()):e(t)}))})),onTabUpdated:(p=(0,s.default)(i.default.mark((function t(){var e,r,n,s,o,a,u,c=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},n=c.length>1&&void 0!==c[1]?c[1]:{url:""},s=c.length>2&&void 0!==c[2]?c[2]:null,t.next=5,P.verifyFirstCashbackIsActivated();case 5:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:return o=T.checkForDomain(n.url),a=null===(e=T.getPartner(o))||void 0===e?void 0:e.id,t.next=12,R.verify(a);case 12:if(!t.sent){t.next=15;break}return t.abrupt("return");case 15:return t.next=17,N.shouldExecuteScript(a,r,n.url);case 17:if(u=t.sent,s&&s(u),u){t.next=21;break}return t.abrupt("return");case 21:N.executeScript(n.id);case 22:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)}),isPartnerCapSet:(d=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.local.get("".concat(L,"-").concat(e));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=!1;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)}))),function(t){return d.apply(this,arguments)}),isTabStatusValid:t=>"complete"===t||"loading"===t,isFeatureFlagEnabled:()=>w.get("extension_coupon_applier"),hasCoupon:(f=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.get("".concat(e));case 2:if(t.t1=t.sent.filter((t=>Boolean(t.code))).length,t.t0=t.t1>0,t.t0){t.next=6;break}t.t0=!1;case 6:return t.abrupt("return",t.t0);case 7:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),fetchConfiguration:(h=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new E).fetch();case 2:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)}),fetchBlackListConfiguration:(l=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.getInstance().fetch();case 2:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),handleRequestPartnerDataCaa:(c=(0,s.default)(i.default.mark((function t(e,r,n,s){var o,a,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&null!==(o=e.tab)&&void 0!==o&&o.status&&("loading"===e.tab.status||"complete"===e.tab.status)){t.next=2;break}return t.abrupt("return");case 2:return a={greeting:"RESPONSE-PARTNER-DATA-CAA",meliuzPartnerActivated:N.isPartnerActivated(r,s)},t.next=5,new O("CASHBACK-OFFER-CACHED").dispatch({partnerId:r.id});case 5:if((u=t.sent)&&null!=u&&u.value){t.next=8;break}return t.abrupt("return");case 8:r.customCashback=D(u.type,u.cashback||u.value),r.cashback_category=u.cashback_category,a.meliuzPartner=r,g.tabs.sendMessage(n,a);case 12:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return c.apply(this,arguments)}),isPartnerActivated:(t,e)=>e.includes(t&&t.id),closeModal:(u=(0,s.default)(i.default.mark((function t(e,r){var n,s,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&e.fromPopup||null==r||null===(n=r.tab)||void 0===n||!n.id){t.next=3;break}return g.tabs.sendMessage(null==r||null===(s=r.tab)||void 0===s?void 0:s.id,{greeting:"COUPON-APPLIER-CLOSE"}),t.abrupt("return");case 3:return t.next=5,new Promise((t=>{g.tabs.query({active:!0,currentWindow:!0},(e=>t(null==e?void 0:e[0])))}));case 5:o=t.sent,g.tabs.sendMessage(null==o?void 0:o.id,{greeting:"COUPON-APPLIER-CLOSE"});case 7:case"end":return t.stop()}}),t)}))),function(t,e){return u.apply(this,arguments)})};t.exports=N},91541:(t,e,r)=>{"use strict";var n=r(58256),i=r(29825),s={storeEndResults(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("object"==typeof t&&e){var s=t.CouponApplier.interrupted,a=t.bestCoupon,u=t.elapsedTime,c=t.appliedCoupons,l={visitedAt:new Date,partner_id:e,applied_coupons:c?o(c):[],best_coupon_code:(null==a?void 0:a.code)||null,interrupted:s,user_id:r,elapsed_time_ms:u};i.server("coupon-applier-tracking").doc("1.0").collection("".concat(e)).add(l).catch((t=>n.notify(t,"coupon-applier/big-query#storeEndResults")))}}};function o(t){return t.map((t=>({code:t.code,discount:t.discount?t.discount:null,feedback:t.success?"valid":"invalid"})))}t.exports=s},26382:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(55812),a=r(58256),u=r(71217),c=r(43902),l=r(63592),h=r(29825),f=new Map,d={getCouponLength:(t,e)=>(0,s.default)(i.default.mark((function r(){var n,s,o,c,h,f,p,m;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=new URL(e.url),s={domain:"".concat(n.origin,"/")},o=new u(s),c=(Date.now()+36e5)/1e3,!t.greyPartner){r.next=7;break}return d.setBadgeText({text:"",tabId:e.id}),r.abrupt("return");case 7:return r.next=9,l.get("extension-coupon");case 9:if(!r.sent){r.next=32;break}return r.next=13,d.getMeliuzCouponLengthCookie(t.domain);case 13:if((h=r.sent)||"loadingControl"===e.actualStatus){r.next=29;break}return r.prev=15,r.next=18,d.get(t.id);case 18:f=r.sent,p=f.length,o.add("meliuz_coupon","".concat(p),{expiration:c}),0!==p&&d.setBadgeText({text:"".concat(p),tabId:e.id}),r.next=27;break;case 24:r.prev=24,r.t0=r.catch(15),a.notify(r.t0,"modules/coupon#getCouponLength");case 27:r.next=30;break;case 29:h&&(m="0"!==h.value?h.value:"",d.setBadgeText({text:m,tabId:e.id}));case 30:r.next=33;break;case 32:o.remove("meliuz_coupon");case 33:case"end":return r.stop()}}),r,null,[[15,24]])})))(),getMeliuzCouponLengthCookie:t=>new Promise((e=>{c.cookies.getAll({domain:t,name:"meliuz_coupon"},(t=>e(t[0])))})),get:t=>(0,s.default)(i.default.mark((function e(){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getCachedOffers(t);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:if(!f.has(t)){e.next=7;break}return e.abrupt("return",f.get(t));case 7:return n=o.getCoupons(t).then((t=>t.offers)).then((t=>t.filter((t=>-1!==t.legacy_id&&0!==t.has_cashback)))).then(function(){var e=(0,s.default)(i.default.mark((function e(r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.cacheOffers(t,r);case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((()=>{f.delete(t)})),f.set(t,n),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))(),cacheOffers:(t,e)=>(0,s.default)(i.default.mark((function r(){return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.local.set("coupon-offers-".concat(t),e,{expiration:Date.now()+9e5});case 2:case"end":return r.stop()}}),r)})))(),getCachedOffers:t=>(0,s.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.local.get("coupon-offers-".concat(t)));case 1:case"end":return e.stop()}}),e)})))(),setBadgeText(t){c.browserAction.setBadgeText(t),c.browserAction.setBadgeBackgroundColor({color:"green",tabId:t.tabId})},onMessage:(t,e,r)=>"GET-COUPONS"===t.greeting&&(d.get(r.id).then((t=>{e(t)})).catch((()=>{e(!1)})),!0)};t.exports=d},1610:(t,e,r)=>{"use strict";var n=r(99560),i=document.getElementById.bind(document),s=document.getElementsByClassName.bind(document),o=document.querySelector.bind(document),a=document.querySelectorAll.bind(document),u=t=>t?t.value||t.textContent:"",c=(t,e)=>e?e.getElementById(t)||e.querySelector(".".concat(t)):i(t)||o(t);t.exports={gebid:i,qAll:a,getElementsByClassName:s,query:o,getText:u,hasAdBlock:()=>new Promise((t=>{var e=document.createElement("img");e.setAttribute("src","https://staticz.com.br/img/transparent.gif?ad=1"),e.style.display="none",document.body.appendChild(e),e.onload=()=>{t(!1)},e.onerror=()=>{t(!0)}})),crawlSelector:t=>u(document.querySelector(t)).trim(),crawlSelectorAll:t=>Array.from(document.querySelectorAll(t)).map((t=>u(t).trim())),createElementFromHTML:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=document.createElement("div");return r.innerHTML=t.trim(),e&&(r.id=e),r},createShadowElementFromHTML:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"closed",i=document.createElement("div");i.id=e||n(JSON.stringify({timestamp:Date.now(),randomNumber:Math.floor(1e3*Math.random())}));var s=i.attachShadow({mode:r});return s.innerHTML=t.trim(),{wrapper:i,shadowRoot:s}},insertAllBefore:(t,e,r)=>{for(var n=0;n<e.length;n+=1)t.insertBefore(e[n],r)},getElement:c,addClass:t=>{if(t){var e=c(t.container,null==t?void 0:t.shadowRoot);e&&e.classList.add(t.className)}},removeClass:t=>{if(t){var e=c(t.container,null==t?void 0:t.shadowRoot);e&&e.classList.remove(t.className)}}}},14621:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(63592),a=function(){var t=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("extension-".concat("stable"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t.exports={isEnabled:a}},42672:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(29825),a=r(43902),u="EXTENSION_ID_IN_FALLBACK_MODE_WHEN_INSTALL",c=function(){var t=(0,s.default)(i.default.mark((function t(){var e,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get("fallback");case 2:return e=t.sent,r=null==e?void 0:e.isActive,t.abrupt("return",!0===r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get("fallback");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.set("fallback",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,s.default)(i.default.mark((function t(e){var r,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get("extensionId");case 2:return r=t.sent,t.next=5,o.local.get("BROWSER_NAME");case 5:if(n=t.sent,!e){t.next=14;break}if(r){t.next=10;break}return t.next=10,o.local.set("extensionId",u);case 10:return t.next=12,o.local.set("feature-flags",{extension_reminder_v2:!0,extension_tip:!0,extension_user_information:!0});case 12:t.next=17;break;case 14:if(!r||r!==u||"Firefox"!==n){t.next=17;break}return t.next=17,o.local.remove("extensionId");case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,s.default)(i.default.mark((function t(e){var r,n,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("OPEN-FALLBACK-SITE"===e.greeting){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,l();case 4:return r=t.sent,n=new URL(r.banner.url),s={url:n.href,active:!0},a.tabs.create(s),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports={checkFallbackIsActive:c,getFallbackConfig:l,setFallbackConfig:h,overrideFeatureFlags:f,handleRedirectToFallback:d}},72324:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(41871),a=r(29825),u=r(58256),c=r(97221).backoff,l=!1,h="bff-client-token";function f(){return(f=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:if(t.t0=!t.sent,t.t0){t.next=5;break}t.t0=e;case 5:if(!t.t0){t.next=9;break}return t.next=8,a.local.remove(h);case 8:return t.abrupt("return",p());case 9:return t.t1=Promise,t.next=12,a.local.get(h);case 12:return t.t2=t.sent,t.abrupt("return",t.t1.resolve.call(t.t1,t.t2));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return a.local.get(h)}function p(){return m.apply(this,arguments)}function m(){return m=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l||(3,e="".concat("https://api-extension.meliuz.com.br","/oauth/token"),"meliuz-extension-production","zC73dgg9KMuXyCUGLRyL12yn7bnC1R",1e3,2,l=c(3,(()=>o({url:e,method:"post",withCredentials:!0,data:{grant_type:"client_credentials",client_id:"meliuz-extension-production",client_secret:"zC73dgg9KMuXyCUGLRyL12yn7bnC1R"}})),1e3,2).then(function(){var t=(0,s.default)(i.default.mark((function t(e){var r,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.data,l=!1,n=r.data.accessToken,t.next=5,a.local.set(h,n,{expiration:v(r)});case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((t=>{l=!1,u.notify(t,"bff/token#fetch")}))),t.abrupt("return",l);case 2:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function g(){return y.apply(this,arguments)}function y(){return(y=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return t.t0=typeof t.sent,t.abrupt("return","undefined"!==t.t0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){var e=1e3*t.expires_in;return Date.now()+e}t.exports={hasClientToken:g,fetchAccessToken:p,authClientToken:function(t){return f.apply(this,arguments)},getClientToken:d}},68525:t=>{"use strict";t.exports=["Error: timeout of 3000ms exceeded","Error: Network Error","Error: Unknown error"]},49252:t=>{"use strict";t.exports=["extension-ab-reminder","extension-allow-firebase-data-collection-ab-reminder","extension-allow-firebase-data-collection-checkout-data","extension-allow-firebase-data-collection-non-partner-tracking","extension-allow-firebase-data-collection-partner-tracking","extension-allow-incapsula-monitor","extension_anodot_enabled","extension_automatic_activation","extension_banner","extension_banner_cashback","extension-beta","extension_bigquery_event_tracking","extension-bff-send-events","extension_blocklist_modal","extension_blocklist_modal_v2","extension_campaign","extension-capture-coupons","extension-cart-tracking","extension_cashback_calculator","extension_cashback_offer_cached","extension-check-traceability","extension-checkout-url-from-database","extension-clear-all-cookies","extension_clear_cart","extension_clear_full_cart","extension_clear_cart_grey_partners","extension_clear_cart_grey_partners_v2","extension_collect_data_search_engines","extension-comparator","extension_partner_comparator","extension-comparator-feedback","extension-coupon","extension_coupon_applier","extension-custom-cashback","extension_custom_cashback_after_installed","extension_direct_to_store_activation","extension-email-recently-sent","extension-enable-blacklist-reminder","extension-enable-display-coupons-offers","extension-etravel","extension-firebase-partner-not-allowed","extension_first_cashback_activate","extension_first_use_features_tooltip","extension_first_use_tutorial","extension-google-shopping","extension-google-sidebar","extension-grey-partner-popup-redirect","extension-icon-animation","extension_incrementability","extension_install_events_tracking","extension_instrument_feature_events","extension_is_service_auth","extension_proj_meli_cashback","extension_meli_project","extension_lgpd","extension-login","extension-main-reminder-cap","extension-main-reminder-persistence","extension_meli_cashback","extension_partner_categories","extension_partner_navigation_tracking","extension-partner-rules","extension-partner-tracking-body-data","extension-popup-hot-deals","extension_popup_partner_home_v2","extension_product_tracker_without_cashback","extension_promo_comparator","extension-pushstate-partners-referrer","extension_quatro_offer_modal","extension-referral-campaign","extension-referral-campaign-cap","extension-referral-campaign-popup-tab","extension_reminder_v2","extension-search-bar","extension-search-engine-tracking","extension-send-email-on-first-login","extension-send-login-event","extension_send_instrumentation_to_bff","extension-send-update-event","extension_sidebar_crawl_allow_base64","extension_sidebar_crawl_n_products","extension_sidebar_minified_image","extension_sidebar_partner","extension-stable","extension_static_cashback_calculator","extension_strategy_tracking_for_non_partners","extension_ticket_v2","extension_tip","extension_tracking_to_Quatro","extension_transport_rent_tracking","extension-user-information-popup-tab","extension_user_information","extension-user-journey-v2","extension_whitelist_params","non-partners-tracking","extension_onboarding","extension_block_popup_in_partner","extension_banner_cashback","extension_post_purchase","extension_post_purchase_v2","extension_ga4_for_chrome","extension_ga4_for_firefox","extension_ga4_for_safari","extension_cashback_alert_v3","extension_meliuz_card_on_navigation_context_v2","extension_meliuz_card_google_context_v2","extension_meliuz_card_post_purchase_context_v2","extension_google_sidebar_products_v2","extension_fixed_extension_after_install","extension_fixed_extension_first_page_open_v2","extension_fixed_extension_post_purchase_v2"]},90992:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(56382).GetFeatureFlags,a=r(79638).Z,u=r(72324);t.exports=class extends o{constructor(){super("https://api-extension-ff.meliuz.com.br","/feature-flags",5e3,3,a),this.interceptors()}interceptors(){var t=this;return(0,s.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.bffClient.interceptors.request.use(function(){var t=(0,s.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.authClientToken();case 2:return r=t.sent,e.headers={Authorization:"Bearer ".concat(r)},t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.bffClient.interceptors.response.use((t=>t),function(){var e=(0,s.default)(i.default.mark((function e(r){var n,s,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.config,401!==(null==r||null===(n=r.response)||void 0===n?void 0:n.status)||null!=s&&s._retry){e.next=8;break}return s._retry=!0,e.next=5,u.authClientToken(!0);case 5:return o=e.sent,t.bffClient.defaults.headers.common.Authorization="Bearer ".concat(o),e.abrupt("return",t.bffClient);case 8:return e.abrupt("return",Promise.reject(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()}}},63592:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(27424)),o=n(r(17156)),a=r(29825),u=r(58256),c=r(42672).checkFallbackIsActive,l=r(68525),h=r(90992),f=r(49252),d=6e5,p=!1;function m(){return(m=(0,o.default)(i.default.mark((function t(e){var r,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:return r=t.sent,t.next=5,b();case 5:if((n=t.sent)||r){t.next=10;break}return t.next=9,k();case 9:n=t.sent;case 10:return t.abrupt("return",v(n,e));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return y.apply(this,arguments)}function y(){return(y=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.local.get("feature-flags-cap");case 2:return t.t0=t.sent,t.abrupt("return",!0===t.t0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){return t?!0===t[e]:null}function b(){return w.apply(this,arguments)}function w(){return(w=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,a.local.get("feature-flags");case 6:return e=t.sent,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return E.apply(this,arguments)}function E(){return(E=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.local.set("feature-flags",e);case 2:return t.next=4,S();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return x.apply(this,arguments)}function x(){return(x=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.local.set("feature-flags-cap",!0,{expiration:Date.now()+d}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){var e=Object.fromEntries(Object.entries(t).filter((t=>!0===(0,s.default)(t,2)[1])));return Object.keys(e).length>0}function k(){return T.apply(this,arguments)}function T(){return T=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=p||(new h).get(f.join(",")).then(function(){var t=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!M(r=e)){t.next=6;break}return t.next=4,_(r);case 4:t.next=15;break;case 6:return t.next=8,a.local.get("feature-flags");case 8:if(t.t0=t.sent,t.t0){t.next=11;break}t.t0=!1;case 11:if(!(r=t.t0)){t.next=15;break}return t.next=15,S();case 15:return p=!1,t.abrupt("return",r);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((t=>{p=!1,l.forEach((e=>{t.message!==e&&u.notify(t,"feature-flag#load")}))})),t.abrupt("return",p);case 2:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}t.exports={get:function(t){return m.apply(this,arguments)},fetchFlags:k,filter:v,getFlags:b,setFlags:_}},7742:(t,e,r)=>{"use strict";var n=r(78550).default;r(30431);var i=n.initializeApp({apiKey:"".concat("AIzaSyCbK3JbSljRUhsYFQwesv4-ekZKKgNMV40"),projectId:"".concat("lembrador-e49af")});t.exports=i},8014:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(51206).getParser(self.navigator.userAgent).getBrowser(),a=r(29825),u={events:new(r(17187)),isCookieAccessEnabled:()=>(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Firefox"===o.name){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,a.local.get("firefox-cookies-access-enabled");case 4:return t.t0=t.sent,t.abrupt("return",!0===t.t0);case 6:case"end":return t.stop()}}),t)})))(),enableCookieAccess:()=>(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.local.set("firefox-cookies-access-enabled",!0);case 2:u.events.emit("access-enabled");case 3:case"end":return t.stop()}}),t)})))(),disableCookieAccess:()=>(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Firefox"===o.name){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,a.local.set("firefox-cookies-access-enabled",!1);case 4:u.events.emit("access-disabled");case 5:case"end":return t.stop()}}),t)})))()};t.exports=u},14268:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=r(29825),l="onboarding-feature",h={get:()=>(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.local.get(l);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=!1;case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)})))(),isCompleted:()=>(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.local.get(l);case 2:if(t.t2=e=t.sent,t.t1=null===t.t2,t.t1){t.next=6;break}t.t1=void 0===e;case 6:if(!t.t1){t.next=10;break}t.t3=void 0,t.next=11;break;case 10:t.t3=e["first-cashback-activate"];case 11:if(t.t0=t.t3,t.t0){t.next=14;break}t.t0=!1;case 14:return t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t)})))(),getAbTest:()=>(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.local.get("onboarding-configuration");case 2:if(t.t2=e=t.sent,t.t1=null===t.t2,t.t1){t.next=6;break}t.t1=void 0===e;case 6:if(!t.t1){t.next=10;break}t.t3=void 0,t.next=11;break;case 10:t.t3=e.abTest;case 11:if(t.t0=t.t3,t.t0){t.next=14;break}t.t0=[];case 14:return t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t)})))(),set:t=>(0,o.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h.get();case 4:return r=e.sent,e.next=7,c.local.set(l,u(u({},r),t));case 7:case"end":return e.stop()}}),e)})))()};t.exports=h},18805:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FIRST_CASHBACK_ACTIVATE_INSTRUMENT=e.EVENT_FIRST_CASHBACK_ACTIVATE_SET_PARTNER=e.EVENT_FIRST_CASHBACK_ACTIVATE_CLOSED=e.EVENT_FIRST_CASHBACK_ACTIVATED=void 0;e.EVENT_FIRST_CASHBACK_ACTIVATED="FIRST-CASHBACK-ACTIVATED",e.EVENT_FIRST_CASHBACK_ACTIVATE_SET_PARTNER="EVENT-FIRST-CASHBACK-ACTIVATE-SET-PARTNER",e.EVENT_FIRST_CASHBACK_ACTIVATE_CLOSED="EVENT-FIRST-CASHBACK-ACTIVATE-CLOSED",e.FIRST_CASHBACK_ACTIVATE_INSTRUMENT="FIRST-CASHBACK-ACTIVATE-INSTRUMENT"},54257:(t,e,r)=>{"use strict";var n,i,s,o,a,u,c=r(64836),l=c(r(64687)),h=c(r(17156)),f=r(43902),d=r(308),p=r(82188).ga,m=r(63592),g=r(41270),y=r(14268),v=r(18805),b=v.EVENT_FIRST_CASHBACK_ACTIVATE_SET_PARTNER,w=v.EVENT_FIRST_CASHBACK_ACTIVATED,_=v.FIRST_CASHBACK_ACTIVATE_INSTRUMENT,E=v.EVENT_FIRST_CASHBACK_ACTIVATE_CLOSED,S=r(86053).EVENT_FIRST_USE_TUTORIAL_NEXT_STEP,x=r(64900),M=r(55812),k=r(58194).formatCashback,T="TIP-INITIALIZE",A={initialize:(u=(0,h.default)(l.default.mark((function t(e,r){var n,i,s;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&e.id){t.next=2;break}return t.abrupt("return");case 2:return n=null==e?void 0:e.id,t.next=5,A.isFeatureFlagEnabled();case 5:if(t.sent&&(null==r||!r.hidden)){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,g.verify(null==r?void 0:r.id);case 10:if(!t.sent){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,y.get();case 15:if(i=t.sent,!(void 0===(s=i.blacklist)?[]:s).find((t=>t===r.id))){t.next=21;break}return t.abrupt("return");case 21:return t.next=23,A.shouldExecuteScript();case 23:if(t.sent){t.next=26;break}return t.abrupt("return");case 26:A.executeScript(n,r);case 27:case"end":return t.stop()}}),t)}))),function(t,e){return u.apply(this,arguments)}),shouldExecuteScript:(a=(0,h.default)(l.default.mark((function t(){return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.verifyTutorialIsCompleted();case 2:if(t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return t.next=7,d.isUserLoggedIn();case 7:if(t.sent){t.next=10;break}return t.abrupt("return",!1);case 10:return t.next=12,A.isActiveAbGroup();case 12:if(t.sent){t.next=15;break}return t.abrupt("return",!1);case 15:return t.next=17,y.isCompleted();case 17:if(!t.sent){t.next=21;break}return f.runtime.sendMessage({greeting:T}),t.abrupt("return",!1);case 21:return t.abrupt("return",!0);case 22:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)}),isFeatureFlagEnabled:(o=(0,h.default)(l.default.mark((function t(){var e;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get("extension_onboarding");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)}),executeScript:(t,e)=>new Promise(function(){var r=(0,h.default)(l.default.mark((function r(n,i){var s;return l.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.isUserLoggedIn();case 2:return s=r.sent,r.next=5,M.getCashbackOffers(e.id,s,(r=>{var s=r.data;null!=s&&s.value?(e.cashback=k(null==s?void 0:s.type,null==s?void 0:s.value),f.tabs.executeScript(t,{file:"content-scripts/first-cashback-activate/loader.js"},(r=>{f.runtime.lastError?i():(e.cashback&&f.tabs.sendMessage(t,{greeting:b,partner:e,tabId:t}),n(r))}))):n()}));case 5:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}()),onMessage(t,e,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.greeting===S?(null!=e&&null!==(n=e.tab)&&void 0!==n&&n.id&&A.initialize(null==e?void 0:e.tab,r),!1):t.greeting===w||t.greeting===E?(A.setIsCompleted(),Object.keys(i).forEach((t=>{f.tabs.sendMessage(parseInt(t,10),{greeting:T})})),!1):t.greeting===_&&(p(t.ga),!1)},getFeatureAbGroup:(t,e)=>e&&e.length&&t&&!0===e[t%e.length]?"b":"a",isActiveAbGroup:(s=(0,h.default)(l.default.mark((function t(){var e,r,n;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.isUserLoggedIn();case 2:return e=t.sent,t.next=5,y.getAbTest();case 5:return r=t.sent,n=A.getFeatureAbGroup(e,r),t.abrupt("return","b"===n);case 8:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)}),verifyFirstCashbackIsActivated:(i=(0,h.default)(l.default.mark((function t(){var e;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.isActiveAbGroup();case 2:if(t.sent){t.next=5;break}return t.abrupt("return",!0);case 5:return t.next=7,y.isCompleted();case 7:return e=t.sent,t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)}),setIsCompleted:(n=(0,h.default)(l.default.mark((function t(){return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.set({"first-cashback-activate":!0});case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})};t.exports=A},72502:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(55812),a=r(29825).BaseConfiguration;t.exports=class extends a{constructor(){super("OnboardingConfigurarion",o.getOnboardingConfiguration,"onboarding-configuration")}getAbTest(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(e.t2=r=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===r;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=r.abTest;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)})))()}}},86053:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENT_FIRST_USE_TUTORIAL_NEXT_STEP=e.EVENT_FIRST_USE_TUTORIAL_INSTRUMENT=e.EVENT_FIRST_USE_TUTORIAL_COMPLETED=e.EVENT_FIRST_USE_TUTORIAL=void 0;e.EVENT_FIRST_USE_TUTORIAL="FIRST-USE-TUTORIAL",e.EVENT_FIRST_USE_TUTORIAL_COMPLETED="FIRST-USE-TUTORIAL-COMPLETED",e.EVENT_FIRST_USE_TUTORIAL_INSTRUMENT="FIRST-USE-TUTORIAL-INSTRUMENT",e.EVENT_FIRST_USE_TUTORIAL_NEXT_STEP="EVENT-FIRST-USE-TUTORIAL-NEXT-STEP"},15595:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=r(29825),l="onboarding-feature",h={get:()=>(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.local.get(l);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={};case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)})))(),isCompleted:()=>(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.get();case 2:if(t.t2=e=t.sent,t.t1=null===t.t2,t.t1){t.next=6;break}t.t1=void 0===e;case 6:if(!t.t1){t.next=10;break}t.t3=void 0,t.next=11;break;case 10:t.t3=e["first-tutorial"];case 11:if(t.t0=t.t3,t.t0){t.next=14;break}t.t0=!1;case 14:return t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t)})))(),set:t=>(0,o.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h.get();case 4:return r=e.sent,e.next=7,c.local.set(l,u(u({},r),t));case 7:case"end":return e.stop()}}),e)})))()};t.exports=h},64900:(t,e,r)=>{"use strict";var n,i,s,o,a,u,c,l=r(64836),h=l(r(64687)),f=l(r(17156)),d=r(43902),p=r(82188).ga,m=r(63592),g=r(308),y=r(41270),v=r(72502),b=r(15595),w=r(86053),_=w.EVENT_FIRST_USE_TUTORIAL_COMPLETED,E=w.EVENT_FIRST_USE_TUTORIAL_INSTRUMENT,S=w.EVENT_FIRST_USE_TUTORIAL_NEXT_STEP,x=w.EVENT_FIRST_USE_TUTORIAL,M={initialize:(c=(0,f.default)(h.default.mark((function t(e,r){var n,i;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.isFeatureFlagEnabled();case 2:if(t.sent&&(null==r||!r.hidden)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,y.verify(null==r?void 0:r.id);case 7:if(!t.sent){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,(new v).get();case 12:if(n=t.sent,!(void 0===(i=n.blacklist)?[]:i).find((t=>t===r.id))){t.next=18;break}return t.abrupt("return");case 18:return t.next=20,M.shouldExecuteScript();case 20:if(t.sent){t.next=23;break}return t.abrupt("return");case 23:M.executeScript(e,r);case 24:case"end":return t.stop()}}),t)}))),function(t,e){return c.apply(this,arguments)}),shouldExecuteScript:(u=(0,f.default)(h.default.mark((function t(){return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(M.isFeatureFlagEnabled()){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,g.isUserLoggedIn();case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.next=10,M.isActiveAbGroup();case 10:if(t.sent){t.next=13;break}return t.abrupt("return",!1);case 13:return t.next=15,b.isCompleted();case 15:if(!t.sent){t.next=19;break}return d.runtime.sendMessage({greeting:S}),t.abrupt("return",!1);case 19:return t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)}),isFeatureFlagEnabled:(a=(0,f.default)(h.default.mark((function t(){var e;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get("extension_onboarding");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)}),executeScript:(t,e)=>new Promise(((r,n)=>{d.tabs.executeScript(t,{file:"content-scripts/first-use-tutorial/loader.js"},(i=>{d.runtime.lastError?n():(e.cashback&&d.tabs.sendMessage(t,{greeting:x,partner:e,tabId:t}),r(i))}))})),onMessage(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return t.greeting===_&&M.setIsCompleted(e,null==t?void 0:t.cashbackActivated,r,n),t.greeting===E&&p(t.ga),!1},getFeatureAbGroup:(t,e)=>e&&e.length&&t&&!0===e[t%e.length]?"b":"a",isActiveAbGroup:(o=(0,f.default)(h.default.mark((function t(){var e,r,n;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.isUserLoggedIn();case 2:return e=t.sent,t.next=5,(new v).getAbTest();case 5:return r=t.sent,n=M.getFeatureAbGroup(e,r),t.abrupt("return","b"===n);case 8:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)}),verifyTutorialIsCompleted:(s=(0,f.default)(h.default.mark((function t(){var e;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.isActiveAbGroup();case 2:if(t.sent){t.next=5;break}return t.abrupt("return",!0);case 5:return t.next=7,b.isCompleted();case 7:return e=t.sent,t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)}),setIsCompleted:(i=(0,f.default)(h.default.mark((function t(e,r,n,i){var s;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={"first-tutorial":!0},(r||i.includes(n&&n.id))&&(s["first-cashback-activate"]=!0),t.next=4,b.set(s);case 4:Object.keys(e).forEach((t=>{d.tabs.sendMessage(parseInt(t,10),{greeting:S})}));case 5:case"end":return t.stop()}}),t)}))),function(t,e,r,n){return i.apply(this,arguments)}),fetchConfiguration:(n=(0,f.default)(h.default.mark((function t(){return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new v).fetch();case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})};t.exports=M},9090:(t,e,r)=>{"use strict";var n=r(43902),i=r(38806),s={requestUpdateCheck:()=>{n.runtime.requestUpdateCheck&&n.runtime.requestUpdateCheck((t=>{"update_available"===t&&0===i.activatedPartners.length&&n.runtime.reload()}))},onUpdateAvailable:()=>{n.runtime.onUpdateAvailable&&n.runtime.onUpdateAvailable.addListener((t=>{t.version&&0===i.activatedPartners.length&&n.runtime.reload()}))}};t.exports=s},31075:t=>{"use strict";t.exports={callbackWithArguments:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return e=>t(e,...r)}}},9998:t=>{"use strict";t.exports=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=()=>{var s,o;e=globalThis.setTimeout((()=>{t(),i()}),(s=r,o=n,Math.floor(Math.random()*(o-s+1))+s))};return i(),{clear(){clearTimeout(e)}}}},28026:(t,e,r)=>{"use strict";var n=r(55812),i=r(29825).BaseConfiguration,s=r(75488);t.exports=class extends i{constructor(){super("GreyPartnersConfigurarion",n.getGreyPartnersAbcTest,"grey-partners-abc",s.settings.timers_features["update-extension-grey-partners-abc"])}}},59865:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h=r(43902),f=r(63592),d=r(59845),p=d.getPartnerUrl,m=d.domainName,g=r(75488),y=r(28026),v=r(9750).EventDispatch,b=r(29825);function w(){return _.apply(this,arguments)}function _(){return(_=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new v("BLOCKLIST-CHECK-ACTIVE-IN-TEST").dispatch());case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e,r,n){return S.apply(this,arguments)}function S(){return(S=(0,o.default)(i.default.mark((function t(e,r,n,s){var o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.get("extension_blocklist_modal_v2");case 2:if(t.sent){t.next=5;break}return t.abrupt("return",e);case 5:return t.next=7,b.local.get("customerId");case 7:if(o=t.sent,t.t1=!r.includes(n),t.t1){t.next=13;break}return t.next=12,w();case 12:t.t1=!t.sent;case 13:if(t.t0=t.t1,t.t0){t.next=16;break}t.t0=!o;case 16:if(!t.t0){t.next=18;break}return t.abrupt("return",e);case 18:return t.t2=u,t.t3=u({},e),t.t4={},t.next=23,b.local.get("extensionId");case 23:return t.t5=t.sent,t.next=26,w();case 26:return t.t6=t.sent,t.t7={mz_ext_id:t.t5,[s]:t.t6},t.abrupt("return",(0,t.t2)(t.t3,t.t4,t.t7));case 29:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return M.apply(this,arguments)}function M(){return(M=(0,o.default)(i.default.mark((function t(e,r){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in e)r.searchParams.set(n,e[n]);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=(0,o.default)(i.default.mark((function t(e,r){var n,s,o,a,u,c,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("POPUP-OPENED-GREY-PARTNER"===e.greeting){t.next=2;break}return t.abrupt("return",!1);case 2:if(r&&r.greyPartner){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,f.get("extension-grey-partner-popup-redirect");case 6:if(t.sent){t.next=9;break}return t.abrupt("return",!1);case 9:return t.next=11,T();case 11:return n=t.sent,s=n.oldParams,o=n.blocklist,a=n.abTestQueryParamKey,u=new URL(p(r)),t.next=18,E(s,o,r.id,a);case 18:return c=t.sent,t.next=21,x(c,u);case 21:return l={url:u.href,active:!0},h.tabs.create(l),t.abrupt("return",!1);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return A.apply(this,arguments)}function A(){return(A=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getConfiguration();case 2:return t.next=4,(new y).get();case 4:return e=t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new y).fetch();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports={getGreyPartnerFromUrl:function(t,e){if(!t||!e||!e.length)return null;for(var r=m(t).domain.split("."),n=-r.length;n<=-2;n+=1){var i,s=r.slice(n).join("."),o=c(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.domain===s)return a}}catch(t){o.e(t)}finally{o.f()}}return null},handlePopupOpened:function(t,e){return k.apply(this,arguments)},fetchConfiguration:function(){return C.apply(this,arguments)},getGreyPartnersAbcConfiguration:T}},1430:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=n(r(38416)),a=r(7654);t.exports=class{constructor(t){var e=this,r=t.url,n=t.partner,u=t.hotSiteName;(0,o.default)(this,"initialize",(()=>{var t;null!==(t=this.partner)&&void 0!==t&&t.id&&(this.partnerMeliuzId=a.find((t=>t.id===this.partner.id)).meliuzId)})),(0,o.default)(this,"checkIsHotSite",(0,s.default)(i.default.mark((function t(){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.validateParams();case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))),(0,o.default)(this,"validateParams",(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("The method validateParams() is not implemented in ".concat(e.hotSiteName,"."));case 1:case"end":return t.stop()}}),t)})))),(0,o.default)(this,"validateById",(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("The method validateById() is not implemented in ".concat(e.hotSiteName,"."));case 1:case"end":return t.stop()}}),t)})))),this.url=r,this.partner=n,this.hotSiteName=u,this.initialize()}}},57814:(t,e,r)=>{"use strict";var n=r(64836)(r(38416)),i=r(7654),s=r(5722),o=r(56413);self.booking=s,self.magalu=o;class a{}(0,n.default)(a,"getInstance",((t,e)=>{if(!e||null==e||!e.id)return null;var r=i.find((t=>t.id===e.id));return r?new self[r.className]({url:t,partner:e}):null})),t.exports=a},47974:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(71217),a=r(57814),u="Extens\xe3o M\xe9liuz",c=220,l="7951",h=262,f="1665570",d=[c,h];function p(t,e){return m.apply(this,arguments)}function m(){return(m=(0,s.default)(i.default.mark((function t(e,r){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:if(r.id!==c){t.next=4;break}return t.abrupt("return",y(e,r));case 4:if(r.id!==h){t.next=6;break}return t.abrupt("return",b(e,r));case 6:return t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=(0,s.default)(i.default.mark((function t(e,r){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.find((t=>t===r))){t.next=3;break}return t.abrupt("return",!0);case 3:return t.next=5,p(e,{id:r});case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return v.apply(this,arguments)}function v(){return(v=(0,s.default)(i.default.mark((function t(e,r){var n,s,a,u;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.id===c){t.next=2;break}return t.abrupt("return",!0);case 2:if(!(n=e.includes("meliuz"))){t.next=5;break}return t.abrupt("return",n);case 5:if(e.includes("clube2")){t.next=8;break}return t.abrupt("return",!1);case 8:return s=new o(r),t.next=11,s.get("MLPARCEIRO_clube");case 11:if(a=t.sent,(u=a.value)&&u===l){t.next=15;break}return t.abrupt("return",!1);case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){return w.apply(this,arguments)}function w(){return(w=(0,s.default)(i.default.mark((function t(e,r){var n,s,o,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.id===h){t.next=2;break}return t.abrupt("return",!0);case 2:if(!(o=new URLSearchParams(("string"==typeof e?new URL(e):e).search).get("aid"))){t.next=7;break}if((o.split(";")[0]||o)!==f){t.next=7;break}return t.abrupt("return",!0);case 7:if(e.includes("sp.booking")||e.includes("secure.booking")){t.next=10;break}return t.abrupt("return",!1);case 10:if(null===(n=document)||void 0===n||!n.title||(null===(s=document)||void 0===s?void 0:s.title)===u){t.next=14;break}if((a=document.querySelector(".aff--cobrand_header_logolink"))&&a.href.includes("meliuz")){t.next=14;break}return t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=(0,s.default)(i.default.mark((function t(e,r){var n,s,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.includes("sp.booking")){t.next=2;break}return t.abrupt("return",!0);case 2:if(!e.includes("n=meliuz")){t.next=4;break}return t.abrupt("return",!0);case 4:if(e.includes("clube")){t.next=7;break}return t.abrupt("return",!1);case 7:return n=new o(r),t.next=10,n.get("MLPARCEIRO_clube");case 10:if(s=t.sent,a=s.value){t.next=14;break}return t.abrupt("return",!1);case 14:return"7951",t.abrupt("return","7951"===a);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports={checkIsHotsiteMagalu:y,checkIsHotsiteBooking:b,checkIsHotSite:function(t,e){return _.apply(this,arguments)},isPartnerHotSite:p,isNotPartnerHotSite:function(t,e){return g.apply(this,arguments)},HotSiteFactory:a}},5722:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=n(r(38416)),a=r(1430);t.exports=class extends a{constructor(t){var e;super({url:t.url,partner:t.partner,hotSiteName:"Booking"}),e=this,(0,o.default)(this,"validateParams",(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.url.includes("aid=".concat(e.partnerMeliuzId))){t.next=3;break}return t.abrupt("return",!0);case 3:if(!e.url.includes("secure.booking")){t.next=6;break}return t.abrupt("return",!0);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})))),(0,o.default)(this,"validateById",(()=>262===this.partner.id))}}},56413:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=n(r(38416)),a=r(71217),u=r(1430);t.exports=class extends u{constructor(t){var e;super({url:t.url,partner:t.partner,hotSiteName:"Magalu"}),e=this,(0,o.default)(this,"validateParams",(0,s.default)(i.default.mark((function t(){var r,n,s,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.url.includes("meliuz"))){t.next=3;break}return t.abrupt("return",r);case 3:if(!e.url.includes("clube2")){t.next=6;break}return t.abrupt("return",!0);case 6:return n=new a(e.partner),t.next=9,n.get("MLPARCEIRO_clube");case 9:if(s=t.sent,!(o=s.value)||o!==e.partnerMeliuzId){t.next=13;break}return t.abrupt("return",!0);case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})))),(0,o.default)(this,"validateById",(()=>220===this.partner.id))}}},52701:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=n(r(38416)),a=r(55812),u=r(29825).BaseConfiguration,c=r(75488);class l extends u{constructor(){super("IncrementabilityConfigurarion",a.getIncrementabilityConfiguration,"incrementability-configuration",c.settings.timers_features["update-extension-incrementability"])}static getInstance(){return l.instance||(l.instance=new l),l.instance}getAbTest(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(e.t2=r=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===r;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=r.abTest;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)})))()}getPartnersToTest(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(e.t2=r=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===r;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=r.partnersToTest;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)})))()}getActivatedFeaturesSide(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(e.t1=r=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===r;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=r.activated_features_side;case 11:return e.abrupt("return",e.t2);case 12:case"end":return e.stop()}}),e)})))()}getDeactivatedFeaturesSide(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(e.t1=r=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===r;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=r.deactivated_features_side;case 11:return e.abrupt("return",e.t2);case 12:case"end":return e.stop()}}),e)})))()}}(0,o.default)(l,"instance",void 0),t.exports=l},21267:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c,l,h,f,d,p=r(29825),m=r(43744),g=r(63592),y=r(52701),v={isFeatureFlagActive:(d=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("extension_incrementability");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)}),makesFeaturesVisible:(f=(0,o.default)(i.default.mark((function t(e){var r,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.isFeatureFlagActive();case 2:if(t.sent&&e&&e.length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,y.getInstance().getPartnersToTest();case 7:if((r=t.sent)&&r.length){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,y.getInstance().getDeactivatedFeaturesSide();case 12:return n=t.sent,t.next=15,v.getAbGroup();case 15:if(t.sent!==n){t.next=18;break}return t.abrupt("return");case 18:r.map((t=>e.findIndex((e=>e.id===t)))).forEach((t=>{t<0||(e[t].flags.hidden=!1)}));case 20:case"end":return t.stop()}}),t)}))),function(t){return f.apply(this,arguments)}),getAbGroup:(h=(0,o.default)(i.default.mark((function t(){var e,r,n,s,o,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getInstance().getAbTest();case 2:return e=t.sent,t.next=5,y.getInstance().getDeactivatedFeaturesSide();case 5:return r=t.sent,t.next=8,y.getInstance().getActivatedFeaturesSide();case 8:if(n=t.sent,e&&e.length){t.next=11;break}return t.abrupt("return",r);case 11:return t.next=13,p.local.get("extensionId");case 13:if(s=t.sent,(o=s.replace(/\D/g,"").slice(-4))%2!=0){t.next=17;break}return t.abrupt("return",r);case 17:return a=o%e.length,t.abrupt("return",!0===e[a]?n:r);case 19:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)}),trackToBQ:(l=(0,o.default)(i.default.mark((function t(e,r){var n,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getInstance().getPartnersToTest();case 2:if(t.sent.includes(r)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,v.getAbGroup();case 7:n=t.sent,s=u(u({},e),{},{partner:r,abTestName:"incrementability-test",abTestGroup:n}),m.postData("partnerTrackingTestToBQ",s);case 10:case"end":return t.stop()}}),t)}))),function(t,e){return l.apply(this,arguments)}),fetchConfiguration:(c=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getInstance().fetch();case 2:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)})};t.exports=v},69144:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));t.exports=class{constructor(t){this.eventName=t}setEvent(t){this.eventName=t}dispatch(){var t=arguments,e=this;return(0,s.default)(i.default.mark((function n(){var s,o;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:{},n.next=3,new Promise((t=>{var n=new CustomEvent(e.eventName,{detail:{data:s,callback:t}});r.g.dispatchEvent(n)}));case 3:return o=n.sent,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))()}}},41912:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));t.exports=class{constructor(t,e){this.eventName=t,this.useCase=e}connect(){r.g.addEventListener(this.eventName,(t=>{this.on(t)}))}on(t){var e=this;return(0,s.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.useCase(t.detail.data);case 2:n=r.sent,e.publish(n,t.detail.sendResponse||t.detail.callback);case 4:case"end":return r.stop()}}),r)})))()}publish(t,e){e(t)}}},9750:(t,e,r)=>{"use strict";var n=r(69144),i=r(41912);t.exports={EventDispatch:n,EventListener:i}},58256:(t,e,r)=>{"use strict";var n=r(1762),i={notify:function(t){if(!t)throw new TypeError('The parameter "error" is required')},setContext:(t,e)=>{if(!t||!e)throw new TypeError('The parameters "name" and "context" are required');return n.setContext(t,e)},wrap:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)throw new TypeError('The parameter "callback" is required');if(!Array.isArray(e))throw new TypeError('The parameter "parameters" must be an array');if("function"!=typeof t)throw new TypeError('The parameter "callback" must be a function');return n.wrap((()=>t(...e)))},initializeSentry:()=>console.info("You are in a stable release, sentry will not start")};t.exports=i},38806:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw s}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u,c=r(43902),l=r(24654),h=r(75488),f=r(63592);t.exports={activatedPartners:[],addPartner:function(t){if(this.hasPartner(t))return this.getPartner(t);var e={id:t,activationTime:Date.now()};return this.activatedPartners.push(e),this.getPartner(t)},hasPartner:function(t){if(this.removeExpired(),!this.activatedPartners)return!1;for(var e=0;e<this.activatedPartners.length;e+=1)if(this.activatedPartners[e].id===t)return!0;return!1},getPartner:function(t){if(this.removeExpired(),!this.activatedPartners)return!1;for(var e=0;e<this.activatedPartners.length;e+=1)if(this.activatedPartners[e].id===t)return this.activatedPartners[e];return!1},getPartners:function(){return this.removeExpired(),this.activatedPartners},removeExpired:function(){var t,e=[],r=[],n=o(this.activatedPartners);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.activationTime+216e5>Date.now()?e.push(i):r.push(i)}}catch(t){n.e(t)}finally{n.f()}this.activatedPartners=e,this.findPartnerTabToSendEvent(r)},findPartnerTabToSendEvent:function(t){var e=[];c.tabs.query({},(r=>{var n,i=o(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(null!=s&&s.url&&l&&0!==Object.keys(l).length){var a=l.checkForDomain(s.url);if(a){var u,c=l.getPartner(a),h=o(t);try{for(h.s();!(u=h.n()).done;){var f=u.value;if(f.id===c.id)e.includes(f.id)||(e.push(f.id),this.sendEventToPartnerTracking(s.id))}}catch(t){h.e(t)}finally{h.f()}}}}}catch(t){i.e(t)}finally{i.f()}}))},sendEventToPartnerTracking:(u=(0,s.default)(i.default.mark((function t(e){var r,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],h.settings&&h.settings.userJourneyCrawl&&(r=h.settings.userJourneyCrawl),t.next=4,f.get("extension-user-journey-v2");case 4:n=t.sent,c.tabs.sendMessage(parseInt(e,10),{greeting:"RESPONSE-PARTNER-TRACKING-CONFIG",activated:!1,deactivationReason:"inactivity",config:r,featureVersion:n?"v2":"v1"});case 6:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)}),removePartner:function(t){this.activatedPartners=this.activatedPartners.filter((e=>e.id!==t))}}},77132:(t,e,r)=>{"use strict";r(92676),r(36522)},23222:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(27424)),o=n(r(17156));function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(){return(c=(0,o.default)(i.default.mark((function t(e,r){var n,o,u,c,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a(e.entries()),t.prev=1,n.s();case 3:if((o=n.n()).done){t.next=11;break}return u=(0,s.default)(o.value,2),c=u[0],l=u[1],t.next=7,r(l,c,e);case 7:if(!t.sent){t.next=9;break}return t.abrupt("return",c);case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),n.e(t.t0);case 16:return t.prev=16,n.f(),t.finish(16);case 19:return t.abrupt("return",-1);case 20:case"end":return t.stop()}}),t,null,[[1,13,16,19]])})))).apply(this,arguments)}t.exports=function(t,e){return c.apply(this,arguments)}},97221:(t,e,r)=>{"use strict";var n=r(23222),i=t=>new Promise((e=>setTimeout(e,t))),s=(t,e)=>e().catch((r=>t>1?s(t-1,e):Promise.reject(r))),o=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return r().catch((o=>e>1?i(n).then((()=>t(e-1,r,n*s))):Promise.reject(o)))};t.exports={backoff:o,delayedRetry:function(t,e){return o(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,1)},pause:i,retry:s,asyncFindIndex:n}},111:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(29825),a=r(8014),u="google-analytics-enabled",c="google-sidebar-configuration-switch",l="comparator-configuration-switch",h="tip-configuration-switch",f="coupon-applier-configuration-switch",d="firefox-cookies-access-enabled";function p(t){return m.apply(this,arguments)}function m(){return(m=(0,s.default)(i.default.mark((function t(e){var r,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Date.now()+2628002880,n=e.options.comparatorEnabled?0:r,t.next=4,Promise.all([o.local.set(u,e.options.gaEnabled),o.local.set(c,e.options.googleSidebarEnabled),o.local.set(l,n),o.local.set(h,e.options.tipEnabled),o.local.set(f,e.options.couponApplierEnabled)]);case 4:e.options.firefoxCookieAccessEnabled?a.enableCookieAccess():a.disableCookieAccess();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return y.apply(this,arguments)}function y(){return(y=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,o.local.get(l);case 3:return t.t1=t.sent,t.t2=Date.now(),t.t3=t.t1<=t.t2,t.next=8,o.local.get(c);case 8:return t.t4=t.sent,t.next=11,o.local.get(h);case 11:return t.t5=t.sent,t.next=14,o.local.get(f);case 14:return t.t6=t.sent,t.next=17,o.local.get(d);case 17:return t.t7=t.sent,t.next=20,o.local.get(u);case 20:t.t8=t.sent,t.t9={comparatorEnabled:t.t3,googleSidebarEnabled:t.t4,tipEnabled:t.t5,couponApplierEnabled:t.t6,firefoxCookieAccessEnabled:t.t7,gaEnabled:t.t8},(0,t.t0)(t.t9);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var v=function(){var t=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get(c);case 2:return t.t0=t.sent,t.abrupt("return",!0===t.t0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get(f);case 2:return t.t0=t.sent,t.abrupt("return",!0===t.t0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get(h);case 2:return t.t0=t.sent,t.abrupt("return",!0===t.t0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.local.get(l);case 2:return t.t0=t.sent,t.t1=Date.now(),t.abrupt("return",t.t0<=t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t.exports={handleGoogleAnalyticReports:function(t){var e=t.message;return"SET-USER-CONFIGURATION"!==e.greeting||p(e),!1},handleGetUserSettings:function(t){var e=t.message,r=t.sendResponse;return"GET-USER-CONFIGURATION"===e.greeting&&(g(r),!0)},isGoogleSidebarSwitchEnabled:v,isCouponApplierSwitchEnabled:b,isTipSwitchEnabled:w,isComparatorSwitchEnabled:_,setSettings:p,sendUserSettings:g}},43861:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(69425),a=r(58256);t.exports=class{constructor(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10080;this.featureName=t,this.callback=e,this.key=r,this.expiration=n,this.logger=a,this.store=o}isExpired(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.store.get(t.store.expirationKeyOf(t.key));case 2:if((r=e.sent)&&null!=r&&r.expiration){e.next=5;break}return e.abrupt("return",!0);case 5:if(!(Date.now()>=parseInt(r.expiration,10))){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()}getExpiration(){return{expiration:6e4*(this.expiration-1)+Date.now()}}get(){var t=this;return(0,s.default)(i.default.mark((function e(){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.store.get(t.key);case 2:if((r=e.sent)&&Object.keys(r).length){e.next=12;break}return e.next=6,t.store.remove(t.key);case 6:return e.next=8,t.store.remove(t.store.expirationKeyOf(t.key));case 8:return e.next=10,t.fetch();case 10:return n=e.sent,e.abrupt("return",n);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))()}set(t){var e=this;return(0,s.default)(i.default.mark((function r(){return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.store.set(e.key,t,e.getExpiration());case 2:case"end":return r.stop()}}),r)})))()}remove(){var t=this;return(0,s.default)(i.default.mark((function e(){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.store.remove(t.key);case 2:return e.next=4,t.get();case 4:if(!(r=e.sent)||!Object.keys(r).length){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})))()}fetch(){var t=this;return(0,s.default)(i.default.mark((function e(){var r,n,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.isExpired();case 2:if(e.sent){e.next=8;break}return e.next=6,t.get();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.next=11,t.callback();case 11:if(n=e.sent,s=n.data){e.next=15;break}throw new Error;case 15:return e.next=17,t.store.set(t.key,s,t.getExpiration());case 17:return e.abrupt("return",s);case 20:e.prev=20,e.t0=e.catch(8),t.store.set(t.key,{},t.getExpiration()),t.logger.notify(e.t0,"modules/storage/".concat(t.featureName,"#fetch"));case 24:return e.abrupt("return",{});case 25:case"end":return e.stop()}}),e,null,[[8,20]])})))()}}},29825:(t,e,r)=>{"use strict";var n=r(45409),i=r(64898),s=r(11116),o=r(13362),a=r(43861);t.exports={local:n,server:s,session:i,utils:o,BaseConfiguration:a}},45409:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(69425);function a(){return(a=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.removeExpiredKeys();case 2:return t.abrupt("return",o.get(e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports={get:function(t){return a.apply(this,arguments)},set:function(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).expiration;return o.removeExpiredKeys(),o.set(t,e,r)},remove:function(t){return o.removeExpiredKeys(),o.remove(t)},clear:function(){return o.clearAll()},observe:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if(!e)throw Error("When observing localstorage, should specify a callback");return o.observe(t,e)},unobserve:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.unobserve(t)}}},11116:(t,e,r)=>{"use strict";var n=r(7742).firestore();t.exports=function(t){if(!t)throw Error("[Storage] Can't store data without collection reference");return n.collection(t)}},64898:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(43902),a=o.storage.session||o.storage.local;function u(){return(u=(0,s.default)(i.default.mark((function t(e,r,n){var s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=Date.now(),n&&(r.expiration=(s+6e4*n).toString()),t.next=4,a.set({[e]:r});case 4:return t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(){return(c=(0,s.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.get(e);case 2:return r=t.sent,t.abrupt("return",r[e]||r);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports={get:function(t){return c.apply(this,arguments)},set:function(t,e,r){return u.apply(this,arguments)},remove:function(t){return a.remove(t)},clear:function(){return a.clear()}}},69425:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(27424)),o=n(r(38416)),a=n(r(17156));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,o.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l,h=r(17187),f=r(43902),d={set:function(t,e,r){return new Promise(function(){var n=(0,a.default)(i.default.mark((function n(s){var o,a;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r?{[E(t)]:r}:{},n.next=3,v(t);case 3:a=n.sent,y().set(c({[t]:e},o),(()=>{m.emit(g.value_changed,{[t]:{newValue:e,oldValue:a}}),s()}));case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},get:v,remove:_,clearAll:function(){return new Promise((t=>{y().clear(t)}))},observe:function(t,e){m.on(g.value_changed,(r=>{r[t]&&e(r[t].newValue,r[t].oldValue)}))},removeExpiredKeys:function(){return S.apply(this,arguments)},expirationKeyOf:E},p="__expiration_",m=new h,g={value_changed:Symbol("value_changed")};function y(){return f.storage.local}function v(t){return new Promise((e=>{y().get(t,e)})).then((e=>"string"==typeof t?e[t]:e))}function b(){return w.apply(this,arguments)}function w(){return(w=(0,a.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v(null));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return new Promise(function(){var e=(0,a.default)(i.default.mark((function e(r){var n,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:n=e.sent,s=[t,E(t)],y().remove(s,(()=>{m.emit(g.value_changed,{[t]:{newValue:void 0,oldValue:n}}),r()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function E(t){return"".concat(p).concat(t)}function S(){return S=(0,a.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=2;break}return t.abrupt("return",l);case 2:return l=new Promise(function(){var t=(0,a.default)(i.default.mark((function t(e){var r,n,o,a,u,c,l,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:for(r=t.sent,n=[],o=0,a=Object.entries(r);o<a.length;o++)u=(0,s.default)(a[o],1),c=u[0],l=E(c),(h=r[l])&&(i=h,Date.now()>i)&&(n.push(_(c)),n.push(_(l)));e(Promise.all(n));case 6:case"end":return t.stop()}var i}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((()=>{})).finally((()=>{l=!1})),t.abrupt("return",l);case 4:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}t.exports=d},13362:t=>{"use strict";t.exports={getLast4Digits:function(t){var e=t.replace(/\D/g,"");return Number(e.substr(e.length-4))}}},58194:(t,e,r)=>{"use strict";var n=r(64836)(r(51589)),i=t=>String(t).replace(/[^0-9,.\\-]+/g,""),s=(t,e,r)=>{var i=t.split(r),s=(0,n.default)(i).slice(1);return e<0&&s.every((t=>t.length%3==0))},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:e}).format(t)};t.exports={currencyToFloat:t=>parseFloat(i(t).replace(".","").replace(",",".")),currencyToFloatAdvanced:t=>{var e=i(t),r=e.lastIndexOf("."),n=e.lastIndexOf(","),o=r>n,a=s(e,r,","),u=s(e,n,".");return a||u?parseFloat(e.replace(/(\.)|(,)/g,"")):o?parseFloat(e.replace(",","")):parseFloat(e.replace(".","").replace(",","."))},removeNonFloatDigits:i,stripNonDigits:t=>t.replace(/\D/g,""),numberToCurrency:o,isCurrencyWithoutCents:s,replaceTerms:function(t){var e=t||"";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((t=>{var r=t.term,n=t.replaceFor;e=e.replace(r,n)})),e},extractSubstring:t=>{var e=t.string,r=t.startTerm,n=t.endTerm,i=t.startIndex,s=t.endIndex;if(!e||"string"!=typeof e||0===e.length)return"";var o=e.indexOf(r),a=o>-1?o+r.length:i||0,u=e.indexOf(n,a),c=u>-1?u:s||e.length-1;return e.substring(a,c)},formatCashback:(t,e)=>t&&e?"percentage"===t||"percent"===t?"".concat(e,"%"):o(e):e,formatCashbackByType:(t,e)=>"percentage"===t||"percent"===t?"".concat(e,"%"):o(e,2)}},27877:(t,e,r)=>{"use strict";var n=r(4147),i=n.name,s=n.version,o="/".concat("stable");t.exports="".concat(i,"/").concat(s).concat(o)},9134:(t,e,r)=>{"use strict";var n=r(43902),i={clearCartClickEvent(t){var e={hitType:"event",eventCategory:"Clear Cart",eventAction:arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"Active":"Click",eventLabel:t,page:"/clear-cart-popup"};n.runtime.sendMessage({greeting:"CLEAR-CART-INSTRUMENT",ga:e})},clearCartPageViewEvent(){n.runtime.sendMessage({greeting:"CLEAR-CART-INSTRUMENT",ga:{hitType:"pageview",title:"Clear cart",page:"/clear-cart-popup"}})}};t.exports=i},73904:(t,e,r)=>{"use strict";var n,i,s,o,a=r(64836),u=a(r(64687)),c=a(r(17156)),l=r(9134),h=r(1610).gebid,f=r(40070),d=r(84085),p=r(40764).sendEventToFirebase,m=r(43902),g={activateButton:h("clear-cart-activation-button"),okButton:h("clear-cart-button-ok"),goToCartButton:h("clear-cart-button-redirect"),activationModal:(o=(0,c.default)(u.default.mark((function t(e){var r,n,i;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.currentTab,n=e.storeInfo,i=e.activateCashback,h("clear-cart-partner").style.display="block",m.runtime.sendMessage({greeting:"TIP-CLOSE",fromPopup:!0}),m.runtime.sendMessage({greeting:"COUPON-APPLIER-CLOSE",fromPopup:!0}),g.activateButton.addEventListener("click",(()=>{p("activation"),l.clearCartClickEvent("Enable Cashback",!0),m.runtime.sendMessage({greeting:"RESET-ITEMS-IN-CART"}),m.runtime.sendMessage({greeting:"RESET-GO-TO-CART-VIEWED"}),m.runtime.sendMessage({greeting:"CLEAR-CART-CLOSE-MODAL",currentTab:r});var t={feature:"clear cart activation modal",type:"store",origin:"cashback",tabId:null==r?void 0:r.id,url:null==r?void 0:r.url};i(null,n.id,t)})),d.fireEvent("view","clear_cart_activation_modal",{tabId:null==r?void 0:r.id,url:null==r?void 0:r.url});case 6:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)}),alertModal:(s=(0,c.default)(u.default.mark((function t(e,r){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.goToCartButton.addEventListener("click",(()=>{d.fireEvent("click","clear_cart_alert_modal",{tabId:null==e?void 0:e.id,url:null==e?void 0:e.url}),l.clearCartClickEvent("Go to Cart"),p("click"),m.runtime.sendMessage({greeting:"CLEAR-CART-GO-TO-CART-PAGE",tabId:e.id,popup:!0}),r()})),d.fireEvent("view","clear_cart_alert_modal",{tabId:null==e?void 0:e.id,url:null==e?void 0:e.url}),p("pageview");case 3:case"end":return t.stop()}}),t)}))),function(t,e){return s.apply(this,arguments)}),alertCheckoutModal:(i=(0,c.default)(u.default.mark((function t(e,r){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.okButton.addEventListener("click",(()=>{d.fireEvent("click","clear_cart_alert_checkout_modal",{tabId:null==e?void 0:e.id,url:null==e?void 0:e.url}),p("Ok Cart Cleared"),l.clearCartClickEvent("Ok Cart Cleared"),r()})),g.goToCartButton.style.display="none",g.okButton.style.display="inline",d.fireEvent("view","clear_cart_alert_checkout_modal",{tabId:null==e?void 0:e.id,url:null==e?void 0:e.url});case 4:case"end":return t.stop()}}),t)}))),function(t,e){return i.apply(this,arguments)}),showClearCartPage:(n=(0,c.default)(u.default.mark((function t(e){var r,n,i,s,o,a,c,d;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.clearPartnerConfig,n=e.storeInfo,i=e.currentTab,s=e.asyncSendMessage,o=e.windowClose,a=e.activateCashback,l.clearCartPageViewEvent(),c=null==i?void 0:i.url.includes(r.cartUrl),t.next=5,s("CLEAR-CART-HANDLE-LAYOUT");case 5:if(d=t.sent,f.close(),h("mz-loading-container").style.display="none",h("home-container").style.display="none",h("popup-footer").style.display="none",h("clear-cart-page").style.display="block",!d){t.next=14;break}return g.activationModal({currentTab:i,storeInfo:n,activateCashback:a}),t.abrupt("return");case 14:if(h("clear-cart-warning").style.display="block",m.runtime.sendMessage({greeting:"TIP-CLOSE",fromPopup:!0}),m.runtime.sendMessage({greeting:"COUPON-APPLIER-CLOSE",fromPopup:!0}),!c){t.next=20;break}return g.alertCheckoutModal(i,o),t.abrupt("return");case 20:g.alertModal(i,o);case 21:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})};t.exports=g},97633:(t,e,r)=>{"use strict";var n=r(43902),i="COUPON-APPLIER-INSTRUMENT",s="popup",o={pageView(t,e){var r={hitType:"pageview",title:"status=".concat(e,";cashback-is-active=").concat(t)};n.runtime.sendMessage({greeting:i,ga:r,source:s})},pageViewNoCouponApplied(t){o.pageView(t,"no-coupon-applied")},pageViewMeliuzCouponApplied(t){o.pageView(t,"meliuz-coupon-applied")},pageViewThirdPartyCouponApplied(t){o.pageView(t,"third-party-coupon-applied")},testCouponsClick(){n.runtime.sendMessage({greeting:i,ga:{hitType:"event",eventAction:"Click",eventLabel:"button=test-coupons-and-activate"},source:s})}};t.exports=o},82097:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(27424)),o=n(r(17156)),a=r(43902),u=r(8584),c=r(97633),l=r(7960),h=r(26382),f=r(33348),d={GA:c,Layout:l,getActivationOptions:t=>({dataTarget:"popup_coupon_applier",eventLabel:"btn-name=test-coupons?partner-id=".concat(t),isCouponApplier:!0,forceHideMainReminder:!0}),startCouponTesting(t){a.tabs.sendMessage(t,{greeting:"COUPON-APPLIER-TEST-COUPONS"})},getConfigForUrl:u.getConfigForUrl,chooseCouponApplierLayout:(t,e,r)=>(0,o.default)(i.default.mark((function n(){var o,a,u,c,p,m,g;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(new f).get();case 2:if(o=n.sent,a=!0,o.partnersIDs.includes(t.partner.id)&&(a=!1),u={shouldShowCouponsSection:!0,isCashbackActive:t.activated,shouldActiveCashback:a},r){n.next=8;break}return n.abrupt("return",u);case 8:return n.next=10,Promise.all([d.isCouponApplied(e.id).catch((()=>null)),h.get(t.id).catch((()=>[]))]);case 10:if(c=n.sent,p=(0,s.default)(c,2),m=p[0],g=p[1],m){n.next=16;break}return n.abrupt("return",u);case 16:if(m.applied){n.next=19;break}return u.type=l.NO_COUPON_APPLIED,n.abrupt("return",u);case 19:return u.code=m.code,m.applied&&g.some((t=>t.code===m.code))?(u.shouldShowCouponsSection=!1,u.type=l.MELIUZ_COUPON_APPLIED):u.type=l.THIRD_PARTY_COUPON_APPLIED,n.abrupt("return",u);case 23:case"end":return n.stop()}}),n)})))(),isCouponApplied:t=>new Promise((e=>{a.tabs.sendMessage(t,{greeting:"IS-COUPON-APPLIED"},e)}))};t.exports=d},7960:t=>{"use strict";var e={NO_COUPON_APPLIED:"no-coupon-applied",MELIUZ_COUPON_APPLIED:"meliuz-coupon-applied",THIRD_PARTY_COUPON_APPLIED:"3rd-party-coupon-applied",showPrompt(){document.querySelector("#mz-coupon-applier-prompt").style.display="block"},setButtonText(){!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])||(document.querySelector("#coupon-applier-prompt-button").textContent="Testar cupons!")},getTestCouponsButton:()=>document.querySelector("#coupon-applier-prompt-button"),setLayout(t,r){switch(t.type){case e.MELIUZ_COUPON_APPLIED:document.querySelector("#mz-coupon-applier-activated").style.display="block",document.querySelector("#coupon-applied-label-code").textContent=t.code;break;case e.NO_COUPON_APPLIED:case e.THIRD_PARTY_COUPON_APPLIED:e.setStandardLayout(t.isCashbackActive,r,t.shouldActiveCashback)}},setStandardLayout(t,r,n){e.getTestCouponsButton().addEventListener("click",r),e.setButtonText(t,n),e.showPrompt()}};t.exports=e},63026:(t,e,r)=>{"use strict";var n,i,s,o,a,u=r(64836),c=u(r(64687)),l=u(r(17156)),h=r(27856),f=r(1610).gebid,d=r(53014),p=r(33980),m=r(63592),g=r(43902),y=r(58194).numberToCurrency,v=r(82188).ga,b=r(29825),w=r(84085),_={DOMPurifyConfig:{ADD_ATTR:["target"]},couponsLoaded:null,cashbackValueFromPartner:t=>{var e;if(0===t.active_cashback_offer.value)return"";var r=!0===(null==t||null===(e=t.active_cashback_offer)||void 0===e?void 0:e.cashback_category)?"At\xe9 ":"";return"percentage"===t.active_cashback_offer.type?"+".concat(r).concat(t.active_cashback_offer.value,"% de volta"):"+".concat(r).concat(y(t.active_cashback_offer.value,2)," de volta")},couponsCard:(a=(0,l.default)(c.default.mark((function t(e,r,n){var i,s,o,a,u,l;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.partner,s=_.cashbackValueFromPartner(i),o=d.get(),t.next=5,b.local.get("extensionId");case 5:return a=t.sent,t.next=8,p();case 8:return u=t.sent,l=u.formatUrl("".concat("https://www.meliuz.com.br","/redirecionar2/oferta/").concat(r.id),o),t.abrupt("return",'\n      <li class="mz-coupons-card  mz:pb--small" id="mz-coupons-card-'.concat(e,"-").concat(n,'">\n        <a data-href="').concat(l,"&ext_id=").concat(a,'&mz_trends_offers=true" class="mz-coupons-card__size mz:flex--column">\n            <div class="mz:img__container"><img class="mz-coupons-card__logo-no-pointer-events" src="').concat(i.thumbnail,'"></div>\n            <div class="mz-coupons-card__name text--left mz:pt--micro">').concat(i.name,'</div>\n            <div class="mz-coupons-card__title">').concat(r.title,'</div>\n            <div class="mz-coupons-card__cashback">').concat(s,"</div>\n        </a>\n      </li>\n        "));case 11:case"end":return t.stop()}}),t)}))),function(t,e,r){return a.apply(this,arguments)}),addCouponsTracker:(t,e)=>{v({hitType:"event",eventCategory:"Best Coupons",eventAction:"Click",eventLabel:"See Best Coupon Partner",page:t}),w.fireEvent("click","redirect_to_ecommerce_store",{type:"store",origin:"coupon",feature:"coupon home screen",partner:{name:null==e?void 0:e.partner.name,id:null==e?void 0:e.partner.id,mainOfferId:null==e?void 0:e.id}})},couponsHomeContainer:(o=(0,l.default)(c.default.mark((function t(e,r,n){var i;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f("mz-coupons__content"),t.t1=h,t.next=4,_.couponsCard("home",e,r);case 4:t.t2=t.sent,t.t3=_.DOMPurifyConfig,t.t4=t.t1.sanitize.call(t.t1,t.t2,t.t3),t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t4),(i=f("mz-coupons-card-home-".concat(r))).addEventListener("click",n),i.addEventListener("click",(()=>_.addCouponsTracker("/home",e)));case 11:case"end":return t.stop()}}),t)}))),function(t,e,r){return o.apply(this,arguments)}),couponsPageContainer:(s=(0,l.default)(c.default.mark((function t(e,r,n){var i;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f("mz-coupons-page-container"),t.t1=h,t.next=4,_.couponsCard("page",e,r);case 4:t.t2=t.sent,t.t3=_.DOMPurifyConfig,t.t4=t.t1.sanitize.call(t.t1,t.t2,t.t3),t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t4),(i=f("mz-coupons-card-page-".concat(r))).addEventListener("click",n),i.addEventListener("click",(()=>_.addCouponsTracker("/all-coupons-page",e)));case 11:case"end":return t.stop()}}),t)}))),function(t,e,r){return s.apply(this,arguments)}),displayCouponsDisabled:()=>{f("mz-coupons__container").style.display="none",f("Coupons-Information-Disabled").style.display="block"},loadCouponsAndOffers:(i=(0,l.default)(c.default.mark((function t(e,r){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&0!==e.length){t.next=3;break}return _.displayCouponsDisabled(),t.abrupt("return");case 3:f("mz-coupons__container").style.display="block",f("mz-store__div--coupons").removeAttribute("style"),f("show-all-coupons-button").removeAttribute("style"),f("show-all-coupons-mz-button-lazy-load").style.display="none",document.querySelectorAll(".mz-coupons-card").forEach((t=>{t.remove()})),e.forEach(((t,e)=>{e<4&&_.couponsHomeContainer(t,e,r),_.couponsPageContainer(t,e,r)}));case 9:case"end":return t.stop()}}),t)}))),function(t,e){return i.apply(this,arguments)}),getCouponsAndOffers:(n=(0,l.default)(c.default.mark((function t(e){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get("extension-enable-display-coupons-offers");case 2:if(!t.sent){t.next=12;break}if(_.couponsLoaded){t.next=8;break}g.runtime.sendMessage({greeting:"REQUEST-COUPONS-OFFERS"},function(){var t=(0,l.default)(c.default.mark((function t(r){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _.couponsLoaded=r.data,t.next=3,_.loadCouponsAndOffers(_.couponsLoaded,e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=10;break;case 8:return t.next=10,_.loadCouponsAndOffers(_.couponsLoaded,e);case 10:t.next=13;break;case 12:_.displayCouponsDisabled();case 13:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})};t.exports=_},40764:(t,e,r)=>{"use strict";var n=r(43902),i={sendEventToFirebase:t=>{n.runtime.sendMessage({greeting:"CLEAR-CART-FIREBASE-TRACK",eventType:t})}};t.exports=i},18592:(t,e,r)=>{"use strict";var n,i=r(64836),s=i(r(64687)),o=i(r(17156)),a=r(1610).gebid,u=r(8014),c=u.isCookieAccessEnabled,l=u.enableCookieAccess,h=u.disableCookieAccess,f=r(43902),d=new(r(17187));f.tabs.query({active:!0,currentWindow:!0},function(){var t=(0,o.default)(s.default.mark((function t(e){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e[0];case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());class p{constructor(t,e){this.layout=t,this.goToConfigurationListener=e,this.acceptButtonListener=this.onAcceptButtonClick.bind(this),this.closeButtonListener=this.onCloseButtonClick.bind(this)}static maskBackground(){var t=a("mask");t&&(t.style.display="")}static unmaskBackground(){var t=a("mask");t&&(t.style.display="none")}ensureCookiePermissionIsGiven(){var t=this;return(0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.abrupt("return",new Promise(((e,r)=>{d.once("accepted",e),d.once("refused",r),t.setupPrompt()})));case 5:case"end":return e.stop()}}),e)})))()}setupPrompt(){p.maskBackground(),this.applyLayout(),p.displayPrompt(),this.addListeners()}applyLayout(){a("fca-text-body").innerText=this.layout.body,this.layout.customBodyClass&&(a("fca-text-body").classList.add(this.layout.customBodyClass),d.once("teardown",(()=>{a("fca-text-body").classList.remove(this.layout.customBodyClass)})))}teardownPrompt(){d.emit("teardown"),this.removeListeners(),p.hidePrompt(),p.unmaskBackground()}static displayPrompt(){var t=a("firefox-cookie-access");t&&(t.style.display="block")}static hidePrompt(){var t=a("firefox-cookie-access");t&&(t.style.display="none")}onAcceptButtonClick(){var t=this;return(0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:d.emit("accepted"),f.runtime.sendMessage({greeting:"REQUEST-CLOSE-COOKIE-ACCESS-FEATURE",tab:n}),t.teardownPrompt();case 5:case"end":return e.stop()}}),e)})))()}onCloseButtonClick(){var t=this;return(0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:d.emit("refused"),t.teardownPrompt();case 4:case"end":return e.stop()}}),e)})))()}addListeners(){var t=a("accept-cookies-button");t&&t.addEventListener("click",this.acceptButtonListener);var e=a("fca-close-icon");e&&e.addEventListener("click",this.closeButtonListener);var r=a("fca-myaccount-link");r&&(r.addEventListener("click",this.goToConfigurationListener),r.addEventListener("click",this.closeButtonListener))}removeListeners(){var t=a("accept-cookies-button");t&&t.removeEventListener("click",this.acceptButtonListener);var e=a("fca-close-icon");e&&e.removeEventListener("click",this.closeButtonListener);var r=a("fca-myaccount-link");r&&(r.removeEventListener("click",this.closeButtonListener),r.removeEventListener("click",this.goToConfigurationListener))}}t.exports=p},25958:(t,e,r)=>{"use strict";r(56700);var n=r(63417),i=n.Button,s=n.CreateElement,o=n.Icon,a=n.Text;t.exports=t=>{var e=t.label,r=void 0===e?null:e,n=t.cashbackActivated,u=t.onClick;if(!n)return i({label:r||"Ativar",onClick:void 0===u?null:u,classList:["mz:cashback-button--active"]});var c=s({classList:["mz:cashback-button--activated"]});return c.append(o({type:"circle-check"}),a({content:r||"Ativado"})),c}},52265:(t,e,r)=>{"use strict";var n=r(25958);t.exports=n},32344:(t,e,r)=>{"use strict";var n=r(63417).Text,i=r(58194).formatCashbackByType;t.exports=t=>{if(!t)return new DocumentFragment;var e=i(t.type,t.value);return n({content:"Nas demais categorias, voc\xea ganha <b>".concat(e," de cashback</b>"),variant:"subtitle-1",align:"center",styles:{width:"200px"}})}},29569:(t,e,r)=>{"use strict";var n=r(32344);t.exports=n},5630:(t,e,r)=>{"use strict";var n=r(63417),i=n.Text,s=n.CreateElement,o=r(58194).formatCashbackByType;t.exports=t=>{var e=s(),r=s(),n=s({classList:["mz:cashback-by-category--list__category"]}),a=i({content:t.description,variant:"text-1"}),u=i({content:o(t.type,t.value),variant:"text-1",bold:!0});return e.appendChild(a),r.appendChild(u),n.append(e,r),n}},7930:(t,e,r)=>{"use strict";var n=r(5630);t.exports=n},89977:(t,e,r)=>{"use strict";var n=r(33771);t.exports=n},33771:(t,e,r)=>{"use strict";r(79551);var n=r(43902),i=r(63417),s=i.Image,o=i.Text,a=i.CreateElement;t.exports=()=>{var t=a({classList:["mz:cashback-by-category__no-data"]}),e=s({imagePath:n.runtime.getURL("images/icon-info.svg"),styles:{width:"40px",height:"40px",margin:"0 0 8px 0"}}),r=o({content:"No momento n\xe3o estamos conseguindo listar as categorias do parceiro. Nosso time est\xe1 trabalhando para resolver isso!",variant:"subtitle-3",align:"center"});return t.append(e,r),t}},53583:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw s}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(23047);var u=r(63417).CreateElement,c=r(27531),l=c.usePartnerCategories,h=c.useCashback,f=r(52265),d=r(7930),p=r(89977),m=r(29569),g=function(){var t=(0,s.default)(i.default.mark((function t(e,r){var n,s,a,c,g,y,v,b,w,_,E,S;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(r);case 2:n=t.sent,s=n.data,a=n.baseCashback,c=h(),g=c.handleActiveCashback,y=u({classList:["mz:cashback-by-category"]}),v=u({id:"mz-cashback-by-category",classList:["mz:cashback-by-category--list"]}),s&&s.length||v.appendChild(p()),b=o(s);try{for(b.s();!(w=b.n()).done;)_=w.value,v.appendChild(d(_))}catch(t){b.e(t)}finally{b.f()}return E=m(a),S=f({label:e?"Cashback ativado!":"Ativar cashback",cashbackActivated:e,onClick:g}),y.append(v,E,S),t.abrupt("return",y);case 16:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();t.exports=g},41860:(t,e,r)=>{"use strict";var n=r(53583);t.exports=n},13347:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));r(65144);var o=r(43902),a=r(63417),u=a.Text,c=a.Button,l=a.Image,h=a.CreateElement,f=r(27531),d=f.useCashback,p=f.useCouponApplier,m=f.useGetCurrentTab,g=r(84085),y=function(){var t=(0,s.default)(i.default.mark((function t(e){var r,n,s,a,f,y,v,b,w,_,E,S,x;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return r=t.sent,t.next=5,p(e.id,r);case 5:if(n=t.sent,s=n.show,a=n.handleOnClick,s){t.next=10;break}return t.abrupt("return",new DocumentFragment);case 10:return f=d(),y=f.isActivated,v=f.handleActiveCashback,b=u({content:"Encontramos cupons para voc\xea aproveitar ainda mais a sua compra!"}),w=l({imagePath:o.runtime.getURL("popup/images/coupon/coupon-magnifier.png")}),_=c({label:"Testar cupons".concat(y?"":" e ativar cashback","!"),variant:"secondary",onClick:()=>{v({dataTarget:"popup_coupon_applier",isReminder:!0,isCouponApplier:!0,forceHideMainReminder:!0,data:{feature:"coupon applier partner screen",type:"store",origin:"cashback",tabId:null==r?void 0:r.id,url:null==r?void 0:r.url}}),a(null==r?void 0:r.id),y&&g.fireEvent("click","coupon_applier_partner_screen",{tabId:null==r?void 0:r.id,url:null==r?void 0:r.url})}}),E=h({classList:["mz:coupon-applier__top"]}),S=h({classList:["mz:coupon-applier__bottom"]}),x=h({classList:["mz:coupon-applier"]}),E.append(b,w),S.appendChild(_),x.append(E,S),g.fireEvent("view","coupon_applier_partner_screen_modal",{tabId:null==r?void 0:r.id,url:null==r?void 0:r.url}),t.abrupt("return",x);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=y},81397:(t,e,r)=>{"use strict";var n=r(13347);t.exports=n},10523:(t,e,r)=>{"use strict";r(65989);var n=r(63417),i=n.Text,s=n.Button,o=n.CreateElement,a=r(27531).useCashback;t.exports=t=>{var e=t.id,r=t.code,n=t.hasCashback,u=t.partner,c=a().handleCashbackActivationForCouponAndOffer,l=o({classList:["mz:coupons-and-offers__item--coupon"]}),h=i({content:"".concat(r).toUpperCase(),variant:"text-2"}),f=i({content:"Copie o c\xf3digo e cole no carrinho ou durante o fechamento da compra",variant:"subtitle-1"}),d=s({label:null!=u&&u.value?"Copiar e ativar":"Copiar",variant:"secondary",size:"small",onClick:()=>{navigator.clipboard.writeText(r),u.value&&c({id:e,code:r,hasCashback:n})}}),p=document.createElement("div"),m=document.createElement("div");return p.append(h,f),m.appendChild(d),l.append(p,m),l}},18788:(t,e,r)=>{"use strict";var n=r(10523);t.exports=n},96793:(t,e,r)=>{"use strict";var n=r(63417).Text;t.exports=t=>{var e=t.cashback,r=t.title;return{title:n({content:r,styles:{"padding-right":"2px"}}),cashback:e?n({content:"+".concat(e," de volta"),variant:"highlight-1"}):new DocumentFragment}}},14114:(t,e,r)=>{"use strict";var n=r(96793);t.exports=n},87065:(t,e,r)=>{"use strict";var n=r(27545);t.exports=n},27545:(t,e,r)=>{"use strict";r(22222);var n=r(63417),i=n.Accordion,s=n.Text,o=n.CreateElement,a=r(18788),u=r(2939),c=r(14114);t.exports=(t,e)=>{var r=o({id:"coupon_or_offer_".concat(e.legacy_id),classList:["mz:coupons-and-offers__item"]}),n=c({cashback:t.cashback,title:e.title}),l=i({title:s({content:"Regras da Oferta",variant:"subtitle-1"}),content:s({content:e.description,variant:"subtitle-1"})});return null!=e&&e.code&&e.code.length?(r.append(n.title,n.cashback),r.appendChild(a({id:e.legacy_id,code:e.code,hasCashback:e.has_cashback,partner:t}))):r.appendChild(u({id:e.legacy_id,title:n.title,cashback:n.cashback})),r.appendChild(l.container),r}},69459:(t,e,r)=>{"use strict";var n=r(72197);t.exports=n},72197:(t,e,r)=>{"use strict";r(52946);var n=r(43902),i=r(63417),s=i.Image,o=i.Text,a=i.CreateElement;t.exports=()=>{var t=s({imagePath:n.runtime.getURL("popup/images/coupon/no-coupons-logo.png"),styles:{width:"46px",height:"34px"}}),e=o({content:"Nenhum cupom",variant:"subtitle-3",styles:{padding:"9px 0 8px 0"}}),r=o({content:"Atualmente n\xe3o temos cupons ou ofertas dispon\xedveis para este parceiro.",variant:"text-3"}),i=a({classList:["mz:coupons-and-offers__no-data"]});return i.append(t,e,r),i}},2939:(t,e,r)=>{"use strict";var n=r(94907);t.exports=n},94907:(t,e,r)=>{"use strict";r(82081);var n=r(63417),i=n.Button,s=n.CreateElement,o=r(27531).useCashback;t.exports=t=>{var e=t.title,r=t.cashback,n=t.id,a=o().handleCashbackActivationForCouponAndOffer,u=i({label:"Ver oferta",variant:"secondary",size:"small",onClick:()=>a({id:n})}),c=s(),l=s(),h=s({classList:["mz:coupons-and-offers__item--offer"]});return c.append(e,r),l.appendChild(u),h.append(c,l),h}},24821:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){u=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw s}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(39165);var u=r(63417),c=u.Text,l=u.CreateElement,h=r(27531).useCouponsAndOffers,f=r(81397),d=r(87065),p=r(69459),m=function(){var t=(0,s.default)(i.default.mark((function t(e){var r,n,s,a,u,m,g,y;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e.id);case 2:return r=t.sent,n=r.data,t.next=6,f(e);case 6:s=t.sent,a=c({content:"Cupons e ofertas",variant:"title-1"}),(u=l({classList:["mz:coupons-and-offers"]})).append(a,s),n.length||u.appendChild(p()),m=o(n);try{for(m.s();!(g=m.n()).done;)y=g.value,u.appendChild(d(e,y))}catch(t){m.e(t)}finally{m.f()}return t.abrupt("return",u);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=m},87778:(t,e,r)=>{"use strict";var n=r(24821);t.exports=n},4691:(t,e,r)=>{"use strict";r(63942);var n=r(63417),i=n.Image,s=n.Icon,o=n.CreateElement;t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=i({imagePath:t,alt:e,classList:["mz:partner-page-header__logo"]}),a=o({as:"header",classList:["mz:partner-page-header"]});if(r){var u=s({type:"arrow-return",id:"mz-back-button"}),c=o({classList:["mz:partner-page-header__back-button"]});c.appendChild(u),c.addEventListener("click",r),a.appendChild(c)}return a.appendChild(n),a}},86072:(t,e,r)=>{"use strict";var n=r(4691);t.exports=n},78541:(t,e,r)=>{"use strict";var n=r(34479);t.exports=n},34479:(t,e,r)=>{"use strict";var n=r(63417),i=n.Loading,s=n.CreateElement;t.exports=()=>{var t=s({id:"mz-partner-page-loading",classList:["mz:partner-page__loading"]}),e=i({container:t,height:"200px"});return{container:t,close:()=>{e.close(),t.remove()}}}},96394:(t,e,r)=>{"use strict";var n=r(63417).Text,i=r(27531).useNavigationPage;t.exports=t=>{if(!t.cashback_category)return new DocumentFragment;var e=i().handleNavigate,r=n({content:"Ver cashback por categoria",variant:"link-1",as:"a",styles:{"padding-bottom":"4px"}});return r.addEventListener("click",e),r}},14965:(t,e,r)=>{"use strict";var n=r(96394);t.exports=n},80718:(t,e,r)=>{"use strict";var n=r(83685);t.exports=n},83685:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));r(23938);var o=r(63417),a=o.Text,u=o.CreateElement,c=r(27531),l=c.usePartnerRules,h=c.useCashback,f=c.useGetCurrentTab,d=r(5947),p=r(14965),m=r(52265),g=function(){var t=(0,s.default)(i.default.mark((function t(e){var r,n,s,o,c,g,y,v,b,w,_,E,S,x,M,k;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.cashbackActivated,n=e.partner,s=u({classList:["mz:partner-page-partner-info"]}),o=a({content:n.name,variant:"subtitle-1"}),n.value){t.next=6;break}return s.append(o,a({content:"Sem cashback no momento",variant:"highlight-4"})),t.abrupt("return",s);case 6:return t.next=8,l(n.id);case 8:return c=t.sent,g=c.data,t.next=12,f();case 12:return y=t.sent,v=h(),b=v.handleActiveCashback,w=d({rules:g}),_=a({content:" de volta",variant:"highlight-1"}),E=u({classList:["mz:partner-page-partner-info__container"]}),S=u(),x=u(),M=p(n),k=m({label:r?"Ativado":"Ativar",cashbackActivated:r,onClick:()=>{b({data:{partner:n,feature:"extension partner screen",type:"store",origin:"cashback",tabId:null==y?void 0:y.id,url:null==y?void 0:y.url}})}}),_.prepend(a({content:n.cashback,variant:"highlight-2",as:"span"})),S.appendChild(_),x.appendChild(k),E.append(S,x),s.append(o,E,M,w),t.abrupt("return",s);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=g},5947:(t,e,r)=>{"use strict";var n=r(76966);t.exports=n},76966:(t,e,r)=>{"use strict";function n(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=r(63417),o=s.Text,a=s.Accordion,u=s.CreateElement;t.exports=t=>{var e,r=t.title,i=void 0===r?"Regras do parceiro":r,s=t.rules,c=a({title:o({content:i,variant:"subtitle-1"}),content:""}),l=u(),h=n(s);try{for(h.s();!(e=h.n()).done;){var f=e.value;l.appendChild(o({content:f.rule,variant:"subtitle-1",styles:{"margin-top":"16px"}}))}}catch(t){h.e(t)}finally{h.f()}return c.setContent(l),c.container}},81685:(t,e,r)=>{"use strict";var n=r(86072),i=r(80718),s=r(87778),o=r(52265),a=r(41860),u=r(81397),c=r(78541);t.exports={Header:n,PartnerInfo:i,CouponsAndOffers:s,CashbackButton:o,Categories:a,CouponApplier:u,Loading:c}},27531:(t,e,r)=>{"use strict";var n=r(87792),i=r(18748),s=r(22837),o=r(47773),a=r(75142),u=r(47632),c=r(78942),l=r(20952),h=r(59304),f=r(48846);t.exports={useCashback:n,useCouponApplier:i,useCouponsAndOffers:s,useGA4:o,useGetCurrentTab:a,useGetPartner:u,useNavigationPage:c,usePartnerCategories:l,usePartnerDetails:h,usePartnerRules:f}},87792:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=r(43902),f=r(47773),d=r(75142),p=(t,e)=>{void 0!==t&&(p.isActivated=t),e&&(p.partner=e);var r=f(e).sendEventGA4;return p.windowClose=()=>{setTimeout((()=>window.close()),500)},p.handleActiveCashback=(0,o.default)(i.default.mark((function t(){var e,r,n,s,o,u,c,f,d,m,g=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=g.length>0&&void 0!==g[0]?g[0]:{},!p.isActivated){t.next=3;break}return t.abrupt("return");case 3:return r=p.partner.parametersBlacklistReminder,n=void 0===r?[]:r,t.next=6,new Promise((t=>{h.tabs.query({active:!0,currentWindow:!0},(e=>{var r;t(null==e||null===(r=e[0])||void 0===r?void 0:r.url)}))}));case 6:s=t.sent,null!=(o=l({fromPopup:!0,partnerId:p.partner.id,isPartnerBlacklistUrl:!1,additionalQueryParams:[{key:"utm_content",value:"partner_screen"}]},e))&&o.isCouponApplier&&(o.eventLabel="btn-name=test-coupons?partner-id=".concat(p.partner.id)),u=a(n);try{for(u.s();!(c=u.n()).done;)f=c.value,d=f.action,m=f.url,"contains"===d&&s.indexOf(m)>-1&&(o.isPartnerBlacklistUrl=!0),"equal"===d&&s===m&&(o.isPartnerBlacklistUrl=!0),"notcontains"!==d||s.indexOf(m)>-1||(o.isPartnerBlacklistUrl=!0)}catch(t){u.e(t)}finally{u.f()}h.runtime.sendMessage({greeting:"OPEN-ACTIVATION-TAB",options:o}),p.windowClose();case 13:case"end":return t.stop()}}),t)}))),p.handleCashbackActivationForCouponAndOffer=function(){var t=(0,o.default)(i.default.mark((function t(e){var n,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e||!e.code||!e.code.length||e.hasCashback){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,d();case 4:n=t.sent,h.runtime.sendMessage({greeting:"ACTIVE-PARTNER-OFFER",offerId:e.id,additionalQueryParams:[{key:"utm_content",value:"partner_screen"}],currentTab:n}),s={feature:null!=e&&e.code&&e.code.length?"coupon extension partner screen":"offer extension partner screen",origin:null!=e&&e.code&&e.code.length?"coupon":"offer",type:"store",partner:p.partner,tabId:null==n?void 0:n.id,url:null==n?void 0:n.url},r({event:"click",eventParameter:"redirect_to_ecommerce_store",extra:s}),p.windowClose();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{isActivated:null==p?void 0:p.isActivated,handleActiveCashback:p.handleActiveCashback,handleCashbackActivationForCouponAndOffer:p.handleCashbackActivationForCouponAndOffer}};t.exports=p},18748:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(43902),a=r(8014).isCookieAccessEnabled,u=function(){var t=(0,s.default)(i.default.mark((function t(e,r){var n,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.show=!1,n=function(){var t=(0,s.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((t=>o.runtime.sendMessage({greeting:"COUPON-APPLIER-SHOW-IN-POPUP-PARTNER-PAGE",data:{partnerId:e,changeInfo:{status:"complete"},tab:r}},t)));case 2:n=t.sent,u.show=Boolean(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=(0,s.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e,t.t0){t.next=5;break}return t.next=4,a();case 4:t.t0=!t.sent;case 5:if(!t.t0){t.next=7;break}return t.abrupt("return");case 7:o.tabs.sendMessage(e,{greeting:"COUPON-APPLIER-TEST-COUPONS"}),setTimeout((()=>{window.close()}),500);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=5,n();case 5:return t.abrupt("return",{show:u.show,handleOnClick:c});case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();t.exports=u},22837:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(63592),a=r(26382),u=function(){var t=(0,s.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.data=[],r=function(){var t=(0,s.default)(i.default.mark((function t(){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("extension-coupon");case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,a.get(e);case 7:r=t.sent,u.data=r||[];case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=4,r();case 4:return t.abrupt("return",{data:u.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=u},47773:(t,e,r)=>{"use strict";var n=r(64836)(r(38416));function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var s=r(84085),o=t=>{t&&(o.partner=t);return{sendEventGA4:t=>{var e=t.event,r=t.eventParameter,a=t.arrivedFromHomeScreen,u=t.extra,c=void 0===u?{}:u,l=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){(0,n.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({partner:o.partner},c);"view"===e&&(l.arrivedFrom=a?"extension home screen":"extension click"),s.fireEvent(e,r,l)},partner:o.partner}};t.exports=o},75142:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(43902),a=function(){var t=(0,s.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.currentTab=null,e=function(){var t=(0,s.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((t=>{o.tabs.query({active:!0,currentWindow:!0},(e=>{t(null==e?void 0:e[0])}))}));case 2:a.currentTab=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=4,e();case 4:return t.abrupt("return",a.currentTab);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t.exports=a},47632:t=>{"use strict";var e=t=>(t&&(e.partner=t),e.partner);t.exports=e},78942:t=>{"use strict";var e="#mz-partner-page-home",r="#mz-partner-page-cashback-by-category",n=()=>(n.handleNavigate=()=>{if(n.currentPage===e)return n.currentPage=r,document.querySelector(e).classList.add("mz:display--none"),void document.querySelector(r).classList.remove("mz:display--none");n.currentPage=e,document.querySelector(e).classList.remove("mz:display--none"),document.querySelector(r).classList.add("mz:display--none")},n.currentPage||(n.currentPage=e),{currentPage:n.currentPage,handleNavigate:n.handleNavigate});t.exports=n},20952:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=r(43902),l=function(){var t=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.categories={data:[],baseCashback:{}},r=()=>new Promise((t=>{c.runtime.sendMessage({greeting:"REQUEST-PARTNER-CATEGORIES",options:{partnerId:e}},(e=>{l.categories=e,t(e)}))})),t.next=4,r();case 4:return t.abrupt("return",u({},l.categories));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=l},59304:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=r(43902),l=r(58194).formatCashbackByType,h=function(){var t=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.details={value:0},r=()=>new Promise((t=>{c.runtime.sendMessage({greeting:"REQUEST-PARTNER-DETAIL",options:{partnerId:e}},(e=>{var r=e.partner,n=e.cashbackOffer;h.details=u(u({},r),{},{cashback:n.value?l(n.type,n.value):0,value:n.value,type:n.type,cashback_category:n.cashback_category}),t(h.details)}))})),t.next=4,r();case 4:return t.abrupt("return",h.details);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=h},48846:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(43902),a=function(){var t=(0,s.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.rules=[],r=()=>new Promise((t=>{o.runtime.sendMessage({greeting:"REQUEST-RULES-TEXT",options:{partnerId:e}},(e=>{a.rules=(null==e?void 0:e.rules)||[],t(e)}))})),t.next=4,r();case 4:return t.abrupt("return",{data:a.rules});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=a},76239:(t,e,r)=>{"use strict";var n=r(71898);t.exports=n},61799:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156));r(44656);var o=r(63417),a=o.Text,u=o.CreateElement,c=r(81685),l=c.Header,h=c.Categories,f=r(27531),d=f.useNavigationPage,p=f.useCashback,m=f.useGetPartner,g=function(){var t=(0,s.default)(i.default.mark((function t(){var e,r,n,s,o,c,f,g,y,v;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=m())&&e.cashback_category){t.next=3;break}return t.abrupt("return",new DocumentFragment);case 3:return r=p(),n=r.isActivated,s=d(),o=s.handleNavigate,c=u({id:"mz-partner-page-cashback-by-category",classList:["mz:display--none"]}),f=a({content:"Ganhe at\xe9 ".concat(e.cashback," de volta"),variant:"highlight-3",align:"center"}),g=a({content:"Casback por categoria:",variant:"subtitle-1",align:"center"}),y=l(e.logo,e.name,o),t.next=11,h(n,e.id);case 11:return v=t.sent,c.append(y,f,g,v),t.abrupt("return",c);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t.exports=g},12303:(t,e,r)=>{"use strict";var n=r(61799);t.exports=n},91722:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(63417).CreateElement,a=r(81685),u=a.Header,c=a.PartnerInfo,l=a.CouponsAndOffers,h=r(27531),f=h.useCashback,d=h.useGetPartner,p=function(){var t=(0,s.default)(i.default.mark((function t(){var e,r,n,s,a,h,p,m,g=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=g.length>0&&void 0!==g[0]?g[0]:null,r=f(),n=r.isActivated,s=d(),t.next=5,c({cashbackActivated:n,partner:s});case 5:return a=t.sent,t.next=8,l(s);case 8:return h=t.sent,p=u(s.logo,s.name,e),(m=o({id:"mz-partner-page-home"})).append(p,a,h),t.abrupt("return",m);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t.exports=p},65640:(t,e,r)=>{"use strict";var n=r(91722);t.exports=n},38165:(t,e,r)=>{"use strict";var n=r(65640),i=r(12303);t.exports={Home:n,CashbackByCategory:i}},71898:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r(73553);var c=r(25664),l=r(63417).CreateElement,h=r(27531),f=h.usePartnerDetails,d=h.useGetPartner,p=h.useCashback,m=h.useGA4,g=r(38165),y=g.Home,v=g.CashbackByCategory,b=r(81685).Loading,w=function(){var t=(0,o.default)(i.default.mark((function t(e){var r,n,s,o,a,h,g,w,_,E,S,x,M,k;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.mainElement,n=e.containerElement,s=e.params,o=e.arrivedFromHomeScreen,a=e.onBackButton,r&&n){t.next=3;break}return t.abrupt("return");case 3:return h=b(),n.appendChild(h.container),t.next=7,f(s.partner.id);case 7:return g=t.sent,w=u(u(u({},s.partner),g),{},{logo:(null==s?void 0:s.partnerImage)||s.logo}),_=m(w),E=_.sendEventGA4,S=l({id:"mz-partner-page",classList:["mz:partner-page"]}),d(w),p(s.activated||!1,w),x=()=>a?()=>{S.remove(),r.style.height="auto",r.style.position="",a()}:null,t.next=16,y(x());case 16:return M=t.sent,t.next=19,v();case 19:k=t.sent,h.close(),S.append(M,k),n.appendChild(S),r.style.height="599px",r.style.position="relative",new c("#".concat(r.id)),k.querySelector("#mz-cashback-by-category")&&new c("#mz-cashback-by-category"),E({event:"view",eventParameter:"extension_partner_screen",arrivedFromHomeScreen:o});case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.exports=w},47183:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(38416)),o=n(r(17156));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(77132),r(87163),r(59638),r(6404);var h,f,d=r(27856),p=r(42152),m=r(26382),g=r(9134),y=r(82188).ga,v=r(43902),b=r(29825),w=r(63592),_=r(31075).callbackWithArguments,E=r(1610),S=E.gebid,x=E.getElementsByClassName,M=r(58194),k=M.numberToCurrency,T=M.currencyToFloatAdvanced,A=r(82097),C=r(18592),I=r(18592),P=r(25664),R=r(33980),O=r(47974).isNotPartnerHotSite,D=r(59865).getGreyPartnersAbcConfiguration,L=r(6297),N=r(40070),F=r(76239),B=r(40764).sendEventToFirebase,j=r(73904).showClearCartPage,z=r(63026).getCouponsAndOffers,U=r(84085),V=!1,q=new P("#mz-home-content"),G=new P("#mz-hotdeals-coupons-page"),H=new P("#cashback-by-category-container-list"),$=new P("#Referral"),W=new P("#Configuration");document.documentElement.setAttribute("data-browser",navigator.userAgent);var K,Y="../images/icon-small-chevron-up.svg",X="../images/icon-small-chevron-down.svg",Q={ADD_ATTR:["target"]},J={isLoaded:!1},Z=v.runtime.connect({name:"popup"});function tt(t){var e,r,n=document.getElementById("store-logo");return n&&null!=n&&null!==(e=n.dataset)&&void 0!==e&&e.id?{greeting:"FEATURE-EVENTS-INSTRUMENT-TO-BIGQUERY",data:{feature:"popup",featureActivationMode:"interaction",eventType:V?"cashback_activation":t,partner:{id:n.dataset.id},cashbackIsActivated:V||!1,tab:{url:null===(r=f)||void 0===r?void 0:r.url}}}:{greeting:null}}function et(){v.runtime.sendMessage(tt("dismiss")),setTimeout((()=>window.close()),500)}function rt(t,e){v.runtime.sendMessage({greeting:t},e)}function nt(t,e,r){v.runtime.sendMessage({greeting:t,options:e},r)}function it(t){return st.apply(this,arguments)}function st(){return st=(0,o.default)(i.default.mark((function t(e){var r,n,s=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,new Promise((t=>{v.runtime.sendMessage(u({greeting:e},r),t)}));case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),st.apply(this,arguments)}function ot(t){var e,r=x("mz-popup__tab");for(e=0;e<r.length;e+=1)r[e].style.display="none";S(t).style.display="block",S("user-configuration-navigation-img").src="Welcome"===t?"images/welcome.png":"images/icon/icon-user-gray.png",function(t){for(var e,r=x("mz-navbar__link"),n=0;n<r.length;n+=1)e=r[n].parentElement.childNodes[1],r[n].parentElement.id.startsWith(t.toLowerCase())?e.src.includes("-selected")||(e.src=e.src.replace("-gray.png","-selected.png"),r[n].classList.add("mz:navbar__link-selected")):(e.src=e.src.replace("-selected","-gray"),r[n].classList.remove("mz:navbar__link-selected"))}(t),ut(t)}function at(){ot("Configuration")}function ut(t){switch(t){case"Home":U.fireEvent("view","extension_home_screen"),y({hitType:"pageview",page:"/home",title:"Home"});break;case"Referral":U.fireEvent("view","extension_I&G"),y({hitType:"pageview",page:"/referral",title:"Indique e Ganhe"});break;case"Configuration":U.fireEvent("view","extension_account"),y({hitType:"pageview",page:"/myaccount",title:"Sua Conta"});break;case"Welcome":y({hitType:"pageview",page:"/welcome",title:"Bem Vindo"})}}function ct(){nt("SET-USER-CONFIGURATION",{comparatorEnabled:S("comparator-checkbox").checked,googleSidebarEnabled:S("google-sidebar-checkbox").checked,tipEnabled:S("tip-checkbox").checked,couponApplierEnabled:S("coupon-applier-checkbox").checked,firefoxCookieAccessEnabled:S("settings-firefox-cookie-access-checkbox").checked,gaEnabled:S("ga-checkbox").checked},(()=>{}))}function lt(){["mz-return-div","mz-return-all-offers-div","mz-return-all-coupons-div"].forEach((t=>{S(t).removeEventListener("click",qt)})),S("mz-partner-rules-click").removeEventListener("click",wt),S("activation-button").removeEventListener("click",gt),S("cashback-by-category-div-link").removeEventListener("click",Et),S("mz-cbbc-return-icon").removeEventListener("click",Mt)}function ht(t){return ft.apply(this,arguments)}function ft(){return(ft=(0,o.default)(i.default.mark((function t(e){var r,n,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("mz-banner-cashback",r="mz-banner-cashback-image",!e){t.next=20;break}if(!(n=S("mz-banner-cashback"))){t.next=20;break}if(e.isFallback){t.next=11;break}nt("BANNER-CASHBACK-IMAGE-EXISTS-REQUEST",{imageUrl:e.imagePath},(t=>{t&&(S(r).src=e.imagePath,nt("BANNER-CASHBACK-INSTRUMENT",{partnerId:e.partnerId,expiresAt:e.endDate,bannerId:e.bannerId,campaignName:e.campaignName,userAgent:navigator.userAgent,type:"pageview"}))})),n.classList.remove("mz-banner-cashback--hidden"),n.addEventListener("click",(()=>{dt(e)})),t.next=20;break;case 11:if(e.isPartnerSite){t.next=20;break}return S(r).src=e.imagem,s=e.url,t.next=17,R();case 17:t.sent.urlIsValid(s)&&n.addEventListener("click",(()=>{window.open(s,"fallbackTab")})),n.classList.remove("mz-banner-cashback--hidden");case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(t){var e,r=t.partnerId,n=t.expiresAt,i=t.bannerId,s=t.link;s&&null!==(e=new URL(s))&&void 0!==e&&e.href?window.open(s,"_blank"):nt("OPEN-ACTIVATION-TAB",{partnerId:r,dataTarget:"banner_cashback",fromPopup:!0,activeByBanner:!0}),nt("BANNER-CASHBACK-INSTRUMENT",{partnerId:r,expiresAt:n,bannerId:i,userAgent:navigator.userAgent,type:"click"}),et()}function pt(){return mt.apply(this,arguments)}function mt(){return(mt=(0,o.default)(i.default.mark((function t(){var e,r,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new L).get();case 2:if(null!=(r=t.sent)&&null!==(e=r.popup)&&void 0!==e&&e.links){t.next=5;break}return t.abrupt("return");case 5:(n=S("user-doubts"))&&(n.href=r.popup.links.withdrawalUrl);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gt(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"object"==typeof t&&(t=!1);var e=I.partnerDetails;return new C(e,(()=>{qt(),at()})).ensureCookiePermissionIsGiven().then((()=>{yt(t)})).catch((()=>{}))}function yt(t,e,r){return vt.apply(this,arguments)}function vt(){return(vt=(0,o.default)(i.default.mark((function t(e,r,n){var s,o,a,c,l,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=S("store-logo").dataset.id,o=S("activation-button").classList.contains("blacklist-activation"),V=!0,t.next=5,it("CASHBACK-ALERT-GET-AB-TEST-SIDE",{partnerId:parseInt(s,10)});case 5:a=t.sent,c=[],a&&c.push(a),e?nt("OPEN-ACTIVATION-TAB",u(u({partnerId:s,isPartnerBlacklistUrl:o,fromPopup:!0},A.getActivationOptions(s)),{},{options:{additionalQueryParams:c}})):(l=S("activation-button").dataset.target,h={eventCategory:"Activation Partner",partnerId:s||r,isPartnerBlacklistUrl:o,dataTarget:l,fromPopup:!0,additionalQueryParams:c},n&&(h=u(u({},h),{},{data:n})),nt("OPEN-ACTIVATION-TAB",h));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bt(){return(bt=(0,o.default)(i.default.mark((function t(){var e,r,n,s,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=S("store-logo").dataset.id,r=S("activation-button").classList.contains("blacklist-activation"),n=S("activation-button").dataset.target,t.next=5,it("CASHBACK-ALERT-GET-AB-TEST-SIDE",{partnerId:parseInt(e,10)});case 5:s=t.sent,o=[],s&&o.push(s,{partnerId:e}),nt("OPEN-ACTIVATION-TAB",{eventCategory:"Activation Partner",partnerId:e,isPartnerBlacklistUrl:r,dataTarget:n,fromPopup:!0,cbbcSuffix:" ;fromCashbackCategory",options:{additionalQueryParams:o}}),V=!0,et();case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wt(){var t=document.querySelector("#mz-general-rules-text"),e=document.querySelector("#mz-partner-chevron-rules");"none"===t.style.display?e.src=Y:e.src=X,t.style.display="none"===t.style.display?"":"none"}function _t(){return parseInt(S("store-logo").dataset.id,10)}function Et(){nt("REQUEST-PARTNER-CATEGORIES",{partnerId:_t()},St)}function St(t){return xt.apply(this,arguments)}function xt(){return(xt=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tt(e);case 2:kt();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mt(){S("cashback-by-category-page").style.display="none",S("mz-store__div--withcashback").style.display="block"}function kt(){S("mz-store__div--withcashback").style.display="none",S("cashback-by-category-page").style.display="block",S("cashback-by-category-store-logo").src=S("store-logo").src,H.update()}function Tt(t){return At.apply(this,arguments)}function At(){return(At=(0,o.default)(i.default.mark((function t(e){var r,n,s,o,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null!=e&&null!==(r=e.data)&&void 0!==r&&r.length?Dt(e.data):Ct(),n=_t(),t.next=4,It(n);case 4:(s=t.sent).cashbackOffer||(s.cashbackOffer=Oe(s.partner),s.cashback=s.cashbackOffer.value),o=Pt(s.cashbackOffer),a=e.baseCashback?Pt(e.baseCashback):null,i=o,void 0,document.querySelector("#cashback-by-category-percent").textContent=i,Nt(a),Ot(s.activated?"activated":"inactive");case 12:case"end":return t.stop()}var i}),t)})))).apply(this,arguments)}function Ct(){S("cashback-by-category-subtitle").style.display="none",S("cashback-by-category-container-list").style.display="none",S("cashback-by-category-footer-text").style.display="none",S("cashback-by-category-container-no-categories").style.display="block"}function It(t){return new Promise((e=>{nt("REQUEST-PARTNER-DETAIL",{partnerId:t},e)}))}function Pt(t){return"percentage"===t.type?"".concat(t.value,"%"):k(t.value,2)}function Rt(){!function(){bt.apply(this,arguments)}()}function Ot(t){"activated"===t?(document.querySelector("#cashback-by-category-page .cashback-activated-partner").style.display="",S("category-activation-button").style.display="none",S("category-activation-button").removeEventListener("click",Rt)):(document.querySelector("#cashback-by-category-page .cashback-activated-partner").style.display="none",S("category-activation-button").style.display="",S("category-activation-button").addEventListener("click",Rt))}function Dt(t){var e,r=S("cashback-by-category-container-list"),n="",i=c(t);try{for(i.s();!(e=i.n()).done;){n+=Lt(e.value)}}catch(t){i.e(t)}finally{i.f()}r.innerHTML=d.sanitize(n)}function Lt(t){var e="percentage"===t.type?"".concat(t.value,"%"):"R$ ".concat(t.value);return'\n  <div class="cashback-by-category-item-row">\n    <div class="cashback-by-category-item-name">'.concat(t.description,'</div>\n    <div class="cashback-by-category-item-value">').concat(e,"</div>\n  </div>\n  ")}function Nt(t){var e=document.querySelector("#cashback-by-category-footer-text"),r=document.querySelector("#cashback-by-category-footer-no-base-text");t?(e.style.display="block",r.style.display="none",e.querySelector("b").innerText="".concat(t," de volta")):(e.style.display="none",r.style.display="block")}function Ft(t,e){for(var r=ue(e.description).split(". "),n="",i=0;i<r.length;i+=1){var s=r[i];""!==s&&(n+="<p class='mz-rules-margin'>".concat(s,".</a>"))}t.querySelector(".mz-coupons-and-offers-rules-text").innerHTML=n}function Bt(t,e,r,n){var i=t.querySelector(".offer-rules-click");i&&i.addEventListener("click",(()=>{var e=t.querySelector(".mz-coupons-and-offers-rules-text"),r=t.querySelector(".mz-partner-chevron-rules");"none"===e.style.display?r.src=Y:r.src=X,e.style.display="none"===e.style.display?"":"none"}),!1);var s=t.querySelector("#offer-activation-button-offer-".concat(e.id));s&&s.addEventListener("click",(()=>{ie(e.legacy_id,r,n)}),!1);var o=t.querySelector("#offer-activation-button-coupon-".concat(e.id));o&&o.addEventListener("click",(()=>{1===e.has_cashback&&(navigator.clipboard.writeText(e.code),ie(e.legacy_id,r,n))}),!1)}function jt(t){return zt.apply(this,arguments)}function zt(){return zt=(0,o.default)(i.default.mark((function t(e){var r,n,s,o=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],!f||null!==(r=f)&&void 0!==r&&r.url){t.next=3;break}return t.abrupt("return");case 3:return e&&(V=!0),t.next=6,O(f.url,_t());case 6:if(s=t.sent,!e||!s){t.next=14;break}return document.querySelector("#info-partner .cashback-loading-partner").style.display="none",S("activation-button").style.display="none",document.querySelector("#info-partner .cashback-activated-partner").style.display="",S("activation-button").style.display="none",S("mz-partner-cashback").classList.add("mz-top-33-negative"),t.abrupt("return");case 14:if(e||!n){t.next=19;break}return document.querySelector("#info-partner .cashback-loading-partner").style.display="",S("activation-button").style.display="none",S("mz-partner-cashback").classList.add("mz-top-33-negative"),t.abrupt("return");case 19:if(""!==document.querySelector("#info-partner .cashback-loading-partner").style.display){t.next=22;break}return t.abrupt("return");case 22:document.querySelector("#info-partner .cashback-activated-partner").style.display="none",S("activation-button").style.display="",S("mz-partner-cashback").classList.remove("mz-top-33-negative");case 25:case"end":return t.stop()}}),t)}))),zt.apply(this,arguments)}function Ut(t){nt("REQUEST-RULES-TEXT",{partnerId:t},(t=>{if(S("mz-general-rules-text").innerHTML="",t){var e=t.rules,r="";for(var n in e)e.hasOwnProperty(n)&&(r+="<p class='mz-rules-margin'>".concat(e[n].rule,"</a>"));S("mz-general-rules-text").innerHTML=d.sanitize(r)}}))}function Vt(){["mz-store__div--withcashback","mz-hotdeals-coupons-page","mz-store__div--withoutcashback","mz-store__div--activated","mz-popup__divider","mz-store__div--offers","store-header","popup-footer","mz-store__div--coupons","mz-search-input__container","mz-home-content","mz-return-all-coupons-div","coupons-page-header","mz-coupons-page"].forEach((t=>{S(t).style.display="none"})),N.close(),document.querySelector("#mz-loading-container").style.display="none"}function qt(){Vt(),S("mz-search-input").classList.remove("mz:input-autocomplete--with-results"),S("mz-text-search").value=d.sanitize(""),S("mz-store__div--offers").removeAttribute("style"),S("mz-store__div--coupons").removeAttribute("style"),S("popup-footer").removeAttribute("style"),S("mz-search-icon").setAttribute("src","images/icon/icon-search.svg"),function(){Ht.apply(this,arguments)}(),function(){$t.apply(this,arguments)}(),S("mz-home-content").removeAttribute("style"),S("popup-footer").style.display="block",S("store-logo").classList.remove("mz-partner-logo"),z(Wt),S("mz-banner-cashback").classList.remove("mz-banner-cashback--temporay-hidden")}function Gt(){S("mz-store__div--offers").style.display="none",S("Hotdeal-Information-Disabled").style.display="block"}function Ht(){return(Ht=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("extension-popup-hot-deals");case 2:t.sent?S("mz-store__div--offers").style.display="block":Gt();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $t(){return($t=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("extension-search-bar");case 2:t.sent?(S("mz-search-input__container").style.display="block",S("mz-offers__title").classList.remove("search-bar-disabled-margin-top")):S("mz-offers__title").classList.add("search-bar-disabled-margin-top");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wt(t){var e=I.partnerDetails;new C(e,(()=>{qt(),at()})).ensureCookiePermissionIsGiven().then((0,o.default)(i.default.mark((function e(){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null,e.t0=t.target.localName,e.next="li"===e.t0?4:"div"===e.t0?6:8;break;case 4:return r=t.target.firstElementChild.dataset.href,e.abrupt("break",8);case 6:return r=t.target.parentNode.dataset.href,e.abrupt("break",8);case 8:return v.runtime.sendMessage({greeting:"OPEN-TAB-WITH-URL",options:{url:r}}),e.next=11,w.get("extension_direct_to_store_activation");case 11:return n=e.sent,e.next=14,b.local.get("customerId");case 14:!e.sent&&n&&v.runtime.sendMessage({greeting:"OPEN-DIRECT-TO-STORE-ACTIVATION",options:{url:r}}),et();case 17:case"end":return e.stop()}}),e)})))).catch((()=>{}))}function Kt(){var t;lt(),ne(),Vt(),S("mz-return-all-offers-div").style.display="block",S("hotdeals-coupons-header").style.display="block",S("mz-hotdeals-coupons-page").style.display="block",t=(t=(t=(t=(t=h).replace(/cashback_text_/g,"cashback_text_completed_")).replace(/cashback_previous_text_/g,"cashback_previous_text_completed_")).replace(/cashback_placeholder_/g,"cashback_placeholder_completed_")).replace(/mz-similar__link/g,"mz-similar__links"),t+='<div id="hotdeals-coupon-button" class="mz-popup__content" style="display: block;">\n                                <button id="hotdeals-all-offers-button" class="mz:button mz:button--primary hotdeals-coupon-button" type="button">Ver todas as lojas</button>\n                            </div>',S("mz-hotdeals-coupons-container").innerHTML=d.sanitize(t,Q),S("hotdeals-all-offers-button").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Store listing",eventAction:"Click",eventLabel:"Go to all stores/cupom"}),v.runtime.sendMessage({greeting:"OPEN-ALL-OFFERS-TAB"})}),!1),rt("REQUEST-CASHBACK-HOT-DEALS",(t=>{var e=!0;if(t.unsuccessful){for(var r=[],n=0,i=Object.values(K);n<i.length;n++){var s=i[n];r.push(s.partnerId)}nt("REQUEST-PARTNERS-WITH-IDS",{filterIds:r},_(_e,e))}else ke(t.partnerList,e);var o=x("mz-similar__links");Array.prototype.forEach.call(o,(t=>{t.addEventListener("click",(()=>{be(t.dataset.id)}),!1)}))})),G.update()}function Yt(t){return Xt.apply(this,arguments)}function Xt(){return Xt=(0,o.default)(i.default.mark((function t(e){var r,n,s,o=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]&&o[1],q.update(),t.next=4,it("POPUP-CHECK-PARTNER-USE-HOME-V2",{partnerId:e.partner.id});case 4:if(!t.sent){t.next=10;break}return Vt(),t.next=9,F({mainElement:document.getElementById("Home"),containerElement:document.getElementById("home-container"),params:e,arrivedFromHomeScreen:r,onBackButton:r?qt:null});case 9:return t.abrupt("return");case 10:return S("mz-general-rules-text").style.display="none",S("mz-partner-chevron-rules").src=X,S("cashback-by-category-div-link").style.display="none",document.querySelectorAll(".offers-block").forEach((t=>{"none"!==t.style.display&&t.remove()})),lt(),ne(),t.next=15,A.getConfigForUrl(f.url);case 15:return n=t.sent,t.next=18,A.chooseCouponApplierLayout(e,f,n);case 18:return!0===(s=t.sent).shouldShowCouponsSection&&ce(e),n&&(A.Layout.setLayout(s,Qt),s.type===A.Layout.MELIUZ_COUPON_APPLIED?A.GA.pageViewMeliuzCouponApplied(e.activated):s.type===A.Layout.NO_COUPON_APPLIED?A.GA.pageViewNoCouponApplied(e.activated):A.GA.pageViewThirdPartyCouponApplied(e.activated)),Vt(),S("store-header").style.display="block",S("mz-store__div--withcashback").style.display="block","block"===S("mz-return-div").style.display?S("store-logo").classList.add("mz-partner-logo"):S("store-logo").classList.remove("mz-partner-logo"),t.next=27,w.get("extension_partner_categories");case 27:t.sent&&e.cashback_category&&(S("cashback-by-category-div-link").style.display="block");case 29:case"end":return t.stop()}}),t)}))),Xt.apply(this,arguments)}function Qt(){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,o.default)(i.default.mark((function t(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!0,t.next=3,gt(true);case 3:e=_t(),A.GA.testCouponsClick(e),A.startCouponTesting(f.id),et();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zt(){var t=S("mz-coupons-and-offers");"none"===t.style.display&&(S("info-partner").classList.remove("mz-no-coupon-margin"),t.style.display="block",S("mz-no-coupons-and-offers").style.display="none")}function te(t){return ee.apply(this,arguments)}function ee(){return ee=(0,o.default)(i.default.mark((function t(e){var r,n,s=arguments;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=s.length>1&&void 0!==s[1]&&s[1],n=s.length>2&&void 0!==s[2]&&s[2],Ut(e.partner.id),e.searchbar||re(e.partner,f.url)&&!r&&(S("store-logo").style.display="none",S("blacklist-partner").style.display="block",S("activation-button").classList.add("blacklist-activation"),S("partner-name-div").style.marginTop="24px",y({hitType:"pageview",page:"/blacklist-reminder-".concat(e.partner.ref),title:"Blacklist do Reminder"})),S("store-logo").src=e.logo,S("mz-partner-name").innerHTML=d.sanitize(e.partner.name),J.isLoaded||(S("mz-partner-cashback").innerHTML=d.sanitize('<img src="images/icon/icon-loading.png">')),S("store-logo").classList.remove("mz-partner-logo"),S("store-logo").setAttribute("data-id",e.id),S("mz-return-div").style.display="none",jt(r,n),e.cashback_category&&(S("cashback-by-category-div-link").style.display=""),Re();case 13:case"end":return t.stop()}}),t)}))),ee.apply(this,arguments)}function re(t,e){if(void 0===t.parametersBlacklistReminder||0===t.parametersBlacklistReminder.length)return!1;for(var r in t.parametersBlacklistReminder)if(t.parametersBlacklistReminder.hasOwnProperty(r)){var n=t.parametersBlacklistReminder[r].action,i=t.parametersBlacklistReminder[r].url;if("contains"===n&&e.indexOf(i)>-1)return!0;if("equal"===n&&e===i)return!0;if("notcontains"===n&&!(e.indexOf(i)>-1))return!0}return!1}function ne(){["mz-return-div","mz-return-all-offers-div","mz-return-all-coupons-div"].forEach((t=>{var e=S(t);e&&e.addEventListener("click",qt,!1)}));var t=S("mz-partner-rules-click"),e=S("cashback-by-category-div-link"),r=S("mz-cbbc-return-icon");document.querySelector("#activation-button")&&document.querySelector("#activation-button").addEventListener("click",gt,!1),t&&S("mz-partner-rules-click").addEventListener("click",wt,!1),e&&e.addEventListener("click",Et,!1),r&&r.addEventListener("click",Mt,!1)}function ie(t,e,r){var n=I.partnerDetails;new C(n,(()=>{qt(),at()})).ensureCookiePermissionIsGiven().then((0,o.default)(i.default.mark((function n(){var s,o;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,it("CASHBACK-ALERT-GET-AB-TEST-SIDE",{partnerId:r});case 2:s=n.sent,o=[],s&&o.push(s),se(e),v.runtime.sendMessage({greeting:"ACTIVE-PARTNER-OFFER",offerId:t,additionalQueryParams:o}),et();case 8:case"end":return n.stop()}}),n)})))).catch((()=>{}))}function se(t){var e=S("activation-button").dataset.target,r="event",n="/partner/".concat(t);y("search_box"===e?{hitType:r,eventCategory:"Search Box",eventAction:"Click",eventLabel:"Enable coupon Search",page:n}:"hot_deals"===e?{hitType:r,eventCategory:"Top Offers Cashback",eventAction:"Click",eventLabel:"Enable coupon Top Offers",page:n}:{hitType:r,eventCategory:"Activation Coupon",eventAction:"Active",eventLabel:"Enable coupon",page:n})}function oe(t,e){return ae.apply(this,arguments)}function ae(){return(ae=(0,o.default)(i.default.mark((function t(e,r){var n,s,o,a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=S("mz-coupons-and-offers"),s=S("coupons-and-offers-title"),o=r.partner?r.partner.ref:r.partnerName.toLocaleLowerCase(),a=document.querySelector("#mz-partner-cashback").textContent,e.length>0?e.forEach((t=>{var e=S("coupon-model").cloneNode(!0);if(e.querySelector(".show-cupom").id="offer-activation-button-coupon-".concat(t.id),e.querySelector(".show-cupom").setAttribute("data-clipboard-text",t.code),e.querySelector(".mz-offer-code").innerHTML=d.sanitize(t.code),t&&!t.code.trim()&&((e=S("offer-model").cloneNode(!0)).querySelector(".offer-button").id="offer-activation-button-offer-".concat(t.id)),e.id="mz-".concat(t.id),e.querySelector("#coupon-title").innerHTML=t.title,1===t.has_cashback&&(r.cashback||r.partner.cashback)){if(a&&a.length)e.querySelector("#coupon-cashback").style.display="block",e.querySelector("#coupon-cashback").innerHTML="+".concat(a);else{var i=e.querySelector(".show-cupom");i&&(i.innerHTML="Copiar"),e.querySelector("#coupon-cashback").style.display="none"}e.querySelector(".mz-lazy-load-icon").style.display="none"}s.style.display="block",Zt(),n.append(e),e.style.display="",Ft(e,t),Bt(e,t,o,parseInt(r.partnerId||r.id,10))})):(S("info-partner").classList.remove("mz-no-coupon-margin"),S("mz-coupons-and-offers").style.display="none",S("mz-no-coupons-and-offers").style.display="block");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ue(t){return null===t||""===t?t:(t=t.toString()).replace(/<[^>]*>/g," ").replace("&nbsp;","")}function ce(t){return le.apply(this,arguments)}function le(){return(le=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=S("store-logo").dataset.id,t.next=3,w.get("extension-coupon");case 3:if(!t.sent){t.next=6;break}return t.abrupt("return",m.get(r).then((t=>oe(t,e))).catch((t=>{throw t})));case 6:return t.abrupt("return",oe([],e));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function he(){var t=document.getElementById("User-Information-Enabled");t&&(t.style.display="none");var e=document.getElementById("User-Information-Disabled");e&&(e.style.display="block")}function fe(){var t=document.getElementById("User-Information-Enabled");t&&(t.style.display="block");var e=document.getElementById("User-Information-Disabled");e&&(e.style.display="none")}function de(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";"logged-out"!==t?nt("GET-USER-INFORMATION",{type:t},function(){var e=(0,o.default)(i.default.mark((function e(r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"default"===t&&(S("rate-us").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"MyAccount",eventAction:"Rate",eventLabel:"Rate us",page:"/myaccount"}),rt("OPEN-RATE-TAB")}),!1),S("all-helping-topics").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Settings",eventAction:"Click",eventLabel:"All Help Topics",page:"/myaccount"}),rt("OPEN-ALL-HELPING-TOPICS-TAB")}),!1)),e.next=3,b.local.get("fallback");case 3:if(!(null!=(n=e.sent)&&n.isActive||r.disabled)){e.next=6;break}return e.abrupt("return",he());case 6:return fe(),r?(S("user-login").style.display="none",S("referral-login").style.display="none",S("referral-logged-user").style.display="block",S("user-content").style.display="block",S("user-photo").src=r.image,r.name?S("user-name").innerHTML=d.sanitize(r.name):S("user-name").innerHTML=d.sanitize(r.email),S("confirmed-balance-total").innerHTML=d.sanitize(Ae(k(r.confirmed_balance,2))),S("pending-balance-total").innerHTML=d.sanitize(k(r.pending_balance,2)),"default"===t&&(S("withdraw-button").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"MyAccount",eventAction:"Request",eventLabel:"Request Withdrawal",page:"/myaccount"}),rt("OPEN-WITHDRAWAL-TAB")}),!1),S("statement-button").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"MyAccount",eventAction:"Click",eventLabel:"Go to extract",page:"/myaccount"}),rt("OPEN-STATEMENT-TAB")}),!1),S("user-edit").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"MyAccount",eventAction:"Edit",eventLabel:"Edit account",page:"/myaccount"}),rt("OPEN-EDIT-TAB")}),!1),S("user-doubts").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"MyAccount",eventAction:"Click",eventLabel:"Questions About Rules",page:"/myaccount"})}),!1),S("user-help-how-meliuz-works").addEventListener("click",(()=>{y({hitType:"event",eventCategory:" Settings",eventAction:"Click",eventLabel:"How Works Meliuz",page:"/myaccount"})}),!1),S("user-help-how-extension-works").addEventListener("click",(()=>{y({hitType:"event",eventCategory:" Settings",eventAction:"Click",eventLabel:"How Works Extension",page:"/myaccount"})}),!1)),r.confirmed_balance<r.minimum_withdrawal_balance?S("withdraw-button").disabled=!0:("<strong>Voc\xea j\xe1 tem mais de R$ 20</strong> de saldo confirmado, portanto pode resgatar pra conta banc\xe1ria, sem custo algum",S("withdraw-notice-label").innerHTML=d.sanitize("<strong>Voc\xea j\xe1 tem mais de R$ 20</strong> de saldo confirmado, portanto pode resgatar pra conta banc\xe1ria, sem custo algum",Q))):pe(t),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):pe(t)}function pe(t){S("user-content").style.display="none",S("user-login").style.display="block",S("referral-login").style.display="",S("referral-logged-user").style.display="none","update"!==t&&(S("login-button").addEventListener("click",me,!1),S("referral-login-button").addEventListener("click",ge,!1))}function me(){var t=I.referral;new C(t,(()=>{})).ensureCookiePermissionIsGiven().then((()=>{y({hitType:"event",eventCategory:"MyAccount",eventAction:"Login",eventLabel:"Go to login",page:"/myaccount"}),rt("OPEN-LOGIN-TAB"),et()})).catch((()=>{}))}function ge(){var t=I.partnerDetails;new C(t,at).ensureCookiePermissionIsGiven().then((()=>{y({hitType:"event",eventCategory:"Referral",eventAction:"Login",eventLabel:"Go to login",page:"/referral"}),rt("OPEN-LOGIN-TAB"),et()})).catch((()=>{}))}function ye(t){nt("REQUEST-PARTNER-DETAIL",{partnerId:t},function(){var t=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.searchbar=!0,t.next=3,te(e,e.activated);case 3:e.cashbackOffer||(e.cashbackOffer=Oe(e.partner),e.cashback=e.cashbackOffer.value),Ie(e.cashbackOffer),S("mz-return-div").style.display="block",S("activation-button").setAttribute("data-target","search_box"),Yt(e,!0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function ve(){S("mz-search-input").classList.remove("mz:input-autocomplete--with-results"),S("mz-store__div--offers").removeAttribute("style"),S("mz-store__div--coupons").removeAttribute("style"),S("popup-footer").removeAttribute("style"),S("mz-home-content").removeAttribute("style"),S("mz-search-icon").setAttribute("src","images/icon/icon-search.svg"),S("mz-banner-cashback").classList.remove("mz-banner-cashback--temporay-hidden")}function be(t){nt("REQUEST-PARTNER-DETAIL",{partnerId:K[t].partnerId},(e=>{var r=e.partner;r.cashback=T(e.cashback),function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=K[t];i.cashback=e.cashback,i.cashback_type=e.cashbackType,i.partner=e,i.cashback_category=r,S("store-logo").src=i.partnerImage,S("mz-partner-name").innerHTML=d.sanitize(i.partnerName);var s,o=Te(i),a=i.cashback;if("percent"===i.cashback_type){var u=Ce("".concat(a,"%"));s="".concat(o).concat(u," de volta")}else s="".concat(o).concat(Ce(k(a,2))," de volta");S("mz-partner-cashback").innerHTML=d.sanitize(s),S("store-logo").setAttribute("data-id",i.partnerId),Ut(i.partnerId),S("mz-return-div").style.display="block",S("activation-button").style.display="",S("activation-button").setAttribute("data-target","hot_deals"),jt(n),Yt(i,!0)}(t,r,e.cashback_category,e.activated)}))}function we(t){var e;if(null!=t&&null!==(e=t.options)&&void 0!==e&&e.homeHotDeals&&0!==t.options.homeHotDeals.length){K=t.options.homeHotDeals;var r="",n=0;r+='<ul id="mz-offers__content" class="mz:flex__wrap mz-offers-card__content">',h="";var i=0,s="";for(var o in K)if(K.hasOwnProperty(o)){var a='\n          <li class="'.concat((i+=1)%2!=0?"mz-offers-card mz:flex--column":"mz-offers-card mz:flex--column no-right-border",'">\n          <a data-id="').concat(o,'" target="_blank" class="mz-similar__link mz-offers-card__size mz:flex--column">\n              <div class="mz:mt--small"><img class="mz-offers-card__logo" src="').concat(K[o].partnerImage,'"></div>\n              <div id="cashback_placeholder_').concat(K[o].partnerId,'" class="mz-smiliar__div--center mz-similar__box placeholder"></div>\n              <div class="mz-offers-card__cashback-current" id="cashback_text_').concat(K[o].partnerId,'"  style="display:none"></div>\n              <div class="mz-offers-card__cashback-previous" id="cashback_previous_text_').concat(K[o].partnerId,'"></div>\n          </a>\n          </li>\n          ');n<4?(r+=a,n+=1):s+=a}h="".concat(r).concat(s,"</ul>"),r+="</ul>",r+='<div id="show-all-offers-button" class="mz-see-more mz:pv--small">\n          <img src="../images/icon-plus-gray.svg" alt="Ver mais" class="see-more__icon">Ver mais\n      </div>',S("mz-offers__container").innerHTML=d.sanitize(r,Q),S("show-all-offers-button").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Top Offers Cashback",eventAction:"Click",eventLabel:"See more Top Offers",page:"/home"}),Kt()}),!1),S("show-all-coupons-button").addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Best Coupons",eventAction:"Click",eventLabel:"See more Best Coupons",page:"/home"}),lt(),ne(),Vt(),S("mz-return-all-coupons-div").style.display="block",S("coupons-page-header").style.display="block",S("mz-coupons-page").style.display="block"}),!1);var u=x("mz-similar__link");Array.prototype.forEach.call(u,(t=>{t.addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Top Offers Cashback",eventAction:"Click",eventLabel:"See partner Top Offers",page:"/home"}),be(t.dataset.id)}),!1)}));for(var c=x("mz-similar__link"),l=0;l<c.length;l+=1)c[l].addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Store listing",eventAction:"Click",eventLabel:"Go to store meliuz page"})}))}else Gt()}function _e(t,e){ke(Object.values(t.partners).map(Ee),e)}function Ee(t){return{partner_id:t.id,type:"percent"===t.cashbackType?"percentage":t.cashbackType,value:T(t.cashback)}}function Se(){return xe.apply(this,arguments)}function xe(){return xe=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("extension-referral-campaign-popup-tab");case 2:t.sent?rt("REFERRAL-DATA-REQUEST",function(){var t=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}if(!e.disabled){t.next=4;break}return Me(),t.abrupt("return");case 4:return t.next=6,De(e);case 6:Fe(e.user);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):Me();case 4:case"end":return t.stop()}}),t)}))),xe.apply(this,arguments)}function Me(){S("Referral-Enabled").style.display="none",S("Referral-Disabled").style.display="block"}function ke(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="";for(var n in e&&(r="_completed"),t)if(t.hasOwnProperty(n)){var i=t[n];if(!i)continue;var s=document.querySelector("#cashback_text".concat(r,"_").concat(i.partner_id)),o=document.querySelector("#cashback_previous_text".concat(r,"_").concat(i.partner_id));if(!s)continue;s.removeAttribute("style");var a=Te(i);"percentage"===i.type?(s.innerText="".concat(a).concat(i.value,"% de volta"),i.previous&&(o.innerText="(era ".concat(i.previous.value,"%)"))):(s.innerText="".concat(a).concat(k(i.value,2)," de volta"),i.previous&&(o.innerText="(era ".concat(k(i.previous.value,2),")"))),document.querySelector("#cashback_placeholder".concat(r,"_").concat(i.partner_id)).setAttribute("style","display:none")}}function Te(t){return!0===t.cashback_category?"At\xe9 ":""}function Ae(t){var e=t.replace("R$","").trim().split(",");return'<span class="font16">R$ </span>'.concat(e[0],'<span class="font16">,').concat(e[1],"</span>")}function Ce(t){return'<span class="highlightCashback">'.concat(t,"</span>")}function Ie(t,e){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,o.default)(i.default.mark((function t(e,r){var n,s,o,a,u,c,l,h,f,p,m,g;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=S("mz-cashback-not-disponible"),s=S("mz-partner-rules-click"),e&&null!=e&&e.value){t.next=7;break}return n.style.display="block",s.style.display="none",document.getElementById("mz-partner-rules-cashback-button").style.display="none",t.abrupt("return");case 7:if(document.getElementById("mz-partner-rules-cashback-button").style.display="block",o=S("mz-partner-cashback"),a=S("activation-button"),"none"===document.querySelector("#info-partner .cashback-activated-partner").style.display&&(a.style.display="inline"),n.style.display="none",s.style.display="block",u=Te(e),c="",l=S("clear-cart-partner-cashback"),"percentage"!==e.type){t.next=28;break}if(!r){t.next=23;break}return t.next=21,b.local.get("promotional-cashback-".concat(r.partner_id));case 21:(h=t.sent)&&"percentage"===h.type&&(e.value=h.value);case 23:f=Ce("".concat(e.value,"%")),c="".concat(u).concat(f," de volta"),l&&(l.textContent="".concat(e.value,"%")),t.next=29;break;case 28:c="".concat(u).concat(Ce(k(e.value,2))," de volta");case 29:for(m in J.isLoaded=!0,o.innerHTML=d.sanitize(c),p=document.querySelectorAll(".mz-lazy-load-cashback"))p.hasOwnProperty(m)&&(g=p[m],"percentage"===e.type?g.innerText="+".concat(u).concat(e.value,"% de volta"):g.innerText="+".concat(u).concat(k(e.value,2)," de volta"),g.parentNode.childNodes[5].style.display="none");case 33:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Re(){var t=document.querySelectorAll(".mz-lazy-load-icon");for(var e in t){if(t.hasOwnProperty(e))t[e].style.display="block"}}function Oe(t){return{type:"percent"===t.cashbackType?"percentage":t.cashbackType,value:T(t.cashback)}}function De(t){return Le.apply(this,arguments)}function Le(){return(Le=(0,o.default)(i.default.mark((function t(e){var r,n,s,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.campaign,!(n=e.user)){t.next=8;break}return(s=document.querySelector("#mz\\:url-field")).textContent="".concat(n.refUrl,"?ref_source=56"),t.next=6,b.local.get("BROWSER_NAME");case 6:"Firefox"!==(o=t.sent)&&"Safari"!==o||(s.textContent="".concat("https://www.meliuz.com.br","/i/"));case 8:document.querySelector("#mz\\:indicate-friends-text").textContent=r.title,document.querySelector("#mz\\:subtitle-indicate-and-earn").textContent=r.subtitle,document.querySelector("#referral-step-three").textContent=r.subtitle,S("Referral-Disabled").style.display="none";case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}self.addEventListener("blur",(()=>{Z.postMessage(tt("dismiss"))})),self.onload=()=>{document.getElementById("mz-beta-version").style.display="none",setTimeout((()=>{Z.postMessage(tt("pageview"))}),1e3)};var Ne=!1;function Fe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Ne){Ne=!0;var e=t&&"https://www.facebook.com/sharer/sharer.php?u=".concat(t.refUrl,"?ref_source=58%26Futm_source=facebook"),r=t&&"https://twitter.com/intent/tweet?text=Quem+faz+compras+online+tem+que+conhecer+o+M%C3%A9liuz%21&hashtags=EuAmoMeliuz&url=".concat(t.refUrl,"?ref_source=59%26Futm_source%3Dtwitter"),n=t&&"".concat(t.refUrl,"?ref_source=55"),i=t&&"".concat(t.refUrl,"?ref_source=56"),s=S("Referral"),o=["twitter-button","facebook-button","mz:copy-button","mz:url-field","email-button","referral-know-the-rules"];s.addEventListener("click",(t=>{var s=t.target;if(o.includes(s.id)){var a=I.referral;new C(a,at).ensureCookiePermissionIsGiven().then((()=>{switch(s.id){case"twitter-button":v.windows.create({url:r,width:700,height:470,type:"popup"}),Be("Referral Twitter Button");break;case"facebook-button":v.windows.create({url:e,width:626,height:436,type:"popup"}),Be("Referral Facebook Button");break;case"mz:copy-button":navigator.clipboard.writeText(n),s.textContent="Copiado!";var t=ze(s);je(s),clearTimeout(t),Be("Referral Copy Button");break;case"mz:url-field":navigator.clipboard.writeText(i);var o=document.querySelector("#mz\\:copy-button");o.textContent="Copiado!";var a=ze(o);je(o),clearTimeout(a),Be("Referral Copy URL");break;case"email-button":Be("Referral Email Button"),v.runtime.sendMessage({greeting:"OPEN-TAB-WITH-URL",options:{url:s.dataset.referralHref}}),et();break;case"referral-know-the-rules":Be("See Rules"),v.runtime.sendMessage({greeting:"OPEN-TAB-WITH-URL",options:{url:s.dataset.referralHref}}),et()}})).catch((()=>{}))}}))}}function Be(t){y({hitType:"event",eventCategory:"Indique & Ganhe",eventAction:"Click",page:"/referral",eventLabel:t})}function je(t){t.classList.remove("mz:button--primary"),t.classList.add("mz:button--grey")}function ze(t){setTimeout((()=>{t.classList.add("mz:button--primary"),t.classList.remove("mz:button--grey"),t.textContent="Copiar"}),3e3)}function Ue(t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("extension-google-sidebar");case 2:!0===t.sent&&e&&e.length&&e.forEach((t=>{t&&(t.style.display="")}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qe(t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("extension_tip");case 2:!0===t.sent&&e&&e.length&&e.forEach((t=>{t&&(t.style.display="")}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function He(t){return $e.apply(this,arguments)}function $e(){return($e=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("extension_coupon_applier");case 2:!0===t.sent&&e&&e.length&&e.forEach((t=>{t&&(t.style.display="")}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function We(t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,o.default)(i.default.mark((function t(e){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.local.get("BROWSER_NAME");case 2:r=t.sent,"Firefox"===r&&e&&e.length&&e.forEach((t=>{t&&(t.style.display="")}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ye(){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,o.default)(i.default.mark((function t(){var e,r,n,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.local.get("extensionId");case 2:return e=t.sent,t.next=5,D();case 5:if(null==(r=t.sent)||!r.abTestWinner){t.next=8;break}return t.abrupt("return",parseInt(r.abTestWinner,10));case 8:return t.next=10,b.local.get("customerId");case 10:if(t.sent){t.next=13;break}return t.abrupt("return",0);case 13:return n=e.replace(/\D/g,""),s=n.substr(n.length-4),t.abrupt("return",parseInt(s,10)%3);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(0,o.default)(i.default.mark((function t(){var e,r,n,s,a,u,c,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return rt("GET-FIRST-POPUP-VISUALIZATION",(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return rt("GET-BANNER-CASHBACK-REQUEST",ht),t.next=3,pt();case 3:case"end":return t.stop()}}),t)})))),t.next=3,it("GET-STORE-INFORMATION");case 3:if(e=t.sent,!(r=e&&e.logo)||e.partner.greyPartner){t.next=36;break}return S("Home").style.display="block",t.next=9,it("CLEAR-CART-SHOULD-EXECUTE");case 9:if(n=t.sent,!e.justLoad||n){t.next=15;break}return t.next=13,te(e,e.activated);case 13:return Yt(e),t.abrupt("return");case 15:if(e.activated&&(v.runtime.sendMessage({greeting:"RESET-ITEMS-IN-CART"}),v.runtime.sendMessage({greeting:"RESET-GO-TO-CART-VIEWED"})),e.activated){t.next=33;break}return t.next=19,it("CLEAR-CART-PARTNER-CONFIG");case 19:return s=t.sent,t.next=22,it("CLEAR-CART-GET-AB-GROUP");case 22:if(!(a=t.sent).group_name){t.next=33;break}return t.next=26,it("CLEAR-CART-GET-HAVE-ITEMS-IN-CART");case 26:if(!t.sent){t.next=33;break}if(!a.should_popup){t.next=33;break}return j({clearPartnerConfig:s,storeInfo:e,currentTab:f,asyncSendMessage:it,windowClose:et,activateCashback:yt}),g.clearCartPageViewEvent(),B("pageview"),t.abrupt("return");case 33:return t.next=35,te(e,e.activated);case 35:Yt(e);case 36:if(r||(ot("Home"),qt()),!r||!e.partner.greyPartner){t.next=56;break}return S("Home").style.display="block",t.next=41,Ye();case 41:return u=t.sent,t.next=44,D();case 44:if(c=t.sent,(null==c?void 0:c.blacklist.includes(e.id))&&(u=0),0!==u){t.next=53;break}rt("POPUP-OPENED-GREY-PARTNER"),qt(),et(),t.next=56;break;case 53:return t.next=55,te(e,e.activated);case 55:Yt(e);case 56:return t.next=58,b.local.get("fallback");case 58:l=t.sent,r&&l.isActive&&rt("OPEN-FALLBACK-SITE"),de(),rt("GET-USER-CONFIGURATION",function(){var t=(0,o.default)(i.default.mark((function t(e){var r,n,s,o,a,u,c,l,h,f,d,p,m,g,v,w;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=S("comparator-checkbox"),n=S("comparator-container"),s=S("rate-us-divider"),o=S("google-sidebar-divider"),a=S("google-sidebar-container"),u=S("google-sidebar-checkbox"),c=S("tip-divider"),l=S("tip-container"),h=S("tip-checkbox"),f=S("coupon-applier-divider"),d=S("coupon-applier-container"),p=S("coupon-applier-checkbox"),m=S("settings-firefox-cookie-access-divider"),g=S("settings-firefox-cookie-access-container"),v=S("settings-firefox-cookie-access-checkbox"),t.next=17,b.local.get("BROWSER_NAME");case 17:if(t.t0=t.sent,"Firefox"!==t.t0){t.next=23;break}s.style.display="none",S("rate-us").style.marginTop="19px",t.next=24;break;case 23:n.style.marginTop="24px";case 24:w=S("ga-checkbox"),e?(e.reminderDisabledDate||(e.reminderDisabledDate=Date.now()+6048e5),w.checked=!0===e.gaEnabled,u.checked=!0===e.googleSidebarEnabled,h.checked=!0===e.tipEnabled,p.checked=!0===e.couponApplierEnabled,v.checked=!0===e.firefoxCookieAccessEnabled,!1===e.comparatorEnabled?r.checked=!1:r.checked=!0):(r.checked=!0,u.checked=!0,p.checked=!0,h.checked=!0,v.checked=!1,w.checked=!1),r.addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Settings",eventAction:r.checked?"Enable":"Disable",eventLabel:"Products Suggest",page:"/myaccount"}),ct()})),Ue([a,o]),u.addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Settings",eventAction:u.checked?"Enable":"Disable",eventLabel:"Recommendation sidebar",page:"/myaccount"}),ct()})),qe([l,c]),h.addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Settings",eventAction:h.checked?"Enable":"Disable",eventLabel:"Tip",page:"/myaccount"}),ct()})),He([d,f]),p.addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Settings",eventAction:p.checked?"Enable":"Disable",eventLabel:"Coupon Applier Switch",page:"/myaccount"}),ct()})),We([g,m]),v.addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Settings",eventAction:v.checked?"Enable":"Disable",eventLabel:"Firefox cookie access",page:"/myaccount"}),ct()})),w.addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Settings",eventAction:w.checked?"Enable":"Disable",eventLabel:"Google analytics report",page:"/myaccount"}),ct()}),!1);case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),S("mz-text-search").addEventListener("keyup",(t=>{var e=S("mz-text-search").value;0!==e.length?nt("REQUEST-KEY-WORD-SEARCH",{keyWord:e},(r=>{var n,i,s="";for(var o in r.matchPartners)r.matchPartners.hasOwnProperty(o)&&(s+='\n              <div data-id="'.concat(r.matchPartners[o].id,'"\n                class="mz:input-autocomplete__result-item">\n                ').concat((n=r.matchPartners[o].name,i=e,n.replace(new RegExp("(^|)(".concat(i,")(|$)"),"ig"),"$1<b>$2</b>$3")),"\n              </div>"));S("mz-autocomplete__results").innerHTML=d.sanitize(s,Q),S("mz-search-input").classList.add("mz:input-autocomplete--with-results"),S("mz-store__div--offers").setAttribute("style","display: none"),S("mz-store__div--coupons").setAttribute("style","display: none"),S("popup-footer").setAttribute("style","display: none"),S("mz-home-content").setAttribute("style","height: 599px"),S("mz-search-icon").setAttribute("src","../images/close.svg"),S("mz-banner-cashback").classList.add("mz-banner-cashback--temporay-hidden"),S("mz-search-icon").addEventListener("click",(()=>{S("mz-text-search").value="",ve(),S("mz-search-icon").removeEventListener("click",(()=>{}))})),r.matchPartners.length>0&&13===t.keyCode&&ye(r.matchPartners[0].id);var a=x("mz:input-autocomplete__result-item");Array.prototype.forEach.call(a,(t=>{t.addEventListener("click",(()=>{y({hitType:"event",eventCategory:"Search Box",eventAction:"Click",eventLabel:"Search Box",page:"/home"}),ye(t.dataset.id)}),!1)}))})):ve()}),!0),S("home-button").addEventListener("click",(()=>{ot("Home")}),!1),S("home-button").focus(),S("referral-button").addEventListener("click",(()=>{Se(),ot("Referral"),$.update()}),!1),S("configuration-button").addEventListener("click",(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.local.get("customerId");case 2:t.sent&&de("update"),ot("Configuration"),W.update();case 6:case"end":return t.stop()}}),t)}))),!1),S("analytics-switch").style.display="";case 68:case"end":return t.stop()}}),t)})))),v.runtime.onMessage.addListener((t=>{if("CLOSE-POPUP"===t.greeting&&et(),function(t){if("LOAD-LAZY-LOAD-CASHBACK"!==t.greeting)return!0;var e,r=t.options.data;r&&null!=r&&r.value?(Ie(e=r.value?{type:r.type,value:r.value,cashback_category:r.cashback_category}:Oe(r),r),e.cashback_category&&(S("cashback-by-category-div-link").style.display="")):Ie(null,r)}(t),function(t){"SHOW-HOME-HOT-DEALS"===t.greeting&&(we(t),q.update(),rt("REQUEST-CASHBACK-HOT-DEALS",(t=>{if(t.unsuccessful){for(var e=[],r=0,n=Object.values(K);r<n.length;r++){var i=n[r];e.push(i.partnerId)}nt("REQUEST-PARTNERS-WITH-IDS",{filterIds:e},_(_e,!1))}else ke(t.partnerList)})))}(t),"POPUP-CHANGE-PARTNER-ACTIVATION-STATUS"===t.greeting){var e={isActivated:!1,isActivating:!1};switch(t.status){case"activating":e.isActivating=!0;break;case"activated":e.isActivated=!0}jt(e.isActivated,e.isActivating)}return!0})),v.runtime.onMessage.addListener((t=>("UPDATED-USER-CREDENTIALS"!==t.greeting||(t.loggedOut?de("logged-out"):de("update")),!1))),new p(".copy-content"),N({container:document.querySelector("#mz-loading-container"),height:"200px"}),v.tabs.query({active:!0,currentWindow:!0},function(){var t=(0,o.default)(i.default.mark((function t(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f=e[0];case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),setTimeout((()=>{document.body.style.display="flow-root"}),10),t.exports={handleBannerCashbackClick:dt,loadUserInformation:de,sendMessageWithOptions:nt,addCustomCurrencyLayout:Ae,handleWithdrawalUrlHelper:pt,renderCoupons:oe,addCouponsLayout:Zt,addCouponsAndOffersRules:Ft,addPartnerListeners:Bt,stripHtmlTags:ue,asyncSendMessage:it,activateCashback:yt,sendPageView:ut}},33980:(t,e,r)=>{"use strict";var n=r(64836),i=n(r(64687)),s=n(r(17156)),o=r(29825),a=r(59845),u=!1;function c(){return(c=(0,s.default)(i.default.mark((function t(){var e,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=9;break}return t.next=3,o.local.get("BROWSER_NAME");case 3:return e=t.sent,t.next=6,o.local.get("BROWSER_VERSION");case 6:r=t.sent,a.addInfo(e,r),u=!0;case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports=function(){return c.apply(this,arguments)}},79742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),l=0,h=u>0?o-4:o;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(u(t,a,a+o>c?c:a+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},99560:function(t,e,r){var n;!function(i){"use strict";function s(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function o(t,e,r,n,i,o){return s((a=s(s(e,t),s(n,o)))<<(u=i)|a>>>32-u,r);var a,u}function a(t,e,r,n,i,s,a){return o(e&r|~e&n,t,e,i,s,a)}function u(t,e,r,n,i,s,a){return o(e&n|r&~n,t,e,i,s,a)}function c(t,e,r,n,i,s,a){return o(e^r^n,t,e,i,s,a)}function l(t,e,r,n,i,s,a){return o(r^(e|~n),t,e,i,s,a)}function h(t,e){var r,n,i,o,h;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var f=1732584193,d=-271733879,p=-1732584194,m=271733878;for(r=0;r<t.length;r+=16)n=f,i=d,o=p,h=m,f=a(f,d,p,m,t[r],7,-680876936),m=a(m,f,d,p,t[r+1],12,-389564586),p=a(p,m,f,d,t[r+2],17,606105819),d=a(d,p,m,f,t[r+3],22,-1044525330),f=a(f,d,p,m,t[r+4],7,-176418897),m=a(m,f,d,p,t[r+5],12,1200080426),p=a(p,m,f,d,t[r+6],17,-1473231341),d=a(d,p,m,f,t[r+7],22,-45705983),f=a(f,d,p,m,t[r+8],7,1770035416),m=a(m,f,d,p,t[r+9],12,-1958414417),p=a(p,m,f,d,t[r+10],17,-42063),d=a(d,p,m,f,t[r+11],22,-1990404162),f=a(f,d,p,m,t[r+12],7,1804603682),m=a(m,f,d,p,t[r+13],12,-40341101),p=a(p,m,f,d,t[r+14],17,-1502002290),f=u(f,d=a(d,p,m,f,t[r+15],22,1236535329),p,m,t[r+1],5,-165796510),m=u(m,f,d,p,t[r+6],9,-1069501632),p=u(p,m,f,d,t[r+11],14,643717713),d=u(d,p,m,f,t[r],20,-373897302),f=u(f,d,p,m,t[r+5],5,-701558691),m=u(m,f,d,p,t[r+10],9,38016083),p=u(p,m,f,d,t[r+15],14,-660478335),d=u(d,p,m,f,t[r+4],20,-405537848),f=u(f,d,p,m,t[r+9],5,568446438),m=u(m,f,d,p,t[r+14],9,-1019803690),p=u(p,m,f,d,t[r+3],14,-187363961),d=u(d,p,m,f,t[r+8],20,1163531501),f=u(f,d,p,m,t[r+13],5,-1444681467),m=u(m,f,d,p,t[r+2],9,-51403784),p=u(p,m,f,d,t[r+7],14,1735328473),f=c(f,d=u(d,p,m,f,t[r+12],20,-1926607734),p,m,t[r+5],4,-378558),m=c(m,f,d,p,t[r+8],11,-2022574463),p=c(p,m,f,d,t[r+11],16,1839030562),d=c(d,p,m,f,t[r+14],23,-35309556),f=c(f,d,p,m,t[r+1],4,-1530992060),m=c(m,f,d,p,t[r+4],11,1272893353),p=c(p,m,f,d,t[r+7],16,-155497632),d=c(d,p,m,f,t[r+10],23,-1094730640),f=c(f,d,p,m,t[r+13],4,681279174),m=c(m,f,d,p,t[r],11,-358537222),p=c(p,m,f,d,t[r+3],16,-722521979),d=c(d,p,m,f,t[r+6],23,76029189),f=c(f,d,p,m,t[r+9],4,-640364487),m=c(m,f,d,p,t[r+12],11,-421815835),p=c(p,m,f,d,t[r+15],16,530742520),f=l(f,d=c(d,p,m,f,t[r+2],23,-995338651),p,m,t[r],6,-198630844),m=l(m,f,d,p,t[r+7],10,1126891415),p=l(p,m,f,d,t[r+14],15,-1416354905),d=l(d,p,m,f,t[r+5],21,-57434055),f=l(f,d,p,m,t[r+12],6,1700485571),m=l(m,f,d,p,t[r+3],10,-1894986606),p=l(p,m,f,d,t[r+10],15,-1051523),d=l(d,p,m,f,t[r+1],21,-2054922799),f=l(f,d,p,m,t[r+8],6,1873313359),m=l(m,f,d,p,t[r+15],10,-30611744),p=l(p,m,f,d,t[r+6],15,-1560198380),d=l(d,p,m,f,t[r+13],21,1309151649),f=l(f,d,p,m,t[r+4],6,-145523070),m=l(m,f,d,p,t[r+11],10,-1120210379),p=l(p,m,f,d,t[r+2],15,718787259),d=l(d,p,m,f,t[r+9],21,-343485551),f=s(f,n),d=s(d,i),p=s(p,o),m=s(m,h);return[f,d,p,m]}function f(t){var e,r="",n=32*t.length;for(e=0;e<n;e+=8)r+=String.fromCharCode(t[e>>5]>>>e%32&255);return r}function d(t){var e,r=[];for(r[(t.length>>2)-1]=void 0,e=0;e<r.length;e+=1)r[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)r[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return r}function p(t){var e,r,n="0123456789abcdef",i="";for(r=0;r<t.length;r+=1)e=t.charCodeAt(r),i+=n.charAt(e>>>4&15)+n.charAt(15&e);return i}function m(t){return unescape(encodeURIComponent(t))}function g(t){return function(t){return f(h(d(t),8*t.length))}(m(t))}function y(t,e){return function(t,e){var r,n,i=d(t),s=[],o=[];for(s[15]=o[15]=void 0,i.length>16&&(i=h(i,8*t.length)),r=0;r<16;r+=1)s[r]=909522486^i[r],o[r]=1549556828^i[r];return n=h(s.concat(d(e)),512+8*e.length),f(h(o.concat(n),640))}(m(t),m(e))}function v(t,e,r){return e?r?y(e,t):p(y(e,t)):r?g(t):p(g(t))}void 0===(n=function(){return v}.call(e,r,e,t))||(t.exports=n)}()},13550:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(46601).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:f[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,E=0|o[4],S=8191&E,x=E>>>13,M=0|o[5],k=8191&M,T=M>>>13,A=0|o[6],C=8191&A,I=A>>>13,P=0|o[7],R=8191&P,O=P>>>13,D=0|o[8],L=8191&D,N=D>>>13,F=0|o[9],B=8191&F,j=F>>>13,z=0|a[0],U=8191&z,V=z>>>13,q=0|a[1],G=8191&q,H=q>>>13,$=0|a[2],W=8191&$,K=$>>>13,Y=0|a[3],X=8191&Y,Q=Y>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(f,U)|0))<<13)|0;c=((s=Math.imul(f,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(m,U)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,V))+Math.imul(v,U)|0,s=Math.imul(v,V),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,H)|0;var vt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;c=((s=s+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,V))+Math.imul(_,U)|0,s=Math.imul(_,V),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,K)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(x,U)|0,s=Math.imul(x,V),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,W)|0,s=s+Math.imul(v,K)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(T,U)|0,s=Math.imul(T,V),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,H)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(I,U)|0,s=Math.imul(I,V),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,H)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;c=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(O,U)|0,s=Math.imul(O,V),n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,K)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((s=s+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,V))+Math.imul(N,U)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,K)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,V))+Math.imul(j,U)|0,s=Math.imul(j,V),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,Q)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(j,G)|0,s=Math.imul(j,H),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(j,W)|0,s=Math.imul(j,K),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ft)|0;var Tt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Q))+Math.imul(j,X)|0,s=Math.imul(j,Q),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(T,ut)|0,s=s+Math.imul(T,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var At=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,tt))+Math.imul(j,Z)|0,s=Math.imul(j,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,ft)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((s=s+Math.imul(T,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,st),i=(i=Math.imul(B,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ct)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,ct))+Math.imul(j,ut)|0,s=Math.imul(j,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Rt=(c+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Dt=(c+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(j,pt)|0))<<13)|0;return c=((s=Math.imul(j,mt))+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=xt,u[9]=Mt,u[10]=kt,u[11]=Tt,u[12]=At,u[13]=Ct,u[14]=It,u[15]=Pt,u[16]=Rt,u[17]=Ot,u[18]=Dt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function v(t,e,r){return y(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):v(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},b.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),v(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function T(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(x,_),i(M,_),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new S;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return w[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new T(t)},i(T,k),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},51206:function(t){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=90)}({17:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=r(18),i=function(){function t(){}return t.getFirstMatch=function(t,e){var r=e.match(t);return r&&r.length>0&&r[1]||""},t.getSecondMatch=function(t,e){var r=e.match(t);return r&&r.length>1&&r[2]||""},t.matchAndReturnConst=function(t,e,r){if(t.test(e))return r},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var e=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(e.push(0),10===e[0])switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var e=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(e.push(0),!(1===e[0]&&e[1]<5))return 1===e[0]&&e[1]<6?"Cupcake":1===e[0]&&e[1]>=6?"Donut":2===e[0]&&e[1]<2?"Eclair":2===e[0]&&2===e[1]?"Froyo":2===e[0]&&e[1]>2?"Gingerbread":3===e[0]?"Honeycomb":4===e[0]&&e[1]<1?"Ice Cream Sandwich":4===e[0]&&e[1]<4?"Jelly Bean":4===e[0]&&e[1]>=4?"KitKat":5===e[0]?"Lollipop":6===e[0]?"Marshmallow":7===e[0]?"Nougat":8===e[0]?"Oreo":9===e[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(e,r,n){void 0===n&&(n=!1);var i=t.getVersionPrecision(e),s=t.getVersionPrecision(r),o=Math.max(i,s),a=0,u=t.map([e,r],(function(e){var r=o-t.getVersionPrecision(e),n=e+new Array(r+1).join(".0");return t.map(n.split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},t.map=function(t,e){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(r=0;r<t.length;r+=1)n.push(e(t[r]));return n},t.find=function(t,e){var r,n;if(Array.prototype.find)return Array.prototype.find.call(t,e);for(r=0,n=t.length;r<n;r+=1){var i=t[r];if(e(i,r))return i}},t.assign=function(t){for(var e,r,n=t,i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[t].concat(s));var a=function(){var t=s[e];"object"==typeof t&&null!==t&&Object.keys(t).forEach((function(e){n[e]=t[e]}))};for(e=0,r=s.length;e<r;e+=1)a();return t},t.getBrowserAlias=function(t){return n.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return n.BROWSER_MAP[t]||""},t}();e.default=i,t.exports=e.default},18:function(t,e,r){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(){}var e,r,n;return t.getParser=function(t,e){if(void 0===e&&(e=!1),"string"!=typeof t)throw new Error("UserAgent should be a string");return new i.default(t,e)},t.parse=function(t){return new i.default(t).getResult()},e=t,n=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&o(e.prototype,r),n&&o(e,n),t}();e.default=a,t.exports=e.default},91:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),o=u(r(95)),a=u(r(17));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){if(void 0===e&&(e=!1),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==e&&this.parse()}var e=t.prototype;return e.getUA=function(){return this._ua},e.test=function(t){return t.test(this._ua)},e.parseBrowser=function(){var t=this;this.parsedResult.browser={};var e=a.default.find(n.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser},e.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},e.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},e.getBrowserVersion=function(){return this.getBrowser().version},e.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},e.parseOS=function(){var t=this;this.parsedResult.os={};var e=a.default.find(i.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os},e.getOSName=function(t){var e=this.getOS().name;return t?String(e).toLowerCase()||"":e||""},e.getOSVersion=function(){return this.getOS().version},e.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},e.getPlatformType=function(t){void 0===t&&(t=!1);var e=this.getPlatform().type;return t?String(e).toLowerCase()||"":e||""},e.parsePlatform=function(){var t=this;this.parsedResult.platform={};var e=a.default.find(s.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform},e.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},e.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},e.parseEngine=function(){var t=this;this.parsedResult.engine={};var e=a.default.find(o.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine},e.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},e.getResult=function(){return a.default.assign({},this.parsedResult)},e.satisfies=function(t){var e=this,r={},n=0,i={},s=0;if(Object.keys(t).forEach((function(e){var o=t[e];"string"==typeof o?(i[e]=o,s+=1):"object"==typeof o&&(r[e]=o,n+=1)})),n>0){var o=Object.keys(r),u=a.default.find(o,(function(t){return e.isOS(t)}));if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var l=a.default.find(o,(function(t){return e.isPlatform(t)}));if(l){var h=this.satisfies(r[l]);if(void 0!==h)return h}}if(s>0){var f=Object.keys(i),d=a.default.find(f,(function(t){return e.isBrowser(t,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},e.isBrowser=function(t,e){void 0===e&&(e=!1);var r=this.getBrowserName().toLowerCase(),n=t.toLowerCase(),i=a.default.getBrowserTypeByAlias(n);return e&&i&&(n=i.toLowerCase()),n===r},e.compareVersion=function(t){var e=[0],r=t,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===t[0]||"<"===t[0]?(r=t.substr(1),"="===t[1]?(n=!0,r=t.substr(2)):e=[],">"===t[0]?e.push(1):e.push(-1)):"="===t[0]?r=t.substr(1):"~"===t[0]&&(n=!0,r=t.substr(1)),e.indexOf(a.default.compareVersions(i,r,n))>-1},e.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},e.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},e.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},e.is=function(t,e){return void 0===e&&(e=!1),this.isBrowser(t,e)||this.isOS(t)||this.isPlatform(t)},e.some=function(t){var e=this;return void 0===t&&(t=[]),t.some((function(t){return e.is(t)}))},t}();e.default=c,t.exports=e.default},92:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(t){var e={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/opera/i],describe:function(t){var e={name:"Opera"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe:function(t){var e={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe:function(t){var e={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe:function(t){var e={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe:function(t){var e={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/focus/i],describe:function(t){var e={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/swing/i],describe:function(t){var e={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/coast/i],describe:function(t){var e={name:"Opera Coast"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(t){var e={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe:function(t){var e={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe:function(t){var e={name:"UC Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe:function(t){var e={name:"Maxthon"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe:function(t){var e={name:"Epiphany"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe:function(t){var e={name:"Puffin"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe:function(t){var e={name:"Sleipnir"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe:function(t){var e={name:"K-Meleon"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe:function(t){var e={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe:function(t){var e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe:function(t){var e={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe:function(t){var e={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe:function(t){var e={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe:function(t){var e={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe:function(t){var e={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe:function(t){var e={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe:function(t){var e={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe:function(t){var e={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe:function(t){var e={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e={name:"BlackBerry"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e={name:"WebOS Browser"},r=i.default.getFirstMatch(s,t)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe:function(t){var e={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe:function(t){var e={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe:function(t){var e={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var e={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe:function(t){var e={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe:function(t){var e={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe:function(t){var e={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe:function(t){var e={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe:function(t){var e={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){var e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe:function(t){var e={name:"Android Browser"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe:function(t){var e={name:"PlayStation 4"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe:function(t){var e={name:"Safari"},r=i.default.getFirstMatch(s,t);return r&&(e.version=r),e}},{test:[/.*/i],describe:function(t){var e=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(e,t),version:i.default.getSecondMatch(e,t)}}}];e.default=o,t.exports=e.default},93:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),o=[{test:[/Roku\/DVP/],describe:function(t){var e=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:s.OS_MAP.Roku,version:e}}},{test:[/windows phone/i],describe:function(t){var e=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.WindowsPhone,version:e}}},{test:[/windows /i],describe:function(t){var e=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=i.default.getWindowsVersionName(e);return{name:s.OS_MAP.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(t){var e={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe:function(t){var e=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(e),n={name:s.OS_MAP.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var e=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:e}}},{test:function(t){var e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe:function(t){var e=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=i.default.getAndroidVersionName(e),n={name:s.OS_MAP.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:s.OS_MAP.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||i.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:s.OS_MAP.BlackBerry,version:e}}},{test:[/bada/i],describe:function(t){var e=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.Bada,version:e}}},{test:[/tizen/i],describe:function(t){var e=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.Tizen,version:e}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var e=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.PlayStation4,version:e}}}];e.default=o,t.exports=e.default},94:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var e=i.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(t){var e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe:function(t){var e=i.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var e=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&e>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18),o=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:s.ENGINE_MAP.Blink};var e=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:s.ENGINE_MAP.EdgeHTML,version:e}}},{test:[/trident/i],describe:function(t){var e={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){return t.test(/presto/i)},describe:function(t){var e={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:function(t){var e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe:function(t){var e={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var e={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];e.default=o,t.exports=e.default}})},29931:(t,e,r)=>{var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(89214);if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}},74497:(t,e,r)=>{var n=r(89509).Buffer;function i(t){n.isBuffer(t)||(t=n.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(4*i);return r}function s(t){for(;0<t.length;t++)t[0]=0}function o(t,e,r,n,i){for(var s,o,a,u,c=r[0],l=r[1],h=r[2],f=r[3],d=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],y=4,v=1;v<i;v++)s=c[d>>>24]^l[p>>>16&255]^h[m>>>8&255]^f[255&g]^e[y++],o=c[p>>>24]^l[m>>>16&255]^h[g>>>8&255]^f[255&d]^e[y++],a=c[m>>>24]^l[g>>>16&255]^h[d>>>8&255]^f[255&p]^e[y++],u=c[g>>>24]^l[d>>>16&255]^h[p>>>8&255]^f[255&m]^e[y++],d=s,p=o,m=a,g=u;return s=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^e[y++],o=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&d])^e[y++],a=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^e[y++],u=(n[g>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^e[y++],[s>>>=0,o>>>=0,a>>>=0,u>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,u=0;u<256;++u){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^255&c^99,r[o]=c,n[c]=o;var l=t[o],h=t[l],f=t[h],d=257*t[c]^16843008*c;i[0][o]=d<<24|d>>>8,i[1][o]=d<<16|d>>>16,i[2][o]=d<<8|d>>>24,i[3][o]=d,d=16843009*f^65537*h^257*l^16843008*o,s[0][c]=d<<24|d>>>8,s[1][c]=d<<16|d>>>16,s[2][c]=d<<8|d>>>24,s[3][c]=d,0===o?o=a=1:(o=l^t[t[t[f^l]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function c(t){this._key=i(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=4*(r+1),i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var o=i[s-1];s%e==0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=a[s/e|0]<<24):e>6&&s%e==4&&(o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]),i[s]=i[s-e]^o}for(var c=[],l=0;l<n;l++){var h=n-l,f=i[h-(l%4?0:4)];c[l]=l<4||h<=4?f:u.INV_SUB_MIX[0][u.SBOX[f>>>24]]^u.INV_SUB_MIX[1][u.SBOX[f>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[f>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&f]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(t){return o(t=i(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=n.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},c.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var r=o(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),s=n.allocUnsafe(16);return s.writeUInt32BE(r[0],0),s.writeUInt32BE(r[3],4),s.writeUInt32BE(r[2],8),s.writeUInt32BE(r[1],12),s},c.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},t.exports.AES=c},62422:(t,e,r)=>{var n=r(74497),i=r(89509).Buffer,s=r(71027),o=r(35717),a=r(83288),u=r(67295),c=r(20685);function l(t,e,r,o){s.call(this);var u=i.alloc(4,0);this._cipher=new n.AES(e);var l=this._cipher.encryptBlock(u);this._ghash=new a(l),r=function(t,e,r){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var n=new a(r),s=e.length,o=s%16;n.update(e),o&&(o=16-o,n.update(i.alloc(o,0))),n.update(i.alloc(8,0));var u=8*s,l=i.alloc(8);l.writeUIntBE(u,0,8),n.update(l),t._finID=n.state;var h=i.from(t._finID);return c(h),h}(this,r,l),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}o(l,s),l.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},l.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=l},44696:(t,e,r)=>{var n=r(71494),i=r(66193),s=r(44946);e.createCipher=e.Cipher=n.createCipher,e.createCipheriv=e.Cipheriv=n.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(s)}},66193:(t,e,r)=>{var n=r(62422),i=r(89509).Buffer,s=r(45),o=r(25969),a=r(71027),u=r(74497),c=r(13048);function l(t,e,r){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(e),this._prev=i.from(r),this._mode=t,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function f(t,e,r){var a=s[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new o(a.module,e,r,!0):"auth"===a.type?new n(a.module,e,r,!0):new l(a.module,e,r)}r(35717)(l,a),l.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return i.concat(n)},l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=i.concat([this.cache,t])},h.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=s[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=c(e,!1,r.key,r.iv);return f(t,n.key,n.iv)},e.createDecipheriv=f},71494:(t,e,r)=>{var n=r(45),i=r(62422),s=r(89509).Buffer,o=r(25969),a=r(71027),u=r(74497),c=r(13048);function l(t,e,r){a.call(this),this._cache=new f,this._cipher=new u.AES(e),this._prev=s.from(r),this._mode=t,this._autopadding=!0}r(35717)(l,a),l.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return s.concat(n)};var h=s.alloc(16,16);function f(){this.cache=s.allocUnsafe(0)}function d(t,e,r){var a=n[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=s.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=s.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new o(a.module,e,r):"auth"===a.type?new i(a.module,e,r):new l(a.module,e,r)}l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=s.concat([this.cache,t])},f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},f.prototype.flush=function(){for(var t=16-this.cache.length,e=s.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return s.concat([this.cache,e])},e.createCipheriv=d,e.createCipher=function(t,e){var r=n[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=c(e,!1,r.key,r.iv);return d(t,i.key,i.iv)}},83288:(t,e,r)=>{var n=r(89509).Buffer,i=n.alloc(16,0);function s(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,r,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=s(i)},o.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(s([0,t,0,e])),this.state},t.exports=o},20685:t=>{t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},25292:(t,e,r)=>{var n=r(67295);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},86311:(t,e,r)=>{var n=r(89509).Buffer,i=r(67295);function s(t,e,r){var s=e.length,o=i(e,t._cache);return t._cache=t._cache.slice(s),t._prev=n.concat([t._prev,r?e:o]),o}e.encrypt=function(t,e,r){for(var i,o=n.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=n.allocUnsafe(0)),!(t._cache.length<=e.length)){o=n.concat([o,s(t,e,r)]);break}i=t._cache.length,o=n.concat([o,s(t,e.slice(0,i),r)]),e=e.slice(i)}return o}},21510:(t,e,r)=>{var n=r(89509).Buffer;function i(t,e,r){for(var n,i,o=-1,a=0;++o<8;)n=e&1<<7-o?128:0,a+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^n))>>o%8,t._prev=s(t._prev,r?n:i);return a}function s(t,e){var r=t.length,i=-1,s=n.allocUnsafe(t.length);for(t=n.concat([t,n.from([e])]);++i<r;)s[i]=t[i]<<1|t[i+1]>>7;return s}e.encrypt=function(t,e,r){for(var s=e.length,o=n.allocUnsafe(s),a=-1;++a<s;)o[a]=i(t,e[a],r);return o}},71964:(t,e,r)=>{var n=r(89509).Buffer;function i(t,e,r){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=n.concat([t._prev.slice(1),n.from([r?e:i])]),i}e.encrypt=function(t,e,r){for(var s=e.length,o=n.allocUnsafe(s),a=-1;++a<s;)o[a]=i(t,e[a],r);return o}},96009:(t,e,r)=>{var n=r(67295),i=r(89509).Buffer,s=r(20685);function o(t){var e=t._cipher.encryptBlockRaw(t._prev);return s(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),s=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var u=o(t),c=s+16*a;t._cache.writeUInt32BE(u[0],c+0),t._cache.writeUInt32BE(u[1],c+4),t._cache.writeUInt32BE(u[2],c+8),t._cache.writeUInt32BE(u[3],c+12)}var l=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,l)}},11084:(t,e)=>{e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},45:(t,e,r)=>{var n={ECB:r(11084),CBC:r(25292),CFB:r(86311),CFB8:r(71964),CFB1:r(21510),OFB:r(18861),CTR:r(96009),GCM:r(96009)},i=r(44946);for(var s in i)i[s].module=n[i[s].mode];t.exports=i},18861:(t,e,r)=>{var n=r(67295);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,i(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,r)}},25969:(t,e,r)=>{var n=r(74497),i=r(89509).Buffer,s=r(71027);function o(t,e,r,o){s.call(this),this._cipher=new n.AES(e),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._mode=t}r(35717)(o,s),o.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o},53614:(t,e,r)=>{var n=r(47667),i=r(44696),s=r(45),o=r(99715),a=r(13048);function u(t,e,r){if(t=t.toLowerCase(),s[t])return i.createCipheriv(t,e,r);if(o[t])return new n({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function c(t,e,r){if(t=t.toLowerCase(),s[t])return i.createDecipheriv(t,e,r);if(o[t])return new n({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var r,n;if(t=t.toLowerCase(),s[t])r=s[t].key,n=s[t].iv;else{if(!o[t])throw new TypeError("invalid suite type");r=8*o[t].key,n=o[t].iv}var i=a(e,!1,r,n);return u(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=u,e.createDecipher=e.Decipher=function(t,e){var r,n;if(t=t.toLowerCase(),s[t])r=s[t].key,n=s[t].iv;else{if(!o[t])throw new TypeError("invalid suite type");r=8*o[t].key,n=o[t].iv}var i=a(e,!1,r,n);return c(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=c,e.listCiphers=e.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},47667:(t,e,r)=>{var n=r(71027),i=r(15251),s=r(35717),o=r(89509).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(t){n.call(this);var e,r=t.mode.toLowerCase(),i=a[r];e=t.decrypt?"decrypt":"encrypt";var s=t.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==r&&"des-ede-cbc"!==r||(s=o.concat([s,s.slice(0,8)]));var u=t.iv;o.isBuffer(u)||(u=o.from(u)),this._des=i.create({key:s,iv:u,type:e})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=u,s(u,n),u.prototype._update=function(t){return o.from(this._des.update(t))},u.prototype._final=function(){return o.from(this._des.final())}},99715:(t,e)=>{e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},23663:(t,e,r)=>{var n=r(13550),i=r(61798);function s(t){var e,r=t.modulus.byteLength();do{e=new n(i(r))}while(e.cmp(t.modulus)>=0||!e.umod(t.prime1)||!e.umod(t.prime2));return e}function o(t,e){var r=function(t){var e=s(t);return{blinder:e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),i=e.modulus.byteLength(),o=new n(t).mul(r.blinder).umod(e.modulus),a=o.toRed(n.mont(e.prime1)),u=o.toRed(n.mont(e.prime2)),c=e.coefficient,l=e.prime1,h=e.prime2,f=a.redPow(e.exponent1).fromRed(),d=u.redPow(e.exponent2).fromRed(),p=f.isub(d).imul(c).umod(l).imul(h);return d.iadd(p).imul(r.unblinder).umod(e.modulus).toArrayLike(Buffer,"be",i)}o.getr=s,t.exports=o},56042:(t,e,r)=>{"use strict";t.exports=r(75207)},64743:(t,e,r)=>{"use strict";var n=r(89509).Buffer,i=r(23482),s=r(88473),o=r(35717),a=r(82957),u=r(47753),c=r(75207);function l(t){s.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function h(t){s.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){return new l(t)}function d(t){return new h(t)}Object.keys(c).forEach((function(t){c[t].id=n.from(c[t].id,"hex"),c[t.toLowerCase()]=c[t]})),o(l,s.Writable),l.prototype._write=function(t,e,r){this._hash.update(t),r()},l.prototype.update=function(t,e){return this._hash.update("string"==typeof t?n.from(t,e):t),this},l.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),n=a(r,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},o(h,s.Writable),h.prototype._write=function(t,e,r){this._hash.update(t),r()},h.prototype.update=function(t,e){return this._hash.update("string"==typeof t?n.from(t,e):t),this},h.prototype.verify=function(t,e,r){var i="string"==typeof e?n.from(e,r):e;this.end();var s=this._hash.digest();return u(i,s,t,this._signType,this._tag)},t.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},82957:(t,e,r)=>{"use strict";var n=r(89509).Buffer,i=r(58355),s=r(23663),o=r(86266).ec,a=r(13550),u=r(70980),c=r(1308);function l(t,e,r,s){if((t=n.from(t.toArray())).length<e.byteLength()){var o=n.alloc(e.byteLength()-t.length);t=n.concat([o,t])}var a=r.length,u=function(t,e){t=h(t,e),t=t.mod(e);var r=n.from(t.toArray());if(r.length<e.byteLength()){var i=n.alloc(e.byteLength()-r.length);r=n.concat([i,r])}return r}(r,e),c=n.alloc(a);c.fill(1);var l=n.alloc(a);return l=i(s,l).update(c).update(n.from([0])).update(t).update(u).digest(),c=i(s,l).update(c).digest(),{k:l=i(s,l).update(c).update(n.from([1])).update(t).update(u).digest(),v:c=i(s,l).update(c).digest()}}function h(t,e){var r=new a(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function f(t,e,r){var s,o;do{for(s=n.alloc(0);8*s.length<t.bitLength();)e.v=i(r,e.k).update(e.v).digest(),s=n.concat([s,e.v]);o=h(s,t),e.k=i(r,e.k).update(e.v).update(n.from([0])).digest(),e.v=i(r,e.k).update(e.v).digest()}while(-1!==o.cmp(t));return o}function d(t,e,r,n){return t.toRed(a.mont(r)).redPow(e).fromRed().mod(n)}t.exports=function(t,e,r,i,p){var m=u(e);if(m.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(t,e){var r=c[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new o(r).keyFromPrivate(e.privateKey),s=i.sign(t);return n.from(s.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==i)throw new Error("wrong private key type");return function(t,e,r){var i,s=e.params.priv_key,o=e.params.p,u=e.params.q,c=e.params.g,p=new a(0),m=h(t,u).mod(u),g=!1,y=l(s,u,t,r);for(;!1===g;)p=d(c,i=f(u,y,r),o,u),0===(g=i.invm(u).imul(m.add(s.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new a(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t));128&e[0]&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),n.from(i)}(p,g)}(t,m,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");if(void 0!==e.padding&&1!==e.padding)throw new Error("illegal or unsupported padding mode");t=n.concat([p,t]);for(var g=m.modulus.byteLength(),y=[0,1];t.length+y.length+1<g;)y.push(255);y.push(0);for(var v=-1;++v<t.length;)y.push(t[v]);return s(y,m)},t.exports.getKey=l,t.exports.makeKey=f},47753:(t,e,r)=>{"use strict";var n=r(89509).Buffer,i=r(13550),s=r(86266).ec,o=r(70980),a=r(1308);function u(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}t.exports=function(t,e,r,c,l){var h=o(r);if("ec"===h.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(t,e,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new s(n),o=r.data.subjectPrivateKey.data;return i.verify(e,t,o)}(t,e,h)}if("dsa"===h.type){if("dsa"!==c)throw new Error("wrong public key type");return function(t,e,r){var n=r.data.p,s=r.data.q,a=r.data.g,c=r.data.pub_key,l=o.signature.decode(t,"der"),h=l.s,f=l.r;u(h,s),u(f,s);var d=i.mont(n),p=h.invm(s),m=a.toRed(d).redPow(new i(e).mul(p).mod(s)).fromRed().mul(c.toRed(d).redPow(f.mul(p).mod(s)).fromRed()).mod(n).mod(s);return 0===m.cmp(f)}(t,e,h)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");e=n.concat([l,e]);for(var f=h.modulus.byteLength(),d=[1],p=0;e.length+d.length+2<f;)d.push(255),p+=1;d.push(0);for(var m=-1;++m<e.length;)d.push(e[m]);d=n.from(d);var g=i.mont(h.modulus);t=(t=new i(t).toRed(g)).redPow(new i(h.publicExponent)),t=n.from(t.fromRed().toArray());var y=p<8?1:0;for(f=Math.min(t.length,d.length),t.length!==d.length&&(y=1),m=-1;++m<f;)y|=t[m]^d[m];return 0===y}},88500:(t,e,r)=>{"use strict";var n=r(48764).Buffer,i=r(48764).SlowBuffer;function s(t,e){if(!n.isBuffer(t)||!n.isBuffer(e))return!1;if(t.length!==e.length)return!1;for(var r=0,i=0;i<t.length;i++)r|=t[i]^e[i];return 0===r}t.exports=s,s.install=function(){n.prototype.equal=i.prototype.equal=function(t){return s(this,t)}};var o=n.prototype.equal,a=i.prototype.equal;s.restore=function(){n.prototype.equal=o,i.prototype.equal=a}},67295:t=>{t.exports=function(t,e){for(var r=Math.min(t.length,e.length),n=new Buffer(r),i=0;i<r;++i)n[i]=t[i]^e[i];return n}},48764:(t,e,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(79742),i=r(80645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|m(t,e),n=a(r),i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(U(t,Uint8Array)){var e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(U(t,ArrayBuffer)||t&&U(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(U(t,SharedArrayBuffer)||t&&U(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);var i=function(t){if(u.isBuffer(t)){var e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||V(t.length)?a(0):f(t);if("Buffer"===t.type&&Array.isArray(t.data))return f(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function f(t){for(var e=t.length<0?0:0|p(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||U(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(i)return n?-1:B(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return M(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),V(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){var s,o=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=r;s<a;s++)if(c(t,s)===c(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===u)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){for(var h=!0,f=0;f<u;f++)if(c(t,s+f)!==c(e,f)){h=!1;break}if(h)return s}return-1}function w(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(V(a))return o;t[r+o]=a}return o}function _(t,e,r,n){return z(B(e,t.length-r),t,r,n)}function E(t,e,r,n){return z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return z(j(e),t,r,n)}function x(t,e,r,n){return z(function(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(r=t.charCodeAt(o))>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function M(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(s=t[i+1]))&&(u=(31&c)<<6|63&s)>127&&(l=u);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&(u=(15&c)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(U(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),U(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(U(s,Uint8Array))i+s.length>n.length?u.from(s).copy(n,i):Uint8Array.prototype.set.call(n,s,i);else{if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i)}i+=s.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(U(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),c=this.slice(n,i),l=t.slice(e,r),h=0;h<a;++h)if(c[h]!==l[h]){s=c[h],o=l[h];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=q[t[s]];return i}function P(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function D(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,s){return e=+e,r>>>=0,s||D(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function N(t,e,r,n,s){return e=+e,r>>>=0,s||D(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var o=u.isBuffer(t)?t:u.from(t,n),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this};var F=/[^+/0-9A-Za-z-_]/g;function B(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function j(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function U(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function V(t){return t!=t}var q=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},71027:(t,e,r)=>{var n=r(89509).Buffer,i=r(42830).Transform,s=r(32553).s;function o(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(35717)(o,i),o.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=o},42152:function(t){
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
var e;e=function(){return function(){var t={686:function(t,e,r){"use strict";r.d(e,{default:function(){return E}});var n=r(279),i=r.n(n),s=r(370),o=r.n(s),a=r(817),u=r.n(a);function c(t){try{return document.execCommand(t)}catch(t){return!1}}var l=function(t){var e=u()(t);return c("cut"),e},h=function(t,e){var r=function(t){var e="rtl"===document.documentElement.getAttribute("dir"),r=document.createElement("textarea");r.style.fontSize="12pt",r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.position="absolute",r.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;return r.style.top="".concat(n,"px"),r.setAttribute("readonly",""),r.value=t,r}(t);e.container.appendChild(r);var n=u()(r);return c("copy"),r.remove(),n},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},r="";return"string"==typeof t?r=h(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==t?void 0:t.type)?r=h(t.value,e):(r=u()(t),c("copy")),r};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,r=void 0===e?"copy":e,n=t.container,i=t.target,s=t.text;if("copy"!==r&&"cut"!==r)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==i){if(!i||"object"!==d(i)||1!==i.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===r&&i.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===r&&(i.hasAttribute("readonly")||i.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return s?f(s,{container:n}):i?"cut"===r?l(i):f(i,{container:n}):void 0};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,r)}}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function w(t,e){var r="data-clipboard-".concat(t);if(e.hasAttribute(r))return e.getAttribute(r)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(s,t);var e,r,n,i=v(s);function s(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this)).resolveOptions(e),r.listenClick(t),r}return e=s,r=[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===m(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=o()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,r=this.action(e)||"copy",n=p({action:r,container:this.container,target:this.target(e),text:this.text(e)});this.emit(n?"success":"error",{action:r,text:n,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return w("action",t)}},{key:"defaultTarget",value:function(t){var e=w("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return w("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],n=[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return f(t,e)}},{key:"cut",value:function(t){return l(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,r=!!document.queryCommandSupported;return e.forEach((function(t){r=r&&!!document.queryCommandSupported(t)})),r}}],r&&g(e.prototype,r),n&&g(e,n),s}(i()),E=_},828:function(t){if("undefined"!=typeof Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},438:function(t,e,r){var n=r(828);function i(t,e,r,n,i){var o=s.apply(this,arguments);return t.addEventListener(r,o,i),{destroy:function(){t.removeEventListener(r,o,i)}}}function s(t,e,r,i){return function(r){r.delegateTarget=n(r.target,e),r.delegateTarget&&i.call(t,r)}}t.exports=function(t,e,r,n,s){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof r?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return i(t,e,r,n,s)})))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var r=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,r){var n=r(879),i=r(438);t.exports=function(t,e,r){if(!t&&!e&&!r)throw new Error("Missing required arguments");if(!n.string(e))throw new TypeError("Second argument must be a String");if(!n.fn(r))throw new TypeError("Third argument must be a Function");if(n.node(t))return function(t,e,r){return t.addEventListener(e,r),{destroy:function(){t.removeEventListener(e,r)}}}(t,e,r);if(n.nodeList(t))return function(t,e,r){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,r)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,r)}))}}}(t,e,r);if(n.string(t))return function(t,e,r){return i(document.body,t,e,r)}(t,e,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(t){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var r=t.hasAttribute("readonly");r||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),r||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}},279:function(t){function e(){}e.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function i(){n.off(t,i),e.apply(r,arguments)}return i._=e,this.on(t,i,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var s=0,o=n.length;s<o;s++)n[s].fn!==e&&n[s].fn._!==e&&i.push(n[s]);return i.length?r[t]=i:delete r[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r(686)}().default},t.exports=e()},76393:(t,e,r)=>{var n=r(86266),i=r(16426);t.exports=function(t){return new o(t)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(t){this.curveType=s[t],this.curveType||(this.curveType={name:t}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function a(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,o.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},o.prototype.computeSecret=function(t,e,r){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},o.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),a(r,t)},o.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},o.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this},o.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new i(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},16426:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8623).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,E=0|o[4],S=8191&E,x=E>>>13,M=0|o[5],k=8191&M,T=M>>>13,A=0|o[6],C=8191&A,I=A>>>13,P=0|o[7],R=8191&P,O=P>>>13,D=0|o[8],L=8191&D,N=D>>>13,F=0|o[9],B=8191&F,j=F>>>13,z=0|a[0],U=8191&z,V=z>>>13,q=0|a[1],G=8191&q,H=q>>>13,$=0|a[2],W=8191&$,K=$>>>13,Y=0|a[3],X=8191&Y,Q=Y>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(f,U)|0))<<13)|0;c=((s=Math.imul(f,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(m,U)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,V))+Math.imul(v,U)|0,s=Math.imul(v,V),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,H)|0;var vt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;c=((s=s+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,V))+Math.imul(_,U)|0,s=Math.imul(_,V),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,K)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(x,U)|0,s=Math.imul(x,V),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,W)|0,s=s+Math.imul(v,K)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(T,U)|0,s=Math.imul(T,V),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,H)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(I,U)|0,s=Math.imul(I,V),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,H)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;c=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(O,U)|0,s=Math.imul(O,V),n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,K)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((s=s+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,V))+Math.imul(N,U)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,K)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,V))+Math.imul(j,U)|0,s=Math.imul(j,V),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,Q)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(j,G)|0,s=Math.imul(j,H),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(j,W)|0,s=Math.imul(j,K),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ft)|0;var Tt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Q))+Math.imul(j,X)|0,s=Math.imul(j,Q),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(T,ut)|0,s=s+Math.imul(T,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var At=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,tt))+Math.imul(j,Z)|0,s=Math.imul(j,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,ft)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((s=s+Math.imul(T,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,st),i=(i=Math.imul(B,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ct)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,ct))+Math.imul(j,ut)|0,s=Math.imul(j,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Rt=(c+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Dt=(c+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(j,pt)|0))<<13)|0;return c=((s=Math.imul(j,mt))+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=xt,u[9]=Mt,u[10]=kt,u[11]=Tt,u[12]=At,u[13]=Ct,u[14]=It,u[15]=Pt,u[16]=Rt,u[17]=Ot,u[18]=Dt,0!==c&&(u[19]=c,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(b,v),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(_,v),i(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},i(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},23482:(t,e,r)=>{"use strict";var n=r(35717),i=r(62318),s=r(79785),o=r(89072),a=r(71027);function u(t){a.call(this,"digest"),this._hash=t}n(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new s:new u(o(t))}},78028:(t,e,r)=>{var n=r(62318);t.exports=function(t){return(new n).update(t).digest()}},58355:(t,e,r)=>{"use strict";var n=r(35717),i=r(51031),s=r(71027),o=r(89509).Buffer,a=r(78028),u=r(79785),c=r(89072),l=o.alloc(128);function h(t,e){s.call(this,"digest"),"string"==typeof e&&(e=o.from(e));var r="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>r)?e=("rmd160"===t?new u:c(t)).update(e).digest():e.length<r&&(e=o.concat([e,l],r));for(var n=this._ipad=o.allocUnsafe(r),i=this._opad=o.allocUnsafe(r),a=0;a<r;a++)n[a]=54^e[a],i[a]=92^e[a];this._hash="rmd160"===t?new u:c(t),this._hash.update(n)}n(h,s),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new h("rmd160",e):"md5"===t?new i(a,e):new h(t,e)}},51031:(t,e,r)=>{"use strict";var n=r(35717),i=r(89509).Buffer,s=r(71027),o=i.alloc(128),a=64;function u(t,e){s.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,o],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),u=0;u<a;u++)r[u]=54^e[u],n[u]=92^e[u];this._hash=[r]}n(u,s),u.prototype._update=function(t){this._hash.push(t)},u.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=u},55835:(t,e,r)=>{"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(61798),e.createHash=e.Hash=r(23482),e.createHmac=e.Hmac=r(58355);var n=r(56042),i=Object.keys(n),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return s};var o=r(25632);e.pbkdf2=o.pbkdf2,e.pbkdf2Sync=o.pbkdf2Sync;var a=r(53614);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var u=r(62607);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var c=r(64743);e.createSign=c.createSign,e.Sign=c.Sign,e.createVerify=c.createVerify,e.Verify=c.Verify,e.createECDH=r(76393);var l=r(7900);e.publicEncrypt=l.publicEncrypt,e.privateEncrypt=l.privateEncrypt,e.publicDecrypt=l.publicDecrypt,e.privateDecrypt=l.privateDecrypt;var h=r(77963);e.randomFill=h.randomFill,e.randomFillSync=h.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},15251:(t,e,r)=>{"use strict";e.utils=r(11278),e.Cipher=r(55756),e.DES=r(70778),e.CBC=r(39051),e.EDE=r(50651)},39051:(t,e,r)=>{"use strict";var n=r(79746),i=r(35717),s={};function o(t){n.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var r=Object.keys(s),n=0;n<r.length;n++){var o=r[n];e.prototype[o]=s[o]}return e.create=function(t){return new e(t)},e},s._cbcInit=function(){var t=new o(this.options.iv);this._cbcState=t},s._update=function(t,e,r,n){var i=this._cbcState,s=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[e+a];s._update.call(this,o,0,r,n);for(a=0;a<this.blockSize;a++)o[a]=r[n+a]}else{s._update.call(this,t,e,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=t[e+a]}}},55756:(t,e,r)=>{"use strict";var n=r(79746);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<r;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,r=0,n=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var s=t.length-(t.length-e)%this.blockSize;e<s;e+=this.blockSize)this._update(t,e,i,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,r=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),r+=this._flushBuffer(i,r);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},70778:(t,e,r)=>{"use strict";var n=r(79746),i=r(35717),s=r(11278),o=r(55756);function a(){this.tmp=new Array(2),this.keys=null}function u(t){o.call(this,t);var e=new a;this._desState=e,this.deriveKeys(e,t.key)}i(u,o),t.exports=u,u.create=function(t){return new u(t)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(e,0),i=s.readUInt32BE(e,4);s.pc1(r,i,t.tmp,0),r=t.tmp[0],i=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=c[o>>>1];r=s.r28shl(r,a),i=s.r28shl(i,a),s.pc2(r,i,t.keys,o)}},u.prototype._update=function(t,e,r,n){var i=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],s.writeUInt32BE(r,o,n),s.writeUInt32BE(r,a,n+4)},u.prototype._pad=function(t,e){if(!1===this.padding)return!1;for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},u.prototype._unpad=function(t){if(!1===this.padding)return t;for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)n.equal(t[r],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,r,n,i){for(var o=e,a=r,u=0;u<t.keys.length;u+=2){var c=t.keys[u],l=t.keys[u+1];s.expand(a,t.tmp,0),c^=t.tmp[0],l^=t.tmp[1];var h=s.substitute(c,l),f=a;a=(o^s.permute(h))>>>0,o=f}s.rip(a,o,n,i)},u.prototype._decrypt=function(t,e,r,n,i){for(var o=r,a=e,u=t.keys.length-2;u>=0;u-=2){var c=t.keys[u],l=t.keys[u+1];s.expand(o,t.tmp,0),c^=t.tmp[0],l^=t.tmp[1];var h=s.substitute(c,l),f=o;o=(a^s.permute(h))>>>0,a=f}s.rip(o,a,n,i)}},50651:(t,e,r)=>{"use strict";var n=r(79746),i=r(35717),s=r(55756),o=r(70778);function a(t,e){n.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),s=e.slice(16,24);this.ciphers="encrypt"===t?[o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:i}),o.create({type:"encrypt",key:s})]:[o.create({type:"decrypt",key:s}),o.create({type:"encrypt",key:i}),o.create({type:"decrypt",key:r})]}function u(t){s.call(this,t);var e=new a(this.type,this.options.key);this._edeState=e}i(u,s),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,r,n){var i=this._edeState;i.ciphers[0]._update(t,e,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=o.prototype._pad,u.prototype._unpad=o.prototype._unpad},11278:(t,e)=>{"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,n){for(var i=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1}r[n+0]=i>>>0,r[n+1]=s>>>0},e.rip=function(t,e,r,n){for(var i=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+o&1,i<<=1,i|=t>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=e>>>a+o&1,s<<=1,s|=t>>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},e.pc1=function(t,e,r,n){for(var i=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var s=0,o=0,a=r.length>>>1,u=0;u<a;u++)s<<=1,s|=t>>>r[u]&1;for(u=a;u<r.length;u++)o<<=1,o|=e>>>r[u]&1;n[i+0]=s>>>0,n[i+1]=o>>>0},e.expand=function(t,e,r){var n=0,i=0;n=(1&t)<<5|t>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=t>>>s&63;for(s=11;s>=3;s-=4)i|=t>>>s&63,i<<=6;i|=(31&t)<<1|t>>>31,e[r+0]=n>>>0,e[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,i=0;i<4;i++){r<<=4,r|=n[64*i+(t>>>18-6*i&63)]}for(i=0;i<4;i++){r<<=4,r|=n[256+64*i+(e>>>18-6*i&63)]}return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<i.length;r++)e<<=1,e|=t>>>i[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var i=[],s=0;s<e;s+=r)i.push(n.slice(s,s+r));return i.join(" ")}},62607:(t,e,r)=>{var n=r(43590),i=r(29799),s=r(57426);var o={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(t){var e=new Buffer(i[t].prime,"hex"),r=new Buffer(i[t].gen,"hex");return new s(e,r)},e.createDiffieHellman=e.DiffieHellman=function t(e,r,i,a){return Buffer.isBuffer(r)||void 0===o[r]?t(e,"binary",r,i):(r=r||"binary",a=a||"binary",i=i||new Buffer([2]),Buffer.isBuffer(i)||(i=new Buffer(i,a)),"number"==typeof e?new s(n(e,i),i,!0):(Buffer.isBuffer(e)||(e=new Buffer(e,r)),new s(e,i,!0)))}},57426:(t,e,r)=>{var n=r(83620),i=new(r(63047)),s=new n(24),o=new n(11),a=new n(10),u=new n(3),c=new n(7),l=r(43590),h=r(61798);function f(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new n(t),this}function d(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new n(t),this}t.exports=m;var p={};function m(t,e,r){this.setGenerator(e),this.__prime=new n(t),this._prime=n.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=f,this.setPrivateKey=d):this._primeCode=8}function g(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in p)return p[n];var h,f=0;if(t.isEven()||!l.simpleSieve||!l.fermatTest(t)||!i.test(t))return f+=1,f+="02"===r||"05"===r?8:4,p[n]=f,f;switch(i.test(t.shrn(1))||(f+=2),r){case"02":t.mod(s).cmp(o)&&(f+=8);break;case"05":(h=t.mod(a)).cmp(u)&&h.cmp(c)&&(f+=8);break;default:f+=4}return p[n]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new n(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(t){var e=(t=(t=new n(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var s=new Buffer(i.length-r.length);s.fill(0),r=Buffer.concat([s,r])}return r},m.prototype.getPublicKey=function(t){return g(this._pub,t)},m.prototype.getPrivateKey=function(t){return g(this._priv,t)},m.prototype.getPrime=function(t){return g(this.__prime,t)},m.prototype.getGenerator=function(t){return g(this._gen,t)},m.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new n(t),this}},43590:(t,e,r)=>{var n=r(61798);t.exports=v,v.simpleSieve=g,v.fermatTest=y;var i=r(83620),s=new i(24),o=new(r(63047)),a=new i(1),u=new i(2),c=new i(5),l=(new i(16),new i(8),new i(10)),h=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<e&&t[i]<=n&&r%t[i]!=0;i++);e!==i&&t[i]<=n||(t[e++]=r)}return p=t,t}function g(t){for(var e=m(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function y(t){var e=i.mont(t);return 0===u.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function v(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var r,p;for(e=new i(e);;){for(r=new i(n(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(u),e.cmp(u)){if(!e.cmp(c))for(;r.mod(l).cmp(h);)r.iadd(d)}else for(;r.mod(s).cmp(f);)r.iadd(d);if(g(p=r.shrn(1))&&g(r)&&y(p)&&y(r)&&o.test(p)&&o.test(r))return r}}},83620:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7748).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,E=0|o[4],S=8191&E,x=E>>>13,M=0|o[5],k=8191&M,T=M>>>13,A=0|o[6],C=8191&A,I=A>>>13,P=0|o[7],R=8191&P,O=P>>>13,D=0|o[8],L=8191&D,N=D>>>13,F=0|o[9],B=8191&F,j=F>>>13,z=0|a[0],U=8191&z,V=z>>>13,q=0|a[1],G=8191&q,H=q>>>13,$=0|a[2],W=8191&$,K=$>>>13,Y=0|a[3],X=8191&Y,Q=Y>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(f,U)|0))<<13)|0;c=((s=Math.imul(f,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(m,U)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,V))+Math.imul(v,U)|0,s=Math.imul(v,V),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,H)|0;var vt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;c=((s=s+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,V))+Math.imul(_,U)|0,s=Math.imul(_,V),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,K)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(x,U)|0,s=Math.imul(x,V),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,W)|0,s=s+Math.imul(v,K)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(T,U)|0,s=Math.imul(T,V),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,H)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(I,U)|0,s=Math.imul(I,V),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,H)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;c=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(O,U)|0,s=Math.imul(O,V),n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,K)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((s=s+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,V))+Math.imul(N,U)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,K)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,V))+Math.imul(j,U)|0,s=Math.imul(j,V),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,Q)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(j,G)|0,s=Math.imul(j,H),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(j,W)|0,s=Math.imul(j,K),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ft)|0;var Tt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Q))+Math.imul(j,X)|0,s=Math.imul(j,Q),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(T,ut)|0,s=s+Math.imul(T,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var At=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,tt))+Math.imul(j,Z)|0,s=Math.imul(j,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,ft)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((s=s+Math.imul(T,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,st),i=(i=Math.imul(B,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ct)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,ct))+Math.imul(j,ut)|0,s=Math.imul(j,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Rt=(c+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Dt=(c+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(j,pt)|0))<<13)|0;return c=((s=Math.imul(j,mt))+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=xt,u[9]=Mt,u[10]=kt,u[11]=Tt,u[12]=At,u[13]=Ct,u[14]=It,u[15]=Pt,u[16]=Rt,u[17]=Ot,u[18]=Dt,0!==c&&(u[19]=c,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(b,v),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(_,v),i(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},i(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},27856:function(t){
/*! @license DOMPurify 3.0.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.8/LICENSE */
t.exports=function(){"use strict";const{entries:t,setPrototypeOf:e,isFrozen:r,getPrototypeOf:n,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:o,create:a}=Object,{apply:u,construct:c}="undefined"!=typeof Reflect&&Reflect;s||(s=function(t){return t}),o||(o=function(t){return t}),u||(u=function(t,e,r){return t.apply(e,r)}),c||(c=function(t,e){return new t(...e)});const l=_(Array.prototype.forEach),h=_(Array.prototype.pop),f=_(Array.prototype.push),d=_(String.prototype.toLowerCase),p=_(String.prototype.toString),m=_(String.prototype.match),g=_(String.prototype.replace),y=_(String.prototype.indexOf),v=_(String.prototype.trim),b=_(RegExp.prototype.test),w=E(TypeError);function _(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return u(t,e,n)}}function E(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return c(t,r)}}function S(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;e&&e(t,null);let s=n.length;for(;s--;){let e=n[s];if("string"==typeof e){const t=i(e);t!==e&&(r(n)||(n[s]=t),e=t)}t[e]=!0}return t}function x(t){for(let e=0;e<t.length;e++)void 0===i(t,e)&&(t[e]=null);return t}function M(e){const r=a(null);for(const[n,s]of t(e))void 0!==i(e,n)&&(Array.isArray(s)?r[n]=x(s):s&&"object"==typeof s&&s.constructor===Object?r[n]=M(s):r[n]=s);return r}function k(t,e){for(;null!==t;){const r=i(t,e);if(r){if(r.get)return _(r.get);if("function"==typeof r.value)return _(r.value)}t=n(t)}function r(t){return console.warn("fallback value for",t),null}return r}const T=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),C=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),R=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O=s(["#text"]),D=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),j=o(/<%[\w\W]*|[\w\W]*%>/gm),z=o(/\${[\w\W]*}/gm),U=o(/^data-[\-\w.\u00B7-\uFFFF]/),V=o(/^aria-[\-\w]+$/),q=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=o(/^(?:\w+script|data):/i),H=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$=o(/^html$/i);var W=Object.freeze({__proto__:null,MUSTACHE_EXPR:B,ERB_EXPR:j,TMPLIT_EXPR:z,DATA_ATTR:U,ARIA_ATTR:V,IS_ALLOWED_URI:q,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:H,DOCTYPE_NAME:$});const K=function(){return"undefined"==typeof window?null:window},Y=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";e&&e.hasAttribute(n)&&(r=e.getAttribute(n));const i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K();const r=t=>X(t);if(r.version="3.0.8",r.removed=[],!e||!e.document||9!==e.document.nodeType)return r.isSupported=!1,r;let{document:n}=e;const i=n,o=i.currentScript,{DocumentFragment:u,HTMLTemplateElement:c,Node:_,Element:E,NodeFilter:x,NamedNodeMap:B=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:j,DOMParser:z,trustedTypes:U}=e,V=E.prototype,G=k(V,"cloneNode"),H=k(V,"nextSibling"),Q=k(V,"childNodes"),J=k(V,"parentNode");if("function"==typeof c){const t=n.createElement("template");t.content&&t.content.ownerDocument&&(n=t.content.ownerDocument)}let Z,tt="";const{implementation:et,createNodeIterator:rt,createDocumentFragment:nt,getElementsByTagName:it}=n,{importNode:st}=i;let ot={};r.isSupported="function"==typeof t&&"function"==typeof J&&et&&void 0!==et.createHTMLDocument;const{MUSTACHE_EXPR:at,ERB_EXPR:ut,TMPLIT_EXPR:ct,DATA_ATTR:lt,ARIA_ATTR:ht,IS_SCRIPT_OR_DATA:ft,ATTR_WHITESPACE:dt}=W;let{IS_ALLOWED_URI:pt}=W,mt=null;const gt=S({},[...T,...A,...C,...P,...O]);let yt=null;const vt=S({},[...D,...L,...N,...F]);let bt=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),wt=null,_t=null,Et=!0,St=!0,xt=!1,Mt=!0,kt=!1,Tt=!1,At=!1,Ct=!1,It=!1,Pt=!1,Rt=!1,Ot=!0,Dt=!1;const Lt="user-content-";let Nt=!0,Ft=!1,Bt={},jt=null;const zt=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Vt=S({},["audio","video","img","source","image","track"]);let qt=null;const Gt=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ht="http://www.w3.org/1998/Math/MathML",$t="http://www.w3.org/2000/svg",Wt="http://www.w3.org/1999/xhtml";let Kt=Wt,Yt=!1,Xt=null;const Qt=S({},[Ht,$t,Wt],p);let Jt=null;const Zt=["application/xhtml+xml","text/html"],te="text/html";let ee=null,re=null;const ne=n.createElement("form"),ie=function(t){return t instanceof RegExp||t instanceof Function},se=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!re||re!==t){if(t&&"object"==typeof t||(t={}),t=M(t),Jt=-1===Zt.indexOf(t.PARSER_MEDIA_TYPE)?te:t.PARSER_MEDIA_TYPE,ee="application/xhtml+xml"===Jt?p:d,mt="ALLOWED_TAGS"in t?S({},t.ALLOWED_TAGS,ee):gt,yt="ALLOWED_ATTR"in t?S({},t.ALLOWED_ATTR,ee):vt,Xt="ALLOWED_NAMESPACES"in t?S({},t.ALLOWED_NAMESPACES,p):Qt,qt="ADD_URI_SAFE_ATTR"in t?S(M(Gt),t.ADD_URI_SAFE_ATTR,ee):Gt,Ut="ADD_DATA_URI_TAGS"in t?S(M(Vt),t.ADD_DATA_URI_TAGS,ee):Vt,jt="FORBID_CONTENTS"in t?S({},t.FORBID_CONTENTS,ee):zt,wt="FORBID_TAGS"in t?S({},t.FORBID_TAGS,ee):{},_t="FORBID_ATTR"in t?S({},t.FORBID_ATTR,ee):{},Bt="USE_PROFILES"in t&&t.USE_PROFILES,Et=!1!==t.ALLOW_ARIA_ATTR,St=!1!==t.ALLOW_DATA_ATTR,xt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Mt=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,kt=t.SAFE_FOR_TEMPLATES||!1,Tt=t.WHOLE_DOCUMENT||!1,It=t.RETURN_DOM||!1,Pt=t.RETURN_DOM_FRAGMENT||!1,Rt=t.RETURN_TRUSTED_TYPE||!1,Ct=t.FORCE_BODY||!1,Ot=!1!==t.SANITIZE_DOM,Dt=t.SANITIZE_NAMED_PROPS||!1,Nt=!1!==t.KEEP_CONTENT,Ft=t.IN_PLACE||!1,pt=t.ALLOWED_URI_REGEXP||q,Kt=t.NAMESPACE||Wt,bt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(bt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kt&&(St=!1),Pt&&(It=!0),Bt&&(mt=S({},O),yt=[],!0===Bt.html&&(S(mt,T),S(yt,D)),!0===Bt.svg&&(S(mt,A),S(yt,L),S(yt,F)),!0===Bt.svgFilters&&(S(mt,C),S(yt,L),S(yt,F)),!0===Bt.mathMl&&(S(mt,P),S(yt,N),S(yt,F))),t.ADD_TAGS&&(mt===gt&&(mt=M(mt)),S(mt,t.ADD_TAGS,ee)),t.ADD_ATTR&&(yt===vt&&(yt=M(yt)),S(yt,t.ADD_ATTR,ee)),t.ADD_URI_SAFE_ATTR&&S(qt,t.ADD_URI_SAFE_ATTR,ee),t.FORBID_CONTENTS&&(jt===zt&&(jt=M(jt)),S(jt,t.FORBID_CONTENTS,ee)),Nt&&(mt["#text"]=!0),Tt&&S(mt,["html","head","body"]),mt.table&&(S(mt,["tbody"]),delete wt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw w('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=t.TRUSTED_TYPES_POLICY,tt=Z.createHTML("")}else void 0===Z&&(Z=Y(U,o)),null!==Z&&"string"==typeof tt&&(tt=Z.createHTML(""));s&&s(t),re=t}},oe=S({},["mi","mo","mn","ms","mtext"]),ae=S({},["foreignobject","desc","title","annotation-xml"]),ue=S({},["title","style","font","a","script"]),ce=S({},[...A,...C,...I]),le=S({},[...P,...R]),he=function(t){let e=J(t);e&&e.tagName||(e={namespaceURI:Kt,tagName:"template"});const r=d(t.tagName),n=d(e.tagName);return!!Xt[t.namespaceURI]&&(t.namespaceURI===$t?e.namespaceURI===Wt?"svg"===r:e.namespaceURI===Ht?"svg"===r&&("annotation-xml"===n||oe[n]):Boolean(ce[r]):t.namespaceURI===Ht?e.namespaceURI===Wt?"math"===r:e.namespaceURI===$t?"math"===r&&ae[n]:Boolean(le[r]):t.namespaceURI===Wt?!(e.namespaceURI===$t&&!ae[n])&&!(e.namespaceURI===Ht&&!oe[n])&&!le[r]&&(ue[r]||!ce[r]):!("application/xhtml+xml"!==Jt||!Xt[t.namespaceURI]))},fe=function(t){f(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},de=function(t,e){try{f(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){f(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!yt[t])if(It||Pt)try{fe(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},pe=function(t){let e=null,r=null;if(Ct)t="<remove></remove>"+t;else{const e=m(t,/^[\r\n\t ]+/);r=e&&e[0]}"application/xhtml+xml"===Jt&&Kt===Wt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const i=Z?Z.createHTML(t):t;if(Kt===Wt)try{e=(new z).parseFromString(i,Jt)}catch(t){}if(!e||!e.documentElement){e=et.createDocument(Kt,"template",null);try{e.documentElement.innerHTML=Yt?tt:i}catch(t){}}const s=e.body||e.documentElement;return t&&r&&s.insertBefore(n.createTextNode(r),s.childNodes[0]||null),Kt===Wt?it.call(e,Tt?"html":"body")[0]:Tt?e.documentElement:s},me=function(t){return rt.call(t.ownerDocument||t,t,x.SHOW_ELEMENT|x.SHOW_COMMENT|x.SHOW_TEXT,null)},ge=function(t){return t instanceof j&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof B)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ye=function(t){return"function"==typeof _&&t instanceof _},ve=function(t,e,n){ot[t]&&l(ot[t],(t=>{t.call(r,e,n,re)}))},be=function(t){let e=null;if(ve("beforeSanitizeElements",t,null),ge(t))return fe(t),!0;const n=ee(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:n,allowedTags:mt}),t.hasChildNodes()&&!ye(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return fe(t),!0;if(!mt[n]||wt[n]){if(!wt[n]&&_e(n)){if(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n))return!1;if(bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))return!1}if(Nt&&!jt[n]){const e=J(t)||t.parentNode,r=Q(t)||t.childNodes;if(r&&e)for(let n=r.length-1;n>=0;--n)e.insertBefore(G(r[n],!0),H(t))}return fe(t),!0}return t instanceof E&&!he(t)?(fe(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(kt&&3===t.nodeType&&(e=t.textContent,l([at,ut,ct],(t=>{e=g(e,t," ")})),t.textContent!==e&&(f(r.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(fe(t),!0)},we=function(t,e,r){if(Ot&&("id"===e||"name"===e)&&(r in n||r in ne))return!1;if(St&&!_t[e]&&b(lt,e));else if(Et&&b(ht,e));else if(!yt[e]||_t[e]){if(!(_e(t)&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,t)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(t))&&(bt.attributeNameCheck instanceof RegExp&&b(bt.attributeNameCheck,e)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(e))||"is"===e&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,r)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(r))))return!1}else if(qt[e]);else if(b(pt,g(r,dt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(r,"data:")||!Ut[t])if(xt&&!b(ft,g(r,dt,"")));else if(r)return!1;return!0},_e=function(t){return t.indexOf("-")>0},Ee=function(t){ve("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};let i=e.length;for(;i--;){const s=e[i],{name:o,namespaceURI:a,value:u}=s,c=ee(o);let f="value"===o?u:v(u);if(n.attrName=c,n.attrValue=f,n.keepAttr=!0,n.forceKeepAttr=void 0,ve("uponSanitizeAttribute",t,n),f=n.attrValue,n.forceKeepAttr)continue;if(de(o,t),!n.keepAttr)continue;if(!Mt&&b(/\/>/i,f)){de(o,t);continue}kt&&l([at,ut,ct],(t=>{f=g(f,t," ")}));const d=ee(t.nodeName);if(we(d,c,f)){if(!Dt||"id"!==c&&"name"!==c||(de(o,t),f=Lt+f),Z&&"object"==typeof U&&"function"==typeof U.getAttributeType)if(a);else switch(U.getAttributeType(d,c)){case"TrustedHTML":f=Z.createHTML(f);break;case"TrustedScriptURL":f=Z.createScriptURL(f)}try{a?t.setAttributeNS(a,o,f):t.setAttribute(o,f),h(r.removed)}catch(t){}}}ve("afterSanitizeAttributes",t,null)},Se=function t(e){let r=null;const n=me(e);for(ve("beforeSanitizeShadowDOM",e,null);r=n.nextNode();)ve("uponSanitizeShadowNode",r,null),be(r)||(r.content instanceof u&&t(r.content),Ee(r));ve("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,s=null,o=null,a=null;if(Yt=!t,Yt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ye(t)){if("function"!=typeof t.toString)throw w("toString is not a function");if("string"!=typeof(t=t.toString()))throw w("dirty is not a string, aborting")}if(!r.isSupported)return t;if(At||se(e),r.removed=[],"string"==typeof t&&(Ft=!1),Ft){if(t.nodeName){const e=ee(t.nodeName);if(!mt[e]||wt[e])throw w("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof _)n=pe("\x3c!----\x3e"),s=n.ownerDocument.importNode(t,!0),1===s.nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?n=s:n.appendChild(s);else{if(!It&&!kt&&!Tt&&-1===t.indexOf("<"))return Z&&Rt?Z.createHTML(t):t;if(n=pe(t),!n)return It?null:Rt?tt:""}n&&Ct&&fe(n.firstChild);const c=me(Ft?t:n);for(;o=c.nextNode();)be(o)||(o.content instanceof u&&Se(o.content),Ee(o));if(Ft)return t;if(It){if(Pt)for(a=nt.call(n.ownerDocument);n.firstChild;)a.appendChild(n.firstChild);else a=n;return(yt.shadowroot||yt.shadowrootmode)&&(a=st.call(i,a,!0)),a}let h=Tt?n.outerHTML:n.innerHTML;return Tt&&mt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b($,n.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+h),kt&&l([at,ut,ct],(t=>{h=g(h,t," ")})),Z&&Rt?Z.createHTML(h):h},r.setConfig=function(){se(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),At=!0},r.clearConfig=function(){re=null,At=!1},r.isValidAttribute=function(t,e,r){re||se({});const n=ee(t),i=ee(e);return we(n,i,r)},r.addHook=function(t,e){"function"==typeof e&&(ot[t]=ot[t]||[],f(ot[t],e))},r.removeHook=function(t){if(ot[t])return h(ot[t])},r.removeHooks=function(t){ot[t]&&(ot[t]=[])},r.removeAllHooks=function(){ot={}},r}return X()}()},35015:(t,e,r)=>{"use strict";var n=r(89509).Buffer,i=r(6972),s=128;function o(t){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function a(t,e,r){for(var n=0;e+n<r&&0===t[e+n];)++n;return t[e+n]>=s&&--n,n}t.exports={derToJose:function(t,e){t=o(t);var r=i(e),a=r+1,u=t.length,c=0;if(48!==t[c++])throw new Error('Could not find expected "seq"');var l=t[c++];if(l===(1|s)&&(l=t[c++]),u-c<l)throw new Error('"seq" specified length of "'+l+'", only "'+(u-c)+'" remaining');if(2!==t[c++])throw new Error('Could not find expected "int" for "r"');var h=t[c++];if(u-c-2<h)throw new Error('"r" specified length of "'+h+'", only "'+(u-c-2)+'" available');if(a<h)throw new Error('"r" specified length of "'+h+'", max of "'+a+'" is acceptable');var f=c;if(c+=h,2!==t[c++])throw new Error('Could not find expected "int" for "s"');var d=t[c++];if(u-c!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(u-c)+'"');if(a<d)throw new Error('"s" specified length of "'+d+'", max of "'+a+'" is acceptable');var p=c;if((c+=d)!==u)throw new Error('Expected to consume entire buffer, but "'+(u-c)+'" bytes remain');var m=r-h,g=r-d,y=n.allocUnsafe(m+h+g+d);for(c=0;c<m;++c)y[c]=0;t.copy(y,c,f+Math.max(-m,0),f+h);for(var v=c=r;c<v+g;++c)y[c]=0;return t.copy(y,c,p+Math.max(-g,0),p+d),y=(y=y.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(t,e){t=o(t);var r=i(e),u=t.length;if(u!==2*r)throw new TypeError('"'+e+'" signatures must be "'+2*r+'" bytes, saw "'+u+'"');var c=a(t,0,r),l=a(t,r,t.length),h=r-c,f=r-l,d=2+h+1+1+f,p=d<s,m=n.allocUnsafe((p?2:3)+d),g=0;return m[g++]=48,p?m[g++]=d:(m[g++]=1|s,m[g++]=255&d),m[g++]=2,m[g++]=h,c<0?(m[g++]=0,g+=t.copy(m,g,0,r)):g+=t.copy(m,g,c,r),m[g++]=2,m[g++]=f,l<0?(m[g++]=0,t.copy(m,g,r)):t.copy(m,g,r+l),m}}},6972:t=>{"use strict";function e(t){return(t/8|0)+(t%8==0?0:1)}var r={ES256:e(256),ES384:e(384),ES512:e(521)};t.exports=function(t){var e=r[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}},86266:(t,e,r)=>{"use strict";var n=e;n.version=r(18597).i8,n.utils=r(80953),n.rand=r(29931),n.curve=r(88254),n.curves=r(45427),n.ec=r(57954),n.eddsa=r(65980)},4918:(t,e,r)=>{"use strict";var n=r(73785),i=r(80953),s=i.getNAF,o=i.getJSF,a=i.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=s(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,u,c=[];for(o=0;o<n.length;o+=r.step){u=0;for(var l=o+r.step-1;l>=o;l--)u=(u<<1)+n[l];c.push(u)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<c.length;o++)(u=c[o])===d?f=f.mixedAdd(r.points[o]):u===-d&&(f=f.mixedAdd(r.points[o].neg()));h=h.add(f)}return h.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=s(e,r,this._bitLength),u=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&0===o[c];c--)l++;if(c>=0&&l++,u=u.dblp(l),c<0)break;var h=o[c];a(0!==h),u="affine"===t.type?h>0?u.mixedAdd(i[h-1>>1]):u.mixedAdd(i[-h-1>>1].neg()):h>0?u.add(i[h-1>>1]):u.add(i[-h-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){var a,u,c,l=this._wnafT1,h=this._wnafT2,f=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(c=e[a])._getNAFPoints(t);l[a]=p.wnd,h[a]=p.points}for(a=n-1;a>=1;a-=2){var m=a-1,g=a;if(1===l[m]&&1===l[g]){var y=[e[m],null,null,e[g]];0===e[m].y.cmp(e[g].y)?(y[1]=e[m].add(e[g]),y[2]=e[m].toJ().mixedAdd(e[g].neg())):0===e[m].y.cmp(e[g].y.redNeg())?(y[1]=e[m].toJ().mixedAdd(e[g]),y[2]=e[m].add(e[g].neg())):(y[1]=e[m].toJ().mixedAdd(e[g]),y[2]=e[m].toJ().mixedAdd(e[g].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=o(r[m],r[g]);for(d=Math.max(b[0].length,d),f[m]=new Array(d),f[g]=new Array(d),u=0;u<d;u++){var w=0|b[0][u],_=0|b[1][u];f[m][u]=v[3*(w+1)+(_+1)],f[g][u]=0,h[m]=y}}else f[m]=s(r[m],l[m],this._bitLength),f[g]=s(r[g],l[g],this._bitLength),d=Math.max(f[m].length,d),d=Math.max(f[g].length,d)}var E=this.jpoint(null,null,null),S=this._wnafT4;for(a=d;a>=0;a--){for(var x=0;a>=0;){var M=!0;for(u=0;u<n;u++)S[u]=0|f[u][a],0!==S[u]&&(M=!1);if(!M)break;x++,a--}if(a>=0&&x++,E=E.dblp(x),a<0)break;for(u=0;u<n;u++){var k=S[u];0!==k&&(k>0?c=h[u][k-1>>1]:k<0&&(c=h[u][-k-1>>1].neg()),E="affine"===c.type?E.mixedAdd(c):E.add(c))}}for(a=0;a<n;a++)h[a]=null;return i?E:E.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},31138:(t,e,r)=>{"use strict";var n=r(80953),i=r(73785),s=r(35717),o=r(4918),a=n.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function c(t,e,r,n,s){o.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,o),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(c,o.BasePoint),u.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},u.prototype.point=function(t,e,r,n){return new c(this,t,e,r,n)},c.fromJSON=function(t,e){return new c(t,e[0],e[1],e[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),o=s.redSub(r),a=n.redSub(e),u=i.redMul(o),c=s.redMul(a),l=i.redMul(a),h=o.redMul(s);return this.curve.point(u,c,h,l)},c.prototype._projDbl=function(){var t,e,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(t=o.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),e=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),s=c.redSub(i).redISub(i),t=o.redSub(a).redISub(u).redMul(s),e=c.redMul(n.redSub(u)),r=c.redMul(s))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),t=this.curve._mulC(o.redISub(n)).redMul(s),e=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(s);return this.curve.point(t,e,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),o=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=s.redMul(o),l=a.redMul(u),h=s.redMul(u),f=o.redMul(a);return this.curve.point(c,l,f,h)},c.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),u=i.redSub(a),c=i.redAdd(a),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),h=n.redMul(u).redMul(l);return this.curve.twisted?(e=n.redMul(c).redMul(o.redSub(this.curve._mulA(s))),r=u.redMul(c)):(e=n.redMul(c).redMul(o.redSub(s)),r=this.curve._mulC(u).redMul(c)),this.curve.point(h,e,r)},c.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},c.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},c.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},c.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},88254:(t,e,r)=>{"use strict";var n=e;n.base=r(4918),n.short=r(6673),n.mont=r(22881),n.edwards=r(31138)},22881:(t,e,r)=>{"use strict";var n=r(73785),i=r(35717),s=r(4918),o=r(80953);function a(t){s.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(u,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),o=i.redMul(n),a=e.z.redMul(s.redAdd(o).redSqr()),u=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(t,e,r)=>{"use strict";var n=r(80953),i=r(73785),s=r(35717),o=r(4918),a=n.assert;function u(t){o.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(t,e,r,n){o.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,r,n){o.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,o),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),s=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,r,n,s,o,a,u,c,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,d=this.n.clone(),p=new i(1),m=new i(0),g=new i(0),y=new i(1),v=0;0!==f.cmpn(0);){var b=d.div(f);c=d.sub(b.mul(f)),l=g.sub(b.mul(p));var w=y.sub(b.mul(m));if(!n&&c.cmp(h)<0)e=u.neg(),r=p,n=c.neg(),s=l;else if(n&&2==++v)break;u=c,d=f,f=c,g=p,p=l,y=m,m=w}o=c.neg(),a=l;var _=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:u.add(c).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(e&&!s||!e&&s)&&(n=n.redNeg()),this.point(t,n)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*s]=a,n[2*s+1]=u,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return c},s(c,o.BasePoint),u.prototype.point=function(t,e,r){return new c(this,t,e,r)},u.prototype.pointFromJSON=function(t,e){return c.fromJSON(this,t,e)},c.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},c.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,o.BasePoint),u.prototype.jpoint=function(t,e,r){return new l(this,t,e,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),h=n.redMul(c),f=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(s.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(l).redISub(l),f=a.redMul(l.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(o);return this.curve.jpoint(h,f,d)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),c=o.redAdd(o);for(e=0;e<t;e++){var l=s.redSqr(),h=c.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=s.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(f);var v=c.redMul(a);e+1<t&&(u=u.redMul(f)),s=m,a=v,c=y}return this.curve.jpoint(s,c.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},l.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);t=u;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(o),l=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),l=e.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},l.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},45427:(t,e,r)=>{"use strict";var n,i=e,s=r(33715),o=r(88254),a=r(80953).assert;function u(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(91037)}catch(t){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},57954:(t,e,r)=>{"use strict";var n=r(73785),i=r(2156),s=r(80953),o=r(45427),a=r(29931),u=s.assert,c=r(31251),l=r(90611);function h(t){if(!(this instanceof h))return new h(t);"string"==typeof t&&(u(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=h,h.prototype.keyPair=function(t){return new c(this,t)},h.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},h.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},h.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},h.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),u=t.toArray("be",o),c=new i({hash:this.hash,entropy:a,nonce:u,pers:s.pers,persEnc:s.persEnc||"utf8"}),h=this.n.sub(new n(1)),f=0;;f++){var d=s.k?s.k(f):new n(c.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(h)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=d.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(y=y.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return s.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),v^=1),new l({r:g,s:y,recoveryParam:v})}}}}}},h.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var s=(e=new l(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,u=o.invm(this.n),c=u.mul(t).umod(this.n),h=u.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),h)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(c,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(t,e,r,i){u((3&r)===r,"The recovery param is more than two bits"),e=new l(e,i);var s=this.n,o=new n(t),a=e.r,c=e.s,h=1&r,f=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var d=e.r.invm(s),p=s.sub(o).mul(d).umod(s),m=c.mul(d).umod(s);return this.g.mulAdd(p,a,m)},h.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new l(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},31251:(t,e,r)=>{"use strict";var n=r(73785),i=r(80953).assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,r){return e instanceof s?e:new s(t,{pub:e,pubEnc:r})},s.fromPrivate=function(t,e,r){return e instanceof s?e:new s(t,{priv:e,privEnc:r})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:(t,e,r)=>{"use strict";var n=r(73785),i=r(80953),s=i.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function u(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function c(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=u(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=u(t,r);if(!1===o)return!1;var c=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var l=u(t,r);if(!1===l)return!1;if(t.length!==l+r.place)return!1;var h=t.slice(r.place,l+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(c),this.s=new n(h),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=c(e),r=c(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];l(n,e.length),(n=n.concat(e)).push(2),l(n,r.length);var s=n.concat(r),o=[48];return l(o,s.length),o=o.concat(s),i.encode(o,t)}},65980:(t,e,r)=>{"use strict";var n=r(33715),i=r(45427),s=r(80953),o=s.assert,a=s.parseBytes,u=r(79087),c=r(77375);function l(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=l,l.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),u=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:s})},l.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(s)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return s.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}},79087:(t,e,r)=>{"use strict";var n=r(80953),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},77375:(t,e,r)=>{"use strict";var n=r(73785),i=r(80953),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},91037:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:(t,e,r)=>{"use strict";var n=e,i=r(73785),s=r(79746),o=r(34504);n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,u=s.andln(i-1);s.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,u=t.andln(3)+i&3,c=e.andln(3)+s&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),a=0==(1&c)?0:3!==(n=e.andln(7)+s&7)&&5!==n||2!==u?c:-c,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},73785:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(85568).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,E=0|o[4],S=8191&E,x=E>>>13,M=0|o[5],k=8191&M,T=M>>>13,A=0|o[6],C=8191&A,I=A>>>13,P=0|o[7],R=8191&P,O=P>>>13,D=0|o[8],L=8191&D,N=D>>>13,F=0|o[9],B=8191&F,j=F>>>13,z=0|a[0],U=8191&z,V=z>>>13,q=0|a[1],G=8191&q,H=q>>>13,$=0|a[2],W=8191&$,K=$>>>13,Y=0|a[3],X=8191&Y,Q=Y>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(f,U)|0))<<13)|0;c=((s=Math.imul(f,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(m,U)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,V))+Math.imul(v,U)|0,s=Math.imul(v,V),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,H)|0;var vt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;c=((s=s+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,V))+Math.imul(_,U)|0,s=Math.imul(_,V),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,K)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(x,U)|0,s=Math.imul(x,V),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,W)|0,s=s+Math.imul(v,K)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(T,U)|0,s=Math.imul(T,V),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,H)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(I,U)|0,s=Math.imul(I,V),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,H)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;c=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(O,U)|0,s=Math.imul(O,V),n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,K)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((s=s+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,V))+Math.imul(N,U)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,K)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,V))+Math.imul(j,U)|0,s=Math.imul(j,V),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,Q)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(j,G)|0,s=Math.imul(j,H),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(j,W)|0,s=Math.imul(j,K),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ft)|0;var Tt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Q))+Math.imul(j,X)|0,s=Math.imul(j,Q),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(T,ut)|0,s=s+Math.imul(T,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var At=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,tt))+Math.imul(j,Z)|0,s=Math.imul(j,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,ft)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((s=s+Math.imul(T,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,st),i=(i=Math.imul(B,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ct)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,ct))+Math.imul(j,ut)|0,s=Math.imul(j,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Rt=(c+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Dt=(c+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(j,pt)|0))<<13)|0;return c=((s=Math.imul(j,mt))+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=xt,u[9]=Mt,u[10]=kt,u[11]=Tt,u[12]=At,u[13]=Ct,u[14]=It,u[15]=Pt,u[16]=Rt,u[17]=Ot,u[18]=Dt,0!==c&&(u[19]=c,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(b,v),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(_,v),i(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},i(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},17187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,s),n(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}m(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&m(t,"error",e,r)}(t,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,s,o,c;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(t))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,c=l,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function m(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){n.once&&t.removeEventListener(e,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var c=u.length,l=p(u,c);for(r=0;r<c;++r)n(l[r],this,e)}return!0},s.prototype.addListener=function(t,e){return c(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return c(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,s,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return f(this,t,!0)},s.prototype.rawListeners=function(t){return f(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},13048:(t,e,r)=>{var n=r(89509).Buffer,i=r(62318);t.exports=function(t,e,r,s){if(n.isBuffer(t)||(t=n.from(t,"binary")),e&&(n.isBuffer(e)||(e=n.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,a=n.alloc(o),u=n.alloc(s||0),c=n.alloc(0);o>0||s>0;){var l=new i;l.update(c),l.update(t),e&&l.update(e),c=l.digest();var h=0;if(o>0){var f=a.length-o;h=Math.min(o,c.length),c.copy(a,f,0,h),o-=h}if(h<c.length&&s>0){var d=u.length-s,p=Math.min(s,c.length-h);c.copy(u,d,h,h+p),s-=p}}return c.fill(0),{key:a,iv:u}}},78550:(t,e,r)=>{"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=n(r(41675));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.default.registerVersion("firebase","9.23.0","app-compat"),t.exports=i.default},30431:(t,e,r)=>{"use strict";r(6595)},3349:(t,e,r)=>{"use strict";var n=r(89509).Buffer,i=r(88473).Transform;function s(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(35717)(s,i),s.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},33715:(t,e,r)=>{var n=e;n.utils=r(26436),n.common=r(95772),n.sha=r(89041),n.ripemd=r(12949),n.hmac=r(52344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},95772:(t,e,r)=>{"use strict";var n=r(26436),i=r(79746);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=s,s.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},s.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},s.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},52344:(t,e,r)=>{"use strict";var n=r(26436),i=r(79746);function s(t,e,r){if(!(this instanceof s))return new s(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},12949:(t,e,r)=>{"use strict";var n=r(26436),i=r(95772),s=n.rotl32,o=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(l,c),e.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],v=r,b=n,w=i,_=c,E=l,S=0;S<80;S++){var x=o(s(u(r,h(S,n,i,c),t[p[S]+e],f(S)),g[S]),l);r=l,l=c,c=s(i,10),i=n,n=x,x=o(s(u(v,h(79-S,b,w,_),t[m[S]+e],d(S)),y[S]),E),v=E,E=_,_=s(w,10),w=b,b=x}x=a(this.h[1],i,_),this.h[1]=a(this.h[2],c,E),this.h[2]=a(this.h[3],l,v),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,w),this.h[0]=x},l.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(t,e,r)=>{"use strict";e.sha1=r(84761),e.sha224=r(10799),e.sha256=r(89344),e.sha384=r(80772),e.sha512=r(45900)},84761:(t,e,r)=>{"use strict";var n=r(26436),i=r(95772),s=r(37038),o=n.rotl32,a=n.sum32,u=n.sum32_5,c=s.ft_1,l=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,l),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],l=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=u(o(i,5),c(p,s,l,f),d,r[n],h[p]);d=f,f=l,l=o(s,30),s=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],d)},f.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},10799:(t,e,r)=>{"use strict";var n=r(26436),i=r(89344);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},89344:(t,e,r)=>{"use strict";var n=r(26436),i=r(95772),s=r(37038),o=r(79746),a=n.sum32,u=n.sum32_4,c=n.sum32_5,l=s.ch32,h=s.maj32,f=s.s0_256,d=s.s1_256,p=s.g0_256,m=s.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(v,g),t.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],g=this.h[2],y=this.h[3],v=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var E=c(_,d(v),l(v,b,w),this.k[n],r[n]),S=a(f(i),h(i,s,g));_=w,w=b,b=v,v=a(y,E),y=g,g=s,s=i,i=a(E,S)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},80772:(t,e,r)=>{"use strict";var n=r(26436),i=r(45900);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},45900:(t,e,r)=>{"use strict";var n=r(26436),i=r(95772),s=r(79746),o=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,l=n.sum64,h=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function _(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function E(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function S(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function x(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function M(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function k(t,e){var r=o(t,e,14)^o(t,e,18)^o(e,t,9);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function A(t,e){var r=o(t,e,1)^o(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=o(t,e,19)^o(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function P(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(b,y),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=I(r[n-4],r[n-3]),s=P(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],u=A(r[n-30],r[n-29]),c=C(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=d(i,s,o,a,u,c,l,h),r[n+1]=p(i,s,o,a,u,c,l,h)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],p=this.h[7],y=this.h[8],v=this.h[9],b=this.h[10],A=this.h[11],C=this.h[12],I=this.h[13],P=this.h[14],R=this.h[15];s(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var D=P,L=R,N=k(y,v),F=T(y,v),B=w(y,v,b,A,C),j=_(y,v,b,A,C,I),z=this.k[O],U=this.k[O+1],V=r[O],q=r[O+1],G=m(D,L,N,F,B,j,z,U,V,q),H=g(D,L,N,F,B,j,z,U,V,q);D=x(n,i),L=M(n,i),N=E(n,i,o,a,u),F=S(n,i,o,a,u,c);var $=h(D,L,N,F),W=f(D,L,N,F);P=C,R=I,C=b,I=A,b=y,A=v,y=h(d,p,G,H),v=f(p,p,G,H),d=u,p=c,u=o,c=a,o=n,a=i,n=h(G,H,$,W),i=f(G,H,$,W)}l(this.h,0,n,i),l(this.h,2,o,a),l(this.h,4,u,c),l(this.h,6,d,p),l(this.h,8,y,v),l(this.h,10,b,A),l(this.h,12,C,I),l(this.h,14,P,R)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},37038:(t,e,r)=>{"use strict";var n=r(26436).rotr32;function i(t,e,r){return t&e^~t&r}function s(t,e,r){return t&e^t&r^e&r}function o(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?o(e,r,n):2===t?s(e,r,n):void 0},e.ch32=i,e.maj32=s,e.p32=o,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},26436:(t,e,r)=>{"use strict";var n=r(79746),i=r(35717);function s(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):s(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=o(i)),r+=u(i.toString(16))}return r},e.zero2=a,e.zero8=u,e.join32=function(t,e,r,i){var s=r-e;n(s%4==0);for(var o=new Array(s/4),a=0,u=e;a<o.length;a++,u+=4){var c;c="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],o[a]=c>>>0}return o},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,s,o,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+s>>>0)<s?1:0,t+r+i+o+(u+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,s,o,a,u,c){var l=0,h=e;return l+=(h=h+n>>>0)<e?1:0,l+=(h=h+s>>>0)<s?1:0,l+=(h=h+a>>>0)<a?1:0,t+r+i+o+u+(l+=(h=h+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,s,o,a,u,c){return e+n+s+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},2156:(t,e,r)=>{"use strict";var n=r(33715),i=r(34504),s=r(79746);function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=o,o.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},o.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(r),this._reseed++,i.encode(o,e)}},80645:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+h],h+=f,l-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=c}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+d]=255&o,d+=p,o/=256,c-=8);t[r+d-p]|=128*m}},35717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},29367:t=>{"use strict";const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);t.exports=t=>!e.has(t&&t.code)},97626:(t,e,r)=>{var n=r(40158);t.exports=function(t,e){e=e||{};var r=n.decode(t,e);if(!r)return null;var i=r.payload;if("string"==typeof i)try{var s=JSON.parse(i);null!==s&&"object"==typeof s&&(i=s)}catch(t){}return!0===e.complete?{header:r.header,payload:i,signature:r.signature}:i}},49704:(t,e,r)=>{t.exports={decode:r(97626),verify:r(17030),sign:r(22506),JsonWebTokenError:r(58619),NotBeforeError:r(71826),TokenExpiredError:r(2340)}},58619:t=>{var e=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)};(e.prototype=Object.create(Error.prototype)).constructor=e,t.exports=e},71826:(t,e,r)=>{var n=r(58619),i=function(t,e){n.call(this,t),this.name="NotBeforeError",this.date=e};(i.prototype=Object.create(n.prototype)).constructor=i,t.exports=i},2340:(t,e,r)=>{var n=r(58619),i=function(t,e){n.call(this,t),this.name="TokenExpiredError",this.expiredAt=e};(i.prototype=Object.create(n.prototype)).constructor=i,t.exports=i},85599:(t,e,r)=>{var n=r(34155);const i=r(82946);t.exports=i.satisfies(n.version,">=15.7.0")},14964:(t,e,r)=>{var n=r(34155),i=r(82946);t.exports=i.satisfies(n.version,"^6.12.0 || >=8.0.0")},91564:(t,e,r)=>{var n=r(34155);const i=r(82946);t.exports=i.satisfies(n.version,">=16.9.0")},68034:(t,e,r)=>{var n=r(57824);t.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if("string"==typeof t){var i=n(t);if(void 0===i)return;return Math.floor(r+i/1e3)}return"number"==typeof t?r+t:void 0}},47566:(t,e,r)=>{const n=r(85599),i=r(91564),s={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},o={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};t.exports=function(t,e){if(!t||!e)return;const r=e.asymmetricKeyType;if(!r)return;const a=s[r];if(!a)throw new Error(`Unknown key type "${r}".`);if(!a.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${a.join(", ")}.`);if(n)switch(r){case"ec":const r=e.asymmetricKeyDetails.namedCurve,n=o[t];if(r!==n)throw new Error(`"alg" parameter "${t}" requires curve "${n}".`);break;case"rsa-pss":if(i){const r=parseInt(t.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:i,saltLength:s}=e.asymmetricKeyDetails;if(n!==`sha${r}`||i!==n)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(void 0!==s&&s>r>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}}}},32323:(t,e,r)=>{"use strict";const n=r(60525),i=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),f=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1;const m=(t,e,r)=>{const n=t[f].get(e);if(n){const e=n.value;if(g(t,e)){if(v(t,n),!t[a])return}else r&&(t[d]&&(n.value.now=Date.now()),t[h].unshiftNode(n));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[u])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[u]&&r>t[u]},y=t=>{if(t[s]>t[i])for(let e=t[h].tail;t[s]>t[i]&&null!==e;){const r=e.prev;v(t,e),e=r}},v=(t,e)=>{if(e){const r=e.value;t[c]&&t[c](r.key,r.value),t[s]-=r.length,t[f].delete(r.key),t[h].removeNode(e)}};class b{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}const w=(t,e,r,n)=>{let i=r.value;g(t,i)&&(v(t,r),t[a]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||p;if(this[o]="function"!=typeof e?p:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[c]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,y(this)}get max(){return this[i]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[u]=t,y(this)}get maxAge(){return this[u]}set lengthCalculator(t){"function"!=typeof t&&(t=p),t!==this[o]&&(this[o]=t,this[s]=0,this[h].forEach((t=>{t.length=this[o](t.value,t.key),this[s]+=t.length}))),y(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[h].length}rforEach(t,e){e=e||this;for(let r=this[h].tail;null!==r;){const n=r.prev;w(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[h].head;null!==r;){const n=r.next;w(this,t,r,e),r=n}}keys(){return this[h].toArray().map((t=>t.key))}values(){return this[h].toArray().map((t=>t.value))}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach((t=>this[c](t.key,t.value))),this[f]=new Map,this[h]=new n,this[s]=0}dump(){return this[h].map((t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[h]}set(t,e,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[o](e,t);if(this[f].has(t)){if(a>this[i])return v(this,this[f].get(t)),!1;const o=this[f].get(t).value;return this[c]&&(this[l]||this[c](t,o.value)),o.now=n,o.maxAge=r,o.value=e,this[s]+=a-o.length,o.length=a,this.get(t),y(this),!0}const d=new b(t,e,a,n,r);return d.length>this[i]?(this[c]&&this[c](t,e),!1):(this[s]+=d.length,this[h].unshift(d),this[f].set(t,this[h].head),y(this),!0)}has(t){if(!this[f].has(t))return!1;const e=this[f].get(t).value;return!g(this,e)}get(t){return m(this,t,!0)}peek(t){return m(this,t,!1)}pop(){const t=this[h].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[f].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[f].forEach(((t,e)=>m(this,e,!1)))}}},98273:(t,e,r)=>{const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(t,e){if(e=s(e),t instanceof i){if(t.loose===!!e.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),c("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(t){const e=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=t.match(e);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new l(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(t){if(c("Comparator.test",t,this.options.loose),this.semver===n||t===n)return!0;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}return u(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(t.value,e).test(this.value):""===t.operator?""===t.value||new h(this.value,e).test(t.semver):(!(e=s(e)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==t.value)&&(!(!e.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!t.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!t.operator.startsWith("<"))||(!(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))||(!!(u(this.semver,"<",t.semver,e)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))||!!(u(this.semver,">",t.semver,e)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))))))}}t.exports=i;const s=r(68186),{safeRe:o,t:a}=r(71734),u=r(35957),c=r(89447),l=r(26277),h=r(13801)},13801:(t,e,r)=>{class n{constructor(t,e){if(e=s(e),t instanceof n)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new n(t.raw,e);if(t instanceof o)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!g(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&y(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){const e=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+t,r=i.get(e);if(r)return r;const n=this.options.loose,s=n?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];t=t.replace(s,C(this.options.includePrerelease)),a("hyphen replace",t),t=t.replace(c[l.COMPARATORTRIM],h),a("comparator trim",t),t=t.replace(c[l.TILDETRIM],f),a("tilde trim",t),t=t.replace(c[l.CARETTRIM],d),a("caret trim",t);let u=t.split(" ").map((t=>b(t,this.options))).join(" ").split(/\s+/).map((t=>A(t,this.options)));n&&(u=u.filter((t=>(a("loose invalid filter",t,this.options),!!t.match(c[l.COMPARATORLOOSE]))))),a("range list",u);const y=new Map,v=u.map((t=>new o(t,this.options)));for(const t of v){if(g(t))return[t];y.set(t.value,t)}y.size>1&&y.has("")&&y.delete("");const w=[...y.values()];return i.set(e,w),w}intersects(t,e){if(!(t instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>v(r,e)&&t.set.some((t=>v(t,e)&&r.every((r=>t.every((t=>r.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new u(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(I(this.set[e],t,this.options))return!0;return!1}}t.exports=n;const i=new(r(32323))({max:1e3}),s=r(68186),o=r(98273),a=r(89447),u=r(26277),{safeRe:c,t:l,comparatorTrimReplace:h,tildeTrimReplace:f,caretTrimReplace:d}=r(71734),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=r(3967),g=t=>"<0.0.0-0"===t.value,y=t=>""===t.value,v=(t,e)=>{let r=!0;const n=t.slice();let i=n.pop();for(;r&&n.length;)r=n.every((t=>i.intersects(t,e))),i=n.pop();return r},b=(t,e)=>(a("comp",t,e),t=S(t,e),a("caret",t),t=_(t,e),a("tildes",t),t=M(t,e),a("xrange",t),t=T(t,e),a("stars",t),t),w=t=>!t||"x"===t.toLowerCase()||"*"===t,_=(t,e)=>t.trim().split(/\s+/).map((t=>E(t,e))).join(" "),E=(t,e)=>{const r=e.loose?c[l.TILDELOOSE]:c[l.TILDE];return t.replace(r,((e,r,n,i,s)=>{let o;return a("tilde",t,e,r,n,i,s),w(r)?o="":w(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:w(i)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(a("replaceTilde pr",s),o=`>=${r}.${n}.${i}-${s} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",o),o}))},S=(t,e)=>t.trim().split(/\s+/).map((t=>x(t,e))).join(" "),x=(t,e)=>{a("caret",t,e);const r=e.loose?c[l.CARETLOOSE]:c[l.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,((e,r,i,s,o)=>{let u;return a("caret",t,e,r,i,s,o),w(r)?u="":w(i)?u=`>=${r}.0.0${n} <${+r+1}.0.0-0`:w(s)?u="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:o?(a("replaceCaret pr",o),u="0"===r?"0"===i?`>=${r}.${i}.${s}-${o} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}-${o} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s}-${o} <${+r+1}.0.0-0`):(a("no pr"),u="0"===r?"0"===i?`>=${r}.${i}.${s}${n} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s} <${+r+1}.0.0-0`),a("caret return",u),u}))},M=(t,e)=>(a("replaceXRanges",t,e),t.split(/\s+/).map((t=>k(t,e))).join(" ")),k=(t,e)=>{t=t.trim();const r=e.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return t.replace(r,((r,n,i,s,o,u)=>{a("xRange",t,r,n,i,s,o,u);const c=w(i),l=c||w(s),h=l||w(o),f=h;return"="===n&&f&&(n=""),u=e.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&f?(l&&(s=0),o=0,">"===n?(n=">=",l?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",l?i=+i+1:s=+s+1),"<"===n&&(u="-0"),r=`${n+i}.${s}.${o}${u}`):l?r=`>=${i}.0.0${u} <${+i+1}.0.0-0`:h&&(r=`>=${i}.${s}.0${u} <${i}.${+s+1}.0-0`),a("xRange return",r),r}))},T=(t,e)=>(a("replaceStars",t,e),t.trim().replace(c[l.STAR],"")),A=(t,e)=>(a("replaceGTE0",t,e),t.trim().replace(c[e.includePrerelease?l.GTE0PRE:l.GTE0],"")),C=t=>(e,r,n,i,s,o,a,u,c,l,h,f,d)=>`${r=w(n)?"":w(i)?`>=${n}.0.0${t?"-0":""}`:w(s)?`>=${n}.${i}.0${t?"-0":""}`:o?`>=${r}`:`>=${r}${t?"-0":""}`} ${u=w(c)?"":w(l)?`<${+c+1}.0.0-0`:w(h)?`<${c}.${+l+1}.0-0`:f?`<=${c}.${l}.${h}-${f}`:t?`<${c}.${l}.${+h+1}-0`:`<=${u}`}`.trim(),I=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(a(t[r].semver),t[r].semver!==o.ANY&&t[r].semver.prerelease.length>0){const n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}},26277:(t,e,r)=>{const n=r(89447),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=r(3967),{safeRe:o,t:a}=r(71734),u=r(68186),{compareIdentifiers:c}=r(51149);class l{constructor(t,e){if(e=u(e),t instanceof l){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const r=t.trim().match(e.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<s)return e}return t})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(n("SemVer.compare",this.version,this.options,t),!(t instanceof l)){if("string"==typeof t&&t===this.version)return 0;t=new l(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof l||(t=new l(t,this.options)),c(this.major,t.major)||c(this.minor,t.minor)||c(this.patch,t.patch)}comparePre(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const r=this.prerelease[e],i=t.prerelease[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++e)}compareBuild(t){t instanceof l||(t=new l(t,this.options));let e=0;do{const r=this.build[e],i=t.build[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return c(r,i)}while(++e)}inc(t,e,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,r),this.inc("pre",e,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,r),this.inc("pre",e,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const t=Number(r)?1:0;if(!e&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[t];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(e===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(e){let n=[e,t];!1===r&&(n=[e]),0===c(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=l},53914:(t,e,r)=>{const n=r(72980);t.exports=(t,e)=>{const r=n(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null}},35957:(t,e,r)=>{const n=r(50250),i=r(76527),s=r(33472),o=r(96788),a=r(17079),u=r(10958);t.exports=(t,e,r,c)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return n(t,r,c);case"!=":return i(t,r,c);case">":return s(t,r,c);case">=":return o(t,r,c);case"<":return a(t,r,c);case"<=":return u(t,r,c);default:throw new TypeError(`Invalid operator: ${e}`)}}},97054:(t,e,r)=>{const n=r(26277),i=r(72980),{safeRe:s,t:o}=r(71734);t.exports=(t,e)=>{if(t instanceof n)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;let r=null;if((e=e||{}).rtl){let e;for(;(e=s[o.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)r&&e.index+e[0].length===r.index+r[0].length||(r=e),s[o.COERCERTL].lastIndex=e.index+e[1].length+e[2].length;s[o.COERCERTL].lastIndex=-1}else r=t.match(s[o.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)}},41004:(t,e,r)=>{const n=r(26277);t.exports=(t,e,r)=>{const i=new n(t,r),s=new n(e,r);return i.compare(s)||i.compareBuild(s)}},41820:(t,e,r)=>{const n=r(62781);t.exports=(t,e)=>n(t,e,!0)},62781:(t,e,r)=>{const n=r(26277);t.exports=(t,e,r)=>new n(t,r).compare(new n(e,r))},21215:(t,e,r)=>{const n=r(72980);t.exports=(t,e)=>{const r=n(t,null,!0),i=n(e,null,!0),s=r.compare(i);if(0===s)return null;const o=s>0,a=o?r:i,u=o?i:r,c=!!a.prerelease.length;if(!!u.prerelease.length&&!c)return u.patch||u.minor?a.patch?"patch":a.minor?"minor":"major":"major";const l=c?"pre":"";return r.major!==i.major?l+"major":r.minor!==i.minor?l+"minor":r.patch!==i.patch?l+"patch":"prerelease"}},50250:(t,e,r)=>{const n=r(62781);t.exports=(t,e,r)=>0===n(t,e,r)},33472:(t,e,r)=>{const n=r(62781);t.exports=(t,e,r)=>n(t,e,r)>0},96788:(t,e,r)=>{const n=r(62781);t.exports=(t,e,r)=>n(t,e,r)>=0},52203:(t,e,r)=>{const n=r(26277);t.exports=(t,e,r,i,s)=>{"string"==typeof r&&(s=i,i=r,r=void 0);try{return new n(t instanceof n?t.version:t,r).inc(e,i,s).version}catch(t){return null}}},17079:(t,e,r)=>{const n=r(62781);t.exports=(t,e,r)=>n(t,e,r)<0},10958:(t,e,r)=>{const n=r(62781);t.exports=(t,e,r)=>n(t,e,r)<=0},56033:(t,e,r)=>{const n=r(26277);t.exports=(t,e)=>new n(t,e).major},77563:(t,e,r)=>{const n=r(26277);t.exports=(t,e)=>new n(t,e).minor},76527:(t,e,r)=>{const n=r(62781);t.exports=(t,e,r)=>0!==n(t,e,r)},72980:(t,e,r)=>{const n=r(26277);t.exports=(t,e,r=!1)=>{if(t instanceof n)return t;try{return new n(t,e)}catch(t){if(!r)return null;throw t}}},11409:(t,e,r)=>{const n=r(26277);t.exports=(t,e)=>new n(t,e).patch},29238:(t,e,r)=>{const n=r(72980);t.exports=(t,e)=>{const r=n(t,e);return r&&r.prerelease.length?r.prerelease:null}},71212:(t,e,r)=>{const n=r(62781);t.exports=(t,e,r)=>n(e,t,r)},6397:(t,e,r)=>{const n=r(41004);t.exports=(t,e)=>t.sort(((t,r)=>n(r,t,e)))},25809:(t,e,r)=>{const n=r(13801);t.exports=(t,e,r)=>{try{e=new n(e,r)}catch(t){return!1}return e.test(t)}},22844:(t,e,r)=>{const n=r(41004);t.exports=(t,e)=>t.sort(((t,r)=>n(t,r,e)))},53455:(t,e,r)=>{const n=r(72980);t.exports=(t,e)=>{const r=n(t,e);return r?r.version:null}},82946:(t,e,r)=>{const n=r(71734),i=r(3967),s=r(26277),o=r(51149),a=r(72980),u=r(53455),c=r(53914),l=r(52203),h=r(21215),f=r(56033),d=r(77563),p=r(11409),m=r(29238),g=r(62781),y=r(71212),v=r(41820),b=r(41004),w=r(22844),_=r(6397),E=r(33472),S=r(17079),x=r(50250),M=r(76527),k=r(96788),T=r(10958),A=r(35957),C=r(97054),I=r(98273),P=r(13801),R=r(25809),O=r(29104),D=r(61679),L=r(88067),N=r(92415),F=r(37236),B=r(85604),j=r(69057),z=r(35918),U=r(21845),V=r(15224),q=r(25320);t.exports={parse:a,valid:u,clean:c,inc:l,diff:h,major:f,minor:d,patch:p,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:w,rsort:_,gt:E,lt:S,eq:x,neq:M,gte:k,lte:T,cmp:A,coerce:C,Comparator:I,Range:P,satisfies:R,toComparators:O,maxSatisfying:D,minSatisfying:L,minVersion:N,validRange:F,outside:B,gtr:j,ltr:z,intersects:U,simplifyRange:V,subset:q,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},3967:t=>{const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},89447:(t,e,r)=>{const n="object"==typeof r(34155)&&{ENV:"production",BABEL_ENV:"production",BFF_EXTENSION:"https://api-extension.meliuz.com.br",AZION_FF_ROUTE:"https://api-extension-ff.meliuz.com.br",BFF_CUSTOMER_CARD:"https://api-customer.cartaomeliuz.com.br",MELIUZ_URL:"https://www.meliuz.com.br",STATIC_MELIUZ:"https://static.meliuz.com.br/",FIREBASE_KEY:"AIzaSyCbK3JbSljRUhsYFQwesv4-ekZKKgNMV40",FIREBASE_ID:"lembrador-e49af",CLIENT_SECRET:"8b979018cdab447f6733b76bb75e493c6b93103d",CLIENT_ID_BFF:"meliuz-extension-production",CLIENT_SECRET_BFF:"zC73dgg9KMuXyCUGLRyL12yn7bnC1R",GA_TRACKING_ID:"UA-26865030-3",GA_TRACKING_ID_SITE:"UA-26865030-1",CUSTOM_REQUESTS_HEADER:"X-Meliuz-Client",GCP_FUNCTIONS_URL:"https://us-central1-meliuz-traceability-prd.cloudfunctions.net/predict",CLOUD_FUNCTION_PROJECT:"e49af",ANODOT_ID:"8dfc79c8af290de422fd975b9b04ee80",SENTRY_DSN:"https://91ef845682c34dd1b776781f0ee7d4bb@o51760.ingest.sentry.io/4505133381713920",SENTRY_TRACES_SAMPLE_RATE:"1.0",GA4_API_SECRET:"Dxk9AwQzS5qvLbkJTvAmgw",GA4_MEASUREMENT_ID:"G-W2B9H0ZM8H",GA4_ENDPOINT:"https://www.google-analytics.com/mp/collect"}.NODE_DEBUG&&/\bsemver\b/i.test({ENV:"production",BABEL_ENV:"production",BFF_EXTENSION:"https://api-extension.meliuz.com.br",AZION_FF_ROUTE:"https://api-extension-ff.meliuz.com.br",BFF_CUSTOMER_CARD:"https://api-customer.cartaomeliuz.com.br",MELIUZ_URL:"https://www.meliuz.com.br",STATIC_MELIUZ:"https://static.meliuz.com.br/",FIREBASE_KEY:"AIzaSyCbK3JbSljRUhsYFQwesv4-ekZKKgNMV40",FIREBASE_ID:"lembrador-e49af",CLIENT_SECRET:"8b979018cdab447f6733b76bb75e493c6b93103d",CLIENT_ID_BFF:"meliuz-extension-production",CLIENT_SECRET_BFF:"zC73dgg9KMuXyCUGLRyL12yn7bnC1R",GA_TRACKING_ID:"UA-26865030-3",GA_TRACKING_ID_SITE:"UA-26865030-1",CUSTOM_REQUESTS_HEADER:"X-Meliuz-Client",GCP_FUNCTIONS_URL:"https://us-central1-meliuz-traceability-prd.cloudfunctions.net/predict",CLOUD_FUNCTION_PROJECT:"e49af",ANODOT_ID:"8dfc79c8af290de422fd975b9b04ee80",SENTRY_DSN:"https://91ef845682c34dd1b776781f0ee7d4bb@o51760.ingest.sentry.io/4505133381713920",SENTRY_TRACES_SAMPLE_RATE:"1.0",GA4_API_SECRET:"Dxk9AwQzS5qvLbkJTvAmgw",GA4_MEASUREMENT_ID:"G-W2B9H0ZM8H",GA4_ENDPOINT:"https://www.google-analytics.com/mp/collect"}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=n},51149:t=>{const e=/^[0-9]+$/,r=(t,r)=>{const n=e.test(t),i=e.test(r);return n&&i&&(t=+t,r=+r),t===r?0:n&&!i?-1:i&&!n?1:t<r?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(t,e)=>r(e,t)}},68186:t=>{const e=Object.freeze({loose:!0}),r=Object.freeze({});t.exports=t=>t?"object"!=typeof t?e:t:r},71734:(t,e,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=r(3967),o=r(89447),a=(e=t.exports={}).re=[],u=e.safeRe=[],c=e.src=[],l=e.t={};let h=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",s],[f,i]],p=(t,e,r)=>{const n=(t=>{for(const[e,r]of d)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t})(e),i=h++;o(t,i,e),l[t]=i,c[i]=e,a[i]=new RegExp(e,r?"g":void 0),u[i]=new RegExp(n,r?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),p("FULL",`^${c[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),p("LOOSE",`^${c[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),p("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),p("COERCERTL",c[l.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},69057:(t,e,r)=>{const n=r(85604);t.exports=(t,e,r)=>n(t,e,">",r)},21845:(t,e,r)=>{const n=r(13801);t.exports=(t,e,r)=>(t=new n(t,r),e=new n(e,r),t.intersects(e,r))},35918:(t,e,r)=>{const n=r(85604);t.exports=(t,e,r)=>n(t,e,"<",r)},61679:(t,e,r)=>{const n=r(26277),i=r(13801);t.exports=(t,e,r)=>{let s=null,o=null,a=null;try{a=new i(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(s&&-1!==o.compare(t)||(s=t,o=new n(s,r)))})),s}},88067:(t,e,r)=>{const n=r(26277),i=r(13801);t.exports=(t,e,r)=>{let s=null,o=null,a=null;try{a=new i(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(s&&1!==o.compare(t)||(s=t,o=new n(s,r)))})),s}},92415:(t,e,r)=>{const n=r(26277),i=r(13801),s=r(33472);t.exports=(t,e)=>{t=new i(t,e);let r=new n("0.0.0");if(t.test(r))return r;if(r=new n("0.0.0-0"),t.test(r))return r;r=null;for(let e=0;e<t.set.length;++e){const i=t.set[e];let o=null;i.forEach((t=>{const e=new n(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":o&&!s(e,o)||(o=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!o||r&&!s(r,o)||(r=o)}return r&&t.test(r)?r:null}},85604:(t,e,r)=>{const n=r(26277),i=r(98273),{ANY:s}=i,o=r(13801),a=r(25809),u=r(33472),c=r(17079),l=r(10958),h=r(96788);t.exports=(t,e,r,f)=>{let d,p,m,g,y;switch(t=new n(t,f),e=new o(e,f),r){case">":d=u,p=l,m=c,g=">",y=">=";break;case"<":d=c,p=h,m=u,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(t,e,f))return!1;for(let r=0;r<e.set.length;++r){const n=e.set[r];let o=null,a=null;if(n.forEach((t=>{t.semver===s&&(t=new i(">=0.0.0")),o=o||t,a=a||t,d(t.semver,o.semver,f)?o=t:m(t.semver,a.semver,f)&&(a=t)})),o.operator===g||o.operator===y)return!1;if((!a.operator||a.operator===g)&&p(t,a.semver))return!1;if(a.operator===y&&m(t,a.semver))return!1}return!0}},15224:(t,e,r)=>{const n=r(25809),i=r(62781);t.exports=(t,e,r)=>{const s=[];let o=null,a=null;const u=t.sort(((t,e)=>i(t,e,r)));for(const t of u){n(t,e,r)?(a=t,o||(o=t)):(a&&s.push([o,a]),a=null,o=null)}o&&s.push([o,null]);const c=[];for(const[t,e]of s)t===e?c.push(t):e||t!==u[0]?e?t===u[0]?c.push(`<=${e}`):c.push(`${t} - ${e}`):c.push(`>=${t}`):c.push("*");const l=c.join(" || "),h="string"==typeof e.raw?e.raw:String(e);return l.length<h.length?l:e}},25320:(t,e,r)=>{const n=r(13801),i=r(98273),{ANY:s}=i,o=r(25809),a=r(62781),u=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],l=(t,e,r)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===s){if(1===e.length&&e[0].semver===s)return!0;t=r.includePrerelease?u:c}if(1===e.length&&e[0].semver===s){if(r.includePrerelease)return!0;e=c}const n=new Set;let i,l,d,p,m,g,y;for(const e of t)">"===e.operator||">="===e.operator?i=h(i,e,r):"<"===e.operator||"<="===e.operator?l=f(l,e,r):n.add(e.semver);if(n.size>1)return null;if(i&&l){if(d=a(i.semver,l.semver,r),d>0)return null;if(0===d&&(">="!==i.operator||"<="!==l.operator))return null}for(const t of n){if(i&&!o(t,String(i),r))return null;if(l&&!o(t,String(l),r))return null;for(const n of e)if(!o(t,String(n),r))return!1;return!0}let v=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver,b=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver;v&&1===v.prerelease.length&&"<"===l.operator&&0===v.prerelease[0]&&(v=!1);for(const t of e){if(y=y||">"===t.operator||">="===t.operator,g=g||"<"===t.operator||"<="===t.operator,i)if(b&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===b.major&&t.semver.minor===b.minor&&t.semver.patch===b.patch&&(b=!1),">"===t.operator||">="===t.operator){if(p=h(i,t,r),p===t&&p!==i)return!1}else if(">="===i.operator&&!o(i.semver,String(t),r))return!1;if(l)if(v&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===v.major&&t.semver.minor===v.minor&&t.semver.patch===v.patch&&(v=!1),"<"===t.operator||"<="===t.operator){if(m=f(l,t,r),m===t&&m!==l)return!1}else if("<="===l.operator&&!o(l.semver,String(t),r))return!1;if(!t.operator&&(l||i)&&0!==d)return!1}return!(i&&g&&!l&&0!==d)&&(!(l&&y&&!i&&0!==d)&&(!b&&!v))},h=(t,e,r)=>{if(!t)return e;const n=a(t.semver,e.semver,r);return n>0?t:n<0||">"===e.operator&&">="===t.operator?e:t},f=(t,e,r)=>{if(!t)return e;const n=a(t.semver,e.semver,r);return n<0?t:n>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=(t,e,r={})=>{if(t===e)return!0;t=new n(t,r),e=new n(e,r);let i=!1;t:for(const n of t.set){for(const t of e.set){const e=l(n,t,r);if(i=i||null!==e,e)continue t}if(i)return!1}return!0}},29104:(t,e,r)=>{const n=r(13801);t.exports=(t,e)=>new n(t,e).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")))},37236:(t,e,r)=>{const n=r(13801);t.exports=(t,e)=>{try{return new n(t,e).range||"*"}catch(t){return null}}},52488:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},60525:(t,e,r)=>{"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}function i(t,e,r){var n=e===t.head?new a(r,null,e,t):new a(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function s(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function o(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,r,n){if(!(this instanceof a))return new a(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,i=this.head;null!==i;)r.push(t.call(e,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,i=this.tail;null!==i;)r.push(t.call(e,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,s=this.head;null!==s&&i<t;i++)s=s.next;for(;null!==s&&i<e;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,s=this.tail;null!==s&&i>e;i--)s=s.prev;for(;null!==s&&i>t;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;null!==s&&n<t;n++)s=s.next;var o=[];for(n=0;s&&n<e;n++)o.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(n=0;n<r.length;n++)s=i(this,s,r[n]);return o},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(52488)(n)}catch(t){}},22506:(t,e,r)=>{const n=r(68034),i=r(14964),s=r(47566),o=r(40158),a=r(28922),u=r(48094),c=r(55928),l=r(23126),h=r(8146),f=r(25751),d=r(38917),{KeyObject:p,createSecretKey:m,createPrivateKey:g}=r(55835),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&y.splice(3,0,"PS256","PS384","PS512");const v={expiresIn:{isValid:function(t){return c(t)||f(t)&&t},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(t){return c(t)||f(t)&&t},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(t){return f(t)||Array.isArray(t)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:h,message:'"header" must be an object'},encoding:{isValid:f,message:'"encoding" must be a string'},issuer:{isValid:f,message:'"issuer" must be a string'},subject:{isValid:f,message:'"subject" must be a string'},jwtid:{isValid:f,message:'"jwtid" must be a string'},noTimestamp:{isValid:u,message:'"noTimestamp" must be a boolean'},keyid:{isValid:f,message:'"keyid" must be a string'},mutatePayload:{isValid:u,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:u,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:u,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:l,message:'"iat" should be a number of seconds'},exp:{isValid:l,message:'"exp" should be a number of seconds'},nbf:{isValid:l,message:'"nbf" should be a number of seconds'}};function w(t,e,r,n){if(!h(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(i){const s=t[i];if(s){if(!s.isValid(r[i]))throw new Error(s.message)}else if(!e)throw new Error('"'+i+'" is not allowed in "'+n+'"')}))}const _={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},E=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];t.exports=function(t,e,r,i){"function"==typeof r?(i=r,r={}):r=r||{};const a="object"==typeof t&&!Buffer.isBuffer(t),u=Object.assign({alg:r.algorithm||"HS256",typ:a?"JWT":void 0,kid:r.keyid},r.header);function c(t){if(i)return i(t);throw t}if(!e&&"none"!==r.algorithm)return c(new Error("secretOrPrivateKey must have a value"));if(null!=e&&!(e instanceof p))try{e=g(e)}catch(t){try{e=m("string"==typeof e?Buffer.from(e):e)}catch(t){return c(new Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==e.type)return c(new Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==e.type)return c(new Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==e.asymmetricKeyDetails&&e.asymmetricKeyDetails.modulusLength<2048)return c(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===t)return c(new Error("payload is required"));if(a){try{!function(t){w(b,!0,t,"payload")}(t)}catch(t){return c(t)}r.mutatePayload||(t=Object.assign({},t))}else{const e=E.filter((function(t){return void 0!==r[t]}));if(e.length>0)return c(new Error("invalid "+e.join(",")+" option for "+typeof t+" payload"))}if(void 0!==t.exp&&void 0!==r.expiresIn)return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==t.nbf&&void 0!==r.notBefore)return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(t){w(v,!1,t,"options")}(r)}catch(t){return c(t)}if(!r.allowInvalidAsymmetricKeyTypes)try{s(u.alg,e)}catch(t){return c(t)}const l=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:a&&(t.iat=l),void 0!==r.notBefore){try{t.nbf=n(r.notBefore,l)}catch(t){return c(t)}if(void 0===t.nbf)return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof t){try{t.exp=n(r.expiresIn,l)}catch(t){return c(t)}if(void 0===t.exp)return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(_).forEach((function(e){const n=_[e];if(void 0!==r[e]){if(void 0!==t[n])return c(new Error('Bad "options.'+e+'" option. The payload already has an "'+n+'" property.'));t[n]=r[e]}}));const h=r.encoding||"utf8";if("function"!=typeof i){let n=o.sign({header:u,payload:t,secret:e,encoding:h});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}i=i&&d(i),o.createSign({header:u,privateKey:e,payload:t,encoding:h}).once("error",i).once("done",(function(t){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&t.length<256)return i(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));i(null,t)}))}},17030:(t,e,r)=>{const n=r(58619),i=r(71826),s=r(2340),o=r(97626),a=r(68034),u=r(47566),c=r(14964),l=r(40158),{KeyObject:h,createSecretKey:f,createPublicKey:d}=r(55835),p=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(p.splice(p.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),t.exports=function(t,e,r,c){let v;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),v=c||function(t,e){if(t)throw t;return e},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return v(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return v(new n("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return v(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));const b=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return v(new n("jwt must be provided"));if("string"!=typeof t)return v(new n("jwt must be a string"));const w=t.split(".");if(3!==w.length)return v(new n("jwt malformed"));let _;try{_=o(t,{complete:!0})}catch(t){return v(t)}if(!_)return v(new n("invalid token"));const E=_.header;let S;if("function"==typeof e){if(!c)return v(new n("verify must be called asynchronous if secret or public key is provided as a callback"));S=e}else S=function(t,r){return r(null,e)};return S(E,(function(e,o){if(e)return v(new n("error in secret or public key callback: "+e.message));const c=""!==w[2].trim();if(!c&&o)return v(new n("jwt signature is required"));if(c&&!o)return v(new n("secret or public key must be provided"));if(!c&&!r.algorithms)return v(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=o&&!(o instanceof h))try{o=d(o)}catch(t){try{o=f("string"==typeof o?Buffer.from(o):o)}catch(t){return v(new n("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===o.type?r.algorithms=y:["rsa","rsa-pss"].includes(o.asymmetricKeyType)?r.algorithms=g:"ec"===o.asymmetricKeyType?r.algorithms=m:r.algorithms=p),-1===r.algorithms.indexOf(_.header.alg))return v(new n("invalid algorithm"));if(E.alg.startsWith("HS")&&"secret"!==o.type)return v(new n(`secretOrPublicKey must be a symmetric key when using ${E.alg}`));if(/^(?:RS|PS|ES)/.test(E.alg)&&"public"!==o.type)return v(new n(`secretOrPublicKey must be an asymmetric key when using ${E.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{u(E.alg,o)}catch(t){return v(t)}let S;try{S=l.verify(t,_.header.alg,o)}catch(t){return v(t)}if(!S)return v(new n("invalid signature"));const x=_.payload;if(void 0!==x.nbf&&!r.ignoreNotBefore){if("number"!=typeof x.nbf)return v(new n("invalid nbf value"));if(x.nbf>b+(r.clockTolerance||0))return v(new i("jwt not active",new Date(1e3*x.nbf)))}if(void 0!==x.exp&&!r.ignoreExpiration){if("number"!=typeof x.exp)return v(new n("invalid exp value"));if(b>=x.exp+(r.clockTolerance||0))return v(new s("jwt expired",new Date(1e3*x.exp)))}if(r.audience){const t=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(x.aud)?x.aud:[x.aud]).some((function(e){return t.some((function(t){return t instanceof RegExp?t.test(e):t===e}))})))return v(new n("jwt audience invalid. expected: "+t.join(" or ")))}if(r.issuer){if("string"==typeof r.issuer&&x.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(x.iss))return v(new n("jwt issuer invalid. expected: "+r.issuer))}if(r.subject&&x.sub!==r.subject)return v(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&x.jti!==r.jwtid)return v(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&x.nonce!==r.nonce)return v(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof x.iat)return v(new n("iat required when maxAge is specified"));const t=a(r.maxAge,x.iat);if(void 0===t)return v(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(b>=t+(r.clockTolerance||0))return v(new s("maxAge exceeded",new Date(1e3*t)))}if(!0===r.complete){const t=_.signature;return v(null,{header:E,payload:x,signature:t})}return v(null,x)}))}},54178:(t,e,r)=>{var n=r(88500),i=r(89509).Buffer,s=r(55835),o=r(35015),a=r(89539),u="secret must be a string or buffer",c="key must be a string or a buffer",l="key must be a string, a buffer or an object",h="function"==typeof s.createPublicKey;function f(t){if(!i.isBuffer(t)&&"string"!=typeof t){if(!h)throw g(c);if("object"!=typeof t)throw g(c);if("string"!=typeof t.type)throw g(c);if("string"!=typeof t.asymmetricKeyType)throw g(c);if("function"!=typeof t.export)throw g(c)}}function d(t){if(!i.isBuffer(t)&&"string"!=typeof t&&"object"!=typeof t)throw g(l)}function p(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(t){var e=4-(t=t.toString()).length%4;if(4!==e)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function g(t){var e=[].slice.call(arguments,1),r=a.format.bind(a,t).apply(null,e);return new TypeError(r)}function y(t){var e;return e=t,i.isBuffer(e)||"string"==typeof e||(t=JSON.stringify(t)),t}function v(t){return function(e,r){!function(t){if(!i.isBuffer(t)){if("string"==typeof t)return t;if(!h)throw g(u);if("object"!=typeof t)throw g(u);if("secret"!==t.type)throw g(u);if("function"!=typeof t.export)throw g(u)}}(r),e=y(e);var n=s.createHmac("sha"+t,r);return p((n.update(e),n.digest("base64")))}}function b(t){return function(e,r,s){var o=v(t)(e,s);return n(i.from(r),i.from(o))}}function w(t){return function(e,r){d(r),e=y(e);var n=s.createSign("RSA-SHA"+t);return p((n.update(e),n.sign(r,"base64")))}}function _(t){return function(e,r,n){f(n),e=y(e),r=m(r);var i=s.createVerify("RSA-SHA"+t);return i.update(e),i.verify(n,r,"base64")}}function E(t){return function(e,r){d(r),e=y(e);var n=s.createSign("RSA-SHA"+t);return p((n.update(e),n.sign({key:r,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function S(t){return function(e,r,n){f(n),e=y(e),r=m(r);var i=s.createVerify("RSA-SHA"+t);return i.update(e),i.verify({key:n,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function x(t){var e=w(t);return function(){var r=e.apply(null,arguments);return r=o.derToJose(r,"ES"+t)}}function M(t){var e=_(t);return function(r,n,i){return n=o.joseToDer(n,"ES"+t).toString("base64"),e(r,n,i)}}function k(){return function(){return""}}function T(){return function(t,e){return""===e}}h&&(c+=" or a KeyObject",u+="or a KeyObject"),t.exports=function(t){var e={hs:v,rs:w,ps:E,es:x,none:k},r={hs:b,rs:_,ps:S,es:M,none:T},n=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',t);var i=(n[1]||n[3]).toLowerCase(),s=n[2];return{sign:e[i](s),verify:r[i](s)}}},40158:(t,e,r)=>{var n=r(48952),i=r(43079);e.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],e.sign=n.sign,e.verify=i.verify,e.decode=i.decode,e.isValid=i.isValid,e.createSign=function(t){return new n(t)},e.createVerify=function(t){return new i(t)}},97006:(t,e,r)=>{var n=r(34155),i=r(89509).Buffer,s=r(42830);function o(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=i.alloc(0),this;if("function"==typeof t.pipe)return this.buffer=i.alloc(0),t.pipe(this),this;if(t.length||"object"==typeof t)return this.buffer=t,this.writable=!1,n.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}r(89539).inherits(o,s),o.prototype.write=function(t){this.buffer=i.concat([this.buffer,i.from(t)]),this.emit("data",t)},o.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1},t.exports=o},48952:(t,e,r)=>{var n=r(89509).Buffer,i=r(97006),s=r(54178),o=r(42830),a=r(32010),u=r(89539);function c(t,e){return n.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,i=t.encoding,o=s(e.alg),l=function(t,e,r){r=r||"utf8";var n=c(a(t),"binary"),i=c(a(e),r);return u.format("%s.%s",n,i)}(e,r,i),h=o.sign(l,n);return u.format("%s.%s",l,h)}function h(t){var e=t.secret||t.privateKey||t.key,r=new i(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new i(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}u.inherits(h,o),h.prototype.sign=function(){try{var t=l({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}},h.sign=l,t.exports=h},32010:(t,e,r)=>{var n=r(48764).Buffer;t.exports=function(t){return"string"==typeof t?t:"number"==typeof t||n.isBuffer(t)?t.toString():JSON.stringify(t)}},43079:(t,e,r)=>{var n=r(89509).Buffer,i=r(97006),s=r(54178),o=r(42830),a=r(32010),u=r(89539),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(t){if(function(t){return"[object Object]"===Object.prototype.toString.call(t)}(t))return t;try{return JSON.parse(t)}catch(t){return}}function h(t){var e=t.split(".",1)[0];return l(n.from(e,"base64").toString("binary"))}function f(t){return t.split(".")[2]}function d(t){return c.test(t)&&!!h(t)}function p(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=f(t=a(t)),o=function(t){return t.split(".",2).join(".")}(t);return s(e).verify(o,i,r)}function m(t,e){if(e=e||{},!d(t=a(t)))return null;var r=h(t);if(!r)return null;var i=function(t,e){e=e||"utf8";var r=t.split(".")[1];return n.from(r,"base64").toString(e)}(t);return("JWT"===r.typ||e.json)&&(i=JSON.parse(i,e.encoding)),{header:r,payload:i,signature:f(t)}}function g(t){var e=(t=t||{}).secret||t.publicKey||t.key,r=new i(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new i(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}u.inherits(g,o),g.prototype.verify=function(){try{var t=p(this.signature.buffer,this.algorithm,this.key.buffer),e=m(this.signature.buffer,this.encoding);return this.emit("done",t,e),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}},g.decode=m,g.isValid=d,g.verify=p,t.exports=g},28922:t=>{var e=1/0,r=9007199254740991,n=17976931348623157e292,i=NaN,s="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",u="[object String]",c="[object Symbol]",l=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\d*)$/,m=parseInt;function g(t){return t!=t}function y(t,e){return function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(e,(function(e){return t[e]}))}var v,b,w=Object.prototype,_=w.hasOwnProperty,E=w.toString,S=w.propertyIsEnumerable,x=(v=Object.keys,b=Object,function(t){return v(b(t))}),M=Math.max;function k(t,e){var r=C(t)||function(t){return function(t){return R(t)&&I(t)}(t)&&_.call(t,"callee")&&(!S.call(t,"callee")||E.call(t)==s)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!_.call(t,o)||i&&("length"==o||A(o,n))||r.push(o);return r}function T(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||w,e!==n)return x(t);var e,r,n,i=[];for(var s in Object(t))_.call(t,s)&&"constructor"!=s&&i.push(s);return i}function A(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}var C=Array.isArray;function I(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=P(t)?E.call(t):"";return e==o||e==a}(t)}function P(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function R(t){return!!t&&"object"==typeof t}t.exports=function(t,r,s,o){var a;t=I(t)?t:(a=t)?y(a,function(t){return I(t)?k(t):T(t)}(a)):[],s=s&&!o?function(t){var r=function(t){if(!t)return 0===t?t:0;if(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||R(t)&&E.call(t)==c}(t))return i;if(P(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=P(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var r=f.test(t);return r||d.test(t)?m(t.slice(2),r?2:8):h.test(t)?i:+t}(t),t===e||t===-e){return(t<0?-1:1)*n}return t==t?t:0}(t),s=r%1;return r==r?s?r-s:r:0}(s):0;var p=t.length;return s<0&&(s=M(p+s,0)),function(t){return"string"==typeof t||!C(t)&&R(t)&&E.call(t)==u}(t)?s<=p&&t.indexOf(r,s)>-1:!!p&&function(t,e,r){if(e!=e)return function(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}(t,g,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,r,s)>-1}},48094:t=>{var e=Object.prototype.toString;t.exports=function(t){return!0===t||!1===t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Boolean]"==e.call(t)}},55928:t=>{var e=1/0,r=17976931348623157e292,n=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l=Object.prototype.toString;function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t){return"number"==typeof t&&t==function(t){var f=function(t){if(!t)return 0===t?t:0;if(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&l.call(t)==i}(t))return n;if(h(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=h(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=a.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}(t),t===e||t===-e){return(t<0?-1:1)*r}return t==t?t:0}(t),d=f%1;return f==f?d?f-d:f:0}(t)}},23126:t=>{var e=Object.prototype.toString;t.exports=function(t){return"number"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Number]"==e.call(t)}},8146:t=>{var e,r,n=Function.prototype,i=Object.prototype,s=n.toString,o=i.hasOwnProperty,a=s.call(Object),u=i.toString,c=(e=Object.getPrototypeOf,r=Object,function(t){return e(r(t))});t.exports=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=u.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var e=c(t);if(null===e)return!0;var r=o.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==a}},25751:t=>{var e=Object.prototype.toString,r=Array.isArray;t.exports=function(t){return"string"==typeof t||!r(t)&&function(t){return!!t&&"object"==typeof t}(t)&&"[object String]"==e.call(t)}},38917:t=>{var e="Expected a function",r=1/0,n=17976931348623157e292,i=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,h=Object.prototype.toString;function f(t,f){var p;if("function"!=typeof f)throw new TypeError(e);return t=function(t){var e=function(t){if(!t)return 0===t?t:0;if(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&h.call(t)==s}(t))return i;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=u.test(t);return r||c.test(t)?l(t.slice(2),r?2:8):a.test(t)?i:+t}(t),t===r||t===-r){return(t<0?-1:1)*n}return t==t?t:0}(t),f=e%1;return e==e?f?e-f:e:0}(t),function(){return--t>0&&(p=f.apply(this,arguments)),t<=1&&(f=void 0),p}}function d(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t){return f(2,t)}},11248:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var r,n,i=t.length;for(r=0;r<i;r+=1)for(var s in n=t[r].prototype)Object.prototype.hasOwnProperty.call(n,s)&&(e.prototype[s]=n[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var r,n=0,i=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<e;n+=1)i.push(r);return i}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,r){return"float32"===e?new Float32Array(r):"int16"===e?new Int16Array(r):"uint8c"===e?new Uint8ClampedArray(r):t(e,r)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var e,r=createSizedArray(t.length),n=t.length;for(e=0;e<n;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,n){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,n){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,r){var n,i,s,o,a,u,c,l;switch(u=r*(1-e),c=r*(1-(a=6*t-(o=Math.floor(6*t)))*e),l=r*(1-(1-a)*e),o%6){case 0:n=r,i=l,s=u;break;case 1:n=c,i=r,s=u;break;case 2:n=u,i=r,s=l;break;case 3:n=u,i=c,s=r;break;case 4:n=l,i=u,s=r;break;case 5:n=r,i=u,s=c}return[n,i,s]}function RGBtoHSV(t,e,r){var n,i=Math.max(t,e,r),s=Math.min(t,e,r),o=i-s,a=0===i?0:o/i,u=i/255;switch(i){case s:n=0;break;case t:n=e-r+o*(e<r?6:0),n/=6*o;break;case e:n=r-t+2*o,n/=6*o;break;case r:n=t-e+4*o,n/=6*o}return[n,a,u]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1===e.length?"0"+e:e;return function(t,e,n){return t<0&&(t=0),e<0&&(e=0),n<0&&(n=0),"#"+r[t]+r[e]+r[n]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(t)}var dataManager=function(){var t,e,r=1,n=[],i={onmessage:function(){},postMessage:function(e){t({data:e})}},s={postMessage:function(t){i.onmessage({data:t})}};function o(){e||(e=function(e){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),n=URL.createObjectURL(r);return new Worker(n)}return t=e,i}((function(t){if(s.dataManager||(s.dataManager=function(){function t(i,s){var o,a,u,c,l,f,d=i.length;for(a=0;a<d;a+=1)if("ks"in(o=i[a])&&!o.completed){if(o.completed=!0,o.hasMask){var p=o.masksProperties;for(c=p.length,u=0;u<c;u+=1)if(p[u].pt.k.i)n(p[u].pt.k);else for(f=p[u].pt.k.length,l=0;l<f;l+=1)p[u].pt.k[l].s&&n(p[u].pt.k[l].s[0]),p[u].pt.k[l].e&&n(p[u].pt.k[l].e[0])}0===o.ty?(o.layers=e(o.refId,s),t(o.layers,s)):4===o.ty?r(o.shapes):5===o.ty&&h(o)}}function e(t,e){var r=function(t,e){for(var r=0,n=e.length;r<n;){if(e[r].id===t)return e[r];r+=1}return null}(t,e);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(t){var e,i,s;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)n(t[e].ks.k);else for(s=t[e].ks.k.length,i=0;i<s;i+=1)t[e].ks.k[i].s&&n(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&n(t[e].ks.k[i].e[0]);else"gr"===t[e].ty&&r(t[e].it)}function n(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&null))}var s,o=function(){var t=[4,4,14];function e(t){var e,r,n,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&(n=void 0,n=(r=t[e]).t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(i(t,r.v)&&(e(r.layers),r.assets)){var n,s=r.assets.length;for(n=0;n<s;n+=1)r.assets[n].layers&&e(r.assets[n].layers)}}}(),a=(s=[4,7,99],function(t){if(t.chars&&!i(s,t.v)){var e,n=t.chars.length;for(e=0;e<n;e+=1){var o=t.chars[e];o.data&&o.data.shapes&&(r(o.data.shapes),o.data.ip=0,o.data.op=99999,o.data.st=0,o.data.sr=1,o.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[e].t||(o.data.shapes.push({ty:"no"}),o.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),u=function(){var t=[5,7,15];function e(t){var e,r,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(r=void 0,"number"==typeof(r=t[e].t.p).a&&(r.a={a:0,k:r.a}),"number"==typeof r.p&&(r.p={a:0,k:r.p}),"number"==typeof r.r&&(r.r={a:0,k:r.r}))}return function(r){if(i(t,r.v)&&(e(r.layers),r.assets)){var n,s=r.assets.length;for(n=0;n<s;n+=1)r.assets[n].layers&&e(r.assets[n].layers)}}}(),c=function(){var t=[4,1,9];function e(t){var r,n,i,s=t.length;for(r=0;r<s;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(i=t[r].c.k.length,n=0;n<i;n+=1)t[r].c.k[n].s&&(t[r].c.k[n].s[0]/=255,t[r].c.k[n].s[1]/=255,t[r].c.k[n].s[2]/=255,t[r].c.k[n].s[3]/=255),t[r].c.k[n].e&&(t[r].c.k[n].e[0]/=255,t[r].c.k[n].e[1]/=255,t[r].c.k[n].e[2]/=255,t[r].c.k[n].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,n=t.length;for(r=0;r<n;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}(),l=function(){var t=[4,4,18];function e(t){var r,n,i;for(r=t.length-1;r>=0;r-=1)if("sh"===t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(i=t[r].ks.k.length,n=0;n<i;n+=1)t[r].ks.k[n].s&&(t[r].ks.k[n].s[0].c=t[r].closed),t[r].ks.k[n].e&&(t[r].ks.k[n].e[0].c=t[r].closed);else"gr"===t[r].ty&&e(t[r].it)}function r(t){var r,n,i,s,o,a,u=t.length;for(n=0;n<u;n+=1){if((r=t[n]).hasMask){var c=r.masksProperties;for(s=c.length,i=0;i<s;i+=1)if(c[i].pt.k.i)c[i].pt.k.c=c[i].cl;else for(a=c[i].pt.k.length,o=0;o<a;o+=1)c[i].pt.k[o].s&&(c[i].pt.k[o].s[0].c=c[i].cl),c[i].pt.k[o].e&&(c[i].pt.k[o].e[0].c=c[i].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}();function h(t){0===t.t.a.length&&t.t.p}var f={completeData:function(r){r.__complete||(c(r),o(r),a(r),u(r),l(r),t(r.layers,r.assets),function(r,n){if(r){var i=0,s=r.length;for(i=0;i<s;i+=1)1===r[i].t&&(r[i].data.layers=e(r[i].data.refId,n),t(r[i].data.layers,n))}}(r.chars,r.assets),r.__complete=!0)}};return f.checkColors=c,f.checkChars=a,f.checkPathProperties=u,f.checkShapes=l,f.completeLayers=t,f}()),s.assetLoader||(s.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,r,n,i){var s,o=new XMLHttpRequest;try{o.responseType="json"}catch(t){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)s=t(o),n(s);else try{s=t(o),n(s)}catch(t){i&&i(t)}};try{o.open(["G","E","T"].join(""),e,!0)}catch(t){o.open(["G","E","T"].join(""),r+"/"+e,!0)}o.send()}}}()),"loadAnimation"===t.data.type)s.assetLoader.load(t.data.path,t.data.fullPath,(function(e){s.dataManager.completeData(e),s.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){s.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var e=t.data.animation;s.dataManager.completeData(e),s.postMessage({id:t.data.id,payload:e,status:"success"})}else"loadData"===t.data.type&&s.assetLoader.load(t.data.path,t.data.fullPath,(function(e){s.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){s.postMessage({id:t.data.id,status:"error"})}))})),e.onmessage=function(t){var e=t.data,r=e.id,i=n[r];n[r]=null,"success"===e.status?i.onComplete(e.payload):i.onError&&i.onError()})}function a(t,e){var i="processId_"+(r+=1);return n[i]={onComplete:t,onError:e},i}return{loadAnimation:function(t,r,n){o();var i=a(r,n);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},loadData:function(t,r,n){o();var i=a(r,n);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},completeAnimation:function(t,r,n){o();var i=a(r,n);e.postMessage({type:"complete",animation:t,id:i})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t,e,r){var n="";if(t.e)n=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),n=e+i}else n=r,n+=t.u?t.u:"",n+=t.p;return n}function i(t){var e=0,r=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(r)),e+=1}.bind(this),50)}function s(t){var e={assetData:t},r=n(t,this.assetsPath,this.path);return dataManager.loadData(r,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function o(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=s.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return o.prototype={loadAssets:function(t,e){var r;this.imagesLoadedCb=e;var n=t.length;for(r=0;r<n;r+=1)t[r].layers||(t[r].t&&"seq"!==t[r].t?3===t[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[r]))):(this.totalImages+=1,this.images.push(this._createImageData(t[r]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var r=n(e,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){s.img=t,this._imageLoaded()}.bind(this),!1),i.src=r;var s={img:i,assetData:e};return s},createImageData:function(e){var r=n(e,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){s.img=t,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var s={img:i,assetData:e};return s},imageLoaded:e,footageLoaded:r,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},o}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t],n=0;n<r.length;n+=1)r[n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,n=this._cbs[t].length;r<n;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,n-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,r=t.split("\r\n"),n={},i=0,s=0;s<r.length;s+=1)2===(e=r[s].split(":")).length&&(n[e[0]]=e[1].trim(),i+=1);if(0===i)throw new Error;return n}return function(e){for(var r=[],n=0;n<e.length;n+=1){var i=e[n],s={time:i.tm,duration:i.dr};try{s.payload=JSON.parse(e[n].cm)}catch(r){try{s.payload=t(e[n].cm)}catch(t){s.payload={name:e[n].cm}}}r.push(s)}return r}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var r=getRenderer(e);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},n=t.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var i=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===i?r.loop=!1:"true"===i?r.loop=!0:""!==i&&(r.loop=parseInt(i,10));var s=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==s,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,n=this.animationData.layers,i=n.length,s=t.layers,o=s.length;for(r=0;r<o;r+=1)for(e=0;e<i;){if(n[e].id===s[r].id){n[e]=s[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var r="number"==typeof t?t:void 0,n="number"==typeof e?e:void 0;this.renderer.updateContainerSize(r,n)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if((e=this.markers[r]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!r||this.name===r){var n=Number(t);if(isNaN(n)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!r||this.name===r){var n=Number(t);if(isNaN(n)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(n,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var r,n=t.length;for(r=0;r<n;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,r){try{this.renderer.getElementByPath(t).updateDocumentData(e,r)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],r=0,n=0,i=0,s=!0,o=!1;function a(t){for(var r=0,i=t.target;r<n;)e[r].animation===i&&(e.splice(r,1),r-=1,n-=1,i.isPaused||l()),r+=1}function u(t,r){if(!t)return null;for(var i=0;i<n;){if(e[i].elem===t&&null!==e[i].elem)return e[i].animation;i+=1}var s=new AnimationItem;return h(s,t),s.setData(t,r),s}function c(){i+=1,p()}function l(){i-=1}function h(t,r){t.addEventListener("destroy",a),t.addEventListener("_active",c),t.addEventListener("_idle",l),e.push({elem:r,animation:t}),n+=1}function f(t){var a,u=t-r;for(a=0;a<n;a+=1)e[a].animation.advanceTime(u);r=t,i&&!o?window.requestAnimationFrame(f):s=!0}function d(t){r=t,window.requestAnimationFrame(f)}function p(){!o&&i&&s&&(window.requestAnimationFrame(d),s=!1)}return t.registerAnimation=u,t.loadAnimation=function(t){var e=new AnimationItem;return h(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var i;for(i=0;i<n;i+=1)e[i].animation.setSpeed(t,r)},t.setDirection=function(t,r){var i;for(i=0;i<n;i+=1)e[i].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var n,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=i.length;for(n=0;n<s;n+=1)r&&i[n].setAttribute("data-bm-type",r),u(i[n],t);if(e&&0===s){r||(r="svg");var o=document.getElementsByTagName("body")[0];o.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",r),o.appendChild(a),u(a,t)}},t.resize=function(){var t;for(t=0;t<n;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,i){var s;for(s=0;s<n;s+=1)e[s].animation.goToAndStop(t,r,i)},t.destroy=function(t){var r;for(r=n-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){o=!0},t.unfreeze=function(){o=!1,p()},t.setVolume=function(t,r){var i;for(i=0;i<n;i+=1)e[i].animation.setVolume(t,r)},t.mute=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.mute(t)},t.unmute=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n.push(e[t].animation);return n},t}(),BezierFactory=function(){var t={getBezierEasing:function(t,r,n,i,s){var o=s||("bez_"+t+"_"+r+"_"+n+"_"+i).replace(/\./g,"p");if(e[o])return e[o];var a=new l([t,r,n,i]);return e[o]=a,a}},e={},r=11,n=1/(r-1),i="function"==typeof Float32Array;function s(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function a(t){return 3*t}function u(t,e,r){return((s(e,r)*t+o(e,r))*t+a(e))*t}function c(t,e,r){return 3*s(e,r)*t*t+2*o(e,r)*t+a(e)}function l(t){this._p=t,this._mSampleValues=i?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(t){var e=this._p[0],r=this._p[1],n=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===r&&n===i?t:0===t?0:1===t?1:u(this._getTForX(t),r,i)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<r;++i)this._mSampleValues[i]=u(i*n,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],s=this._mSampleValues,o=0,a=1,l=r-1;a!==l&&s[a]<=t;++a)o+=n;var h=o+(t-s[--a])/(s[a+1]-s[a])*n,f=c(h,e,i);return f>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var s=c(e,r,n);if(0===s)return e;e-=(u(e,r,n)-t)/s}return e}(t,h,e,i):0===f?h:function(t,e,r,n,i){var s,o,a=0;do{(s=u(o=e+(r-e)/2,n,i)-t)>0?r=o:e=o}while(Math.abs(s)>1e-7&&++a<10);return o}(t,o,o+n,e,i)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,r){var n=0,i=t,s=createSizedArray(i);return{newElement:function(){return n?s[n-=1]:e()},release:function(t){n===i&&(s=pooling.double(s),i*=2),r&&r(t),s[n]=t,n+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}));function bezFunction(){var t=Math;function e(t,e,r,n,i,s){var o=t*n+e*i+r*s-i*n-s*t-r*e;return o>-.001&&o<.001}var r=function(t,e,r,n){var i,s,o,a,u,c,l=getDefaultCurveSegments(),h=0,f=[],d=[],p=bezierLengthPool.newElement();for(o=r.length,i=0;i<l;i+=1){for(u=i/(l-1),c=0,s=0;s<o;s+=1)a=bmPow(1-u,3)*t[s]+3*bmPow(1-u,2)*u*r[s]+3*(1-u)*bmPow(u,2)*n[s]+bmPow(u,3)*e[s],f[s]=a,null!==d[s]&&(c+=bmPow(f[s]-d[s],2)),d[s]=f[s];c&&(h+=c=bmSqrt(c)),p.percents[i]=u,p.lengths[i]=h}return p.addedLength=h,p};function n(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}var s,o=(s={},function(t,r,o,a){var u=(t[0]+"_"+t[1]+"_"+r[0]+"_"+r[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!s[u]){var c,l,h,f,d,p,m,g=getDefaultCurveSegments(),y=0,v=null;2===t.length&&(t[0]!==r[0]||t[1]!==r[1])&&e(t[0],t[1],r[0],r[1],t[0]+o[0],t[1]+o[1])&&e(t[0],t[1],r[0],r[1],r[0]+a[0],r[1]+a[1])&&(g=2);var b=new n(g);for(h=o.length,c=0;c<g;c+=1){for(m=createSizedArray(h),d=c/(g-1),p=0,l=0;l<h;l+=1)f=bmPow(1-d,3)*t[l]+3*bmPow(1-d,2)*d*(t[l]+o[l])+3*(1-d)*bmPow(d,2)*(r[l]+a[l])+bmPow(d,3)*r[l],m[l]=f,null!==v&&(p+=bmPow(m[l]-v[l],2));y+=p=bmSqrt(p),b.points[c]=new i(p,m),v=m}b.segmentLength=y,s[u]=b}return s[u]});function a(t,e){var r=e.percents,n=e.lengths,i=r.length,s=bmFloor((i-1)*t),o=t*e.addedLength,a=0;if(s===i-1||0===s||o===n[s])return r[s];for(var u=n[s]>o?-1:1,c=!0;c;)if(n[s]<=o&&n[s+1]>o?(a=(o-n[s])/(n[s+1]-n[s]),c=!1):s+=u,s<0||s>=i-1){if(s===i-1)return r[s];c=!1}return r[s]+(r[s+1]-r[s])*a}var u=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,n=segmentsLengthPool.newElement(),i=t.c,s=t.v,o=t.o,a=t.i,u=t._length,c=n.lengths,l=0;for(e=0;e<u-1;e+=1)c[e]=r(s[e],s[e+1],o[e],a[e+1]),l+=c[e].addedLength;return i&&u&&(c[e]=r(s[e],s[0],o[e],a[0]),l+=c[e].addedLength),n.totalLength=l,n},getNewSegment:function(e,r,n,i,s,o,c){s<0?s=0:s>1&&(s=1);var l,h=a(s,c),f=a(o=o>1?1:o,c),d=e.length,p=1-h,m=1-f,g=p*p*p,y=h*p*p*3,v=h*h*p*3,b=h*h*h,w=p*p*m,_=h*p*m+p*h*m+p*p*f,E=h*h*m+p*h*f+h*p*f,S=h*h*f,x=p*m*m,M=h*m*m+p*f*m+p*m*f,k=h*f*m+p*f*f+h*m*f,T=h*f*f,A=m*m*m,C=f*m*m+m*f*m+m*m*f,I=f*f*m+m*f*f+f*m*f,P=f*f*f;for(l=0;l<d;l+=1)u[4*l]=t.round(1e3*(g*e[l]+y*n[l]+v*i[l]+b*r[l]))/1e3,u[4*l+1]=t.round(1e3*(w*e[l]+_*n[l]+E*i[l]+S*r[l]))/1e3,u[4*l+2]=t.round(1e3*(x*e[l]+M*n[l]+k*i[l]+T*r[l]))/1e3,u[4*l+3]=t.round(1e3*(A*e[l]+C*n[l]+I*i[l]+P*r[l]))/1e3;return u},getPointInSegment:function(e,r,n,i,s,o){var u=a(s,o),c=1-u;return[t.round(1e3*(c*c*c*e[0]+(u*c*c+c*u*c+c*c*u)*n[0]+(u*u*c+c*u*u+u*c*u)*i[0]+u*u*u*r[0]))/1e3,t.round(1e3*(c*c*c*e[1]+(u*c*c+c*u*c+c*c*u)*n[1]+(u*u*c+c*u*u+u*c*u)*i[1]+u*u*u*r[1]))/1e3]},buildBezierData:o,pointOnLine2D:e,pointOnLine3D:function(r,n,i,s,o,a,u,c,l){if(0===i&&0===a&&0===l)return e(r,n,s,o,u,c);var h,f=t.sqrt(t.pow(s-r,2)+t.pow(o-n,2)+t.pow(a-i,2)),d=t.sqrt(t.pow(u-r,2)+t.pow(c-n,2)+t.pow(l-i,2)),p=t.sqrt(t.pow(u-s,2)+t.pow(c-o,2)+t.pow(l-a,2));return(h=f>d?f>p?f-d-p:p-d-f:p>d?p-d-f:d-f-p)>-1e-4&&h<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var r,n=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var i,s,o,a,u,c,l,h,f,d=e.lastIndex,p=d,m=this.keyframes.length-1,g=!0;g;){if(i=this.keyframes[p],s=this.keyframes[p+1],p===m-1&&t>=s.t-n){i.h&&(i=s),d=0;break}if(s.t-n>t){d=p;break}p<m-1?p+=1:(d=0,g=!1)}o=this.keyframesMetadata[p]||{};var y,v=s.t-n,b=i.t-n;if(i.to){o.bezierData||(o.bezierData=bez.buildBezierData(i.s,s.s||i.e,i.to,i.ti));var w=o.bezierData;if(t>=v||t<b){var _=t>=v?w.points.length-1:0;for(u=w.points[_].point.length,a=0;a<u;a+=1)r[a]=w.points[_].point[a]}else{o.__fnct?f=o.__fnct:(f=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,o.__fnct=f),c=f((t-b)/(v-b));var E,S=w.segmentLength*c,x=e.lastFrame<t&&e._lastKeyframeIndex===p?e._lastAddedLength:0;for(h=e.lastFrame<t&&e._lastKeyframeIndex===p?e._lastPoint:0,g=!0,l=w.points.length;g;){if(x+=w.points[h].partialLength,0===S||0===c||h===w.points.length-1){for(u=w.points[h].point.length,a=0;a<u;a+=1)r[a]=w.points[h].point[a];break}if(S>=x&&S<x+w.points[h+1].partialLength){for(E=(S-x)/w.points[h+1].partialLength,u=w.points[h].point.length,a=0;a<u;a+=1)r[a]=w.points[h].point[a]+(w.points[h+1].point[a]-w.points[h].point[a])*E;break}h<l-1?h+=1:g=!1}e._lastPoint=h,e._lastAddedLength=x-w.points[h].partialLength,e._lastKeyframeIndex=p}}else{var M,k,T,A,C;if(m=i.s.length,y=s.s||i.e,this.sh&&1!==i.h)t>=v?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):t<=b?(r[0]=i.s[0],r[1]=i.s[1],r[2]=i.s[2]):quaternionToEuler(r,slerp(createQuaternion(i.s),createQuaternion(y),(t-b)/(v-b)));else for(p=0;p<m;p+=1)1!==i.h&&(t>=v?c=1:t<b?c=0:(i.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[p]?f=o.__fnct[p]:(M=void 0===i.o.x[p]?i.o.x[0]:i.o.x[p],k=void 0===i.o.y[p]?i.o.y[0]:i.o.y[p],T=void 0===i.i.x[p]?i.i.x[0]:i.i.x[p],A=void 0===i.i.y[p]?i.i.y[0]:i.i.y[p],f=BezierFactory.getBezierEasing(M,k,T,A).get,o.__fnct[p]=f)):o.__fnct?f=o.__fnct:(M=i.o.x,k=i.o.y,T=i.i.x,A=i.i.y,f=BezierFactory.getBezierEasing(M,k,T,A).get,i.keyframeMetadata=f),c=f((t-b)/(v-b)))),y=s.s||i.e,C=1===i.h?i.s[p]:i.s[p]+(y[p]-i.s[p])*c,"multidimensional"===this.propType?r[p]=C:r=C}return e.lastIndex=d,r}function slerp(t,e,r){var n,i,s,o,a,u=[],c=t[0],l=t[1],h=t[2],f=t[3],d=e[0],p=e[1],m=e[2],g=e[3];return(i=c*d+l*p+h*m+f*g)<0&&(i=-i,d=-d,p=-p,m=-m,g=-g),1-i>1e-6?(n=Math.acos(i),s=Math.sin(n),o=Math.sin((1-r)*n)/s,a=Math.sin(r*n)/s):(o=1-r,a=r),u[0]=o*c+a*d,u[1]=o*l+a*p,u[2]=o*h+a*m,u[3]=o*f+a*g,u}function quaternionToEuler(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],o=Math.atan2(2*n*s-2*r*i,1-2*n*n-2*i*i),a=Math.asin(2*r*n+2*i*s),u=Math.atan2(2*r*s-2*n*i,1-2*r*r-2*i*i);t[0]=o/degToRads,t[1]=a/degToRads,t[2]=u/degToRads}function createQuaternion(t){var e=t[0]*degToRads,r=t[1]*degToRads,n=t[2]*degToRads,i=Math.cos(e/2),s=Math.cos(r/2),o=Math.cos(n/2),a=Math.sin(e/2),u=Math.sin(r/2),c=Math.sin(n/2);return[a*u*o+i*s*c,a*s*o+i*u*c,i*u*o-a*s*c,i*s*o-a*u*c]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(t,this._caching);this.pv=n}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)e=t[r]*this.mult,mathAbs(this.v[r]-e)>1e-5&&(this.v[r]=e,this._mdf=!0),r+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,r,n){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,r,n){var i;this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s=e.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),i=0;i<s;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,r,n){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=r||1,this.elem=t,this.container=n,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,r,n){var i;this.propType="multidimensional";var s,o,a,u,c=e.k.length;for(i=0;i<c-1;i+=1)e.k[i].to&&e.k[i].s&&e.k[i+1]&&e.k[i+1].s&&(s=e.k[i].s,o=e.k[i+1].s,a=e.k[i].to,u=e.k[i].ti,(2===s.length&&(s[0]!==o[0]||s[1]!==o[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],s[0]+a[0],s[1]+a[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],o[0]+u[0],o[1]+u[1])||3===s.length&&(s[0]!==o[0]||s[1]!==o[1]||s[2]!==o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],s[0]+a[0],s[1]+a[1],s[2]+a[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],o[0]+u[0],o[1]+u[1],o[2]+u[2]))&&(e.k[i].to=null,e.k[i].ti=null),s[0]===o[0]&&s[1]===o[1]&&0===a[0]&&0===a[1]&&0===u[0]&&0===u[1]&&(2===s.length||s[2]===o[2]&&0===a[2]&&0===u[2])&&(e.k[i].to=null,e.k[i].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=t,this.container=n,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var l=e.k[0].s.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),i=0;i<l;i+=1)this.v[i]=initFrame,this.pv[i]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",l)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,r,n,i){var s;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])s=new MultiDimensionalProperty(t,e,n,i);else switch(r){case 0:s=new KeyframedValueProperty(t,e,n,i);break;case 1:s=new KeyframedMultidimensionalProperty(t,e,n,i)}else s=new ValueProperty(t,e,n,i);return s.effectsSequence.length&&i.addDynamicProperty(s),s}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,n,i){var s;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}(!s[n]||s[n]&&!i)&&(s[n]=pointPool.newElement()),s[n][0]=t,s[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,n,i,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(r,n,"o",o,a),this.setXYAt(i,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,n=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),i=1);var s,o=this._length-1,a=this._length;for(s=i;s<a;s+=1)t.setTripleAt(e[o][0],e[o][1],n[o][0],n[o][1],r[o][0],r[o][1],s,!1),o-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,r=factory.newElement(),n=void 0===t._length?t.v.length:t._length;for(r.setLength(n),r.c=t.c,e=0;e<n;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,r=t._length;for(e=0;e<r;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var t=-999999;function e(t,e,r){var n,i,s,o,a,u,c,l,h,f=r.lastIndex,d=this.keyframes;if(t<d[0].t-this.offsetTime)n=d[0].s[0],s=!0,f=0;else if(t>=d[d.length-1].t-this.offsetTime)n=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],s=!0;else{for(var p,m,g,y=f,v=d.length-1,b=!0;b&&(p=d[y],!((m=d[y+1]).t-this.offsetTime>t));)y<v-1?y+=1:b=!1;if(g=this.keyframesMetadata[y]||{},f=y,!(s=1===p.h)){if(t>=m.t-this.offsetTime)l=1;else if(t<p.t-this.offsetTime)l=0;else{var w;g.__fnct?w=g.__fnct:(w=BezierFactory.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y).get,g.__fnct=w),l=w((t-(p.t-this.offsetTime))/(m.t-this.offsetTime-(p.t-this.offsetTime)))}i=m.s?m.s[0]:p.e[0]}n=p.s[0]}for(u=e._length,c=n.i[0].length,r.lastIndex=f,o=0;o<u;o+=1)for(a=0;a<c;a+=1)h=s?n.i[o][a]:n.i[o][a]+(i.i[o][a]-n.i[o][a])*l,e.i[o][a]=h,h=s?n.o[o][a]:n.o[o][a]+(i.o[o][a]-n.o[o][a])*l,e.o[o][a]=h,h=s?n.v[o][a]:n.v[o][a]+(i.v[o][a]-n.v[o][a])*l,e.v[o][a]=h}function r(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return i!==t&&(i<r&&e<r||i>n&&e>n)||(this._caching.lastIndex=i<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function n(){this.paths=this.localShapeCollection}function i(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,n=t._length;for(r=0;r<n;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(e=0;e<r;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===r?e.pt.k:e.ks.k;this.v=shapePool.clone(i),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function u(e,i,s){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===s?i.pt.k:i.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=n,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=s,o.prototype.setVValue=i,o.prototype.addEffect=a,u.prototype.getValue=s,u.prototype.interpolateShape=e,u.prototype.setVValue=i,u.prototype.addEffect=a;var c=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2,s=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=r-i,o.v[1][0]=s?e+n:e-n,o.v[1][1]=r,o.v[2][0]=e,o.v[2][1]=r+i,o.v[3][0]=s?e-n:e+n,o.v[3][1]=r,o.i[0][0]=s?e-n*t:e+n*t,o.i[0][1]=r-i,o.i[1][0]=s?e+n:e-n,o.i[1][1]=r-i*t,o.i[2][0]=s?e+n*t:e-n*t,o.i[2][1]=r+i,o.i[3][0]=s?e-n:e+n,o.i[3][1]=r+i*t,o.o[0][0]=s?e+n*t:e-n*t,o.o[0][1]=r-i,o.o[1][0]=s?e+n:e-n,o.o[1][1]=r+i*t,o.o[2][0]=s?e-n*t:e+n*t,o.o[2][1]=r+i,o.o[3][0]=s?e-n:e+n,o.o[3][1]=r-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),l=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,n,i=2*Math.floor(this.pt.v),s=2*Math.PI/i,o=!0,a=this.or.v,u=this.ir.v,c=this.os.v,l=this.is.v,h=2*Math.PI*a/(2*i),f=2*Math.PI*u/(2*i),d=-Math.PI/2;d+=this.r.v;var p=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){r=o?c:l,n=o?h:f;var m=(e=o?a:u)*Math.cos(d),g=e*Math.sin(d),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),v=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*n*r*p,g-v*n*r*p,m+y*n*r*p,g+v*n*r*p,t,!0),o=!o,d+=s*p}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,n=this.or.v,i=this.os.v,s=2*Math.PI*n/(4*e),o=.5*-Math.PI,a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var u=n*Math.cos(o),c=n*Math.sin(o),l=0===u&&0===c?0:c/Math.sqrt(u*u+c*c),h=0===u&&0===c?0:-u/Math.sqrt(u*u+c*c);u+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(u,c,u-l*s*i*a,c-h*s*i*a,u+l*s*i*a,c+h*s*i*a,t,!0),o+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,i=bmMin(r,n,this.r.v),s=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-n+i,t+r,e-n+i,t+r,e-n+s,0,!0),this.v.setTripleAt(t+r,e+n-i,t+r,e+n-s,t+r,e+n-i,1,!0),0!==i?(this.v.setTripleAt(t+r-i,e+n,t+r-i,e+n,t+r-s,e+n,2,!0),this.v.setTripleAt(t-r+i,e+n,t-r+s,e+n,t-r+i,e+n,3,!0),this.v.setTripleAt(t-r,e+n-i,t-r,e+n-i,t-r,e+n-s,4,!0),this.v.setTripleAt(t-r,e-n+i,t-r,e-n+s,t-r,e-n+i,5,!0),this.v.setTripleAt(t-r+i,e-n,t-r+i,e-n,t-r+s,e-n,6,!0),this.v.setTripleAt(t+r-i,e-n,t+r-s,e-n,t+r-i,e-n,7,!0)):(this.v.setTripleAt(t-r,e+n,t-r+s,e+n,t-r,e+n,2),this.v.setTripleAt(t-r,e-n,t-r,e-n+s,t-r,e-n,3))):(this.v.setTripleAt(t+r,e-n+i,t+r,e-n+s,t+r,e-n+i,0,!0),0!==i?(this.v.setTripleAt(t+r-i,e-n,t+r-i,e-n,t+r-s,e-n,1,!0),this.v.setTripleAt(t-r+i,e-n,t-r+s,e-n,t-r+i,e-n,2,!0),this.v.setTripleAt(t-r,e-n+i,t-r,e-n+i,t-r,e-n+s,3,!0),this.v.setTripleAt(t-r,e+n-i,t-r,e+n-s,t-r,e+n-i,4,!0),this.v.setTripleAt(t-r+i,e+n,t-r+i,e+n,t-r+s,e+n,5,!0),this.v.setTripleAt(t+r-i,e+n,t+r-s,e+n,t+r-i,e+n,6,!0),this.v.setTripleAt(t+r,e+n-i,t+r,e+n-i,t+r,e+n-s,7,!0)):(this.v.setTripleAt(t-r,e-n,t-r+s,e-n,t-r,e-n,1,!0),this.v.setTripleAt(t-r,e+n,t-r,e+n-s,t-r,e+n,2,!0),this.v.setTripleAt(t+r,e+n,t+r-s,e+n,t+r,e+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],t),t}(),f={getShapeProp:function(t,e,r){var n;return 3===r||4===r?n=(3===r?e.pt:e.ks).k.length?new u(t,e,r):new o(t,e,r):5===r?n=new h(t,e):6===r?n=new c(t,e):7===r&&(n=new l(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return u}};return f}(),Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,n=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function o(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1)}function a(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1)}function u(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function l(t,e){return this.shear(r(t),r(e))}function h(n,i){var s=t(i),o=e(i);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function f(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function d(t,e,r,n,i,s,o,a,u,c,l,h,f,d,p,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=n,this.props[4]=i,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=u,this.props[9]=c,this.props[10]=l,this.props[11]=h,this.props[12]=f,this.props[13]=d,this.props[14]=p,this.props[15]=m,this}function p(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,n,i,s,o,a,u,c,l,h,f,d,p,m){var g=this.props;if(1===t&&0===e&&0===r&&0===n&&0===i&&1===s&&0===o&&0===a&&0===u&&0===c&&1===l&&0===h)return g[12]=g[12]*t+g[15]*f,g[13]=g[13]*s+g[15]*d,g[14]=g[14]*l+g[15]*p,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],v=g[1],b=g[2],w=g[3],_=g[4],E=g[5],S=g[6],x=g[7],M=g[8],k=g[9],T=g[10],A=g[11],C=g[12],I=g[13],P=g[14],R=g[15];return g[0]=y*t+v*i+b*u+w*f,g[1]=y*e+v*s+b*c+w*d,g[2]=y*r+v*o+b*l+w*p,g[3]=y*n+v*a+b*h+w*m,g[4]=_*t+E*i+S*u+x*f,g[5]=_*e+E*s+S*c+x*d,g[6]=_*r+E*o+S*l+x*p,g[7]=_*n+E*a+S*h+x*m,g[8]=M*t+k*i+T*u+A*f,g[9]=M*e+k*s+T*c+A*d,g[10]=M*r+k*o+T*l+A*p,g[11]=M*n+k*a+T*h+A*m,g[12]=C*t+I*i+P*u+R*f,g[13]=C*e+I*s+P*c+R*d,g[14]=C*r+I*o+P*l+R*p,g[15]=C*n+I*a+P*h+R*m,this._identityCalculated=!1,this}function g(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function b(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function w(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function _(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function E(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function S(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function x(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function M(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,r=-this.props[1]/t,n=-this.props[4]/t,i=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,a=new Matrix;return a.props[0]=e,a.props[1]=r,a.props[4]=n,a.props[5]=i,a.props[12]=s,a.props[13]=o,a}function k(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function T(t){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n[e]=k(t[e]);return n}function A(t,e,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],n[4]=r[0],n[5]=r[1];else{var i=this.props[0],s=this.props[1],o=this.props[4],a=this.props[5],u=this.props[12],c=this.props[13];n[0]=t[0]*i+t[1]*o+u,n[1]=t[0]*s+t[1]*a+c,n[2]=e[0]*i+e[1]*o+u,n[3]=e[0]*s+e[1]*a+c,n[4]=r[0]*i+r[1]*o+u,n[5]=r[0]*s+r[1]*a+c}return n}function C(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function I(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function P(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=n(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function R(t){return t<1e-6&&t>0||t>-1e-6&&t<0?n(1e4*t)/1e4:t}function O(){var t=this.props;return"matrix("+R(t[0])+","+R(t[1])+","+R(t[4])+","+R(t[5])+","+R(t[12])+","+R(t[13])+")"}return function(){this.reset=i,this.rotate=s,this.rotateX=o,this.rotateY=a,this.rotateZ=u,this.skew=l,this.skewFromAxis=h,this.shear=c,this.scale=f,this.setTransform=d,this.translate=p,this.transform=m,this.multiply=g,this.applyToPoint=_,this.applyToX=E,this.applyToY=S,this.applyToZ=x,this.applyToPointArray=C,this.applyToTriplePoints=A,this.applyToPointStringified=I,this.toCSS=P,this.to2dCSS=O,this.clone=b,this.cloneFromProps=w,this.equals=v,this.inversePoints=T,this.inversePoint=k,this.getInverseMatrix=M,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var n=e[r].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,r){e[t]||(e[t]=r)},t.getModifier=function(t,r,n){return new e[t](r,n)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,n,i){var s=[];e<=1?s.push({s:t,e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var o,a,u=[],c=s.length;for(o=0;o<c;o+=1){var l,h;(a=s[o]).e*i<n||a.s*i>n+r||(l=a.s*i<=n?0:(a.s*i-n)/r,h=a.e*i>=n+r?1:(a.e*i-n)/r,u.push([l,h]))}return u.length||u.push([0,0]),u},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,n,i;if(this._mdf||t){var s=this.o.v%360/360;if(s<0&&(s+=1),(e=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(r=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var o=e;e=r,r=o}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var a,u,c,l,h,f=this.shapes.length,d=0;if(r===e)for(i=0;i<f;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape._mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection,this._mdf&&(this.shapes[i].pathsData.length=0);else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(i=0;i<f;i+=1)this.shapes[i].pathsData.length=0,this.shapes[i].shape._mdf=!0}else{var p,m,g=[];for(i=0;i<f;i+=1)if((p=this.shapes[i]).shape._mdf||this._mdf||t||2===this.m){if(u=(n=p.shape.paths)._length,h=0,!p.shape._mdf&&p.pathsData.length)h=p.totalShapeLength;else{for(c=this.releasePathsData(p.pathsData),a=0;a<u;a+=1)l=bez.getSegmentsLength(n.shapes[a]),c.push(l),h+=l.totalLength;p.totalShapeLength=h,p.pathsData=c}d+=h,p.shape._mdf=!0}else p.shape.paths=p.localShapeCollection;var y,v=e,b=r,w=0;for(i=f-1;i>=0;i-=1)if((p=this.shapes[i]).shape._mdf){for((m=p.localShapeCollection).releaseShapes(),2===this.m&&f>1?(y=this.calculateShapeEdges(e,r,p.totalShapeLength,w,d),w+=p.totalShapeLength):y=[[v,b]],u=y.length,a=0;a<u;a+=1){v=y[a][0],b=y[a][1],g.length=0,b<=1?g.push({s:p.totalShapeLength*v,e:p.totalShapeLength*b}):v>=1?g.push({s:p.totalShapeLength*(v-1),e:p.totalShapeLength*(b-1)}):(g.push({s:p.totalShapeLength*v,e:p.totalShapeLength}),g.push({s:0,e:p.totalShapeLength*(b-1)}));var _=this.addShapes(p,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(p.shape.paths.shapes[p.shape.paths._length-1].c){var E=_.pop();this.addPaths(_,m),_=this.addShapes(p,g[1],E)}else this.addPaths(_,m),_=this.addShapes(p,g[1]);this.addPaths(_,m)}}p.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,n,i,s,o){i.setXYAt(e[0],e[1],"o",s),i.setXYAt(r[0],r[1],"i",s+1),o&&i.setXYAt(t[0],t[1],"v",s),i.setXYAt(n[0],n[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,n){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),n&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var n,i,s,o,a,u,c,l,h=t.pathsData,f=t.shape.paths.shapes,d=t.shape.paths._length,p=0,m=[],g=!0;for(r?(a=r._length,l=r._length):(r=shapePool.newElement(),a=0,l=0),m.push(r),n=0;n<d;n+=1){for(u=h[n].lengths,r.c=f[n].c,s=f[n].c?u.length:u.length+1,i=1;i<s;i+=1)if(p+(o=u[i-1]).addedLength<e.s)p+=o.addedLength,r.c=!1;else{if(p>e.e){r.c=!1;break}e.s<=p&&e.e>=p+o.addedLength?(this.addSegment(f[n].v[i-1],f[n].o[i-1],f[n].i[i],f[n].v[i],r,a,g),g=!1):(c=bez.getNewSegment(f[n].v[i-1],f[n].v[i],f[n].o[i-1],f[n].i[i],(e.s-p)/o.addedLength,(e.e-p)/o.addedLength,u[i-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1),p+=o.addedLength,a+=1}if(f[n].c&&u.length){if(o=u[i-1],p<=e.e){var y=u[i-1].addedLength;e.s<=p&&e.e>=p+y?(this.addSegment(f[n].v[i-1],f[n].o[i-1],f[n].i[0],f[n].v[0],r,a,g),g=!1):(c=bez.getNewSegment(f[n].v[i-1],f[n].v[0],f[n].o[i-1],f[n].i[0],(e.s-p)/y,(e.e-p)/y,u[i-1]),this.addSegmentFromArray(c,r,a,g),g=!1,r.c=!1)}else r.c=!1;p+=o.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[l][0],r.v[l][1],"i",l),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),p>e.e)break;n<d-1&&(r=shapePool.newElement(),g=!0,m.push(r),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,n=[0,0],i=t._length,s=0;for(s=0;s<i;s+=1)n[0]+=t.v[s][0],n[1]+=t.v[s][1];n[0]/=i,n[1]/=i;var o,a,u,c,l,h,f=shapePool.newElement();for(f.c=t.c,s=0;s<i;s+=1)o=t.v[s][0]+(n[0]-t.v[s][0])*r,a=t.v[s][1]+(n[1]-t.v[s][1])*r,u=t.o[s][0]+(n[0]-t.o[s][0])*-r,c=t.o[s][1]+(n[1]-t.o[s][1])*-r,l=t.i[s][0]+(n[0]-t.i[s][0])*-r,h=t.i[s][1]+(n[1]-t.i[s][1])*-r,f.setTripleAt(o,a,u,c,l,h,s);return f},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,n,i,s,o,a=this.shapes.length,u=this.amount.v;if(0!==u)for(r=0;r<a;r+=1){if(o=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,n=0;n<i;n+=1)o.addShape(this.processPath(e[n],u));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var n,i=e.or.k.length;for(n=0;n<i;n+=1)e.or.k[n].to=null,e.or.k[n].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,i;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(n=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],i=[];var s=this.px,o=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(n[0]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),n[1]=o.getValueAtTime((o.keyframes[0].t+.01)/r,0),i[0]=s.getValueAtTime(s.keyframes[0].t/r,0),i[1]=o.getValueAtTime(o.keyframes[0].t/r,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(n[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),n[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/r,0),i[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0),i[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/r,0)):(n=[s.pv,o.pv],i[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime),i[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/r,o.offsetTime))}else n=i=t;this.v.rotate(-Math.atan2(n[1]-i[1],n[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,r,n){return new e(t,r,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,r){return t*(1-r)+e*r}function lerpPoint(t,e,r){return[lerp(t[0],e[0],r),lerp(t[1],e[1],r)]}function quadRoots(t,e,r){if(0===t)return[];var n=e*e-4*t*r;if(n<0)return[];var i=-e/(2*t);if(0===n)return[i];var s=Math.sqrt(n)/(2*t);return[i-s,i+s]}function polynomialCoefficients(t,e,r,n){return[3*e-t-3*r+n,3*t-6*e+3*r,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,r,n,i){i&&pointEqual(t,e)&&(e=lerpPoint(t,n,1/3)),i&&pointEqual(r,n)&&(r=lerpPoint(t,n,2/3));var s=polynomialCoefficients(t[0],e[0],r[0],n[0]),o=polynomialCoefficients(t[1],e[1],r[1],n[1]);this.a=[s[0],o[0]],this.b=[s[1],o[1]],this.c=[s[2],o[2]],this.d=[s[3],o[3]],this.points=[t,e,r,n]}function extrema(t,e){var r=t.points[0][e],n=t.points[t.points.length-1][e];if(r>n){var i=n;n=r,r=i}for(var s=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),o=0;o<s.length;o+=1)if(s[o]>0&&s[o]<1){var a=t.point(s[o])[e];a<r?r=a:a>n&&(n=a)}return{min:r,max:n}}function intersectData(t,e,r){var n=t.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:t,t:(e+r)/2,t1:e,t2:r}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,r,n,i,s){if(boxIntersect(t,e))if(r>=s||t.width<=n&&t.height<=n&&e.width<=n&&e.height<=n)i.push([t.t,e.t]);else{var o=splitData(t),a=splitData(e);intersectsImpl(o[0],a[0],r+1,n,i,s),intersectsImpl(o[0],a[1],r+1,n,i,s),intersectsImpl(o[1],a[0],r+1,n,i,s),intersectsImpl(o[1],a[1],r+1,n,i,s)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,r,n){var i=[t[0],t[1],1],s=[e[0],e[1],1],o=[r[0],r[1],1],a=[n[0],n[1],1],u=crossProduct(crossProduct(i,s),crossProduct(o,a));return floatZero(u[2])?null:[u[0]/u[2],u[1]/u[2]]}function polarOffset(t,e,r){return[t[0]+Math.cos(e)*r,t[1]-Math.sin(e)*r]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,r,n,i,s,o){var a=r-Math.PI/2,u=r+Math.PI/2,c=e[0]+Math.cos(r)*n*i,l=e[1]-Math.sin(r)*n*i;t.setTripleAt(c,l,c+Math.cos(a)*s,l-Math.sin(a)*s,c+Math.cos(u)*o,l-Math.sin(u)*o,t.length())}function getPerpendicularVector(t,e){var r=[e[0]-t[0],e[1]-t[1]],n=.5*-Math.PI;return[Math.cos(n)*r[0]-Math.sin(n)*r[1],Math.sin(n)*r[0]+Math.cos(n)*r[1]]}function getProjectingAngle(t,e){var r=0===e?t.length()-1:e-1,n=(e+1)%t.length(),i=getPerpendicularVector(t.v[r],t.v[n]);return Math.atan2(0,1)-Math.atan2(i[1],i[0])}function zigZagCorner(t,e,r,n,i,s,o){var a=getProjectingAngle(e,r),u=e.v[r%e._length],c=e.v[0===r?e._length-1:r-1],l=e.v[(r+1)%e._length],h=2===s?Math.sqrt(Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2)):0,f=2===s?Math.sqrt(Math.pow(u[0]-l[0],2)+Math.pow(u[1]-l[1],2)):0;setPoint(t,e.v[r%e._length],a,o,n,f/(2*(i+1)),h/(2*(i+1)),s)}function zigZagSegment(t,e,r,n,i,s){for(var o=0;o<n;o+=1){var a=(o+1)/(n+1),u=2===i?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(a);setPoint(t,e.point(a),c,s,r,u/(2*(n+1)),u/(2*(n+1)),i),s=-s}return s}function linearOffset(t,e,r){var n=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,n,r),polarOffset(e,n,r)]}function offsetSegment(t,e){var r,n,i,s,o,a,u;r=(u=linearOffset(t.points[0],t.points[1],e))[0],n=u[1],i=(u=linearOffset(t.points[1],t.points[2],e))[0],s=u[1],o=(u=linearOffset(t.points[2],t.points[3],e))[0],a=u[1];var c=lineIntersection(r,n,i,s);null===c&&(c=n);var l=lineIntersection(o,a,i,s);return null===l&&(l=o),new PolynomialBezier(r,c,l,a)}function joinLines(t,e,r,n,i){var s=e.points[3],o=r.points[0];if(3===n)return s;if(pointEqual(s,o))return s;if(2===n){var a=-e.tangentAngle(1),u=-r.tangentAngle(0)+Math.PI,c=lineIntersection(s,polarOffset(s,a+Math.PI/2,100),o,polarOffset(o,a+Math.PI/2,100)),l=c?pointDistance(c,s):pointDistance(s,o)/2,h=polarOffset(s,a,2*l*roundCorner);return t.setXYAt(h[0],h[1],"o",t.length()-1),h=polarOffset(o,u,2*l*roundCorner),t.setTripleAt(o[0],o[1],o[0],o[1],h[0],h[1],t.length()),o}var f=lineIntersection(pointEqual(s,e.points[2])?e.points[0]:e.points[2],s,o,pointEqual(o,r.points[1])?r.points[3]:r.points[1]);return f&&pointDistance(f,s)<i?(t.setTripleAt(f[0],f[1],f[0],f[1],f[0],f[1],t.length()),f):s}function getIntersection(t,e){var r=t.intersections(e);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(t,e){var r=t.slice(),n=e.slice(),i=getIntersection(t[t.length-1],e[0]);return i&&(r[t.length-1]=t[t.length-1].split(i[0])[0],n[0]=e[0].split(i[1])[1]),t.length>1&&e.length>1&&(i=getIntersection(t[0],e[e.length-1]))?[[t[0].split(i[0])[0]],[e[e.length-1].split(i[1])[1]]]:[r,n]}function pruneIntersections(t){for(var e,r=1;r<t.length;r+=1)e=pruneSegmentIntersection(t[r-1],t[r]),t[r-1]=e[0],t[r]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var r,n,i,s,o=t.inflectionPoints();if(0===o.length)return[offsetSegment(t,e)];if(1===o.length||floatEqual(o[1],1))return r=(i=t.split(o[0]))[0],n=i[1],[offsetSegment(r,e),offsetSegment(n,e)];r=(i=t.split(o[0]))[0];var a=(o[1]-o[0])/(1-o[0]);return s=(i=i[1].split(a))[0],n=i[1],[offsetSegment(r,e),offsetSegment(s,e),offsetSegment(n,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",n="normal",i=e.length,s=0;s<i;s+=1)switch(e[s].toLowerCase()){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:n,weight:t.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,n,i,s){var o=s?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-i),u=n.s.v[1]+(1-n.s.v[1])*(1-i);t.translate(n.p.v[0]*o*i,n.p.v[1]*o*i,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*o*i),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(s?1/a:a,s?1/u:u),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,n){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,n,i,s,o=!1;if(this._mdf||t){var a,u=Math.ceil(this.c.v);if(this._groups.length<u){for(;this._groups.length<u;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),o=!0}for(s=0,n=0;n<=this._groups.length-1;n+=1){if(a=s<u,this._groups[n]._render=a,this.changeGroupRender(this._groups[n].it,a),!a){var l=this.elemsData[n].it,h=l[l.length-1];0!==h.transform.op.v?(h.transform.op._mdf=!0,h.transform.op.v=0):h.transform.op._mdf=!1}s+=1}this._currentCopies=u;var f=this.o.v,d=f%1,p=f>0?Math.floor(f):Math.ceil(f),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var v,b,w=0;if(f>0){for(;w<p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),w+=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,d,!1),w+=d)}else if(f<0){for(;w>p;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),w-=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-d,!0),w-=d)}for(n=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,s=this._currentCopies;s;){if(b=(r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==w){for((0!==n&&1===i||n!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),v=0;v<b;v+=1)r[v]=this.matrix.props[v];this.matrix.reset()}else for(this.matrix.reset(),v=0;v<b;v+=1)r[v]=this.matrix.props[v];w+=1,s-=1,n+=i}}else for(s=this._currentCopies,n=0,i=1;s;)r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,n+=i;return o},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r,n=shapePool.newElement();n.c=t.c;var i,s,o,a,u,c,l,h,f,d,p,m,g=t._length,y=0;for(r=0;r<g;r+=1)i=t.v[r],o=t.o[r],s=t.i[r],i[0]===o[0]&&i[1]===o[1]&&i[0]===s[0]&&i[1]===s[1]?0!==r&&r!==g-1||t.c?(a=0===r?t.v[g-1]:t.v[r-1],c=(u=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(u/2,e)/u:0,l=p=i[0]+(a[0]-i[0])*c,h=m=i[1]-(i[1]-a[1])*c,f=l-(l-i[0])*roundCorner,d=h-(h-i[1])*roundCorner,n.setTripleAt(l,h,f,d,p,m,y),y+=1,a=r===g-1?t.v[0]:t.v[r+1],c=(u=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)))?Math.min(u/2,e)/u:0,l=f=i[0]+(a[0]-i[0])*c,h=d=i[1]+(a[1]-i[1])*c,p=l-(l-i[0])*roundCorner,m=h-(h-i[1])*roundCorner,n.setTripleAt(l,h,f,d,p,m,y),y+=1):(n.setTripleAt(i[0],i[1],o[0],o[1],s[0],s[1],y),y+=1):(n.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],y),y+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,r,n,i,s,o,a=this.shapes.length,u=this.rd.v;if(0!==u)for(r=0;r<a;r+=1){if(o=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,n=0;n<i;n+=1)o.addShape(this.processPath(e[n],u));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,r=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(r<0)return[];var n=Math.sqrt(r);return floatZero(n)?n>0&&n<1?[e]:[]:[e-n,e+n].filter((function(t){return t>0&&t<1}))},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),r=lerpPoint(this.points[1],this.points[2],t),n=lerpPoint(this.points[2],this.points[3],t),i=lerpPoint(e,r,t),s=lerpPoint(r,n,t),o=lerpPoint(i,s,t);return[new PolynomialBezier(this.points[0],e,i,o,!0),new PolynomialBezier(o,s,n,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,r){void 0===e&&(e=2),void 0===r&&(r=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,n,r),n},PolynomialBezier.shapeSegment=function(t,e){var r=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[r],t.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var r=(e+1)%t.length();return new PolynomialBezier(t.v[r],t.i[r],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,r,n){var i=t._length,s=shapePool.newElement();if(s.c=t.c,t.c||(i-=1),0===i)return s;var o=-1,a=PolynomialBezier.shapeSegment(t,0);zigZagCorner(s,t,0,e,r,n,o);for(var u=0;u<i;u+=1)o=zigZagSegment(s,a,e,r,n,-o),a=u!==i-1||t.c?PolynomialBezier.shapeSegment(t,(u+1)%i):null,zigZagCorner(s,t,u+1,e,r,n,o);return s},ZigZagModifier.prototype.processShapes=function(t){var e,r,n,i,s,o,a=this.shapes.length,u=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),l=this.pointsType.v;if(0!==u)for(r=0;r<a;r+=1){if(o=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,n=0;n<i;n+=1)o.addShape(this.processPath(e[n],u,c,l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,r,n){var i=shapePool.newElement();i.c=t.c;var s,o,a,u=t.length();t.c||(u-=1);var c=[];for(s=0;s<u;s+=1)a=PolynomialBezier.shapeSegment(t,s),c.push(offsetSegmentSplit(a,e));if(!t.c)for(s=u-1;s>=0;s-=1)a=PolynomialBezier.shapeSegmentInverted(t,s),c.push(offsetSegmentSplit(a,e));c=pruneIntersections(c);var l=null,h=null;for(s=0;s<c.length;s+=1){var f=c[s];for(h&&(l=joinLines(i,h,f[0],r,n)),h=f[f.length-1],o=0;o<f.length;o+=1)a=f[o],l&&pointEqual(a.points[0],l)?i.setXYAt(a.points[1][0],a.points[1][1],"o",i.length()-1):i.setTripleAt(a.points[0][0],a.points[0][1],a.points[1][0],a.points[1][1],a.points[0][0],a.points[0][1],i.length()),i.setTripleAt(a.points[3][0],a.points[3][1],a.points[3][0],a.points[3][1],a.points[2][0],a.points[2][1],i.length()),l=a.points[3]}return c.length&&joinLines(i,h,c[0][0],r,n),i},OffsetPathModifier.prototype.processShapes=function(t){var e,r,n,i,s,o,a=this.shapes.length,u=this.amount.v,c=this.miterLimit.v,l=this.lineJoin;if(0!==u)for(r=0;r<a;r+=1){if(o=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,i=s.shape.paths._length,n=0;n<i;n+=1)o.addShape(this.processPath(e[n],u,l,c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,n=127462,i=127487,s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function o(t,e){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=e;var n=createTag("span");n.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var i=n.offsetWidth;return n.style.fontFamily=function(t){var e,r=t.split(","),n=r.length,i=[];for(e=0;e<n;e+=1)"sans-serif"!==r[e]&&"monospace"!==r[e]&&i.push(r[e]);return i.join(",")}(t)+", "+e,{node:n,w:i,parent:r}}function a(t,e){var r,n=document.body&&e?"svg":"canvas",i=getFontProperties(t);if("svg"===n){var s=createNS("text");s.style.fontSize="100px",s.setAttribute("font-family",t.fFamily),s.setAttribute("font-style",i.style),s.setAttribute("font-weight",i.weight),s.textContent="1",t.fClass?(s.style.fontFamily="inherit",s.setAttribute("class",t.fClass)):s.style.fontFamily=t.fFamily,e.appendChild(s),r=s}else{var o=new OffscreenCanvas(500,500).getContext("2d");o.font=i.style+" "+i.weight+" 100px "+t.fFamily,r=o}return{measureText:function(t){return"svg"===n?(r.textContent=t,r.getComputedTextLength()):r.measureText(t).width}}}function u(t){var e=0,r=t.charCodeAt(0);if(r>=55296&&r<=56319){var n=t.charCodeAt(1);n>=56320&&n<=57343&&(e=1024*(r-55296)+n-56320+65536)}return e}function c(t){var e=u(t);return e>=n&&e<=i}var l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};l.isModifier=function(t,e){var r=t.toString(16)+e.toString(16);return-1!==s.indexOf(r)},l.isZeroWidthJoiner=function(t){return 8205===t},l.isFlagEmoji=function(t){return c(t.substr(0,2))&&c(t.substr(2,2))},l.isRegionalCode=c,l.isCombinedCharacter=function(t){return-1!==e.indexOf(t)},l.isRegionalFlag=function(t,e){var n=u(t.substr(e,2));if(n!==r)return!1;var i=0;for(e+=2;i<5;){if((n=u(t.substr(e,2)))<917601||n>917626)return!1;i+=1,e+=2}return 917631===u(t.substr(e,2))},l.isVariationSelector=function(t){return 65039===t},l.BLACK_FLAG_CODE_POINT=r;var h={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var r,n,i=t.length,s=this.chars.length;for(e=0;e<i;e+=1){for(r=0,n=!1;r<s;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(n=!0),r+=1;n||(this.chars.push(t[e]),s+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=a(t),t.cache={}})),void(this.fonts=t.list);var r,n=t.list,i=n.length,s=i;for(r=0;r<i;r+=1){var u,c,l=!0;if(n[r].loaded=!1,n[r].monoCase=o(n[r].fFamily,"monospace"),n[r].sansCase=o(n[r].fFamily,"sans-serif"),n[r].fPath){if("p"===n[r].fOrigin||3===n[r].origin){if((u=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[r].fFamily+'"], style[f-origin="3"][f-family="'+n[r].fFamily+'"]')).length>0&&(l=!1),l){var h=createTag("style");h.setAttribute("f-forigin",n[r].fOrigin),h.setAttribute("f-origin",n[r].origin),h.setAttribute("f-family",n[r].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+n[r].fFamily+"; font-style: normal; src: url('"+n[r].fPath+"');}",e.appendChild(h)}}else if("g"===n[r].fOrigin||1===n[r].origin){for(u=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<u.length;c+=1)-1!==u[c].href.indexOf(n[r].fPath)&&(l=!1);if(l){var f=createTag("link");f.setAttribute("f-forigin",n[r].fOrigin),f.setAttribute("f-origin",n[r].origin),f.type="text/css",f.rel="stylesheet",f.href=n[r].fPath,document.body.appendChild(f)}}else if("t"===n[r].fOrigin||2===n[r].origin){for(u=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<u.length;c+=1)n[r].fPath===u[c].src&&(l=!1);if(l){var d=createTag("link");d.setAttribute("f-forigin",n[r].fOrigin),d.setAttribute("f-origin",n[r].origin),d.setAttribute("rel","stylesheet"),d.setAttribute("href",n[r].fPath),e.appendChild(d)}}}else n[r].loaded=!0,s-=1;n[r].helper=a(n[r],e),n[r].cache={},this.fonts.push(n[r])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,r,n){for(var i=0,s=this.chars.length;i<s;){if(this.chars[i].ch===e&&this.chars[i].style===r&&this.chars[i].fFamily===n)return this.chars[i];i+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,r,n)),t},getFontByName:function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,r){var n=this.getFontByName(e),i=t;if(!n.cache[i]){var s=n.helper;if(" "===t){var o=s.measureText("|"+t+"|"),a=s.measureText("||");n.cache[i]=(o-a)/100}else n.cache[i]=s.measureText(t)/100}return n.cache[i]*r},checkLoadedFonts:function(){var t,e,r,n=this.fonts.length,i=n;for(t=0;t<n;t+=1)this.fonts[t].loaded?i-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,e.offsetWidth!==r?(i-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,e.offsetWidth!==r&&(i-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==i&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return l.prototype=h,l}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r,n=t.ef||[];this.effectElements=[];var i,s=n.length;for(r=0;r<s;r+=1)i=new GroupEffect(n[r],e),this.effectElements.push(i)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var r;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,i=this.data.ef.length,s=this.data.ef;for(r=0;r<i;r+=1){switch(n=null,s[r].ty){case 0:n=new SliderEffect(s[r],e,this);break;case 1:n=new AngleEffect(s[r],e,this);break;case 2:n=new ColorEffect(s[r],e,this);break;case 3:n=new PointEffect(s[r],e,this);break;case 4:case 7:n=new CheckboxEffect(s[r],e,this);break;case 10:n=new LayerIndexEffect(s[r],e,this);break;case 11:n=new MaskIndexEffect(s[r],e,this);break;case 5:n=new EffectsManager(s[r],e,this);break;default:n=new NoValueEffect(s[r],e,this)}n&&this.effectElements.push(n)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),r=t("effects"),n=t("shape"),i=t("text"),s=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var o=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(o),0===this.data.ty||this.data.xt?this.compInterface=s(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=i(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,r,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var r,n=t.length,i=this.layers.length;for(e=0;e<n;e+=1)for(r=0;r<i;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var n=this.elements,i=this.layers,s=0,o=i.length;s<o;)i[s].ind==e&&(n[s]&&!0!==n[s]?(r.push(n[s]),n[s].setAsParent(),void 0!==i[s].parent?this.buildElementParenting(t,i[s].parent,r):t.setHierarchy(r)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(t){var e,r=this.elements.length;for(e=0;e<r;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,r=t.shift();if("number"==typeof r)e=this.elements[r];else{var n,i=this.elements.length;for(n=0;n<i;n+=1)if(this.elements[n].data.nm===r){e=this.elements[n];break}}return 0===t.length?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,i,s=this.globalData.defs,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var a,u,c,l,h,f,d=this.masksProperties,p=0,m=[],g=createElementID(),y="clipPath",v="clip-path";for(n=0;n<o;n+=1)if(("a"!==d[n].mode&&"n"!==d[n].mode||d[n].inv||100!==d[n].o.k||d[n].o.x)&&(y="mask",v="mask"),"s"!==d[n].mode&&"i"!==d[n].mode||0!==p?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),i=createNS("path"),"n"===d[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,d[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[n],3),elem:i,lastPath:""},s.appendChild(i);else{var b;if(p+=1,i.setAttribute("fill","s"===d[n].mode?"#000000":"#ffffff"),i.setAttribute("clip-rule","nonzero"),0!==d[n].x.k?(y="mask",v="mask",f=PropertyFactory.getProp(this.element,d[n].x,0,null,this.element),b=createElementID(),(l=createNS("filter")).setAttribute("id",b),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),l.appendChild(h),s.appendChild(l),i.setAttribute("stroke","s"===d[n].mode?"#000000":"#ffffff")):(h=null,f=null),this.storedData[n]={elem:i,x:f,expan:h,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===d[n].mode){u=m.length;var w=createNS("g");for(a=0;a<u;a+=1)w.appendChild(m[a]);var _=createNS("mask");_.setAttribute("mask-type","alpha"),_.setAttribute("id",g+"_"+p),_.appendChild(i),s.appendChild(_),w.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+p+")"),m.length=0,m.push(w)}else m.push(i);d[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:i,lastPath:"",op:PropertyFactory.getProp(this.element,d[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(d[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(y),o=m.length,n=0;n<o;n+=1)this.maskElement.appendChild(m[n]);p>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(v,"url("+getLocationHref()+"#"+g+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<n;r+=1)e.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),t=1;t<e;t+=1){var n=this.localTransforms[t].matrix;r.multiply(n)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var i=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)i*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=i}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,r=t.length;for(e=0;e<r;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r,n=!0,i=this.comp;n;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):n=!1;var s,o=e.length;for(r=0;r<o;r+=1)s=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var n,i,s=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,n=1;n<i;n+=1)s+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[n][0]+","+e.i[n][1]+" "+e.v[n][0]+","+e.v[n][1];if(e.c&&i>1&&(s+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==s){var o="";r.elem&&(e.c&&(o=t.inv?this.solidPath+s:s),r.elem.setAttribute("d",o)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={createFilter:function(t,e){var r=createNS("filter");return r.setAttribute("id",t),!0!==e&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,r,n="SourceGraphic",i=t.data.ef?t.data.ef.length:0,s=createElementID(),o=filtersFactory.createFilter(s,!0),a=0;for(this.filters=[],e=0;e<i;e+=1){r=null;var u=t.data.ef[e].ty;registeredEffects$1[u]&&(r=new(0,registeredEffects$1[u].effect)(o,t.effectsManager.effectElements[e],t,idPrefix+a,n),n=idPrefix+a,registeredEffects$1[u].countsAsEffect&&(a+=1)),r&&this.filters.push(r)}a&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,r){registeredEffects$1[t]={effect:e,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,r=this.filters.length,n=[];for(e=0;e<r;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var r=createNS("clipPath"),n=createNS("path");n.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var i=createElementID();if(r.setAttribute("id",i),r.appendChild(n),this.globalData.defs.appendChild(r),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),s.appendChild(this.layerElement),this.transformedElement=s,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,r,n,i,s=this.layerId+"_"+t;if(1===t||3===t){var o=createNS("mask");o.setAttribute("id",s),o.setAttribute("mask-type",3===t?"luminance":"alpha"),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),o.appendChild(n),this.globalData.defs.appendChild(o),featureSupport.maskType||1!==t||(o.setAttribute("mask-type","luminance"),e=createElementID(),r=filtersFactory.createFilter(e),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(i=createNS("g")).appendChild(n),o.appendChild(i),i.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var a=createNS("mask");a.setAttribute("id",s),a.setAttribute("mask-type","alpha");var u=createNS("g");a.appendChild(u),e=createElementID(),r=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),c.appendChild(l),this.globalData.defs.appendChild(r);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),u.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),u.appendChild(h),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),u.appendChild(n),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),u.appendChild(h),i.appendChild(this.layerElement),u.appendChild(i)),this.globalData.defs.appendChild(a)}this.matteMasks[t]=s}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,n=e.length;r<n;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===t)return void(r[n].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var n=0,i=t.length;n<i;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,r,n){var i;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var s,o=e.length||0;for(i=0;i<o;i+=1)s=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=s.k||this.k,this.dataProps[i]={n:e[i].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGNoStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,n,i=4*this.data.p;for(e=0;e<i;e+=1)r=e%4==0?100:255,n=Math.round(this.prop.v[e]*r),this.c[e]!==n&&(this.c[e]=n,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)r=e%2==0?100:1,n=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),n=createNS(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var i,s,o,a=[];for(o=4*e.g.p,s=0;s<o;s+=4)i=createNS("stop"),n.appendChild(i),a.push(i);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,i,s=createNS("mask"),o=createNS("path");s.appendChild(o);var a=createElementID(),u=createElementID();s.setAttribute("id",u);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var l=this.stops;for(n=4*t.g.p;n<i;n+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),l.push(r);o.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===t.ty&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&o.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=s,this.ost=l,this.maskId=u,e.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,r,n){if(0===e)return"";var i,s=t.o,o=t.i,a=t.v,u=" M"+n.applyToPointStringified(a[0][0],a[0][1]);for(i=1;i<e;i+=1)u+=" C"+n.applyToPointStringified(s[i-1][0],s[i-1][1])+" "+n.applyToPointStringified(o[i][0],o[i][1])+" "+n.applyToPointStringified(a[i][0],a[i][1]);return r&&e&&(u+=" C"+n.applyToPointStringified(s[i-1][0],s[i-1][1])+" "+n.applyToPointStringified(o[0][0],o[0][1])+" "+n.applyToPointStringified(a[0][0],a[0][1]),u+="z"),u},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function n(){}function i(r,n,i){var s,o,a,u,c,l,h,f,d,p,m=n.styles.length,g=n.lvl;for(l=0;l<m;l+=1){if(u=n.sh._mdf||i,n.styles[l].lvl<g){for(f=e.reset(),d=g-n.styles[l].lvl,p=n.transformers.length-1;!u&&d>0;)u=n.transformers[p].mProps._mdf||u,d-=1,p-=1;if(u)for(d=g-n.styles[l].lvl,p=n.transformers.length-1;d>0;)f.multiply(n.transformers[p].mProps.v),d-=1,p-=1}else f=t;if(o=(h=n.sh.paths)._length,u){for(a="",s=0;s<o;s+=1)(c=h.shapes[s])&&c._length&&(a+=buildShapeString(c,c._length,c.c,f));n.caches[l]=a}else a=n.caches[l];n.styles[l].d+=!0===r.hd?"":a,n.styles[l]._mdf=u||n.styles[l]._mdf}}function s(t,e,r){var n=e.style;(e.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,r){a(t,e,r),u(0,e,r)}function a(t,e,r){var n,i,s,o,a,u=e.gf,c=e.g._hasOpacity,l=e.s.v,h=e.e.v;if(e.o._mdf||r){var f="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(f,e.o.v)}if(e.s._mdf||r){var d=1===t.t?"x1":"cx",p="x1"===d?"y1":"cy";u.setAttribute(d,l[0]),u.setAttribute(p,l[1]),c&&!e.g._collapsable&&(e.of.setAttribute(d,l[0]),e.of.setAttribute(p,l[1]))}if(e.g._cmdf||r){n=e.cst;var m=e.g.c;for(s=n.length,i=0;i<s;i+=1)(o=n[i]).setAttribute("offset",m[4*i]+"%"),o.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(c&&(e.g._omdf||r)){var g=e.g.o;for(s=(n=e.g._collapsable?e.cst:e.ost).length,i=0;i<s;i+=1)o=n[i],e.g._collapsable||o.setAttribute("offset",g[2*i]+"%"),o.setAttribute("stop-opacity",g[2*i+1])}if(1===t.t)(e.e._mdf||r)&&(u.setAttribute("x2",h[0]),u.setAttribute("y2",h[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",h[0]),e.of.setAttribute("y2",h[1])));else if((e.s._mdf||e.e._mdf||r)&&(a=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)),u.setAttribute("r",a),c&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.e._mdf||e.h._mdf||e.a._mdf||r){a||(a=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)));var y=Math.atan2(h[1]-l[1],h[0]-l[0]),v=e.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var b=a*v,w=Math.cos(y+e.a.v)*b+l[0],_=Math.sin(y+e.a.v)*b+l[1];u.setAttribute("fx",w),u.setAttribute("fy",_),c&&!e.g._collapsable&&(e.of.setAttribute("fx",w),e.of.setAttribute("fy",_))}}function u(t,e,r){var n=e.style,i=e.d;i&&(i._mdf||r)&&i.dashStr&&(n.pElem.setAttribute("stroke-dasharray",i.dashStr),n.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return s;case"gf":return a;case"gs":return o;case"st":return u;case"sh":case"el":case"rc":case"sr":return i;case"tr":return r;case"no":return n;default:return null}}}}();function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function LetterProps(t,e,r,n,i,s){this.o=t,this.sw=e,this.sc=r,this.fc=n,this.m=i,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,n,i=this.shapes.length,s=this.stylesList.length,o=[],a=!1;for(r=0;r<s;r+=1){for(n=this.stylesList[r],a=!1,o.length=0,t=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(n)&&(o.push(e),a=e._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,n=new SVGStyleData(t,e),i=n.pElem;return"st"===t.ty?r=new SVGStrokeStyleData(this,t,n):"fl"===t.ty?r=new SVGFillStyleData(this,t,n):"gf"===t.ty||"gs"===t.ty?(r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),i.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===t.ty&&(r=new SVGNoStyleData(this,t,n)),"st"!==t.ty&&"gs"!==t.ty||(i.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),n=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);var i=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,n,i,s,o){var a,u,c,l,h,f,d=[].concat(s),p=t.length-1,m=[],g=[];for(a=p;a>=0;a-=1){if((f=this.searchProcessedElement(t[a]))?e[a]=r[f-1]:t[a]._render=o,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty||"no"===t[a].ty)f?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],i),t[a]._render&&e[a].style.pElem.parentNode!==n&&n.appendChild(e[a].style.pElem),m.push(e[a].style);else if("gr"===t[a].ty){if(f)for(c=e[a].it.length,u=0;u<c;u+=1)e[a].prevViewData[u]=e[a].it[u];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,i+1,d,o),t[a]._render&&e[a].gr.parentNode!==n&&n.appendChild(e[a].gr)}else"tr"===t[a].ty?(f||(e[a]=this.createTransformElement(t[a],n)),l=e[a].transform,d.push(l)):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?(f||(e[a]=this.createShapeElement(t[a],d,i)),this.setElementStyles(e[a])):"tm"===t[a].ty||"rd"===t[a].ty||"ms"===t[a].ty||"pb"===t[a].ty||"zz"===t[a].ty||"op"===t[a].ty?(f?(h=e[a]).closed=!1:((h=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=h,this.shapeModifiers.push(h)),g.push(h)):"rp"===t[a].ty&&(f?(h=e[a]).closed=!0:(h=ShapeModifiers.getModifier(t[a].ty),e[a]=h,h.init(this,t,a,e),this.shapeModifiers.push(h),o=!1),g.push(h));this.addProcessedElement(t[a],a+1)}for(p=m.length,a=0;a<p;a+=1)m[a].closed=!0;for(p=g.length,a=0;a<p;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,r,n,i,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,o=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,o=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,o=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,o=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var i=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(n=0;n<i;n+=1)s=r!==this.keysIndex?this.effectsSequence[n](s,s.t):this.effectsSequence[n](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,n=t.length;r<=n-1&&!(r===n-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r,n=[],i=0,s=t.length,o=!1,a=!1,u="";i<s;)o=a,a=!1,e=t.charCodeAt(i),u=t.charAt(i),FontManager.isCombinedCharacter(e)?o=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,i)?u=t.substr(i,14):(r=t.charCodeAt(i+1))>=56320&&r<=57343&&(FontManager.isModifier(e,r)?(u=t.substr(i,2),o=!0):u=FontManager.isFlagEmoji(t.substr(i,4))?t.substr(i,4):t.substr(i,2)):e>56319?(r=t.charCodeAt(i+1),FontManager.isVariationSelector(e)&&(o=!0)):FontManager.isZeroWidthJoiner(e)&&(o=!0,a=!0),o?(n[n.length-1]+=u,o=!1):n.push(u),i+=u.length;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,n,i,s,o,a,u=this.elem.globalData.fontManager,c=this.data,l=[],h=0,f=c.m.g,d=0,p=0,m=0,g=[],y=0,v=0,b=u.getFontByName(t.f),w=0,_=getFontProperties(b);t.fWeight=_.weight,t.fStyle=_.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var E,S=t.tr/1e3*t.finalSize;if(t.sz)for(var x,M,k=!0,T=t.sz[0],A=t.sz[1];k;){x=0,y=0,r=(M=this.buildFinalText(t.t)).length,S=t.tr/1e3*t.finalSize;var C=-1;for(e=0;e<r;e+=1)E=M[e].charCodeAt(0),n=!1," "===M[e]?C=e:13!==E&&3!==E||(y=0,n=!0,x+=t.finalLineHeight||1.2*t.finalSize),u.chars?(a=u.getCharData(M[e],b.fStyle,b.fFamily),w=n?0:a.w*t.finalSize/100):w=u.measureText(M[e],t.f,t.finalSize),y+w>T&&" "!==M[e]?(-1===C?r+=1:e=C,x+=t.finalLineHeight||1.2*t.finalSize,M.splice(e,C===e?1:0,"\r"),C=-1,y=0):(y+=w,y+=S);x+=b.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&A<x?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=M,r=t.finalText.length,k=!1)}y=-S,w=0;var I,P=0;for(e=0;e<r;e+=1)if(n=!1,13===(E=(I=t.finalText[e]).charCodeAt(0))||3===E?(P=0,g.push(y),v=y>v?y:v,y=-2*S,i="",n=!0,m+=1):i=I,u.chars?(a=u.getCharData(I,b.fStyle,u.getFontByName(t.f).fFamily),w=n?0:a.w*t.finalSize/100):w=u.measureText(i,t.f,t.finalSize)," "===I?P+=w+S:(y+=w+S+P,P=0),l.push({l:w,an:w,add:d,n,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==f){if(d+=w,""===i||" "===i||e===r-1){for(""!==i&&" "!==i||(d-=w);p<=e;)l[p].an=d,l[p].ind=h,l[p].extra=w,p+=1;h+=1,d=0}}else if(3==f){if(d+=w,""===i||e===r-1){for(""===i&&(d-=w);p<=e;)l[p].an=d,l[p].ind=h,l[p].extra=w,p+=1;d=0,h+=1}}else l[h].ind=h,l[h].extra=0,h+=1;if(t.l=l,v=y>v?y:v,g.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var R,O,D,L,N=c.a;o=N.length;var F=[];for(s=0;s<o;s+=1){for((R=N[s]).a.sc&&(t.strokeColorAnim=!0),R.a.sw&&(t.strokeWidthAnim=!0),(R.a.fc||R.a.fh||R.a.fs||R.a.fb)&&(t.fillColorAnim=!0),L=0,D=R.s.b,e=0;e<r;e+=1)(O=l[e]).anIndexes[s]=L,(1==D&&""!==O.val||2==D&&""!==O.val&&" "!==O.val||3==D&&(O.n||" "==O.val||e==r-1)||4==D&&(O.n||e==r-1))&&(1===R.s.rn&&F.push(L),L+=1);c.a[s].s.totalChars=L;var B,j=-1;if(1===R.s.rn)for(e=0;e<r;e+=1)j!=(O=l[e]).anIndexes[s]&&(j=O.anIndexes[s],B=F.splice(Math.floor(Math.random()*F.length),1)[0]),O.anIndexes[s]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=b.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function n(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,s=0,o=1,a=1;this.ne.v>0?i=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:a=1+this.xe.v/100;var u=BezierFactory.getBezierEasing(i,s,o,a).get,c=0,l=this.finalS,h=this.finalE,f=this.data.sh;if(2===f)c=u(c=h===l?n>=h?1:0:t(0,e(.5/(h-l)+(n-l)/(h-l),1)));else if(3===f)c=u(c=h===l?n>=h?0:1:1-t(0,e(.5/(h-l)+(n-l)/(h-l),1)));else if(4===f)h===l?c=0:(c=t(0,e(.5/(h-l)+(n-l)/(h-l),1)))<.5?c*=2:c=1-2*(c-.5),c=u(c);else if(5===f){if(h===l)c=0;else{var d=h-l,p=-d/2+(n=e(t(0,n+.5-l),h-l)),m=d/2;c=Math.sqrt(1-p*p/(m*m))}c=u(c)}else 6===f?(h===l?c=0:(n=e(t(0,n+.5-l),h-l),c=(1+Math.cos(Math.PI+2*Math.PI*n/(h-l)))/2),c=u(c)):(n>=r(l)&&(c=t(0,e(n-l<0?e(h,1)-(l-n):h-n,1))),c=u(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,n=this.s.v/e+r,i=this.e.v/e+r;if(n>i){var s=n;n=i,i=s}this.finalS=n,this.finalE=i}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(t,e,r){return new n(t,e,r)}}}();function TextAnimatorDataProperty(t,e,r){var n={propType:!1},i=PropertyFactory.getProp,s=e.a;this.a={r:s.r?i(t,s.r,0,degToRads,r):n,rx:s.rx?i(t,s.rx,0,degToRads,r):n,ry:s.ry?i(t,s.ry,0,degToRads,r):n,sk:s.sk?i(t,s.sk,0,degToRads,r):n,sa:s.sa?i(t,s.sa,0,degToRads,r):n,s:s.s?i(t,s.s,1,.01,r):n,a:s.a?i(t,s.a,1,0,r):n,o:s.o?i(t,s.o,0,.01,r):n,p:s.p?i(t,s.p,1,0,r):n,sw:s.sw?i(t,s.sw,0,0,r):n,sc:s.sc?i(t,s.sc,1,0,r):n,fc:s.fc?i(t,s.fc,1,0,r):n,fh:s.fh?i(t,s.fh,0,0,r):n,fs:s.fs?i(t,s.fs,0,.01,r):n,fb:s.fb?i(t,s.fb,0,.01,r):n,t:s.t?i(t,s.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,i,s,o,a,u,c,l,h,f,d,p,m,g,y,v,b,w,_=this._moreOptions.alignment.v,E=this._animatorsData,S=this._textData,x=this.mHelper,M=this._renderType,k=this.renderedLetters.length,T=t.l;if(this._hasMaskedPath){if(w=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,C=w.v;for(this._pathData.r.v&&(C=C.reverse()),o={tLength:0,segments:[]},s=C._length-1,y=0,i=0;i<s;i+=1)A=bez.buildBezierData(C.v[i],C.v[i+1],[C.o[i][0]-C.v[i][0],C.o[i][1]-C.v[i][1]],[C.i[i+1][0]-C.v[i+1][0],C.i[i+1][1]-C.v[i+1][1]]),o.tLength+=A.segmentLength,o.segments.push(A),y+=A.segmentLength;i=s,w.v.c&&(A=bez.buildBezierData(C.v[i],C.v[0],[C.o[i][0]-C.v[i][0],C.o[i][1]-C.v[i][1]],[C.i[0][0]-C.v[0][0],C.i[0][1]-C.v[0][1]]),o.tLength+=A.segmentLength,o.segments.push(A),y+=A.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,a=this._pathData.f.v,f=0,h=1,c=0,l=!0,m=o.segments,a<0&&w.v.c)for(o.tLength<Math.abs(a)&&(a=-Math.abs(a)%o.tLength),h=(p=m[f=m.length-1].points).length-1;a<0;)a+=p[h].partialLength,(h-=1)<0&&(h=(p=m[f-=1].points).length-1);d=(p=m[f].points)[h-1],g=(u=p[h]).partialLength}s=T.length,r=0,n=0;var I,P,R,O,D,L=1.2*t.finalSize*.714,N=!0;R=E.length;var F,B,j,z,U,V,q,G,H,$,W,K,Y=-1,X=a,Q=f,J=h,Z=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,nt=0,it=2===t.j?-.5:-1,st=0,ot=!0;for(i=0;i<s;i+=1)if(T[i].n){for(rt&&(rt+=nt);st<i;)T[st].animatorJustifyOffset=rt,st+=1;rt=0,ot=!0}else{for(P=0;P<R;P+=1)(I=E[P].a).t.propType&&(ot&&2===t.j&&(nt+=I.t.v*it),(D=E[P].s.getMult(T[i].anIndexes[P],S.a[P].s.totalChars)).length?rt+=I.t.v*D[0]*it:rt+=I.t.v*D*it);ot=!1}for(rt&&(rt+=nt);st<i;)T[st].animatorJustifyOffset=rt,st+=1}for(i=0;i<s;i+=1){if(x.reset(),z=1,T[i].n)r=0,n+=t.yOffset,n+=N?1:0,a=X,N=!1,this._hasMaskedPath&&(h=J,d=(p=m[f=Q].points)[h-1],g=(u=p[h]).partialLength,c=0),tt="",W="",H="",K="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==T[i].line){switch(t.j){case 1:a+=y-t.lineWidths[T[i].line];break;case 2:a+=(y-t.lineWidths[T[i].line])/2}Z=T[i].line}Y!==T[i].ind&&(T[Y]&&(a+=T[Y].extra),a+=T[i].an/2,Y=T[i].ind),a+=_[0]*T[i].an*.005;var at=0;for(P=0;P<R;P+=1)(I=E[P].a).p.propType&&((D=E[P].s.getMult(T[i].anIndexes[P],S.a[P].s.totalChars)).length?at+=I.p.v[0]*D[0]:at+=I.p.v[0]*D),I.a.propType&&((D=E[P].s.getMult(T[i].anIndexes[P],S.a[P].s.totalChars)).length?at+=I.a.v[0]*D[0]:at+=I.a.v[0]*D);for(l=!0,this._pathData.a.v&&(a=.5*T[0].an+(y-this._pathData.f.v-.5*T[0].an-.5*T[T.length-1].an)*Y/(s-1),a+=this._pathData.f.v);l;)c+g>=a+at||!p?(v=(a+at-c)/u.partialLength,B=d.point[0]+(u.point[0]-d.point[0])*v,j=d.point[1]+(u.point[1]-d.point[1])*v,x.translate(-_[0]*T[i].an*.005,-_[1]*L*.01),l=!1):p&&(c+=u.partialLength,(h+=1)>=p.length&&(h=0,m[f+=1]?p=m[f].points:w.v.c?(h=0,p=m[f=0].points):(c-=u.partialLength,p=null)),p&&(d=u,g=(u=p[h]).partialLength));F=T[i].an/2-T[i].add,x.translate(-F,0,0)}else F=T[i].an/2-T[i].add,x.translate(-F,0,0),x.translate(-_[0]*T[i].an*.005,-_[1]*L*.01,0);for(P=0;P<R;P+=1)(I=E[P].a).t.propType&&(D=E[P].s.getMult(T[i].anIndexes[P],S.a[P].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?D.length?a+=I.t.v*D[0]:a+=I.t.v*D:D.length?r+=I.t.v*D[0]:r+=I.t.v*D));for(t.strokeWidthAnim&&(V=t.sw||0),t.strokeColorAnim&&(U=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(q=[t.fc[0],t.fc[1],t.fc[2]]),P=0;P<R;P+=1)(I=E[P].a).a.propType&&((D=E[P].s.getMult(T[i].anIndexes[P],S.a[P].s.totalChars)).length?x.translate(-I.a.v[0]*D[0],-I.a.v[1]*D[1],I.a.v[2]*D[2]):x.translate(-I.a.v[0]*D,-I.a.v[1]*D,I.a.v[2]*D));for(P=0;P<R;P+=1)(I=E[P].a).s.propType&&((D=E[P].s.getMult(T[i].anIndexes[P],S.a[P].s.totalChars)).length?x.scale(1+(I.s.v[0]-1)*D[0],1+(I.s.v[1]-1)*D[1],1):x.scale(1+(I.s.v[0]-1)*D,1+(I.s.v[1]-1)*D,1));for(P=0;P<R;P+=1){if(I=E[P].a,D=E[P].s.getMult(T[i].anIndexes[P],S.a[P].s.totalChars),I.sk.propType&&(D.length?x.skewFromAxis(-I.sk.v*D[0],I.sa.v*D[1]):x.skewFromAxis(-I.sk.v*D,I.sa.v*D)),I.r.propType&&(D.length?x.rotateZ(-I.r.v*D[2]):x.rotateZ(-I.r.v*D)),I.ry.propType&&(D.length?x.rotateY(I.ry.v*D[1]):x.rotateY(I.ry.v*D)),I.rx.propType&&(D.length?x.rotateX(I.rx.v*D[0]):x.rotateX(I.rx.v*D)),I.o.propType&&(D.length?z+=(I.o.v*D[0]-z)*D[0]:z+=(I.o.v*D-z)*D),t.strokeWidthAnim&&I.sw.propType&&(D.length?V+=I.sw.v*D[0]:V+=I.sw.v*D),t.strokeColorAnim&&I.sc.propType)for(G=0;G<3;G+=1)D.length?U[G]+=(I.sc.v[G]-U[G])*D[0]:U[G]+=(I.sc.v[G]-U[G])*D;if(t.fillColorAnim&&t.fc){if(I.fc.propType)for(G=0;G<3;G+=1)D.length?q[G]+=(I.fc.v[G]-q[G])*D[0]:q[G]+=(I.fc.v[G]-q[G])*D;I.fh.propType&&(q=D.length?addHueToRGB(q,I.fh.v*D[0]):addHueToRGB(q,I.fh.v*D)),I.fs.propType&&(q=D.length?addSaturationToRGB(q,I.fs.v*D[0]):addSaturationToRGB(q,I.fs.v*D)),I.fb.propType&&(q=D.length?addBrightnessToRGB(q,I.fb.v*D[0]):addBrightnessToRGB(q,I.fb.v*D))}}for(P=0;P<R;P+=1)(I=E[P].a).p.propType&&(D=E[P].s.getMult(T[i].anIndexes[P],S.a[P].s.totalChars),this._hasMaskedPath?D.length?x.translate(0,I.p.v[1]*D[0],-I.p.v[2]*D[1]):x.translate(0,I.p.v[1]*D,-I.p.v[2]*D):D.length?x.translate(I.p.v[0]*D[0],I.p.v[1]*D[1],-I.p.v[2]*D[2]):x.translate(I.p.v[0]*D,I.p.v[1]*D,-I.p.v[2]*D));if(t.strokeWidthAnim&&(H=V<0?0:V),t.strokeColorAnim&&($="rgb("+Math.round(255*U[0])+","+Math.round(255*U[1])+","+Math.round(255*U[2])+")"),t.fillColorAnim&&t.fc&&(W="rgb("+Math.round(255*q[0])+","+Math.round(255*q[1])+","+Math.round(255*q[2])+")"),this._hasMaskedPath){if(x.translate(0,-t.ls),x.translate(0,_[1]*L*.01+n,0),this._pathData.p.v){b=(u.point[1]-d.point[1])/(u.point[0]-d.point[0]);var ut=180*Math.atan(b)/Math.PI;u.point[0]<d.point[0]&&(ut+=180),x.rotate(-ut*Math.PI/180)}x.translate(B,j,0),a-=_[0]*T[i].an*.005,T[i+1]&&Y!==T[i+1].ind&&(a+=T[i].an/2,a+=.001*t.tr*t.finalSize)}else{switch(x.translate(r,n,0),t.ps&&x.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:x.translate(T[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[i].line]),0,0);break;case 2:x.translate(T[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[i].line])/2,0,0)}x.translate(0,-t.ls),x.translate(F,0,0),x.translate(_[0]*T[i].an*.005,_[1]*L*.01,0),r+=T[i].l+.001*t.tr*t.finalSize}"html"===M?tt=x.toCSS():"svg"===M?tt=x.to2dCSS():et=[x.props[0],x.props[1],x.props[2],x.props[3],x.props[4],x.props[5],x.props[6],x.props[7],x.props[8],x.props[9],x.props[10],x.props[11],x.props[12],x.props[13],x.props[14],x.props[15]],K=z}k<=i?(O=new LetterProps(K,H,$,W,tt,et),this.renderedLetters.push(O),k+=1,this.lettersChangedFlag=!0):(O=this.renderedLetters[i],this.lettersChangedFlag=O.update(K,H,$,W,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var r,n,i=e.length,s="";for(r=0;r<i;r+=1)"sh"===e[r].ty&&(n=e[r].ks.k,s+=buildShapeString(n,n.i.length,!0,t));return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,n,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(n,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function ISolidElement(t,e,r){this.initElement(t,e,r)}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var n=createNS("title"),i=createElementID();n.setAttribute("id",i),n.textContent=e.title,this.svgElement.appendChild(n),r+=i}if(e&&e.description){var s=createNS("desc"),o=createElementID();s.setAttribute("id",o),s.textContent=e.description,this.svgElement.appendChild(s),r+=" "+o}r&&this.svgElement.setAttribute("aria-labelledby",r);var a=createNS("defs");this.svgElement.appendChild(a);var u=createNS("g");this.svgElement.appendChild(u),this.layerElement=u,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,n=[],i="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(i),i=""):i+=t[e],e+=1;return n.push(i),n},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var n=r.it[r.it.length-1];n.s&&(n.s.k[0]=e,n.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var i=r.fWeight,s=r.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",r.t);var o,a=r.l||[],u=!!this.globalData.fontManager.chars;e=a.length;var c=this.mHelper,l=this.data.singleShape,h=0,f=0,d=!0,p=.001*r.tr*r.finalSize;if(!l||u||r.sz){var m,g=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!u||!l||0===t){if(o=g>t?this.textSpans[t].span:createNS(u?"g":"text"),g<=t){if(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=o,u){var y=createNS("g");o.appendChild(y),this.textSpans[t].childSpan=y}this.textSpans[t].span=o,this.layerElement.appendChild(o)}o.style.display="inherit"}if(c.reset(),l&&(a[t].n&&(h=-p,f+=r.yOffset,f+=d?1:0,d=!1),this.applyTextPropertiesToMatrix(r,c,a[t].line,h,f),h+=a[t].l||0,h+=p),u){var v;if(1===(m=this.globalData.fontManager.getCharData(r.finalText[t],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)v=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,r.finalSize)),v=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[t].glyph){var w=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(w.layerElement),w.destroy()}this.textSpans[t].glyph=v,v._debug=!0,v.prepareFrame(0),v.renderFrame(),this.textSpans[t].childSpan.appendChild(v.layerElement),1===m.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else l&&o.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),o.textContent=a[t].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}l&&o&&o.setAttribute("d","")}else{var _=this.textContainer,E="start";switch(r.j){case 1:E="end";break;case 2:E="middle";break;default:E="start"}_.setAttribute("text-anchor",E),_.setAttribute("letter-spacing",p);var S=this.buildTextContents(r.finalText);for(e=S.length,f=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(o=this.textSpans[t].span||createNS("tspan")).textContent=S[t],o.setAttribute("x",0),o.setAttribute("y",f),o.style.display="inherit",_.appendChild(o),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=o,f+=r.finalLineHeight;this.layerElement.appendChild(_)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<r;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,n,i,s=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n||(r=s[t],n=this.textSpans[t].span,(i=this.textSpans[t].glyph)&&i.renderFrame(),r._mdf.m&&n.setAttribute("transform",r.m),r._mdf.o&&n.setAttribute("opacity",r.o),r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r._mdf.sc&&n.setAttribute("stroke",r.sc),r._mdf.fc&&n.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var i=createElementID();r.setAttribute("id",i),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,r=this.layers.length;for(e=0;e<r;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);if(e[t]=r,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt){var n="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var i=e[n].getMatte(this.layers[t].tt);r.setMatte(i)}else this.buildItem(n),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){var n="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[n].getMatte(this.layers[e].tt);t.setMatte(i);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var n,i=0;i<e;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,n="_";for(e=0;e<r;e+=1)n+=t[e].transform.key+"_";var i=this.sequences[n];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){for(var r=0,n=t.transforms.length,i=e;r<n&&!e;){if(t.transforms[r].transform.mProps._mdf){i=!0;break}r+=1}if(i)for(t.finalTransform.reset(),r=n-1;r>=0;r-=1)t.finalTransform.multiply(t.transforms[r].transform.mProps.v);t._mdf=i},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,r=null,n=null;function i(){var i,s,o;e||(i=createNS("svg"),s=createNS("filter"),o=createNS("feColorMatrix"),s.setAttribute("id",t),o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),s.appendChild(o),i.appendChild(s),i.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(i.style.display="none"),n=i,document.body.appendChild(n),e=createTag("canvas"),(r=e.getContext("2d")).filter="url(#"+t+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}return{load:i,get:function(n){return e||i(),e.width=n.width,e.height=n.height,r.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var r=createTag("canvas");return r.width=t,r.height=e,r}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(t){var e,r,n=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<n;e+=1){r=null;var i=t.data.ef[e].ty;registeredEffects[i]&&(r=new(0,registeredEffects[i].effect)(t.effectsManager.effectElements[e],t)),r&&this.filters.push(r)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var r;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,i=!1;for(r=0;r<n;r+=1)"n"!==this.masksProperties[r].mode&&(i=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,r=this.filters.length,n=[];for(e=0;e<r;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,n,i=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),t=0;t<o;t+=1)if("n"!==this.masksProperties[t].mode){var a;this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),n=this.viewData[t].v,e=i.applyToPointArray(n.v[0][0],n.v[0][1],0),s.moveTo(e[0],e[1]);var u=n._length;for(a=1;a<u;a+=1)r=i.applyToTriplePoints(n.o[a-1],n.i[a],n.v[a]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=i.applyToTriplePoints(n.o[a-1],n.i[0],n.v[0]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i,s=4;"rc"===e.ty?s=5:"el"===e.ty?s=6:"sr"===e.ty&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,s,t);var o,a=r.length;for(i=0;i<a;i+=1)r[i].closed||(o={transforms:n.addTransformSequence(r[i].transforms),trNodes:[]},this.styledShapes.push(o),r[i].elements.push(o))}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,t.pe,0,0,this),t.ks.p.s?(this.px=n(this,t.ks.p.x,1,0,this),this.py=n(this,t.ks.p.y,1,0,this),this.pz=n(this,t.ks.p.z,1,0,this)):this.p=n(this,t.ks.p,1,0,this),t.ks.a&&(this.a=n(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,s=t.ks.or.k.length;for(i=0;i<s;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=n(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,t.ks.rx,0,degToRads,this),this.ry=n(this,t.ks.ry,0,degToRads,this),this.rz=n(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var r=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};if("fl"===t.ty||"st"===t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],1==t.lj&&(r.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(r.wi=n.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);n.d=i,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,n,i){var s,o,a,u,c,l,h=t.length-1,f=[],d=[],p=[].concat(i);for(s=h;s>=0;s-=1){if((u=this.searchProcessedElement(t[s]))?e[s]=r[u-1]:t[s]._shouldRender=n,"fl"===t[s].ty||"st"===t[s].ty||"gf"===t[s].ty||"gs"===t[s].ty)u?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],p),f.push(e[s].style);else if("gr"===t[s].ty){if(u)for(a=e[s].it.length,o=0;o<a;o+=1)e[s].prevViewData[o]=e[s].it[o];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,n,p)}else"tr"===t[s].ty?(u||(l=this.createTransformElement(t[s]),e[s]=l),p.push(e[s]),this.addTransformToStyleList(e[s])):"sh"===t[s].ty||"rc"===t[s].ty||"el"===t[s].ty||"sr"===t[s].ty?u||(e[s]=this.createShapeElement(t[s])):"tm"===t[s].ty||"rd"===t[s].ty||"pb"===t[s].ty||"zz"===t[s].ty||"op"===t[s].ty?(u?(c=e[s]).closed=!1:((c=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=c,this.shapeModifiers.push(c)),d.push(c)):"rp"===t[s].ty&&(u?(c=e[s]).closed=!0:(c=ShapeModifiers.getModifier(t[s].ty),e[s]=c,c.init(this,t,s,e),this.shapeModifiers.push(c),n=!1),d.push(c));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(f),h=d.length,s=0;s<h;s+=1)d[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,n,i,s,o,a,u,c=this.stylesList.length,l=this.globalData.renderer,h=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(("st"!==(a=(u=this.stylesList[t]).type)&&"gs"!==a||0!==u.wi)&&u.data._shouldRender&&0!==u.coOp&&0!==this.globalData.currentGlobalAlpha){for(l.save(),s=u.elements,"st"===a||"gs"===a?(l.ctxStrokeStyle("st"===a?u.co:u.grd),l.ctxLineWidth(u.wi),l.ctxLineCap(u.lc),l.ctxLineJoin(u.lj),l.ctxMiterLimit(u.ml||0)):l.ctxFillStyle("fl"===a?u.co:u.grd),l.ctxOpacity(u.coOp),"st"!==a&&"gs"!==a&&h.beginPath(),l.ctxTransform(u.preTransforms.finalTransform.props),r=s.length,e=0;e<r;e+=1){for("st"!==a&&"gs"!==a||(h.beginPath(),u.da&&(h.setLineDash(u.da),h.lineDashOffset=u.do)),i=(o=s[e].trNodes).length,n=0;n<i;n+=1)"m"===o[n].t?h.moveTo(o[n].p[0],o[n].p[1]):"c"===o[n].t?h.bezierCurveTo(o[n].pts[0],o[n].pts[1],o[n].pts[2],o[n].pts[3],o[n].pts[4],o[n].pts[5]):h.closePath();"st"!==a&&"gs"!==a||(l.ctxStroke(),u.da&&h.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&this.globalData.renderer.ctxFill(u.r),l.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,n){var i,s;for(s=t,i=e.length-1;i>=0;i-=1)"tr"===e[i].ty?(s=r[i].transform,this.renderShapeTransform(t,s)):"sh"===e[i].ty||"el"===e[i].ty||"rc"===e[i].ty||"sr"===e[i].ty?this.renderPath(e[i],r[i]):"fl"===e[i].ty?this.renderFill(e[i],r[i],s):"st"===e[i].ty?this.renderStroke(e[i],r[i],s):"gf"===e[i].ty||"gs"===e[i].ty?this.renderGradientFill(e[i],r[i],s):"gr"===e[i].ty?this.renderShape(s,e[i].it,r[i].it):e[i].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,n,i,s=t.trNodes,o=e.paths,a=o._length;s.length=0;var u=t.transforms.finalTransform;for(i=0;i<a;i+=1){var c=o.shapes[i];if(c&&c.v){for(n=c._length,r=1;r<n;r+=1)1===r&&s.push({t:"m",p:u.applyToPointArray(c.v[0][0],c.v[0][1],0)}),s.push({t:"c",pts:u.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===n&&s.push({t:"m",p:u.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(s.push({t:"c",pts:u.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),s.push({t:"z"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,n=e.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var n,i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var s,o=this.globalData.canvasContext,a=e.s.v,u=e.e.v;if(1===t.t)n=o.createLinearGradient(a[0],a[1],u[0],u[1]);else{var c=Math.sqrt(Math.pow(a[0]-u[0],2)+Math.pow(a[1]-u[1],2)),l=Math.atan2(u[1]-a[1],u[0]-a[0]),h=e.h.v;h>=1?h=.99:h<=-1&&(h=-.99);var f=c*h,d=Math.cos(l+e.a.v)*f+a[0],p=Math.sin(l+e.a.v)*f+a[1];n=o.createRadialGradient(d,p,0,a[0],a[1],c)}var m=t.g.p,g=e.g.c,y=1;for(s=0;s<m;s+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*s+1]),n.addColorStop(g[4*s]/100,"rgba("+g[4*s+1]+","+g[4*s+2]+","+g[4*s+3]+","+y+")");i.grd=n}i.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var n=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(n.da=i.dashArray,n.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var n,i,s,o,a,u,c,l,h,f,d,p,m=this.globalData.fontManager.getFontByName(t.f),g=t.l,y=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.finalText.length;var v=this.data.singleShape,b=.001*t.tr*t.finalSize,w=0,_=0,E=!0,S=0;for(n=0;n<i;n+=1){o=(s=this.globalData.fontManager.getCharData(t.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&s.data||{},y.reset(),v&&g[n].n&&(w=-b,_+=t.yOffset,_+=E?1:0,E=!1),h=(c=o.shapes?o.shapes[0].it:[]).length,y.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,y,g[n].line,w,_),d=createSizedArray(h-1);var x=0;for(l=0;l<h;l+=1)if("sh"===c[l].ty){for(u=c[l].ks.k.i.length,f=c[l].ks.k,p=[],a=1;a<u;a+=1)1===a&&p.push(y.applyToX(f.v[0][0],f.v[0][1],0),y.applyToY(f.v[0][0],f.v[0][1],0)),p.push(y.applyToX(f.o[a-1][0],f.o[a-1][1],0),y.applyToY(f.o[a-1][0],f.o[a-1][1],0),y.applyToX(f.i[a][0],f.i[a][1],0),y.applyToY(f.i[a][0],f.i[a][1],0),y.applyToX(f.v[a][0],f.v[a][1],0),y.applyToY(f.v[a][0],f.v[a][1],0));p.push(y.applyToX(f.o[a-1][0],f.o[a-1][1],0),y.applyToY(f.o[a-1][0],f.o[a-1][1],0),y.applyToX(f.i[0][0],f.i[0][1],0),y.applyToY(f.i[0][0],f.i[0][1],0),y.applyToX(f.v[0][0],f.v[0][1],0),y.applyToY(f.v[0][0],f.v[0][1],0)),d[x]=p,x+=1}v&&(w+=g[n].l,w+=b),this.textSpans[S]?this.textSpans[S].elem=d:this.textSpans[S]={elem:d},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,n,i,s;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var o,a=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;e=u.length;var c,l,h=null,f=null,d=null,p=this.globalData.renderer;for(t=0;t<e;t+=1)if(!u[t].n){if((o=a[t])&&(p.save(),p.ctxTransform(o.p),p.ctxOpacity(o.o)),this.fill){for(o&&o.fc?h!==o.fc&&(p.ctxFillStyle(o.fc),h=o.fc):h!==this.values.fill&&(h=this.values.fill,p.ctxFillStyle(this.values.fill)),n=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(s=(l=c[r]).length,this.globalData.canvasContext.moveTo(l[0],l[1]),i=2;i<s;i+=6)this.globalData.canvasContext.bezierCurveTo(l[i],l[i+1],l[i+2],l[i+3],l[i+4],l[i+5]);this.globalData.canvasContext.closePath(),p.ctxFill()}if(this.stroke){for(o&&o.sw?d!==o.sw&&(d=o.sw,p.ctxLineWidth(o.sw)):d!==this.values.sWidth&&(d=this.values.sWidth,p.ctxLineWidth(this.values.sWidth)),o&&o.sc?f!==o.sc&&(f=o.sc,p.ctxStrokeStyle(o.sc)):f!==this.values.stroke&&(f=this.values.stroke,p.ctxStrokeStyle(this.values.stroke)),n=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(s=(l=c[r]).length,this.globalData.canvasContext.moveTo(l[0],l[1]),i=2;i<s;i+=6)this.globalData.canvasContext.bezierCurveTo(l[i],l[i+1],l[i+2],l[i+3],l[i+4],l[i+5]);this.globalData.canvasContext.closePath(),p.ctxStroke()}o&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,n=t.getContext("2d"),i=this.img.width,s=this.img.height,o=i/s,a=this.assetData.w/this.assetData.h,u=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>a&&"xMidYMid slice"===u||o<a&&"xMidYMid slice"!==u?e=(r=s)*a:r=(e=i)/a,n.drawImage(this.img,(i-e)/2,(s-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,r,n){this.canvasContext.fillRect(t,e,r,n)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var r,n,i,s;if(this.reset(),t?(r=t,n=e,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var o=this.renderConfig.preserveAspectRatio.split(" "),a=o[1]||"meet",u=o[0]||"xMidYMid",c=u.substr(0,4),l=u.substr(4);i=r/n,(s=this.transformCanvas.w/this.transformCanvas.h)>i&&"meet"===a||s<i&&"slice"===a?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(s<i&&"meet"===a||s>i&&"slice"===a)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(s<i&&"meet"===a||s>i&&"slice"===a)?(r-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(s>i&&"meet"===a||s<i&&"slice"===a)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(s>i&&"meet"===a||s<i&&"slice"===a)?(n-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var r;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,r=this.stack[this.cArrPos],n=r.transform,i=this.cTr.props;for(e=0;e<16;e+=1)i[e]=n[e];if(t){this.nativeContext.restore();var s=this.stack[this.cArrPos+1];this.appliedFillStyle=s.fillStyle,this.appliedStrokeStyle=s.strokeStyle,this.appliedLineWidth=s.lineWidth,this.appliedLineCap=s.lineCap,this.appliedLineJoin=s.lineJoin,this.appliedMiterLimit=s.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(t||-1!==r.opacity&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r,n=this.stack[this.cArrPos];for(r=0;r<16;r+=1)n.transform[r]=e[r];this.cArrPos+=1;var i=this.stack[this.cArrPos];i.opacity=n.opacity,i.fillStyle=n.fillStyle,i.strokeStyle=n.strokeStyle,i.lineWidth=n.lineWidth,i.lineCap=n.lineCap,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var r=e.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,r,n){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,r,n)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,n,i,s,o,a=t.sh.v,u=t.transformers,c=a._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)n=this.getTransformedPoint(u,a.v[r]),i=this.getTransformedPoint(u,a.o[r]),s=this.getTransformedPoint(u,a.i[r+1]),o=this.getTransformedPoint(u,a.v[r+1]),this.checkBounds(n,i,s,o,e);a.c&&(n=this.getTransformedPoint(u,a.v[r]),i=this.getTransformedPoint(u,a.o[r]),s=this.getTransformedPoint(u,a.i[0]),o=this.getTransformedPoint(u,a.v[0]),this.checkBounds(n,i,s,o,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,n,i){this.getBoundsOfCurve(t,e,r,n);var s=this.shapeBoundingBox;i.x=bmMin(s.left,i.x),i.xMax=bmMax(s.right,i.xMax),i.y=bmMin(s.top,i.y),i.yMax=bmMax(s.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,n){for(var i,s,o,a,u,c,l,h=[[t[0],n[0]],[t[1],n[1]]],f=0;f<2;++f)s=6*t[f]-12*e[f]+6*r[f],i=-3*t[f]+9*e[f]-9*r[f]+3*n[f],o=3*e[f]-3*t[f],s|=0,o|=0,0==(i|=0)&&0===s||(0===i?(a=-o/s)>0&&a<1&&h[f].push(this.calculateF(a,t,e,r,n,f)):(u=s*s-4*o*i)>=0&&((c=(-s+bmSqrt(u))/(2*i))>0&&c<1&&h[f].push(this.calculateF(c,t,e,r,n,f)),(l=(-s-bmSqrt(u))/(2*i))>0&&l<1&&h[f].push(this.calculateF(l,t,e,r,n,f))));this.shapeBoundingBox.left=bmMin.apply(null,h[0]),this.shapeBoundingBox.top=bmMin.apply(null,h[1]),this.shapeBoundingBox.right=bmMax.apply(null,h[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,h[1])},HShapeElement.prototype.calculateF=function(t,e,r,n,i,s){return bmPow(1-t,3)*e[s]+3*bmPow(1-t,2)*t*r[s]+3*(1-t)*bmPow(t,2)*n[s]+bmPow(t,3)*i[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,e):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var r=0;if(t.keyframes){for(var n=0;n<t.keyframes.length;n+=1){var i=t.keyframes[n].s;i>r&&(r=i)}r*=t.mult}else r=t.v*t.mult;e.x-=r,e.xMax+=r,e.y-=r,e.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=i,n.webkitTransform=i}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n,i,s=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{e.fontFamily=s.fFamily;var o=t.fWeight,a=t.fStyle;e.fontStyle=a,e.fontWeight=o}var u,c,l,h=t.l;i=h.length;var f,d=this.mHelper,p="",m=0;for(n=0;n<i;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?u=this.textPaths[m]:((u=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),u.setAttribute("stroke-linejoin",lineJoinEnum[2]),u.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?l=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(l=createNS("svg")).appendChild(u),styleDiv(c)))):this.isMasked?u=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],u=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(u=createTag("span")),c.appendChild(u)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(t.finalText[n],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(g=y?y.data:null,d.reset(),g&&g.shapes&&g.shapes.length&&(f=g.shapes[0].it,d.scale(t.finalSize/100,t.finalSize/100),p=this.createPathShape(d,f),u.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(u);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(l);var v=l.getBBox();l.setAttribute("width",v.width+2),l.setAttribute("height",v.height+2),l.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2));var b=l.style,w="translate("+(v.x-1)+"px,"+(v.y-1)+"px)";b.transform=w,b.webkitTransform=w,h[n].yOffset=v.y-1}else l.setAttribute("width",1),l.setAttribute("height",1);c.appendChild(l)}}else if(u.textContent=h[n].val,u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(u);else{this.innerElem.appendChild(c);var _=u.style,E="translate3d(0,"+-t.finalSize/1.2+"px,0)";_.transform=E,_.webkitTransform=E}this.isMasked?this.textSpans[m]=u:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=u,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,n,i,s,o,a=0,u=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(n=c.length,r=0;r<n;r+=1)c[r].n?a+=1:(s=this.textSpans[r],o=this.textPaths[r],i=u[a],a+=1,i._mdf.m&&(this.isMasked?s.setAttribute("transform",i.m):(s.style.webkitTransform=i.m,s.style.transform=i.m)),s.style.opacity=i.o,i.sw&&i._mdf.sw&&o.setAttribute("stroke-width",i.sw),i.sc&&i._mdf.sc&&o.setAttribute("stroke",i.sc),i.fc&&i._mdf.fc&&(o.setAttribute("fill",i.fc),o.style.color=i.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var l=this.innerElem.getBBox();if(this.currentBBox.w!==l.width&&(this.currentBBox.w=l.width,this.svgElement.setAttribute("width",l.width)),this.currentBBox.h!==l.height&&(this.currentBBox.h=l.height,this.svgElement.setAttribute("height",l.height)),this.currentBBox.w!==l.width+2||this.currentBBox.h!==l.height+2||this.currentBBox.x!==l.x-1||this.currentBBox.y!==l.y-1){this.currentBBox.w=l.width+2,this.currentBBox.h=l.height+2,this.currentBBox.x=l.x-1,this.currentBBox.y=l.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var h="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=h,t.webkitTransform=h}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r,n,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){r=e.perspectiveElem.style,n=e.container.style;var s=this.pe.v+"px",o="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=s,r.webkitPerspective=s,n.transformOrigin=o,n.mozTransformOrigin=o,n.webkitTransformOrigin=o,r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var n=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),o=[i[0]/s,i[1]/s,i[2]/s],a=Math.sqrt(o[2]*o[2]+o[0]*o[0]),u=Math.atan2(o[1],a),c=Math.atan2(o[0],-o[2]);this.mat.rotateY(c).rotateX(-u)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var l=!this._prevMat.equals(this.mat);if((l||this.pe._mdf)&&this.comp.threeDElements){var h,f,d;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(h=this.comp.threeDElements[t]).type){if(l){var p=this.mat.toCSS();(d=h.container.style).transform=p,d.webkitTransform=p}this.pe._mdf&&((f=h.perspectiveElem.style).perspective=this.pe.v+"px",f.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var n=this.layers[e];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var i,s,o=0;o<e;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(s=this.elements[o],i=(this.layers[o].ddd?this.getThreeDContainerByPos(o):s.getBaseElement())||i),o+=1;i?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,i):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var r,n,i=createTag("div");styleDiv(i);var s=createTag("div");if(styleDiv(s),"3d"===e){(r=i.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var o="50% 50%";r.webkitTransformOrigin=o,r.mozTransformOrigin=o,r.transformOrigin=o;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=s.style).transform=a,n.webkitTransform=a}i.appendChild(s);var u={container:s,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(u),u},HybridRendererBase.prototype.build3dContainers=function(){var t,e,r=this.layers.length,n="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==n&&(n="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==n&&(n="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var r=0,n=this.threeDElements.length;r<n;){if(e<=this.threeDElements[r].endPos){for(var i,s=this.threeDElements[r].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(i=this.elements[s].getBaseElement()),s+=1;i?this.threeDElements[r].container.insertBefore(t,i):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,n=e.style;n.width=t.w+"px",n.height=t.h+"px",this.resizerElem=e,styleDiv(e),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),n.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var s=createNS("defs");i.appendChild(s),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=s,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,r,n,i=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,o=i/s;this.globalData.compSize.w/this.globalData.compSize.h>o?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,r=0,n=(s-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,r=(i-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,n=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+n+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,n=this.threeDElements.length;for(t=0;t<n;t+=1){var i=this.threeDElements[t].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px",i.perspective=i.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,r=t.length,n=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var i=this.createComp(t[e],n,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,n=0;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(e){for(var r=0,n=t.layers.length;r<n;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(t)}function seedRandom(t,e){var r,n=this,i=256,s="random",o=e.pow(i,6),a=e.pow(2,52),u=2*a,c=i-1;function l(t){var e,r=t.length,n=this,s=0,o=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);s<i;)a[s]=s++;for(s=0;s<i;s++)a[s]=a[o=c&o+t[s%r]+(e=a[s])],a[o]=e;n.g=function(t){for(var e,r=0,s=n.i,o=n.j,a=n.S;t--;)e=a[s=c&s+1],r=r*i+a[c&(a[s]=a[o=c&o+e])+(a[o]=e)];return n.i=s,n.j=o,r}}function h(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function f(t,e){var r,n=[],i=_typeof$2(t);if(e&&"object"==i)for(r in t)try{n.push(f(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function d(t,e){for(var r,n=t+"",i=0;i<n.length;)e[c&i]=c&(r^=19*e[c&i])+n.charCodeAt(i++);return p(e)}function p(t){return String.fromCharCode.apply(0,t)}e["seed"+s]=function(c,m,g){var y=[],v=d(f((m=!0===m?{entropy:!0}:m||{}).entropy?[c,p(t)]:null===c?function(){try{if(r)return p(r.randomBytes(i));var e=new Uint8Array(i);return(n.crypto||n.msCrypto).getRandomValues(e),p(e)}catch(e){var s=n.navigator,o=s&&s.plugins;return[+new Date,n,o,n.screen,p(t)]}}():c,3),y),b=new l(y),w=function(){for(var t=b.g(6),e=o,r=0;t<a;)t=(t+r)*i,e*=i,r=b.g(1);for(;t>=u;)t/=2,e/=2,r>>>=1;return(t+r)/e};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,d(p(b.S),t),(m.pass||g||function(t,r,n,i){return i&&(i.S&&h(i,b),t.state=function(){return h(b,{})}),n?(e[s]=t,r):t})(w,v,"global"in m?m.global:this==e,m.state)},d(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var r,n=t.length,i=[];for(r=0;r<n;r+=1)i[r]=-t[r];return i}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=_typeof$1(t),n=_typeof$1(e);if(isNumerable(r,t)&&isNumerable(n,e)||"string"===r||"string"===n)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,s=t.length,o=e.length,a=[];i<s||i<o;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?a[i]=t[i]+e[i]:a[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return a}return 0}var add=sum;function sub(t,e){var r=_typeof$1(t),n=_typeof$1(e);if(isNumerable(r,t)&&isNumerable(n,e))return"string"===r&&(t=parseInt(t,10)),"string"===n&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,s=t.length,o=e.length,a=[];i<s||i<o;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?a[i]=t[i]-e[i]:a[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return a}return 0}function mul(t,e){var r,n,i,s=_typeof$1(t),o=_typeof$1(e);if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t[n]*e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t*e[n];return r}return 0}function div(t,e){var r,n,i,s=_typeof$1(t),o=_typeof$1(e);if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t[n]/e;return r}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t/e[n];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var n=r;r=e,e=n}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var r;e||(e=helperLengthArray);var n=Math.min(t.length,e.length),i=0;for(r=0;r<n;r+=1)i+=Math.pow(e[r]-t[r],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,n=t[0],i=t[1],s=t[2],o=Math.max(n,i,s),a=Math.min(n,i,s),u=(o+a)/2;if(o===a)e=0,r=0;else{var c=o-a;switch(r=u>.5?c/(2-o-a):c/(o+a),o){case n:e=(i-s)/c+(i<s?6:0);break;case i:e=(s-n)/c+2;break;case s:e=(n-i)/c+4}e/=6}return[e,r,u,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,n,i=t[0],s=t[1],o=t[2];if(0===s)e=o,n=o,r=o;else{var a=o<.5?o*(1+s):o+s-o*s,u=2*o-a;e=hue2rgb(u,a,i+1/3),r=hue2rgb(u,a,i),n=hue2rgb(u,a,i-1/3)}return[e,r,n,t[3]]}function linear(t,e,r,n,i){if(void 0!==n&&void 0!==i||(n=e,i=r,e=0,r=1),r<e){var s=r;r=e,e=s}if(t<=e)return n;if(t>=r)return i;var o,a=r===e?0:(t-e)/(r-e);if(!n.length)return n+(i-n)*a;var u=n.length,c=createTypedArray("float32",u);for(o=0;o<u;o+=1)c[o]=n[o]+(i[o]-n[o])*a;return c}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,n=e.length;t||(t=createTypedArray("float32",n));var i=createTypedArray("float32",n),s=BMMath.random();for(r=0;r<n;r+=1)i[r]=t[r]+s*(e[r]-t[r]);return i}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,n){var i,s=t.length,o=shapePool.newElement();o.setPathData(!!n,s);var a,u,c=[0,0];for(i=0;i<s;i+=1)a=e&&e[i]?e[i]:c,u=r&&r[i]?r[i]:c,o.setTripleAt(t[i][0],t[i][1],u[0]+t[i][0],u[1]+t[i][1],a[0]+t[i][0],a[1]+t[i][1],i,!0);return o}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,n,i=this.pv.length?this.pv.length:1,s=createTypedArray("float32",i),o=Math.floor(5*time);for(r=0,n=0;r<o;){for(n=0;n<i;n+=1)s[n]+=-e+2*e*BMMath.random();r+=1}var a=5*time,u=a-Math.floor(a),c=createTypedArray("float32",i);if(i>1){for(n=0;n<i;n+=1)c[n]=this.pv[n]+s[n]+(-e+2*e*BMMath.random())*u;return c}return this.pv+s[0]+(-e+2*e*BMMath.random())*u}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(t,e,r,n,i){return applyEase(easeOutBez,t,e,r,n,i)}function easeIn(t,e,r,n,i){return applyEase(easeInBez,t,e,r,n,i)}function ease(t,e,r,n,i){return applyEase(easeInOutBez,t,e,r,n,i)}function applyEase(t,e,r,n,i,s){void 0===i?(i=r,s=n):e=(e-r)/(n-r),e>1?e=1:e<0&&(e=0);var o=t(e);if($bm_isInstanceOfArray(i)){var a,u=i.length,c=createTypedArray("float32",u);for(a=0;a<u;a+=1)c[a]=(s[a]-i[a])*o+i[a];return c}return(s-i)*o+i}function nearestKey(t){var e,r,n,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(e=0;e<i-1;e+=1){if(t===data.k[e].t){r=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,n=data.k[e+1].t):(r=e+1,n=data.k[e].t);break}}-1===r&&(r=e+1,n=data.k[e].t)}else r=0,n=0;var s={};return s.index=r,s.time=n/elem.comp.globalData.frameRate,s}function key(t){var e,r,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(n=i.length,r=0;r<n;r+=1)e[r]=i[r],e.value[r]=i[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={initExpressions:function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}}};return t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var r,n=createSizedArray(e.viewData.length),i=e.viewData.length;for(r=0;r<i;r+=1)n[r]=new t(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<i;){if(e.masksProperties[r].nm===t)return n[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(n){if(!t.numKeys)return 0;var i="";i="s"in e.keyframes[n-1]?e.keyframes[n-1].s:"e"in e.keyframes[n-2]?e.keyframes[n-2].e:e.keyframes[n-2].s;var s="unidimensional"===r?new Number(i):Object.assign({},i);return s.time=e.keyframes[n-1].t/e.elem.comp.globalData.frameRate,s.value="unidimensional"===r?i[0]:i,s},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function n(){return t}return function(i){return i?"unidimensional"===i.propType?function(e){e&&"pv"in e||(e=t);var n=1/e.mult,i=e.pv*n,s=new Number(i);return s.value=i,r(s,e,"unidimensional"),function(){return e.k&&e.getValue(),i=e.v*n,s.value!==i&&((s=new Number(i)).value=i,r(s,e,"unidimensional")),s}}(i):function(t){t&&"pv"in t||(t=e);var n=1/t.mult,i=t.data&&t.data.l||t.pv.length,s=createTypedArray("float32",i),o=createTypedArray("float32",i);return s.value=o,r(s,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)o[e]=t.v[e]*n,s[e]=o[e];return s}}(i):n}}(),TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var r,n,i,s;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?s=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),n=ExpressionPropertyInterface(t.py),t.pz&&(i=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?s():[r(),n(),i?i():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,t)}function r(t,e){var r=this.getMatrix(e);return this.applyPoint(r,t)}function n(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,t)}function i(t,e){var r=this.getMatrix(e);return this.invertPoint(r,t)}function s(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function o(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function a(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function u(){return[1,1,1,1]}return function(c){var l;function h(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return h.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return l;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return h.effect;case"ADBE Text Properties":return h.textInterface;default:return null}}h.getMatrix=t,h.invertPoint=o,h.applyPoint=s,h.toWorld=r,h.toWorldVec=e,h.fromWorld=i,h.fromWorldVec=n,h.toComp=r,h.fromComp=a,h.sampleImage=u,h.sourceRectAtTime=c.sourceRectAtTime.bind(c),h._elem=c;var f=getDescriptor(l=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(h,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(l,"rotation"),scale:getDescriptor(l,"scale"),position:getDescriptor(l,"position"),opacity:getDescriptor(l,"opacity"),anchorPoint:f,anchor_point:f,transform:{get:function(){return l}},active:{get:function(){return c.isInRange}}}),h.startTime=c.data.st,h.index=c.data.ind,h.source=c.data.refId,h.height=0===c.data.ty?c.data.h:100,h.width=0===c.data.ty?c.data.w:100,h.inPoint=c.data.ip/c.comp.globalData.frameRate,h.outPoint=c.data.op/c.comp.globalData.frameRate,h._name=c.data.nm,h.registerMaskInterface=function(t){h.mask=new MaskManagerInterface(t,c)},h.registerEffectsInterface=function(t){h.effect=t},h}}(),propertyGroupFactory=function(t,e){return function(r){return(r=void 0===r?1:r)<=0?t:e(r-1)}},PropertyInterface=function(t,e){var r={_name:t};return function(t){return(t=void 0===t?1:t)<=0?r:e(t-1)}},EffectsExpressionInterface=function(){function t(r,n,i,s){function o(t){for(var e=r.ef,n=0,i=e.length;n<i;){if(t===e[n].nm||t===e[n].mn||t===e[n].ix)return 5===e[n].ty?c[n]:c[n]();n+=1}throw new Error}var a,u=propertyGroupFactory(o,i),c=[],l=r.ef.length;for(a=0;a<l;a+=1)5===r.ef[a].ty?c.push(t(r.ef[a],n.effectElements[a],n.effectElements[a].propertyGroup,s)):c.push(e(n.effectElements[a],r.ef[a].ty,s,u));return"ADBE Color Control"===r.mn&&Object.defineProperty(o,"color",{get:function(){return c[0]()}}),Object.defineProperties(o,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:u}}),o.enabled=0!==r.en,o.active=o.enabled,o}function e(t,e,r,n){var i=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===e?r.comp.compInterface(t.p.v):i()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var n,i=[],s=e.data.ef,o=e.effectsManager.effectElements.length;for(n=0;n<o;n+=1)i.push(t(s[n],e.effectsManager.effectElements[n],r,e));var a=e.data.ef||[],u=function(t){for(n=0,o=a.length;n<o;){if(t===a[n].nm||t===a[n].mn||t===a[n].ix)return i[n];n+=1}return null};return Object.defineProperty(u,"numProperties",{get:function(){return a.length}}),u}return null}}}(),ShapePathInterface=function(t,e,r){var n=e.sh;function i(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?i.path:null}var s=propertyGroupFactory(i,r);return n.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(i,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),i},ShapeExpressionInterface=function(){function t(t,o,f){var d,p=[],m=t?t.length:0;for(d=0;d<m;d+=1)"gr"===t[d].ty?p.push(e(t[d],o[d],f)):"fl"===t[d].ty?p.push(r(t[d],o[d],f)):"st"===t[d].ty?p.push(i(t[d],o[d],f)):"tm"===t[d].ty?p.push(s(t[d],o[d],f)):"tr"===t[d].ty||("el"===t[d].ty?p.push(a(t[d],o[d],f)):"sr"===t[d].ty?p.push(u(t[d],o[d],f)):"sh"===t[d].ty?p.push(ShapePathInterface(t[d],o[d],f)):"rc"===t[d].ty?p.push(c(t[d],o[d],f)):"rd"===t[d].ty?p.push(l(t[d],o[d],f)):"rp"===t[d].ty?p.push(h(t[d],o[d],f)):"gf"===t[d].ty?p.push(n(t[d],o[d],f)):p.push((t[d],o[d],function(){return null})));return p}function e(e,r,n){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=propertyGroupFactory(i,n);var s=function(e,r,n){var i,s=function(t){for(var e=0,r=i.length;e<r;){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}return"number"==typeof t?i[t-1]:null};s.propertyGroup=propertyGroupFactory(s,n),i=t(e.it,r.it,s.propertyGroup),s.numProperties=i.length;var a=o(e.it[e.it.length-1],r.it[r.it.length-1],s.propertyGroup);return s.transform=a,s.propertyIndex=e.cix,s._name=e.nm,s}(e,r,i.propertyGroup),a=o(e.it[e.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.content=s,i.transform=a,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i}function r(t,e,r){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function n(t,e,r){function n(t){return"Start Point"===t||"start point"===t?n.startPoint:"End Point"===t||"end point"===t?n.endPoint:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",r)),e.e.setGroupProperty(PropertyInterface("End Point",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function i(t,e,r){var n,i=propertyGroupFactory(c,r),s=propertyGroupFactory(u,i);function o(r){Object.defineProperty(u,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var a=t.d?t.d.length:0,u={};for(n=0;n<a;n+=1)o(n),e.d.dataProps[n].p.setGroupProperty(s);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return u}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),e.w.setGroupProperty(PropertyInterface("Stroke Width",i)),c}function s(t,e,r){function n(e){return e===t.e.ix||"End"===e||"end"===e?n.end:e===t.s.ix?n.start:e===t.o.ix?n.offset:null}var i=propertyGroupFactory(n,r);return n.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",i)),e.e.setGroupProperty(PropertyInterface("End",i)),e.o.setGroupProperty(PropertyInterface("Offset",i)),n.propertyIndex=t.ix,n.propertyGroup=r,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),n.mn=t.mn,n}function o(t,e,r){function n(e){return t.a.ix===e||"Anchor Point"===e?n.anchorPoint:t.o.ix===e||"Opacity"===e?n.opacity:t.p.ix===e||"Position"===e?n.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?n.rotation:t.s.ix===e||"Scale"===e?n.scale:t.sk&&t.sk.ix===e||"Skew"===e?n.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?n.skewAxis:null}var i=propertyGroupFactory(n,r);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",i)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",i)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",i)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",i)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",i)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",i)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",i))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",i)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),n.ty="tr",n.mn=t.mn,n.propertyGroup=r,n}function a(t,e,r){function n(e){return t.p.ix===e?n.position:t.s.ix===e?n.size:null}var i=propertyGroupFactory(n,r);n.propertyIndex=t.ix;var s="tm"===e.sh.ty?e.sh.prop:e.sh;return s.s.setGroupProperty(PropertyInterface("Size",i)),s.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:t.nm}}),n.mn=t.mn,n}function u(t,e,r){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.rotation:t.pt.ix===e?n.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?n.outerRadius:t.os.ix===e?n.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?n.innerRoundness:null:n.innerRadius}var i=propertyGroupFactory(n,r),s="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,s.or.setGroupProperty(PropertyInterface("Outer Radius",i)),s.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),s.pt.setGroupProperty(PropertyInterface("Points",i)),s.p.setGroupProperty(PropertyInterface("Position",i)),s.r.setGroupProperty(PropertyInterface("Rotation",i)),t.ir&&(s.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),s.is.setGroupProperty(PropertyInterface("Inner Roundness",i))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:t.nm}}),n.mn=t.mn,n}function c(t,e,r){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?n.size:null}var i=propertyGroupFactory(n,r),s="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,s.p.setGroupProperty(PropertyInterface("Position",i)),s.s.setGroupProperty(PropertyInterface("Size",i)),s.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:t.nm}}),n.mn=t.mn,n}function l(t,e,r){function n(e){return t.r.ix===e||"Round Corners 1"===e?n.radius:null}var i=propertyGroupFactory(n,r),s=e;return n.propertyIndex=t.ix,s.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:t.nm}}),n.mn=t.mn,n}function h(t,e,r){function n(e){return t.c.ix===e||"Copies"===e?n.copies:t.o.ix===e||"Offset"===e?n.offset:null}var i=propertyGroupFactory(n,r),s=e;return n.propertyIndex=t.ix,s.c.setGroupProperty(PropertyInterface("Copies",i)),s.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:t.nm}}),n.mn=t.mn,n}return function(e,r,n){var i;function s(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?n:i[t-1];for(var e=0,r=i.length;e<r;){if(i[e]._name===t)return i[e];e+=1}return null}return s.propertyGroup=propertyGroupFactory(s,(function(){return n})),i=t(e,r,s.propertyGroup),s.numProperties=i.length,s._name="Contents",s}}(),TextExpressionInterface=function(t){var e;function r(t){return"ADBE Text Document"===t?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return e&&r===e.value||((e=new String(r)).value=r||new String(r),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),r};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",r=t.getFootageData();function n(t){if(r[t])return e=t,"object"===_typeof(r=r[t])?n:r;var i=t.indexOf(e);if(-1!==i){var s=parseInt(t.substr(i+e.length),10);return"object"===_typeof(r=r[s])?n:r}return""}return function(){return e="",r=t.getFootageData(),n}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),n=0;if(e.length){var i;for(i=0;i<e.length;i+=1)n+=Math.pow(r[i]-e[i],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,n=-.001,i=this.getValueAtTime(t),s=this.getValueAtTime(t+n);if(i.length)for(e=createTypedArray("float32",i.length),r=0;r<i.length;r+=1)e[r]=(s[r]-i[r])/n;else e=(s-i)/n;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,i,s,o,a,u=this.comp.renderedFrame,c=this.keyframes,l=c[c.length-1].t;if(u<=l)return this.pv;if(r?i=l-(n=e?Math.abs(l-this.elem.comp.globalData.frameRate*e):Math.max(0,l-this.elem.data.ip)):((!e||e>c.length-1)&&(e=c.length-1),n=l-(i=c[c.length-1-e].t)),"pingpong"===t){if(Math.floor((u-i)/n)%2!=0)return this.getValueAtTime((n-(u-i)%n+i)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(i/this.comp.globalData.frameRate,0),f=this.getValueAtTime(l/this.comp.globalData.frameRate,0),d=this.getValueAtTime(((u-i)%n+i)/this.comp.globalData.frameRate,0),p=Math.floor((u-i)/n);if(this.pv.length){for(o=(a=new Array(h.length)).length,s=0;s<o;s+=1)a[s]=(f[s]-h[s])*p+d[s];return a}return(f-h)*p+d}if("continue"===t){var m=this.getValueAtTime(l/this.comp.globalData.frameRate,0),g=this.getValueAtTime((l-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-g[s])*((u-l)/this.comp.globalData.frameRate)/5e-4;return a}return m+(u-l)/.001*(m-g)}}return this.getValueAtTime(((u-i)%n+i)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,i,s,o,a,u=this.comp.renderedFrame,c=this.keyframes,l=c[0].t;if(u>=l)return this.pv;if(r?i=l+(n=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-l)):((!e||e>c.length-1)&&(e=c.length-1),n=(i=c[e].t)-l),"pingpong"===t){if(Math.floor((l-u)/n)%2==0)return this.getValueAtTime(((l-u)%n+l)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(l/this.comp.globalData.frameRate,0),f=this.getValueAtTime(i/this.comp.globalData.frameRate,0),d=this.getValueAtTime((n-(l-u)%n+l)/this.comp.globalData.frameRate,0),p=Math.floor((l-u)/n)+1;if(this.pv.length){for(o=(a=new Array(h.length)).length,s=0;s<o;s+=1)a[s]=d[s]-(f[s]-h[s])*p;return a}return d-(f-h)*p}if("continue"===t){var m=this.getValueAtTime(l/this.comp.globalData.frameRate,0),g=this.getValueAtTime((l+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-g[s])*(l-u)/.001;return a}return m+(m-g)*(l-u)/.001}}return this.getValueAtTime((n-((l-u)%n+l))/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,n,i=this.comp.renderedFrame/this.comp.globalData.frameRate,s=i-t,o=e>1?(i+t-s)/(e-1):1,a=0,u=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;a<e;){if(n=this.getValueAtTime(s+a*o),this.pv.length)for(u=0;u<this.pv.length;u+=1)r[u]+=n[u];else r+=n;a+=1}if(this.pv.length)for(u=0;u<this.pv.length;u+=1)r[u]/=e;else r/=e;return r}function n(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(t);e.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(t);e.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var i=this.sk.getValueAtTime(t),s=this.sa.getValueAtTime(t);e.skewFromAxis(-i*this.sk.mult,s*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var o=this.r.getValueAtTime(t);e.rotate(-o*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(t),u=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),l=this.or.getValueAtTime(t);e.rotateZ(-a*this.rz.mult).rotateY(u*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-l[2]*this.or.mult).rotateY(l[1]*this.or.mult).rotateX(l[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var h=this.px.getValueAtTime(t),f=this.py.getValueAtTime(t);if(this.data.p.z){var d=this.pz.getValueAtTime(t);e.translate(h*this.px.mult,f*this.py.mult,-d*this.pz.mult)}else e.translate(h*this.px.mult,f*this.py.mult,0)}else{var p=this.p.getValueAtTime(t);e.translate(p[0]*this.p.mult,p[1]*this.p.mult,-p[2]*this.p.mult)}return e}function i(){return this.v.clone(new Matrix)}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var o=s(t,e,r);return o.dynamicProperties.length?o.getValueAtTime=n.bind(o):o.getValueAtTime=i.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o};var o=PropertyFactory.getProp;PropertyFactory.getProp=function(n,i,s,a,u){var c=o(n,i,s,a,u);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=e,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===i.a?i.k.length:0,c.propertyIndex=i.ix;var l=0;return 0!==s&&(l=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:l},expressionHelpers.searchExpressions(n,i,c),c.k&&u.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),u=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(t,e){this.k&&this.getValue();var r,n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0));var i=n._length,s=n[t],o=n.v,a=createSizedArray(i);for(r=0;r<i;r+=1)a[r]="i"===t||"o"===t?[s[r][0]-o[r][0],s[r][1]-o[r][1]]:[s[r][0],s[r][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,i=this._segmentsLength,s=i.lengths,o=i.totalLength*t,a=0,u=s.length,c=0;a<u;){if(c+s[a].addedLength>o){var l=a,h=r.c&&a===u-1?0:a+1,f=(o-c)/s[a].addedLength;n=bez.getPointInSegment(r.v[l],r.v[h],r.o[l],r.i[h],f,s[a]);break}c+=s[a].addedLength,a+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(t,e,r){1==t?t=this.v.c:0==t&&(t=.999);var n=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),s=i[0]-n[0],o=i[1]-n[1],a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));return 0===a?[0,0]:"tangent"===r?[s/a,o/a]:[-o/a,s/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],u),u.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},u.prototype.initiateExpression=ExpressionManager.initiateExpression;var l=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,n,i){var s=l(t,e,r,n,i);return s.propertyIndex=e.ix,s.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,s):4===r&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var n={};return this.copyData(n,t),n.t=r.toString(),n.__complete=!1,n}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var r,n,i=createNS("feMerge");for(i.setAttribute("result",t),n=0;n<e.length;n+=1)(r=createNS("feMergeNode")).setAttribute("in",e[n]),i.appendChild(r),i.appendChild(r);return i}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,r,n,i){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=s,s.setAttribute("result",n+"_tint_1"),t.appendChild(s),(s=createNS("feColorMatrix")).setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",n+"_tint_2"),t.appendChild(s),this.matrixFilter=s;var o=this.createMergeNode(n,[i,n+"_tint_1",n+"_tint_2"]);t.appendChild(o)}function SVGFillFilter(t,e,r,n){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",n),t.appendChild(i),this.matrixFilter=i}function SVGStrokeEffect(t,e,r){this.initialized=!1,this.filterManager=e,this.elem=r,this.paths=[]}function SVGTritoneFilter(t,e,r,n){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(i);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",n),this.matrixFilter=s;var o=createNS("feFuncR");o.setAttribute("type","table"),s.appendChild(o),this.feFuncR=o;var a=createNS("feFuncG");a.setAttribute("type","table"),s.appendChild(a),this.feFuncG=a;var u=createNS("feFuncB");u.setAttribute("type","table"),s.appendChild(u),this.feFuncB=u,t.appendChild(s)}function SVGProLevelsFilter(t,e,r,n){this.filterManager=e;var i=this.filterManager.effectElements,s=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s)),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&((s=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",n),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(t,e,r,n,i){var s=e.container.globalData.renderConfig.filterSize,o=e.data.fs||s;t.setAttribute("x",o.x||s.x),t.setAttribute("y",o.y||s.y),t.setAttribute("width",o.width||s.width),t.setAttribute("height",o.height||s.height),this.filterManager=e;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",n+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,t.appendChild(a);var u=createNS("feOffset");u.setAttribute("dx","25"),u.setAttribute("dy","0"),u.setAttribute("in",n+"_drop_shadow_1"),u.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=u,t.appendChild(u);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var l=createNS("feComposite");l.setAttribute("in",n+"_drop_shadow_3"),l.setAttribute("in2",n+"_drop_shadow_2"),l.setAttribute("operator","in"),l.setAttribute("result",n+"_drop_shadow_4"),t.appendChild(l);var h=this.createMergeNode(n,[n+"_drop_shadow_4",i]);t.appendChild(h)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,n,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<n;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o=createElementID();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+o+")");i[0];)a.appendChild(i[0]);this.elem.layerElement.appendChild(a),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var r,n,i=this.paths.length;for(e=0;e<i;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],n=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&n.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),u=n.getTotalLength();s="0 0 0 "+u*o+" ";var c,l=u*(a-o),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,f=Math.floor(l/h);for(c=0;c<f;c+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+10*u+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var d=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*d[0])+","+bmFloor(255*d[1])+","+bmFloor(255*d[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,i=n[0]+" "+r[0]+" "+e[0],s=n[1]+" "+r[1]+" "+e[1],o=n[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,n,i){for(var s,o,a=0,u=Math.min(t,e),c=Math.max(t,e),l=Array.call(null,{length:256}),h=0,f=i-n,d=e-t;a<=256;)o=(s=a/256)<=u?d<0?i:n:s>=c?d<0?n:i:n+f*Math.pow((s-t)/d,1/r),l[h]=o,h+=1,a+=256/255;return l.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=r*Math.cos(n),s=r*Math.sin(n);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(t,e,r,n){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("result",n),t.appendChild(i),this.feGaussianBlur=i}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var n,i=r.children,s=0,o=i.length;s<o&&i[s]!==t.layerElement;)s+=1;s<=o-2&&(n=i[s+1]);var a=createNS("use");a.setAttribute("href","#"+e),n?r.insertBefore(a,n):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(n);var s=createNS("symbol");s.setAttribute("id",r),this.replaceInParent(e,r),s.appendChild(e.layerElement),i.appendChild(s);var o=createNS("use");o.setAttribute("href","#"+r),n.appendChild(o),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,n=e.length;r<n;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=3==r?0:e,i=2==r?0:e;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+i);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,r=e[0].p.v,n=e[1].p.v,i=1===e[2].p.v,s=e[3].p.v,o=i?s:e[4].p.v,a=e[5].p.v,u=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(.01*o,.01*s,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-a*degToRads,(u+90)*degToRads),this.matrix.translate(n[0],n[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())},62318:(t,e,r)=>{"use strict";var n=r(35717),i=r(3349),s=r(89509).Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function c(t,e,r,n,i,s,o){return u(t+(e&r|~e&n)+i+s|0,o)+e|0}function l(t,e,r,n,i,s,o){return u(t+(e&n|r&~n)+i+s|0,o)+e|0}function h(t,e,r,n,i,s,o){return u(t+(e^r^n)+i+s|0,o)+e|0}function f(t,e,r,n,i,s,o){return u(t+(r^(e|~n))+i+s|0,o)+e|0}n(a,i),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,s=this._d;r=c(r,n,i,s,t[0],3614090360,7),s=c(s,r,n,i,t[1],3905402710,12),i=c(i,s,r,n,t[2],606105819,17),n=c(n,i,s,r,t[3],3250441966,22),r=c(r,n,i,s,t[4],4118548399,7),s=c(s,r,n,i,t[5],1200080426,12),i=c(i,s,r,n,t[6],2821735955,17),n=c(n,i,s,r,t[7],4249261313,22),r=c(r,n,i,s,t[8],1770035416,7),s=c(s,r,n,i,t[9],2336552879,12),i=c(i,s,r,n,t[10],4294925233,17),n=c(n,i,s,r,t[11],2304563134,22),r=c(r,n,i,s,t[12],1804603682,7),s=c(s,r,n,i,t[13],4254626195,12),i=c(i,s,r,n,t[14],2792965006,17),r=l(r,n=c(n,i,s,r,t[15],1236535329,22),i,s,t[1],4129170786,5),s=l(s,r,n,i,t[6],3225465664,9),i=l(i,s,r,n,t[11],643717713,14),n=l(n,i,s,r,t[0],3921069994,20),r=l(r,n,i,s,t[5],3593408605,5),s=l(s,r,n,i,t[10],38016083,9),i=l(i,s,r,n,t[15],3634488961,14),n=l(n,i,s,r,t[4],3889429448,20),r=l(r,n,i,s,t[9],568446438,5),s=l(s,r,n,i,t[14],3275163606,9),i=l(i,s,r,n,t[3],4107603335,14),n=l(n,i,s,r,t[8],1163531501,20),r=l(r,n,i,s,t[13],2850285829,5),s=l(s,r,n,i,t[2],4243563512,9),i=l(i,s,r,n,t[7],1735328473,14),r=h(r,n=l(n,i,s,r,t[12],2368359562,20),i,s,t[5],4294588738,4),s=h(s,r,n,i,t[8],2272392833,11),i=h(i,s,r,n,t[11],1839030562,16),n=h(n,i,s,r,t[14],4259657740,23),r=h(r,n,i,s,t[1],2763975236,4),s=h(s,r,n,i,t[4],1272893353,11),i=h(i,s,r,n,t[7],4139469664,16),n=h(n,i,s,r,t[10],3200236656,23),r=h(r,n,i,s,t[13],681279174,4),s=h(s,r,n,i,t[0],3936430074,11),i=h(i,s,r,n,t[3],3572445317,16),n=h(n,i,s,r,t[6],76029189,23),r=h(r,n,i,s,t[9],3654602809,4),s=h(s,r,n,i,t[12],3873151461,11),i=h(i,s,r,n,t[15],530742520,16),r=f(r,n=h(n,i,s,r,t[2],3299628645,23),i,s,t[0],4096336452,6),s=f(s,r,n,i,t[7],1126891415,10),i=f(i,s,r,n,t[14],2878612391,15),n=f(n,i,s,r,t[5],4237533241,21),r=f(r,n,i,s,t[12],1700485571,6),s=f(s,r,n,i,t[3],2399980690,10),i=f(i,s,r,n,t[10],4293915773,15),n=f(n,i,s,r,t[1],2240044497,21),r=f(r,n,i,s,t[8],1873313359,6),s=f(s,r,n,i,t[15],4264355552,10),i=f(i,s,r,n,t[6],2734768916,15),n=f(n,i,s,r,t[13],1309151649,21),r=f(r,n,i,s,t[4],4149444226,6),s=f(s,r,n,i,t[11],3174756917,10),i=f(i,s,r,n,t[2],718787259,15),n=f(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},63047:(t,e,r)=>{var n=r(96240),i=r(29931);function s(t){this.rand=t||new i.Rand}t.exports=s,s.create=function(t){return new s(t)},s.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(t)>=0);return i},s.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},s.prototype.test=function(t,e,r){var i=t.bitLength(),s=n.mont(t),o=new n(1).toRed(s);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),u=0;!a.testn(u);u++);for(var c=t.shrn(u),l=a.toRed(s);e>0;e--){var h=this._randrange(new n(2),a);r&&r(h);var f=h.toRed(s).redPow(c);if(0!==f.cmp(o)&&0!==f.cmp(l)){for(var d=1;d<u;d++){if(0===(f=f.redSqr()).cmp(o))return!1;if(0===f.cmp(l))break}if(d===u)return!1}}return!0},s.prototype.getDivisor=function(t,e){var r=t.bitLength(),i=n.mont(t),s=new n(1).toRed(i);e||(e=Math.max(1,r/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var u=t.shrn(a),c=o.toRed(i);e>0;e--){var l=this._randrange(new n(2),o),h=t.gcd(l);if(0!==h.cmpn(1))return h;var f=l.toRed(i).redPow(u);if(0!==f.cmp(s)&&0!==f.cmp(c)){for(var d=1;d<a;d++){if(0===(f=f.redSqr()).cmp(s))return f.fromRed().subn(1).gcd(t);if(0===f.cmp(c))break}if(d===a)return(f=f.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},96240:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(56619).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,E=0|o[4],S=8191&E,x=E>>>13,M=0|o[5],k=8191&M,T=M>>>13,A=0|o[6],C=8191&A,I=A>>>13,P=0|o[7],R=8191&P,O=P>>>13,D=0|o[8],L=8191&D,N=D>>>13,F=0|o[9],B=8191&F,j=F>>>13,z=0|a[0],U=8191&z,V=z>>>13,q=0|a[1],G=8191&q,H=q>>>13,$=0|a[2],W=8191&$,K=$>>>13,Y=0|a[3],X=8191&Y,Q=Y>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(f,U)|0))<<13)|0;c=((s=Math.imul(f,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(m,U)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,V))+Math.imul(v,U)|0,s=Math.imul(v,V),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,H)|0;var vt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;c=((s=s+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,V))+Math.imul(_,U)|0,s=Math.imul(_,V),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,K)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(x,U)|0,s=Math.imul(x,V),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,W)|0,s=s+Math.imul(v,K)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(T,U)|0,s=Math.imul(T,V),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,H)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(I,U)|0,s=Math.imul(I,V),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,H)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;c=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(O,U)|0,s=Math.imul(O,V),n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,K)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((s=s+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,V))+Math.imul(N,U)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,K)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,V))+Math.imul(j,U)|0,s=Math.imul(j,V),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,Q)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(j,G)|0,s=Math.imul(j,H),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(j,W)|0,s=Math.imul(j,K),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ft)|0;var Tt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Q))+Math.imul(j,X)|0,s=Math.imul(j,Q),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(T,ut)|0,s=s+Math.imul(T,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var At=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,tt))+Math.imul(j,Z)|0,s=Math.imul(j,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,ft)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((s=s+Math.imul(T,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,st),i=(i=Math.imul(B,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ct)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,ct))+Math.imul(j,ut)|0,s=Math.imul(j,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Rt=(c+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Dt=(c+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(j,pt)|0))<<13)|0;return c=((s=Math.imul(j,mt))+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=xt,u[9]=Mt,u[10]=kt,u[11]=Tt,u[12]=At,u[13]=Ct,u[14]=It,u[15]=Pt,u[16]=Rt,u[17]=Ot,u[18]=Dt,0!==c&&(u[19]=c,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(b,v),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(_,v),i(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},i(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},76727:(t,e,r)=>{"use strict";r.r(e)},29175:(t,e,r)=>{"use strict";r.r(e)},2157:(t,e,r)=>{"use strict";r.r(e)},64588:(t,e,r)=>{"use strict";r.r(e)},62865:(t,e,r)=>{"use strict";r.r(e)},65876:(t,e,r)=>{"use strict";r.r(e)},70254:(t,e,r)=>{"use strict";r.r(e)},60324:(t,e,r)=>{"use strict";r.r(e)},30123:(t,e,r)=>{"use strict";r.r(e)},98304:(t,e,r)=>{"use strict";r.r(e)},59638:(t,e,r)=>{"use strict";r.r(e)},6404:(t,e,r)=>{"use strict";r.r(e)},56700:(t,e,r)=>{"use strict";r.r(e)},79551:(t,e,r)=>{"use strict";r.r(e)},23047:(t,e,r)=>{"use strict";r.r(e)},65144:(t,e,r)=>{"use strict";r.r(e)},65989:(t,e,r)=>{"use strict";r.r(e)},22222:(t,e,r)=>{"use strict";r.r(e)},52946:(t,e,r)=>{"use strict";r.r(e)},82081:(t,e,r)=>{"use strict";r.r(e)},39165:(t,e,r)=>{"use strict";r.r(e)},63942:(t,e,r)=>{"use strict";r.r(e)},23938:(t,e,r)=>{"use strict";r.r(e)},73553:(t,e,r)=>{"use strict";r.r(e)},44656:(t,e,r)=>{"use strict";r.r(e)},87163:(t,e,r)=>{"use strict";r.r(e)},79746:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},34504:(t,e)=>{"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},57824:t=>{var e=1e3,r=60*e,n=60*r,i=24*n,s=7*i,o=365.25*i;function a(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,u){u=u||{};var c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!a)return;var u=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*o;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*n;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(t);if("number"===c&&isFinite(t))return u.long?function(t){var s=Math.abs(t);if(s>=i)return a(t,s,i,"day");if(s>=n)return a(t,s,n,"hour");if(s>=r)return a(t,s,r,"minute");if(s>=e)return a(t,s,e,"second");return t+" ms"}(t):function(t){var s=Math.abs(t);if(s>=i)return Math.round(t/i)+"d";if(s>=n)return Math.round(t/n)+"h";if(s>=r)return Math.round(t/r)+"m";if(s>=e)return Math.round(t/e)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},52818:(t,e,r)=>{"use strict";var n=r(39809);e.certificate=r(41934);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var s=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=s;var o=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));e.PublicKey=o;var a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=u;var c=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=c;var l=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=l,e.DSAparam=n.define("DSAparam",(function(){this.int()}));var h=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=h;var f=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},41934:(t,e,r)=>{"use strict";var n=r(39809),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),s=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),u=n.define("RelativeDistinguishedName",(function(){this.setof(s)})),c=n.define("RDNSequence",(function(){this.seqof(u)})),l=n.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),h=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));t.exports=p},77631:(t,e,r)=>{var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=r(13048),a=r(44696),u=r(89509).Buffer;t.exports=function(t,e){var r,c=t.toString(),l=c.match(n);if(l){var h="aes"+l[1],f=u.from(l[2],"hex"),d=u.from(l[3].replace(/[\r\n]/g,""),"base64"),p=o(e,f.slice(0,8),parseInt(l[1],10)).key,m=[],g=a.createDecipheriv(h,p,f);m.push(g.update(d)),m.push(g.final()),r=u.concat(m)}else{var y=c.match(s);r=u.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:r}}},70980:(t,e,r)=>{var n=r(52818),i=r(22562),s=r(77631),o=r(44696),a=r(25632),u=r(89509).Buffer;function c(t){var e;"object"!=typeof t||u.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=u.from(t));var r,c,l=s(t,e),h=l.tag,f=l.data;switch(h){case"CERTIFICATE":c=n.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=n.PublicKey.decode(f,"der")),r=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=n.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":f=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=i[t.algorithm.decrypt.cipher.algo.join(".")],c=t.algorithm.decrypt.cipher.iv,l=t.subjectPrivateKey,h=parseInt(s.split("-")[1],10)/8,f=a.pbkdf2Sync(e,r,n,h,"sha1"),d=o.createDecipheriv(s,f,c),p=[];return p.push(d.update(l)),p.push(d.final()),u.concat(p)}(f=n.EncryptedPrivateKey.decode(f,"der"),e);case"PRIVATE KEY":switch(r=(c=n.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:n.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=n.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=n.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}t.exports=c,c.signature=n.signature},25632:(t,e,r)=>{e.pbkdf2=r(88638),e.pbkdf2Sync=r(91257)},88638:(t,e,r)=>{var n,i,s=r(89509).Buffer,o=r(77357),a=r(12368),u=r(91257),c=r(57777),l=r.g.crypto&&r.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(t,e,r,n,i){return l.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return l.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},t,n<<3)})).then((function(t){return s.from(t)}))}t.exports=function(t,e,i,m,g,y){"function"==typeof g&&(y=g,g=void 0);var v=h[(g=g||"sha1").toLowerCase()];if(v&&"function"==typeof r.g.Promise){if(o(i,m),t=c(t,a,"Password"),e=c(e,a,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(t,e){t.then((function(t){d()((function(){e(null,t)}))}),(function(t){d()((function(){e(t)}))}))}(function(t){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var e=p(n=n||s.alloc(8),n,10,128,t).then((function(){return!0})).catch((function(){return!1}));return f[t]=e,e}(v).then((function(r){return r?p(t,e,i,m,v):u(t,e,i,m,g)})),y)}else d()((function(){var r;try{r=u(t,e,i,m,g)}catch(t){return y(t)}y(null,r)}))}},12368:(t,e,r)=>{var n,i=r(34155);if(r.g.process&&r.g.process.browser)n="utf-8";else if(r.g.process&&r.g.process.version){n=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";t.exports=n},77357:t=>{var e=Math.pow(2,30)-1;t.exports=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}},91257:(t,e,r)=>{var n=r(78028),i=r(79785),s=r(89072),o=r(89509).Buffer,a=r(77357),u=r(12368),c=r(57777),l=o.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(t,e,r){var a=function(t){function e(e){return s(t).update(e).digest()}function r(t){return(new i).update(t).digest()}return"rmd160"===t||"ripemd160"===t?r:"md5"===t?n:e}(t),u="sha512"===t||"sha384"===t?128:64;e.length>u?e=a(e):e.length<u&&(e=o.concat([e,l],u));for(var c=o.allocUnsafe(u+h[t]),f=o.allocUnsafe(u+h[t]),d=0;d<u;d++)c[d]=54^e[d],f[d]=92^e[d];var p=o.allocUnsafe(u+r+4);c.copy(p,0,0,u),this.ipad1=p,this.ipad2=c,this.opad=f,this.alg=t,this.blocksize=u,this.hash=a,this.size=h[t]}f.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,n,i){a(r,n);var s=new f(i=i||"sha1",t=c(t,u,"Password"),(e=c(e,u,"Salt")).length),l=o.allocUnsafe(n),d=o.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var p=0,m=h[i],g=Math.ceil(n/m),y=1;y<=g;y++){d.writeUInt32BE(y,e.length);for(var v=s.run(d,s.ipad1),b=v,w=1;w<r;w++){b=s.run(b,s.ipad2);for(var _=0;_<m;_++)v[_]^=b[_]}v.copy(l,p),p+=m}return l}},57777:(t,e,r)=>{var n=r(89509).Buffer;t.exports=function(t,e,r){if(n.isBuffer(t))return t;if("string"==typeof t)return n.from(t,e);if(ArrayBuffer.isView(t))return n.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},34155:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,u=[],c=!1,l=-1;function h(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&f())}function f(){if(!c){var t=o(h);c=!0;for(var e=u.length;e;){for(a=u,u=[];++l<e;)a&&a[l].run();l=-1,e=u.length}a=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||c||o(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},36522:(t,e,r)=>{"use strict";var n,i=r(34155);(n=void 0!==i&&"[object process]"==={}.toString.call(i)||"undefined"!=typeof navigator&&"ReactNative"===navigator.product?r.g:self).Proxy||(n.Proxy=r(25607)(),n.Proxy.revocable=n.Proxy.revocable)},25607:t=>{t.exports=function(){let t,e=null;function r(t){return!!t&&("object"==typeof t||"function"==typeof t)}function n(t){if(null!==t&&!r(t))throw new TypeError("Object prototype may only be an Object or null: "+t)}const i=Object,s=Boolean(i.create)||!({__proto__:null}instanceof i),o=i.create||(s?function(t){return n(t),{__proto__:t}}:function(t){if(n(t),null===t)throw new SyntaxError("Native Object.create is required to create objects with null prototype");var e=function(){};return e.prototype=t,new e}),a=function(){return null},u=i.getPrototypeOf||([].__proto__===Array.prototype?function(t){const e=t.__proto__;return r(e)?e:null}:a);return t=function(c,l){if(void 0===(this&&this instanceof t?this.constructor:void 0))throw new TypeError("Constructor Proxy requires 'new'");if(!r(c)||!r(l))throw new TypeError("Cannot create proxy with a non-object as target or handler");let h=function(){};e=function(){c=null,h=function(t){throw new TypeError(`Cannot perform '${t}' on a proxy that has been revoked`)}},setTimeout((function(){e=null}),0);const f=l;l={get:null,set:null,apply:null,construct:null};for(let t in f){if(!(t in l))throw new TypeError(`Proxy polyfill does not support trap '${t}'`);l[t]=f[t]}"function"==typeof f&&(l.apply=f.apply.bind(f));const d=u(c);let p,m=!1,g=!1;"function"==typeof c?(p=function(){const t=this&&this.constructor===p,e=Array.prototype.slice.call(arguments);if(h(t?"construct":"apply"),t&&l.construct)return l.construct.call(this,c,e);if(!t&&l.apply)return l.apply(c,this,e);if(t){e.unshift(c);return new(c.bind.apply(c,e))}return c.apply(this,e)},m=!0):c instanceof Array?(p=[],g=!0):p=s||null!==d?o(d):{};const y=l.get?function(t){return h("get"),l.get(this,t,p)}:function(t){return h("get"),this[t]},v=l.set?function(t,e){h("set");l.set(this,t,e,p)}:function(t,e){h("set"),this[t]=e},b=i.getOwnPropertyNames(c),w={};b.forEach((function(t){if((m||g)&&t in p)return;const e=i.getOwnPropertyDescriptor(c,t),r={enumerable:Boolean(e.enumerable),get:y.bind(c,t),set:v.bind(c,t)};i.defineProperty(p,t,r),w[t]=!0}));let _=!0;if(m||g){const t=i.setPrototypeOf||([].__proto__===Array.prototype?function(t,e){return n(e),t.__proto__=e,t}:a);d&&t(p,d)||(_=!1)}if(l.get||!_)for(let t in c)w[t]||i.defineProperty(p,t,{get:y.bind(c,t)});return i.seal(c),i.seal(p),p},t.revocable=function(r,n){return{proxy:new t(r,n),revoke:e}},t}},7900:(t,e,r)=>{e.publicEncrypt=r(16559),e.privateDecrypt=r(26138),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},99199:(t,e,r)=>{var n=r(23482),i=r(89509).Buffer;function s(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var r,o=i.alloc(0),a=0;o.length<e;)r=s(a++),o=i.concat([o,n("sha1").update(t).update(r).digest()]);return o.slice(0,e)}},92144:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(77108).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,v=g>>>13,b=0|o[3],w=8191&b,_=b>>>13,E=0|o[4],S=8191&E,x=E>>>13,M=0|o[5],k=8191&M,T=M>>>13,A=0|o[6],C=8191&A,I=A>>>13,P=0|o[7],R=8191&P,O=P>>>13,D=0|o[8],L=8191&D,N=D>>>13,F=0|o[9],B=8191&F,j=F>>>13,z=0|a[0],U=8191&z,V=z>>>13,q=0|a[1],G=8191&q,H=q>>>13,$=0|a[2],W=8191&$,K=$>>>13,Y=0|a[3],X=8191&Y,Q=Y>>>13,J=0|a[4],Z=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,ft=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(f,U)|0))<<13)|0;c=((s=Math.imul(f,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(m,U)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,U),i=(i=Math.imul(y,V))+Math.imul(v,U)|0,s=Math.imul(v,V),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,H)|0;var vt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,W)|0))<<13)|0;c=((s=s+Math.imul(f,K)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,V))+Math.imul(_,U)|0,s=Math.imul(_,V),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,K)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(x,U)|0,s=Math.imul(x,V),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,W)|0,s=s+Math.imul(v,K)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Z)|0))<<13)|0;c=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(T,U)|0,s=Math.imul(T,V),n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,H)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,W)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(I,U)|0,s=Math.imul(I,V),n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,H)|0,n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,Z)|0,s=s+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;c=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(O,U)|0,s=Math.imul(O,V),n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,K)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(v,rt)|0,s=s+Math.imul(v,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((s=s+Math.imul(f,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,V))+Math.imul(N,U)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,K)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(T,X)|0,s=s+Math.imul(T,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,V))+Math.imul(j,U)|0,s=Math.imul(j,V),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,Q)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,H))+Math.imul(j,G)|0,s=Math.imul(j,H),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(N,W)|0,s=s+Math.imul(N,K)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,Q)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(T,rt)|0,s=s+Math.imul(T,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ft)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,ft)|0;var kt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,K))+Math.imul(j,W)|0,s=Math.imul(j,K),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,Q)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(T,st)|0,s=s+Math.imul(T,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,ft)|0;var Tt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Q))+Math.imul(j,X)|0,s=Math.imul(j,Q),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(T,ut)|0,s=s+Math.imul(T,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,ft)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ft)|0;var At=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,Z),i=(i=Math.imul(B,tt))+Math.imul(j,Z)|0,s=Math.imul(j,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(T,ht)|0,s=s+Math.imul(T,ft)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(T,pt)|0))<<13)|0;c=((s=s+Math.imul(T,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,st),i=(i=Math.imul(B,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,ct)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,ct))+Math.imul(j,ut)|0,s=Math.imul(j,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Rt=(c+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,ht),i=(i=Math.imul(B,ft))+Math.imul(j,ht)|0,s=Math.imul(j,ft);var Ot=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Dt=(c+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,mt))+Math.imul(j,pt)|0))<<13)|0;return c=((s=Math.imul(j,mt))+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=xt,u[9]=Mt,u[10]=kt,u[11]=Tt,u[12]=At,u[13]=Ct,u[14]=It,u[15]=Pt,u[16]=Rt,u[17]=Ot,u[18]=Dt,0!==c&&(u[19]=c,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],v=h*g-f*y;y=h*y+f*g,g=v,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function x(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(b,v),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(_,v),i(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new w;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new x(t)},i(x,S),x.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},x.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},26138:(t,e,r)=>{var n=r(70980),i=r(99199),s=r(57859),o=r(92144),a=r(23663),u=r(23482),c=r(84818),l=r(89509).Buffer;t.exports=function(t,e,r){var h;h=t.padding?t.padding:r?1:4;var f,d=n(t),p=d.modulus.byteLength();if(e.length>p||new o(e).cmp(d.modulus)>=0)throw new Error("decryption error");f=r?c(new o(e),d):a(e,d);var m=l.alloc(p-f.length);if(f=l.concat([m,f],p),4===h)return function(t,e){var r=t.modulus.byteLength(),n=u("sha1").update(l.alloc(0)).digest(),o=n.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,o+1),c=e.slice(o+1),h=s(a,i(c,o)),f=s(c,i(h,r-o-1));if(function(t,e){t=l.from(t),e=l.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));var i=-1;for(;++i<n;)r+=t[i]^e[i];return r}(n,f.slice(0,o)))throw new Error("decryption error");var d=o;for(;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===h)return function(t,e,r){var n=e.slice(0,2),i=2,s=0;for(;0!==e[i++];)if(i>=e.length){s++;break}var o=e.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++;o.length<8&&s++;if(s)throw new Error("decryption error");return e.slice(i)}(0,f,r);if(3===h)return f;throw new Error("unknown padding")}},16559:(t,e,r)=>{var n=r(70980),i=r(61798),s=r(23482),o=r(99199),a=r(57859),u=r(92144),c=r(84818),l=r(23663),h=r(89509).Buffer;t.exports=function(t,e,r){var f;f=t.padding?t.padding:r?1:4;var d,p=n(t);if(4===f)d=function(t,e){var r=t.modulus.byteLength(),n=e.length,c=s("sha1").update(h.alloc(0)).digest(),l=c.length,f=2*l;if(n>r-f-2)throw new Error("message too long");var d=h.alloc(r-n-f-2),p=r-l-1,m=i(l),g=a(h.concat([c,d,h.alloc(1,1),e],p),o(m,p)),y=a(m,o(g,l));return new u(h.concat([h.alloc(1),y,g],r))}(p,e);else if(1===f)d=function(t,e,r){var n,s=e.length,o=t.modulus.byteLength();if(s>o-11)throw new Error("message too long");n=r?h.alloc(o-s-3,255):function(t){var e,r=h.allocUnsafe(t),n=0,s=i(2*t),o=0;for(;n<t;)o===s.length&&(s=i(2*t),o=0),(e=s[o++])&&(r[n++]=e);return r}(o-s-3);return new u(h.concat([h.from([0,r?1:2]),n,h.alloc(1),e],o))}(p,e,r);else{if(3!==f)throw new Error("unknown padding");if((d=new u(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(d,p):c(d,p)}},84818:(t,e,r)=>{var n=r(92144),i=r(89509).Buffer;t.exports=function(t,e){return i.from(t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed().toArray())}},57859:t=>{t.exports=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t}},61798:(t,e,r)=>{"use strict";var n=r(34155),i=65536,s=4294967295;var o=r(89509).Buffer,a=r.g.crypto||r.g.msCrypto;a&&a.getRandomValues?t.exports=function(t,e){if(t>s)throw new RangeError("requested too many random bytes");var r=o.allocUnsafe(t);if(t>0)if(t>i)for(var u=0;u<t;u+=i)a.getRandomValues(r.slice(u,u+i));else a.getRandomValues(r);if("function"==typeof e)return n.nextTick((function(){e(null,r)}));return r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},77963:(t,e,r)=>{"use strict";var n=r(34155);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=r(89509),o=r(61798),a=s.Buffer,u=s.kMaxLength,c=r.g.crypto||r.g.msCrypto,l=Math.pow(2,32)-1;function h(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>l||t<0)throw new TypeError("offset must be a uint32");if(t>u||t>e)throw new RangeError("offset out of range")}function f(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>l||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>u)throw new RangeError("buffer too small")}function d(t,e,r,i){if(n.browser){var s=t.buffer,a=new Uint8Array(s,e,r);return c.getRandomValues(a),i?void n.nextTick((function(){i(null,t)})):t}if(!i)return o(r).copy(t,e),t;o(r,(function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)}))}c&&c.getRandomValues||!n.browser?(e.randomFill=function(t,e,n,i){if(!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return h(e,t.length),f(n,e,t.length),d(t,e,n,i)},e.randomFillSync=function(t,e,n){void 0===e&&(e=0);if(!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(e,t.length),void 0===n&&(n=t.length-e);return f(n,e,t.length),d(t,e,n)}):(e.randomFill=i,e.randomFillSync=i)},94281:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,s,o,a;if("string"==typeof e&&(s="not ",e.substr(!o||o<0?0:+o,s.length)===s)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var u=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(u," ").concat(i," ").concat(n(e,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},56753:(t,e,r)=>{"use strict";var n=r(34155),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var s=r(79481),o=r(64229);r(35717)(l,s);for(var a=i(o.prototype),u=0;u<a.length;u++){var c=a[u];l.prototype[c]||(l.prototype[c]=o.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},82725:(t,e,r)=>{"use strict";t.exports=i;var n=r(74605);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(35717)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},79481:(t,e,r)=>{"use strict";var n,i=r(34155);t.exports=M,M.ReadableState=x;r(17187).EventEmitter;var s=function(t,e){return t.listeners(e).length},o=r(22503),a=r(48764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,l=r(94616);c=l&&l.debuglog?l.debuglog("stream"):function(){};var h,f,d,p=r(57327),m=r(61195),g=r(82457).getHighWaterMark,y=r(94281).q,v=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,_=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(M,o);var E=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function x(t,e,i){n=n||r(56753),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=r(32553).s),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function M(t){if(n=n||r(56753),!(this instanceof M))return new M(t);var e=this instanceof n;this._readableState=new x(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function k(t,e,r,n,i){c("readableAddChunk",e);var s,o=t._readableState;if(null===e)o.reading=!1,function(t,e){if(c("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?I(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,P(t)))}(t,o);else if(i||(s=function(t,e){var r;n=e,a.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],e));var n;return r}(o,e)),s)E(t,s);else if(o.objectMode||e&&e.length>0)if("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)o.endEmitted?E(t,new _):T(t,o,e,!0);else if(o.ended)E(t,new b);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||0!==e.length?T(t,o,e,!1):R(t,o)):T(t,o,e,!1)}else n||(o.reading=!1,R(t,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function T(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&I(t)),R(t,e)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),M.prototype.destroy=m.destroy,M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(t,e){e(t)},M.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),k(this,t,e,!1,r)},M.prototype.unshift=function(t){return k(this,t,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(t){h||(h=r(32553).s);var e=new h(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function C(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=A?t=A:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function I(t){var e=t._readableState;c("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(c("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(P,t))}function P(t){var e=t._readableState;c("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,F(t)}function R(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(O,t,e))}function O(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(c("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function D(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function L(t){c("readable nexttick read 0"),t.read(0)}function N(t,e){c("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),F(t),e.flowing&&!e.reading&&t.read(0)}function F(t){var e=t._readableState;for(c("flow",e.flowing);e.flowing&&null!==t.read(););}function B(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function j(t){var e=t._readableState;c("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(z,e,t))}function z(t,e){if(c("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function U(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}M.prototype.read=function(t){c("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):I(this),null;if(0===(t=C(t,e))&&e.ended)return 0===e.length&&j(this),null;var n,i=e.needReadable;return c("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",i=!0),e.ended||e.reading?c("reading or ended",i=!1):i&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=C(r,e))),null===(n=t>0?B(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&j(this)),null!==n&&this.emit("data",n),n},M.prototype._read=function(t){E(this,new w("_read()"))},M.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,e);var o=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?u:g;function a(e,i){c("onunpipe"),e===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",f),h=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function u(){c("onend"),t.end()}n.endEmitted?i.nextTick(o):r.once("end",o),t.on("unpipe",a);var l=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,F(t))}}(r);t.on("drain",l);var h=!1;function f(e){c("ondata");var i=t.write(e);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==U(n.pipes,t))&&!h&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(e){c("onerror",e),g(),t.removeListener("error",d),0===s(t,"error")&&E(t,e)}function p(){t.removeListener("finish",m),g()}function m(){c("onfinish"),t.removeListener("close",p),g()}function g(){c("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",d),t.once("close",p),t.once("finish",m),t.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),t},M.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},M.prototype.on=function(t,e){var r=o.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?I(this):n.reading||i.nextTick(L,this))),r},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(t,e){var r=o.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(D,this),r},M.prototype.removeAllListeners=function(t){var e=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(D,this),e},M.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(N,t,e))}(this,t)),t.paused=!1,this},M.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<S.length;s++)t.on(S[s],this.emit.bind(this,S[s]));return this._read=function(e){c("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(M.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(45850)),f(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),M._fromList=B,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(M.from=function(t,e){return void 0===d&&(d=r(15167)),d(M,t,e)})},74605:(t,e,r)=>{"use strict";t.exports=l;var n=r(94281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(56753);function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,r){f(t,e,r)}))}function f(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(35717)(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,r){r(new i("_transform()"))},l.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},64229:(t,e,r)=>{"use strict";var n,i=r(34155);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=M,M.WritableState=x;var o={deprecate:r(94927)},a=r(22503),u=r(48764).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,h=r(61195),f=r(82457).getHighWaterMark,d=r(94281).q,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,E=h.errorOrDestroy;function S(){}function x(t,e,o){n=n||r(56753),t=t||{},"boolean"!=typeof o&&(o=e instanceof n),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,s=r.writecb;if("function"!=typeof s)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,s){--e.pendingcb,r?(i.nextTick(s,n),i.nextTick(P,t,e),t._writableState.errorEmitted=!0,E(t,n)):(s(n),t._writableState.errorEmitted=!0,E(t,n),P(t,e))}(t,r,n,e,s);else{var o=C(r)||t.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||A(t,r),n?i.nextTick(T,t,r,o,s):T(t,r,o,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function M(t){var e=this instanceof(n=n||r(56753));if(!e&&!l.call(M,this))return new M(t);this._writableState=new x(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function k(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function T(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),P(t,e)}function A(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,k(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(k(t,e,!1,e.objectMode?1:c.length,c,l,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final((function(r){e.pendingcb--,r&&E(t,r),e.prefinished=!0,t.emit("prefinish"),P(t,e)}))}function P(t,e){var r=C(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(I,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(35717)(M,a),x.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(x.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===M&&(t&&t._writableState instanceof x)}})):l=function(t){return t instanceof this},M.prototype.pipe=function(){E(this,new y)},M.prototype.write=function(t,e,r){var n,s=this._writableState,o=!1,a=!s.objectMode&&(n=t,u.isBuffer(n)||n instanceof c);return a&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof r&&(r=S),s.ending?function(t,e){var r=new w;E(t,r),i.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var s;return null===r?s=new b:"string"==typeof r||e.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(E(t,s),i.nextTick(n,s),!1)}(this,s,t,r))&&(s.pendingcb++,o=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,r));return e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else k(t,e,!1,a,n,i,s);return c}(this,s,a,t,e,r)),o},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||A(this,t))},M.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(t,e,r){r(new m("_write()"))},M.prototype._writev=null,M.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,P(t,e),r&&(e.finished?i.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),M.prototype.destroy=h.destroy,M.prototype._undestroy=h.undestroy,M.prototype._destroy=function(t,e){e(t)}},45850:(t,e,r)=>{"use strict";var n,i=r(34155);function s(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=r(8610),a=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(t,e){return{value:t,done:e}}function m(t){var e=t[a];if(null!==e){var r=t[d].read();null!==r&&(t[h]=null,t[a]=null,t[u]=null,e(p(r,!1)))}}function g(t){i.nextTick(m,t)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((s(n={get stream(){return this[d]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(e,r){i.nextTick((function(){t[c]?r(t[c]):e(p(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[l]?r(p(void 0,!0)):e[f](r,n)}),n)}}(n,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),s(n,"return",(function(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){t?r(t):e(p(void 0,!0))}))}))})),n),y);t.exports=function(t){var e,r=Object.create(v,(s(e={},d,{value:t,writable:!0}),s(e,a,{value:null,writable:!0}),s(e,u,{value:null,writable:!0}),s(e,c,{value:null,writable:!0}),s(e,l,{value:t._readableState.endEmitted,writable:!0}),s(e,f,{value:function(t,e){var n=r[d].read();n?(r[h]=null,r[a]=null,r[u]=null,t(p(n,!1))):(r[a]=t,r[u]=e)},writable:!0}),e));return r[h]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[u];return null!==e&&(r[h]=null,r[a]=null,r[u]=null,e(t)),void(r[c]=t)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[l]=!0})),t.on("readable",g.bind(null,r)),r}},57327:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var u=r(48764).Buffer,c=r(52361).inspect,l=c&&c.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r,n;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return u.alloc(0);for(var e,r,n,i=u.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,r=i,n=o,u.prototype.copy.call(e,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(s===i.length?n+=i:n+=i.slice(0,t),0==(t-=s)){s===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=u.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,s=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,s),0==(t-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,e}},{key:l,value:function(t,e){return c(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},61195:(t,e,r)=>{"use strict";var n=r(34155);function i(t,e){o(t,e),s(t)}function s(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,t)):n.nextTick(o,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,t)):n.nextTick(i,r,t):e?(n.nextTick(s,r),e(t)):n.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:(t,e,r)=>{"use strict";var n=r(94281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){a=!1,c=!0,o||s.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){o=!1,h=!0,a||s.call(e)},d=function(t){s.call(e,t)},p=function(){var t;return o&&!h?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(e)?a&&!e._writableState&&(e.on("end",u),e.on("close",u)):(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)),e.on("end",f),e.on("finish",l),!1!==r.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},15167:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},59946:(t,e,r)=>{"use strict";var n;var i=r(94281).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(t){t()}function c(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var l,h=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var f=e.map((function(t,i){var s=i<e.length-1;return function(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(t,{readable:e,writable:i},(function(t){if(t)return s(t);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,(function(t){l||(l=t),t&&f.forEach(u),s||(f.forEach(u),h(l))}))}));return e.reduce(c)}},82457:(t,e,r)=>{"use strict";var n=r(94281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},22503:(t,e,r)=>{t.exports=r(17187).EventEmitter},88473:(t,e,r)=>{(e=t.exports=r(79481)).Stream=e,e.Readable=e,e.Writable=r(64229),e.Duplex=r(56753),e.Transform=r(74605),e.PassThrough=r(82725),e.finished=r(8610),e.pipeline=r(59946)},79785:(t,e,r)=>{"use strict";var n=r(48764).Buffer,i=r(35717),s=r(3349),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,r,n,i,s,o,a){return p(t+(e^r^n)+s+o|0,a)+i|0}function g(t,e,r,n,i,s,o,a){return p(t+(e&r|~e&n)+s+o|0,a)+i|0}function y(t,e,r,n,i,s,o,a){return p(t+((e|~r)^n)+s+o|0,a)+i|0}function v(t,e,r,n,i,s,o,a){return p(t+(e&n|r&~n)+s+o|0,a)+i|0}function b(t,e,r,n,i,s,o,a){return p(t+(e^(r|~n))+s+o|0,a)+i|0}i(d,s),d.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,d=0|this._e,w=0|this._a,_=0|this._b,E=0|this._c,S=0|this._d,x=0|this._e,M=0;M<80;M+=1){var k,T;M<16?(k=m(r,n,i,s,d,t[a[M]],h[0],c[M]),T=b(w,_,E,S,x,t[u[M]],f[0],l[M])):M<32?(k=g(r,n,i,s,d,t[a[M]],h[1],c[M]),T=v(w,_,E,S,x,t[u[M]],f[1],l[M])):M<48?(k=y(r,n,i,s,d,t[a[M]],h[2],c[M]),T=y(w,_,E,S,x,t[u[M]],f[2],l[M])):M<64?(k=v(r,n,i,s,d,t[a[M]],h[3],c[M]),T=g(w,_,E,S,x,t[u[M]],f[3],l[M])):(k=b(r,n,i,s,d,t[a[M]],h[4],c[M]),T=m(w,_,E,S,x,t[u[M]],f[4],l[M])),r=d,d=s,s=p(i,10),i=n,n=k,w=x,x=S,S=p(E,10),E=_,_=T}var A=this._b+i+S|0;this._b=this._c+s+x|0,this._c=this._d+d+w|0,this._d=this._e+r+_|0,this._e=this._a+n+E|0,this._a=A},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},89509:(t,e,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(48764),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},2399:(t,e,r)=>{"use strict";var n,i=r(34155),s=r(48764),o=s.Buffer,a={};for(n in s)s.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=s[n]);var u=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(u[n]=o[n]);if(a.Buffer.prototype=o.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(t,e,r){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return o(t,e,r)}),u.alloc||(u.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=o(t);return e&&0!==e.length?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(t){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a},24189:(t,e,r)=>{var n=r(89509).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var u=o%i,c=Math.min(s-a,i-u),l=0;l<c;l++)r[u+l]=t[a+l];a+=c,(o+=c)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},89072:(t,e,r)=>{var n=t.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha=r(74448),n.sha1=r(18336),n.sha224=r(48432),n.sha256=r(67499),n.sha384=r(51686),n.sha512=r(87816)},74448:(t,e,r)=>{var n=r(35717),i=r(24189),s=r(89509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<30|t>>>2}function l(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,h=0;h<16;++h)r[h]=t.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((e=n)<<5|e>>>27)+l(d,i,s,a)+u+r[f]+o[d];u=a,a=s,s=c(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},18336:(t,e,r)=>{var n=r(35717),i=r(24189),s=r(89509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function h(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,f=0;f<16;++f)r[f]=t.readInt32BE(4*f);for(;f<80;++f)r[f]=(e=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=c(n)+h(p,i,s,a)+u+r[d]+o[p]|0;u=a,a=s,s=l(i),i=n,n=m}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},48432:(t,e,r)=>{var n=r(35717),i=r(67499),s=r(24189),o=r(89509).Buffer,a=new Array(64);function u(){this.init(),this._w=a,s.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},67499:(t,e,r)=>{var n=r(35717),i=r(24189),s=r(89509).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t,e,r){return r^t&(e^r)}function l(t,e,r){return t&e|r&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)r[y]=t.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((e=r[y-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[y-7]+d(r[y-15])+r[y-16];for(var v=0;v<64;++v){var b=g+f(u)+c(u,p,m)+o[v]+r[v]|0,w=h(n)+l(n,i,s)|0;g=m,m=p,p=u,u=a+b|0,a=s,s=i,i=n,n=b+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},51686:(t,e,r)=>{var n=r(35717),i=r(87816),s=r(24189),o=r(89509).Buffer,a=new Array(160);function u(){this.init(),this._w=a,s.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},87816:(t,e,r)=>{var n=r(35717),i=r(24189),s=r(89509).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(t,e,r){return r^t&(e^r)}function l(t,e,r){return t&e|r&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function y(t,e){return t>>>0<e>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,u=0|this._fh,v=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,E=0|this._cl,S=0|this._dl,x=0|this._el,M=0|this._fl,k=0|this._gl,T=0|this._hl,A=0;A<32;A+=2)e[A]=t.readInt32BE(4*A),e[A+1]=t.readInt32BE(4*A+4);for(;A<160;A+=2){var C=e[A-30],I=e[A-30+1],P=d(C,I),R=p(I,C),O=m(C=e[A-4],I=e[A-4+1]),D=g(I,C),L=e[A-14],N=e[A-14+1],F=e[A-32],B=e[A-32+1],j=R+N|0,z=P+L+y(j,R)|0;z=(z=z+O+y(j=j+D|0,D)|0)+F+y(j=j+B|0,B)|0,e[A]=z,e[A+1]=j}for(var U=0;U<160;U+=2){z=e[U],j=e[U+1];var V=l(r,n,i),q=l(w,_,E),G=h(r,w),H=h(w,r),$=f(a,x),W=f(x,a),K=o[U],Y=o[U+1],X=c(a,u,v),Q=c(x,M,k),J=T+W|0,Z=b+$+y(J,T)|0;Z=(Z=(Z=Z+X+y(J=J+Q|0,Q)|0)+K+y(J=J+Y|0,Y)|0)+z+y(J=J+j|0,j)|0;var tt=H+q|0,et=G+V+y(tt,H)|0;b=v,T=k,v=u,k=M,u=a,M=x,a=s+Z+y(x=S+J|0,S)|0,s=i,S=E,i=n,E=_,n=r,_=w,r=Z+et+y(w=J+tt|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+x|0,this._fl=this._fl+M|0,this._gl=this._gl+k|0,this._hl=this._hl+T|0,this._ah=this._ah+r+y(this._al,w)|0,this._bh=this._bh+n+y(this._bl,_)|0,this._ch=this._ch+i+y(this._cl,E)|0,this._dh=this._dh+s+y(this._dl,S)|0,this._eh=this._eh+a+y(this._el,x)|0,this._fh=this._fh+u+y(this._fl,M)|0,this._gh=this._gh+v+y(this._gl,k)|0,this._hh=this._hh+b+y(this._hl,T)|0},u.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},42830:(t,e,r)=>{t.exports=i;var n=r(17187).EventEmitter;function i(){n.call(this)}r(35717)(i,n),i.Readable=r(79481),i.Writable=r(64229),i.Duplex=r(56753),i.Transform=r(74605),i.PassThrough=r(82725),i.finished=r(8610),i.pipeline=r(59946),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",s),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var o=!1;function a(){o||(o=!0,t.end())}function u(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===n.listenerCount(this,"error"))throw t}function l(){r.removeListener("data",i),t.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("error",c),t.on("error",c),r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t}},32553:(t,e,r)=>{"use strict";var n=r(89509).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=o(e[n]),i>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=o(e[n]),i>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},94927:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},91496:t=>{"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},20384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},89539:(t,e,r)=>{var n=r(34155),i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=s)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),u=n[r];r<s;u=n[++r])m(u)||!w(u)?o+=" "+u:o+=" "+a(u);return o},e.deprecate=function(t,i){if(v(r.g.process))return function(){return e.deprecate(t,i).apply(this,arguments)};if(!0===n.noDeprecation)return t;var s=!1;return function(){if(!s){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}};var s,o={};function a(t,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&e._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,t,n.depth)}function u(t,e){var r=a.styles[e];return r?"\x1b["+a.colors[r][0]+"m"+t+"\x1b["+a.colors[r][1]+"m":t}function c(t,e){return t}function l(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return y(i)||(i=l(t,i,n)),i}var s=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(y(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(g(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,r);if(s)return s;var o=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),E(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(r);if(0===o.length){if(S(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return t.stylize(Date.prototype.toString.call(r),"date");if(E(r))return h(r)}var c,w="",x=!1,M=["{","}"];(d(r)&&(x=!0,M=["[","]"]),S(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),_(r)&&(w=" "+Date.prototype.toUTCString.call(r)),E(r)&&(w=" "+h(r)),0!==o.length||x&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=x?function(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)T(e,String(o))?s.push(f(t,e,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(f(t,e,r,n,i,!0))})),s}(t,r,n,a,o):o.map((function(e){return f(t,r,n,a,e,x)})),t.seen.pop(),function(t,e,r){var n=t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,w,M)):M[0]+w+M[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,i,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),T(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(r)?l(t,u.value,null):l(t,u.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===x(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===x(t)}function E(t){return w(t)&&("[object Error]"===x(t)||t instanceof Error)}function S(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function M(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(v(s)&&(s={ENV:"production",BABEL_ENV:"production",BFF_EXTENSION:"https://api-extension.meliuz.com.br",AZION_FF_ROUTE:"https://api-extension-ff.meliuz.com.br",BFF_CUSTOMER_CARD:"https://api-customer.cartaomeliuz.com.br",MELIUZ_URL:"https://www.meliuz.com.br",STATIC_MELIUZ:"https://static.meliuz.com.br/",FIREBASE_KEY:"AIzaSyCbK3JbSljRUhsYFQwesv4-ekZKKgNMV40",FIREBASE_ID:"lembrador-e49af",CLIENT_SECRET:"8b979018cdab447f6733b76bb75e493c6b93103d",CLIENT_ID_BFF:"meliuz-extension-production",CLIENT_SECRET_BFF:"zC73dgg9KMuXyCUGLRyL12yn7bnC1R",GA_TRACKING_ID:"UA-26865030-3",GA_TRACKING_ID_SITE:"UA-26865030-1",CUSTOM_REQUESTS_HEADER:"X-Meliuz-Client",GCP_FUNCTIONS_URL:"https://us-central1-meliuz-traceability-prd.cloudfunctions.net/predict",CLOUD_FUNCTION_PROJECT:"e49af",ANODOT_ID:"8dfc79c8af290de422fd975b9b04ee80",SENTRY_DSN:"https://91ef845682c34dd1b776781f0ee7d4bb@o51760.ingest.sentry.io/4505133381713920",SENTRY_TRACES_SAMPLE_RATE:"1.0",GA4_API_SECRET:"Dxk9AwQzS5qvLbkJTvAmgw",GA4_MEASUREMENT_ID:"G-W2B9H0ZM8H",GA4_ENDPOINT:"https://www.google-analytics.com/mp/collect"}.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(s)){var r=n.pid;o[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else o[t]=function(){};return o[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=E,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(20384);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":"),[t.getDate(),k[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(91496),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}},80950:()=>{},46601:()=>{},89214:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},56619:()=>{},77108:()=>{},52361:()=>{},94616:()=>{},73897:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},85372:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},17156:t=>{function e(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(i,s){var o=t.apply(r,n);function a(t){e(o,i,s,a,u,"next",t)}function u(t){e(o,i,s,a,u,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},38416:(t,e,r)=>{var n=r(64062);t.exports=function(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},64836:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},79498:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},68872:t=>{t.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,s,o,a=[],u=!0,c=!1;try{if(s=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},12218:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},70215:(t,e,r)=>{var n=r(7071);t.exports=function(t,e){if(null==t)return{};var r,i,s=n(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s},t.exports.__esModule=!0,t.exports.default=t.exports},7071:t=>{t.exports=function(t,e){if(null==t)return{};var r,n,i={},s=Object.keys(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||(i[r]=t[r]);return i},t.exports.__esModule=!0,t.exports.default=t.exports},17061:(t,e,r)=>{var n=r(18698).default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=i=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(e){f=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var i=e&&e.prototype instanceof w?e:w,s=Object.create(i.prototype),o=new O(n||[]);return a(s,"_invoke",{value:C(t,r,o)}),s}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=d;var m="suspendedStart",g="suspendedYield",y="executing",v="completed",b={};function w(){}function _(){}function E(){}var S={};f(S,c,(function(){return this}));var x=Object.getPrototypeOf,M=x&&x(x(D([])));M&&M!==s&&o.call(M,c)&&(S=M);var k=E.prototype=w.prototype=Object.create(S);function T(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,s,a,u){var c=p(t[i],t,s);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==n(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function s(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(s,s):s()}})}function C(t,r,n){var i=m;return function(s,o){if(i===y)throw new Error("Generator is already running");if(i===v){if("throw"===s)throw o;return{value:e,done:!0}}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var u=I(a,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===m)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=y;var c=p(t,r,n);if("normal"===c.type){if(i=n.done?v:g,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var s=p(i,t.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,b;var o=s.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}throw new TypeError(n(t)+" is not iterable")}return _.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:_,configurable:!0}),_.displayName=f(E,h,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,h,"GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},T(A.prototype),f(A.prototype,l,(function(){return this})),r.AsyncIterator=A,r.async=function(t,e,n,i,s){void 0===s&&(s=Promise);var o=new A(d(t,e,n,i),s);return r.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(k),f(k,h,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=D,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return a.type="throw",a.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},r}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},27424:(t,e,r)=>{var n=r(85372),i=r(68872),s=r(86116),o=r(12218);t.exports=function(t,e){return n(t)||i(t,e)||s(t,e)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},51589:(t,e,r)=>{var n=r(85372),i=r(79498),s=r(86116),o=r(12218);t.exports=function(t){return n(t)||i(t)||s(t)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},95036:(t,e,r)=>{var n=r(18698).default;t.exports=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},64062:(t,e,r)=>{var n=r(18698).default,i=r(95036);t.exports=function(t){var e=i(t,"string");return"symbol"==n(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},18698:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},86116:(t,e,r)=>{var n=r(73897);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},64687:(t,e,r)=>{var n=r(17061)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},56281:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_OPTIONS=e.exponentialDelay=e.isNetworkOrIdempotentRequestError=e.isIdempotentRequestError=e.isSafeRequestError=e.isRetryableError=e.isNetworkError=e.namespace=void 0;const s=i(r(29367));function o(t){return!t.response&&(!!t.code&&(!["ERR_CANCELED","ECONNABORTED"].includes(t.code)&&(0,s.default)(t)))}e.namespace="axios-retry",e.isNetworkError=o;const a=["get","head","options"],u=a.concat(["put","delete"]);function c(t){return"ECONNABORTED"!==t.code&&(!t.response||t.response.status>=500&&t.response.status<=599)}function l(t){var e;return!!(null===(e=t.config)||void 0===e?void 0:e.method)&&(c(t)&&-1!==a.indexOf(t.config.method))}function h(t){var e;return!!(null===(e=t.config)||void 0===e?void 0:e.method)&&(c(t)&&-1!==u.indexOf(t.config.method))}function f(t){return o(t)||h(t)}function d(t=0,e=void 0,r=100){const n=Math.pow(2,t)*r;return n+.2*n*Math.random()}function p(t,r){const n=function(t,r){return Object.assign(Object.assign(Object.assign({},e.DEFAULT_OPTIONS),r),t[e.namespace])}(t,r||{});return n.retryCount=n.retryCount||0,n.lastRequestTime=n.lastRequestTime||Date.now(),t[e.namespace]=n,n}e.isRetryableError=c,e.isSafeRequestError=l,e.isIdempotentRequestError=h,e.isNetworkOrIdempotentRequestError=f,e.exponentialDelay=d,e.DEFAULT_OPTIONS={retries:3,retryCondition:f,retryDelay:function(){return 0},shouldResetTimeout:!1,onRetry:()=>{}};const m=(t,e)=>({requestInterceptorId:t.interceptors.request.use((t=>(p(t,e),t))),responseInterceptorId:t.interceptors.response.use(null,(r=>n(void 0,void 0,void 0,(function*(){const{config:i}=r;if(!i)return Promise.reject(r);const s=p(i,e);if(yield function(t,e){return n(this,void 0,void 0,(function*(){const{retries:r,retryCondition:n}=t,i=(t.retryCount||0)<r&&n(e);if("object"==typeof i)try{return!1!==(yield i)}catch(t){return!1}return i}))}(s,r)){s.retryCount+=1;const{retryDelay:e,shouldResetTimeout:n,onRetry:o}=s,a=e(s.retryCount,r);if(function(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}(t,i),!n&&i.timeout&&s.lastRequestTime){const t=Date.now()-s.lastRequestTime,e=i.timeout-t-a;if(e<=0)return Promise.reject(r);i.timeout=e}return i.transformRequest=[t=>t],yield o(s.retryCount,r,i),new Promise((e=>{setTimeout((()=>e(t(i))),a)}))}return Promise.reject(r)}))))});m.isNetworkError=o,m.isSafeRequestError=l,m.isIdempotentRequestError=h,m.isNetworkOrIdempotentRequestError=f,m.exponentialDelay=d,m.isRetryableError=c,e.default=m},97218:(t,e,r)=>{"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,o=(a=Object.create(null),t=>{const e=i.call(t);return a[e]||(a[e]=e.slice(8,-1).toLowerCase())});var a;const u=t=>(t=t.toLowerCase(),e=>o(e)===t),c=t=>e=>typeof e===t,{isArray:l}=Array,h=c("undefined");const f=u("ArrayBuffer");const d=c("string"),p=c("function"),m=c("number"),g=t=>null!==t&&"object"==typeof t,y=t=>{if("object"!==o(t))return!1;const e=s(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},v=u("Date"),b=u("File"),w=u("Blob"),_=u("FileList"),E=u("URLSearchParams");function S(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,i;if("object"!=typeof t&&(t=[t]),l(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function x(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,k=t=>!h(t)&&t!==M;const T=(A="undefined"!=typeof Uint8Array&&s(Uint8Array),t=>A&&t instanceof A);var A;const C=u("HTMLFormElement"),I=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),P=u("RegExp"),R=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};S(r,((r,i)=>{let s;!1!==(s=e(r,i,t))&&(n[i]=s||r)})),Object.defineProperties(t,n)},O="abcdefghijklmnopqrstuvwxyz",D="0123456789",L={DIGIT:D,ALPHA:O,ALPHA_DIGIT:O+O.toUpperCase()+D};const N=u("AsyncFunction");var F={isArray:l,isArrayBuffer:f,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&p(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||p(t.append)&&("formdata"===(e=o(t))||"object"===e&&p(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&f(t.buffer),e},isString:d,isNumber:m,isBoolean:t=>!0===t||!1===t,isObject:g,isPlainObject:y,isUndefined:h,isDate:v,isFile:b,isBlob:w,isRegExp:P,isFunction:p,isStream:t=>g(t)&&p(t.pipe),isURLSearchParams:E,isTypedArray:T,isFileList:_,forEach:S,merge:function t(){const{caseless:e}=k(this)&&this||{},r={},n=(n,i)=>{const s=e&&x(r,i)||i;y(r[s])&&y(n)?r[s]=t(r[s],n):y(n)?r[s]=t({},n):l(n)?r[s]=n.slice():r[s]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&S(arguments[t],n);return r},extend:(t,e,r,{allOwnKeys:i}={})=>(S(e,((e,i)=>{r&&p(e)?t[i]=n(e,r):t[i]=e}),{allOwnKeys:i}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let i,o,a;const u={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],n&&!n(a,t,e)||u[a]||(e[a]=t[a],u[a]=!0);t=!1!==r&&s(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:o,kindOfTest:u,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(l(t))return t;let e=t.length;if(!m(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:C,hasOwnProperty:I,hasOwnProp:I,reduceDescriptors:R,freezeMethods:t=>{R(t,((e,r)=>{if(p(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];p(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return l(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:x,global:M,isContextDefined:k,ALPHABET:L,generateString:(t=16,e=L.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r},isSpecCompliantForm:function(t){return!!(t&&p(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(g(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const i=l(t)?[]:{};return S(t,((t,e)=>{const s=r(t,n+1);!h(s)&&(i[e]=s)})),e[n]=void 0,i}}return t};return r(t,0)},isAsyncFn:N,isThenable:t=>t&&(g(t)||p(t))&&p(t.then)&&p(t.catch)};function B(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}F.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const j=B.prototype,z={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{z[t]={value:t}})),Object.defineProperties(B,z),Object.defineProperty(j,"isAxiosError",{value:!0}),B.from=(t,e,r,n,i,s)=>{const o=Object.create(j);return F.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),B.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};function U(t){return F.isPlainObject(t)||F.isArray(t)}function V(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function q(t,e,r){return t?t.concat(e).map((function(t,e){return t=V(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const G=F.toFlatObject(F,{},null,(function(t){return/^is[A-Z]/.test(t)}));function H(t,e,r){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(r=F.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!F.isUndefined(e[t])}))).metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(F.isDate(t))return t.toISOString();if(!a&&F.isBlob(t))throw new B("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(t)||F.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,r,i){let a=t;if(t&&!i&&"object"==typeof t)if(F.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(F.isArray(t)&&function(t){return F.isArray(t)&&!t.some(U)}(t)||(F.isFileList(t)||F.endsWith(r,"[]"))&&(a=F.toArray(t)))return r=V(r),a.forEach((function(t,n){!F.isUndefined(t)&&null!==t&&e.append(!0===o?q([r],n,s):null===o?r:r+"[]",u(t))})),!1;return!!U(t)||(e.append(q(i,r,s),u(t)),!1)}const l=[],h=Object.assign(G,{defaultVisitor:c,convertValue:u,isVisitable:U});if(!F.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!F.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),F.forEach(r,(function(r,s){!0===(!(F.isUndefined(r)||null===r)&&i.call(e,r,F.isString(s)?s.trim():s,n,h))&&t(r,n?n.concat(s):[s])})),l.pop()}}(t),e}function $(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function W(t,e){this._pairs=[],t&&H(t,this,e)}const K=W.prototype;function Y(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X(t,e,r){if(!e)return t;const n=r&&r.encode||Y,i=r&&r.serialize;let s;if(s=i?i(e,r):F.isURLSearchParams(e)?e.toString():new W(e,r).toString(n),s){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}K.append=function(t,e){this._pairs.push([t,e])},K.toString=function(t){const e=t?function(e){return t.call(this,e,$)}:$;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Q=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},J={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:W,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const tt="undefined"!=typeof window&&"undefined"!=typeof document,et=(rt="undefined"!=typeof navigator&&navigator.product,tt&&["ReactNative","NativeScript","NS"].indexOf(rt)<0);var rt;const nt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var it={...Object.freeze({__proto__:null,hasBrowserEnv:tt,hasStandardBrowserWebWorkerEnv:nt,hasStandardBrowserEnv:et}),...Z};function st(t){function e(t,r,n,i){let s=t[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=t.length;if(s=!s&&F.isArray(n)?n.length:s,a)return F.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o;n[s]&&F.isObject(n[s])||(n[s]=[]);return e(t,r,n[s],i)&&F.isArray(n[s])&&(n[s]=function(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}(n[s])),!o}if(F.isFormData(t)&&F.isFunction(t.entries)){const r={};return F.forEachEntry(t,((t,n)=>{e(function(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null}const ot={transitional:J,adapter:["xhr","http"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,i=F.isObject(t);i&&F.isHTMLForm(t)&&(t=new FormData(t));if(F.isFormData(t))return n&&n?JSON.stringify(st(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return H(t,new it.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return it.isNode&&F.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((s=F.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return H(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),function(t,e,r){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||ot.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(t&&F.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw B.from(t,B.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:it.classes.FormData,Blob:it.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],(t=>{ot.headers[t]={}}));var at=ot;const ut=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const ct=Symbol("internals");function lt(t){return t&&String(t).trim().toLowerCase()}function ht(t){return!1===t||null==t?t:F.isArray(t)?t.map(ht):String(t)}function ft(t,e,r,n,i){return F.isFunction(n)?n.call(this,e,r):(i&&(e=r),F.isString(e)?F.isString(n)?-1!==e.indexOf(n):F.isRegExp(n)?n.test(e):void 0:void 0)}class dt{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function i(t,e,r){const i=lt(e);if(!i)throw new Error("header name must be a non-empty string");const s=F.findKey(n,i);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||e]=ht(t))}const s=(t,e)=>F.forEach(t,((t,r)=>i(t,r,e)));return F.isPlainObject(t)||t instanceof this.constructor?s(t,e):F.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?s((t=>{const e={};let r,n,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),r=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!r||e[r]&&ut[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e):null!=t&&i(e,t,r),this}get(t,e){if(t=lt(t)){const r=F.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(F.isFunction(e))return e.call(this,t,r);if(F.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=lt(t)){const r=F.findKey(this,t);return!(!r||void 0===this[r]||e&&!ft(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function i(t){if(t=lt(t)){const i=F.findKey(r,t);!i||e&&!ft(0,r[i],i,e)||(delete r[i],n=!0)}}return F.isArray(t)?t.forEach(i):i(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const i=e[r];t&&!ft(0,this[i],i,t,!0)||(delete this[i],n=!0)}return n}normalize(t){const e=this,r={};return F.forEach(this,((n,i)=>{const s=F.findKey(r,i);if(s)return e[s]=ht(n),void delete e[i];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(i):String(i).trim();o!==i&&delete e[i],e[o]=ht(n),r[o]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return F.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&F.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[ct]=this[ct]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=lt(t);e[n]||(!function(t,e){const r=F.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})}))}(r,t),e[n]=!0)}return F.isArray(t)?t.forEach(n):n(t),this}}dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.reduceDescriptors(dt.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),F.freezeMethods(dt);var pt=dt;function mt(t,e){const r=this||at,n=e||r,i=pt.from(n.headers);let s=n.data;return F.forEach(t,(function(t){s=t.call(r,s,i.normalize(),e?e.status:void 0)})),i.normalize(),s}function gt(t){return!(!t||!t.__CANCEL__)}function yt(t,e,r){B.call(this,null==t?"canceled":t,B.ERR_CANCELED,e,r),this.name="CanceledError"}F.inherits(yt,B,{__CANCEL__:!0});var vt=it.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];F.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),F.isString(n)&&o.push("path="+n),F.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var wt=it.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function n(r){let n=r;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=n(window.location.href),function(t){const e=F.isString(t)?n(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0};function _t(t,e){let r=0;const n=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,s=0,o=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),c=n[o];i||(i=u),r[s]=a,n[s]=u;let l=o,h=0;for(;l!==s;)h+=r[l++],l%=t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),u-i<e)return;const f=c&&u-c;return f?Math.round(1e3*h/f):void 0}}(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,u=n(a);r=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&s<=o?(o-s)/u:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const Et={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){let n=t.data;const i=pt.from(t.headers).normalize();let s,o,{responseType:a,withXSRFToken:u}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}if(F.isFormData(n))if(it.hasStandardBrowserEnv||it.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[t,...e]=o?o.split(";").map((t=>t.trim())).filter(Boolean):[];i.setContentType([t||"multipart/form-data",...e].join("; "))}let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",r=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+r))}const h=bt(t.baseURL,t.url);function f(){if(!l)return;const n=pt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new B("Request failed with status code "+r.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}((function(t){e(t),c()}),(function(t){r(t),c()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:n,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),X(h,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(r(new B("Request aborted",B.ECONNABORTED,t,l)),l=null)},l.onerror=function(){r(new B("Network Error",B.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const n=t.transitional||J;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new B(e,n.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,t,l)),l=null},it.hasStandardBrowserEnv&&(u&&F.isFunction(u)&&(u=u(t)),u||!1!==u&&wt(h))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&vt.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===n&&i.setContentType(null),"setRequestHeader"in l&&F.forEach(i.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),F.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),a&&"json"!==a&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",_t(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",_t(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{l&&(r(!e||e.type?new yt(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const d=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(h);d&&-1===it.protocols.indexOf(d)?r(new B("Unsupported protocol "+d+":",B.ERR_BAD_REQUEST,t)):l.send(n||null)}))}};F.forEach(Et,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const St=t=>`- ${t}`,xt=t=>F.isFunction(t)||null===t||!1===t;var Mt=t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){let e;if(r=t[s],n=r,!xt(r)&&(n=Et[(e=String(r)).toLowerCase()],void 0===n))throw new B(`Unknown adapter '${e}'`);if(n)break;i[e||"#"+s]=n}if(!n){const t=Object.entries(i).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new B("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map(St).join("\n"):" "+St(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function kt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yt(null,t)}function Tt(t){kt(t),t.headers=pt.from(t.headers),t.data=mt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Mt(t.adapter||at.adapter)(t).then((function(e){return kt(t),e.data=mt.call(t,t.transformResponse,e),e.headers=pt.from(e.headers),e}),(function(e){return gt(e)||(kt(t),e&&e.response&&(e.response.data=mt.call(t,t.transformResponse,e.response),e.response.headers=pt.from(e.response.headers))),Promise.reject(e)}))}const At=t=>t instanceof pt?t.toJSON():t;function Ct(t,e){e=e||{};const r={};function n(t,e,r){return F.isPlainObject(t)&&F.isPlainObject(e)?F.merge.call({caseless:r},t,e):F.isPlainObject(e)?F.merge({},e):F.isArray(e)?e.slice():e}function i(t,e,r){return F.isUndefined(e)?F.isUndefined(t)?void 0:n(void 0,t,r):n(t,e,r)}function s(t,e){if(!F.isUndefined(e))return n(void 0,e)}function o(t,e){return F.isUndefined(e)?F.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,i,s){return s in e?n(r,i):s in t?n(void 0,r):void 0}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(t,e)=>i(At(t),At(e),!0)};return F.forEach(Object.keys(Object.assign({},t,e)),(function(n){const s=u[n]||i,o=s(t[n],e[n],n);F.isUndefined(o)&&s!==a||(r[n]=o)})),r}const It="1.6.5",Pt={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Pt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const Rt={};Pt.transitional=function(t,e,r){function n(t,e){return"[Axios v1.6.5] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,s)=>{if(!1===t)throw new B(n(i," has been removed"+(e?" in "+e:"")),B.ERR_DEPRECATED);return e&&!Rt[i]&&(Rt[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,s)}};var Ot={assertOptions:function(t,e,r){if("object"!=typeof t)throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const e=t[s],r=void 0===e||o(e,s,t);if(!0!==r)throw new B("option "+s+" must be "+r,B.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new B("Unknown option "+s,B.ERR_BAD_OPTION)}},validators:Pt};const Dt=Ot.validators;class Lt{constructor(t){this.defaults=t,this.interceptors={request:new Q,response:new Q}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Ct(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:i}=e;void 0!==r&&Ot.assertOptions(r,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),null!=n&&(F.isFunction(n)?e.paramsSerializer={serialize:n}:Ot.assertOptions(n,{encode:Dt.function,serialize:Dt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=i&&F.merge(i.common,i[e.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=pt.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let l,h=0;if(!a){const t=[Tt.bind(this),void 0];for(t.unshift.apply(t,o),t.push.apply(t,u),l=t.length,c=Promise.resolve(e);h<l;)c=c.then(t[h++],t[h++]);return c}l=o.length;let f=e;for(h=0;h<l;){const t=o[h++],e=o[h++];try{f=t(f)}catch(t){e.call(this,t);break}}try{c=Tt.call(this,f)}catch(t){return Promise.reject(t)}for(h=0,l=u.length;h<l;)c=c.then(u[h++],u[h++]);return c}getUri(t){return X(bt((t=Ct(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}F.forEach(["delete","get","head","options"],(function(t){Lt.prototype[t]=function(e,r){return this.request(Ct(r||{},{method:t,url:e,data:(r||{}).data}))}})),F.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(Ct(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Lt.prototype[t]=e(),Lt.prototype[t+"Form"]=e(!0)}));var Nt=Lt;class Ft{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new yt(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Ft((function(e){t=e})),cancel:t}}}var Bt=Ft;const jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jt).forEach((([t,e])=>{jt[e]=t}));var zt=jt;const Ut=function t(e){const r=new Nt(e),i=n(Nt.prototype.request,r);return F.extend(i,Nt.prototype,r,{allOwnKeys:!0}),F.extend(i,r,null,{allOwnKeys:!0}),i.create=function(r){return t(Ct(e,r))},i}(at);Ut.Axios=Nt,Ut.CanceledError=yt,Ut.CancelToken=Bt,Ut.isCancel=gt,Ut.VERSION=It,Ut.toFormData=H,Ut.AxiosError=B,Ut.Cancel=Ut.CanceledError,Ut.all=function(t){return Promise.all(t)},Ut.spread=function(t){return function(e){return t.apply(null,e)}},Ut.isAxiosError=function(t){return F.isObject(t)&&!0===t.isAxiosError},Ut.mergeConfig=Ct,Ut.AxiosHeaders=pt,Ut.formToJSON=t=>st(F.isHTMLForm(t)?new FormData(t):t),Ut.getAdapter=Mt,Ut.HttpStatusCode=zt,Ut.default=Ut,t.exports=Ut},10509:(t,e,r)=>{"use strict";var n=r(69985),i=r(23691),s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(i(t)+" is not a function")}},52655:(t,e,r)=>{"use strict";var n=r(19429),i=r(23691),s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(i(t)+" is not a constructor")}},23550:(t,e,r)=>{"use strict";var n=r(60598),i=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw new s("Can't set "+i(t)+" as a prototype")}},87370:(t,e,r)=>{"use strict";var n=r(44201),i=r(25391),s=r(72560).f,o=n("unscopables"),a=Array.prototype;void 0===a[o]&&s(a,o,{configurable:!0,value:i(null)}),t.exports=function(t){a[o][t]=!0}},71514:(t,e,r)=>{"use strict";var n=r(10730).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},767:(t,e,r)=>{"use strict";var n=r(23622),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},85027:(t,e,r)=>{"use strict";var n=r(48999),i=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(i(t)+" is not an object")}},37075:t=>{"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},11655:(t,e,r)=>{"use strict";var n=r(3689);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},54872:(t,e,r)=>{"use strict";var n,i,s,o=r(37075),a=r(67697),u=r(19037),c=r(69985),l=r(48999),h=r(36812),f=r(50926),d=r(23691),p=r(75773),m=r(11880),g=r(62148),y=r(23622),v=r(61868),b=r(49385),w=r(44201),_=r(14630),E=r(618),S=E.enforce,x=E.get,M=u.Int8Array,k=M&&M.prototype,T=u.Uint8ClampedArray,A=T&&T.prototype,C=M&&v(M),I=k&&v(k),P=Object.prototype,R=u.TypeError,O=w("toStringTag"),D=_("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",N=o&&!!b&&"Opera"!==f(u.opera),F=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},z=function(t){var e=v(t);if(l(e)){var r=x(e);return r&&h(r,L)?r[L]:z(e)}},U=function(t){if(!l(t))return!1;var e=f(t);return h(B,e)||h(j,e)};for(n in B)(s=(i=u[n])&&i.prototype)?S(s)[L]=i:N=!1;for(n in j)(s=(i=u[n])&&i.prototype)&&(S(s)[L]=i);if((!N||!c(C)||C===Function.prototype)&&(C=function(){throw new R("Incorrect invocation")},N))for(n in B)u[n]&&b(u[n],C);if((!N||!I||I===P)&&(I=C.prototype,N))for(n in B)u[n]&&b(u[n].prototype,I);if(N&&v(A)!==I&&b(A,I),a&&!h(I,O))for(n in F=!0,g(I,O,{configurable:!0,get:function(){return l(this)?this[D]:void 0}}),B)u[n]&&p(u[n],D,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:F&&D,aTypedArray:function(t){if(U(t))return t;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!b||y(C,t)))return t;throw new R(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(a){if(r)for(var i in B){var s=u[i];if(s&&h(s.prototype,t))try{delete s.prototype[t]}catch(r){try{s.prototype[t]=e}catch(t){}}}I[t]&&!r||m(I,t,r?e:N&&k[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(a){if(b){if(r)for(n in B)if((i=u[n])&&h(i,t))try{delete i[t]}catch(t){}if(C[t]&&!r)return;try{return m(C,t,r?e:N&&C[t]||e)}catch(t){}}for(n in B)!(i=u[n])||i[t]&&!r||m(i,t,e)}},getTypedArrayConstructor:z,isView:function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||h(B,e)||h(j,e)},isTypedArray:U,TypedArray:C,TypedArrayPrototype:I}},83999:(t,e,r)=>{"use strict";var n=r(19037),i=r(68844),s=r(67697),o=r(37075),a=r(41236),u=r(75773),c=r(62148),l=r(6045),h=r(3689),f=r(767),d=r(68700),p=r(43126),m=r(19842),g=r(37788),y=r(15477),v=r(61868),b=r(49385),w=r(62872),_=r(96004),E=r(33457),S=r(8758),x=r(55997),M=r(618),k=a.PROPER,T=a.CONFIGURABLE,A="ArrayBuffer",C="DataView",I="prototype",P="Wrong index",R=M.getterFor(A),O=M.getterFor(C),D=M.set,L=n[A],N=L,F=N&&N[I],B=n[C],j=B&&B[I],z=Object.prototype,U=n.Array,V=n.RangeError,q=i(w),G=i([].reverse),H=y.pack,$=y.unpack,W=function(t){return[255&t]},K=function(t){return[255&t,t>>8&255]},Y=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},X=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Q=function(t){return H(g(t),23,4)},J=function(t){return H(t,52,8)},Z=function(t,e,r){c(t[I],e,{configurable:!0,get:function(){return r(this)[e]}})},tt=function(t,e,r,n){var i=O(t),s=m(r),o=!!n;if(s+e>i.byteLength)throw new V(P);var a=i.bytes,u=s+i.byteOffset,c=_(a,u,u+e);return o?c:G(c)},et=function(t,e,r,n,i,s){var o=O(t),a=m(r),u=n(+i),c=!!s;if(a+e>o.byteLength)throw new V(P);for(var l=o.bytes,h=a+o.byteOffset,f=0;f<e;f++)l[h+f]=u[c?f:e-f-1]};if(o){var rt=k&&L.name!==A;h((function(){L(1)}))&&h((function(){new L(-1)}))&&!h((function(){return new L,new L(1.5),new L(NaN),1!==L.length||rt&&!T}))?rt&&T&&u(L,"name",A):((N=function(t){return f(this,F),E(new L(m(t)),this,N)})[I]=F,F.constructor=N,S(N,L)),b&&v(j)!==z&&b(j,z);var nt=new B(new N(2)),it=i(j.setInt8);nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||l(j,{setInt8:function(t,e){it(this,t,e<<24>>24)},setUint8:function(t,e){it(this,t,e<<24>>24)}},{unsafe:!0})}else F=(N=function(t){f(this,F);var e=m(t);D(this,{type:A,bytes:q(U(e),0),byteLength:e}),s||(this.byteLength=e,this.detached=!1)})[I],j=(B=function(t,e,r){f(this,j),f(t,F);var n=R(t),i=n.byteLength,o=d(e);if(o<0||o>i)throw new V("Wrong offset");if(o+(r=void 0===r?i-o:p(r))>i)throw new V("Wrong length");D(this,{type:C,buffer:t,byteLength:r,byteOffset:o,bytes:n.bytes}),s||(this.buffer=t,this.byteLength=r,this.byteOffset=o)})[I],s&&(Z(N,"byteLength",R),Z(B,"buffer",O),Z(B,"byteLength",O),Z(B,"byteOffset",O)),l(j,{getInt8:function(t){return tt(this,1,t)[0]<<24>>24},getUint8:function(t){return tt(this,1,t)[0]},getInt16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return X(tt(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return X(tt(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return $(tt(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return $(tt(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){et(this,1,t,W,e)},setUint8:function(t,e){et(this,1,t,W,e)},setInt16:function(t,e){et(this,2,t,K,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){et(this,2,t,K,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){et(this,4,t,Y,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){et(this,4,t,Y,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){et(this,4,t,Q,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){et(this,8,t,J,e,arguments.length>2&&arguments[2])}});x(N,A),x(B,C),t.exports={ArrayBuffer:N,DataView:B}},70357:(t,e,r)=>{"use strict";var n=r(90690),i=r(27578),s=r(6310),o=r(98494),a=Math.min;t.exports=[].copyWithin||function(t,e){var r=n(this),u=s(r),c=i(t,u),l=i(e,u),h=arguments.length>2?arguments[2]:void 0,f=a((void 0===h?u:i(h,u))-l,u-c),d=1;for(l<c&&c<l+f&&(d=-1,l+=f-1,c+=f-1);f-- >0;)l in r?r[c]=r[l]:o(r,c),c+=d,l+=d;return r}},62872:(t,e,r)=>{"use strict";var n=r(90690),i=r(27578),s=r(6310);t.exports=function(t){for(var e=n(this),r=s(e),o=arguments.length,a=i(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>a;)e[a++]=t;return e}},57612:(t,e,r)=>{"use strict";var n=r(2960).forEach,i=r(16834)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},59976:(t,e,r)=>{"use strict";var n=r(6310);t.exports=function(t,e,r){for(var i=0,s=arguments.length>2?r:n(e),o=new t(s);s>i;)o[i]=e[i++];return o}},21055:(t,e,r)=>{"use strict";var n=r(54071),i=r(22615),s=r(90690),o=r(71228),a=r(93292),u=r(19429),c=r(6310),l=r(76522),h=r(5185),f=r(91664),d=Array;t.exports=function(t){var e=s(t),r=u(this),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m;g&&(m=n(m,p>2?arguments[2]:void 0));var y,v,b,w,_,E,S=f(e),x=0;if(!S||this===d&&a(S))for(y=c(e),v=r?new this(y):d(y);y>x;x++)E=g?m(e[x],x):e[x],l(v,x,E);else for(_=(w=h(e,S)).next,v=r?new this:[];!(b=i(_,w)).done;x++)E=g?o(w,m,[b.value,x],!0):b.value,l(v,x,E);return v.length=x,v}},84328:(t,e,r)=>{"use strict";var n=r(65290),i=r(27578),s=r(6310),o=function(t){return function(e,r,o){var a,u=n(e),c=s(u),l=i(o,c);if(t&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},61969:(t,e,r)=>{"use strict";var n=r(54071),i=r(94413),s=r(90690),o=r(6310),a=function(t){var e=1===t;return function(r,a,u){for(var c,l=s(r),h=i(l),f=o(h),d=n(a,u);f-- >0;)if(d(c=h[f],f,l))switch(t){case 0:return c;case 1:return f}return e?-1:void 0}};t.exports={findLast:a(0),findLastIndex:a(1)}},2960:(t,e,r)=>{"use strict";var n=r(54071),i=r(68844),s=r(94413),o=r(90690),a=r(6310),u=r(27120),c=i([].push),l=function(t){var e=1===t,r=2===t,i=3===t,l=4===t,h=6===t,f=7===t,d=5===t||h;return function(p,m,g,y){for(var v,b,w=o(p),_=s(w),E=a(_),S=n(m,g),x=0,M=y||u,k=e?M(p,E):r||f?M(p,0):void 0;E>x;x++)if((d||x in _)&&(b=S(v=_[x],x,w),t))if(e)k[x]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:c(k,v)}else switch(t){case 4:return!1;case 7:c(k,v)}return h?-1:i||l?l:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},60953:(t,e,r)=>{"use strict";var n=r(61735),i=r(65290),s=r(68700),o=r(6310),a=r(16834),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),f=l||!h;t.exports=f?function(t){if(l)return n(c,this,arguments)||0;var e=i(this),r=o(e),a=r-1;for(arguments.length>1&&(a=u(a,s(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:c},29042:(t,e,r)=>{"use strict";var n=r(3689),i=r(44201),s=r(3615),o=i("species");t.exports=function(t){return s>=51||!n((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},16834:(t,e,r)=>{"use strict";var n=r(3689);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},88820:(t,e,r)=>{"use strict";var n=r(10509),i=r(90690),s=r(94413),o=r(6310),a=TypeError,u=function(t){return function(e,r,u,c){var l=i(e),h=s(l),f=o(l);n(r);var d=t?f-1:0,p=t?-1:1;if(u<2)for(;;){if(d in h){c=h[d],d+=p;break}if(d+=p,t?d<0:f<=d)throw new a("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=p)d in h&&(c=r(c,h[d],d,l));return c}};t.exports={left:u(!1),right:u(!0)}},5649:(t,e,r)=>{"use strict";var n=r(67697),i=r(92297),s=TypeError,o=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!o(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},96004:(t,e,r)=>{"use strict";var n=r(68844);t.exports=n([].slice)},50382:(t,e,r)=>{"use strict";var n=r(96004),i=Math.floor,s=function(t,e){var r=t.length;if(r<8)for(var o,a,u=1;u<r;){for(a=u,o=t[u];a&&e(t[a-1],o)>0;)t[a]=t[--a];a!==u++&&(t[a]=o)}else for(var c=i(r/2),l=s(n(t,0,c),e),h=s(n(t,c),e),f=l.length,d=h.length,p=0,m=0;p<f||m<d;)t[p+m]=p<f&&m<d?e(l[p],h[m])<=0?l[p++]:h[m++]:p<f?l[p++]:h[m++];return t};t.exports=s},25271:(t,e,r)=>{"use strict";var n=r(92297),i=r(19429),s=r(48999),o=r(44201)("species"),a=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(i(e)&&(e===a||n(e.prototype))||s(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?a:e}},27120:(t,e,r)=>{"use strict";var n=r(25271);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},26166:(t,e,r)=>{"use strict";var n=r(6310);t.exports=function(t,e){for(var r=n(t),i=new e(r),s=0;s<r;s++)i[s]=t[r-s-1];return i}},16134:(t,e,r)=>{"use strict";var n=r(6310),i=r(68700),s=RangeError;t.exports=function(t,e,r,o){var a=n(t),u=i(r),c=u<0?a+u:u;if(c>=a||c<0)throw new s("Incorrect index");for(var l=new e(a),h=0;h<a;h++)l[h]=h===c?o:t[h];return l}},18368:t=>{"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e+"+/",n=e+"-_",i=function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e};t.exports={i2c:r,c2i:i(r),i2cUrl:n,c2iUrl:i(n)}},71228:(t,e,r)=>{"use strict";var n=r(85027),i=r(72125);t.exports=function(t,e,r,s){try{return s?e(n(r)[0],r[1]):e(r)}catch(e){i(t,"throw",e)}}},86431:(t,e,r)=>{"use strict";var n=r(44201)("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var r=!1;try{var s={};s[n]=function(){return{next:function(){return{done:r=!0}}}},t(s)}catch(t){}return r}},6648:(t,e,r)=>{"use strict";var n=r(68844),i=n({}.toString),s=n("".slice);t.exports=function(t){return s(i(t),8,-1)}},50926:(t,e,r)=>{"use strict";var n=r(23043),i=r(69985),s=r(6648),o=r(44201)("toStringTag"),a=Object,u="Arguments"===s(function(){return arguments}());t.exports=n?s:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?r:u?s(e):"Object"===(n=s(e))&&i(e.callee)?"Arguments":n}},70800:(t,e,r)=>{"use strict";var n=r(25391),i=r(62148),s=r(6045),o=r(54071),a=r(767),u=r(981),c=r(18734),l=r(91934),h=r(27807),f=r(14241),d=r(67697),p=r(45375).fastKey,m=r(618),g=m.set,y=m.getterFor;t.exports={getConstructor:function(t,e,r,l){var h=t((function(t,i){a(t,f),g(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),d||(t.size=0),u(i)||c(i,t[l],{that:t,AS_ENTRIES:r})})),f=h.prototype,m=y(e),v=function(t,e,r){var n,i,s=m(t),o=b(t,e);return o?o.value=r:(s.last=o={index:i=p(e,!0),key:e,value:r,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=o),n&&(n.next=o),d?s.size++:t.size++,"F"!==i&&(s.index[i]=o)),t},b=function(t,e){var r,n=m(t),i=p(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key===e)return r};return s(f,{clear:function(){for(var t=m(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),e=e.next;t.first=t.last=void 0,t.index=n(null),d?t.size=0:this.size=0},delete:function(t){var e=this,r=m(e),n=b(e,t);if(n){var i=n.next,s=n.previous;delete r.index[n.index],n.removed=!0,s&&(s.next=i),i&&(i.previous=s),r.first===n&&(r.first=i),r.last===n&&(r.last=s),d?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=m(this),n=o(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),s(f,r?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),d&&i(f,"size",{configurable:!0,get:function(){return m(this).size}}),h},setStrong:function(t,e,r){var n=e+" Iterator",i=y(e),s=y(n);l(t,e,(function(t,e){g(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=s(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?h("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=void 0,h(void 0,!0))}),r?"entries":"values",!r,!0),f(e)}}},70637:(t,e,r)=>{"use strict";var n=r(68844),i=r(6045),s=r(45375).getWeakData,o=r(767),a=r(85027),u=r(981),c=r(48999),l=r(18734),h=r(2960),f=r(36812),d=r(618),p=d.set,m=d.getterFor,g=h.find,y=h.findIndex,v=n([].splice),b=0,w=function(t){return t.frozen||(t.frozen=new _)},_=function(){this.entries=[]},E=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};_.prototype={get:function(t){var e=E(this,t);if(e)return e[1]},has:function(t){return!!E(this,t)},set:function(t,e){var r=E(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=y(this.entries,(function(e){return e[0]===t}));return~e&&v(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,r,n){var h=t((function(t,i){o(t,d),p(t,{type:e,id:b++,frozen:void 0}),u(i)||l(i,t[n],{that:t,AS_ENTRIES:r})})),d=h.prototype,g=m(e),y=function(t,e,r){var n=g(t),i=s(a(e),!0);return!0===i?w(n).set(e,r):i[n.id]=r,t};return i(d,{delete:function(t){var e=g(this);if(!c(t))return!1;var r=s(t);return!0===r?w(e).delete(t):r&&f(r,e.id)&&delete r[e.id]},has:function(t){var e=g(this);if(!c(t))return!1;var r=s(t);return!0===r?w(e).has(t):r&&f(r,e.id)}}),i(d,r?{get:function(t){var e=g(this);if(c(t)){var r=s(t);return!0===r?w(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return y(this,t,e)}}:{add:function(t){return y(this,t,!0)}}),h}}},20319:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(68844),o=r(35266),a=r(11880),u=r(45375),c=r(18734),l=r(767),h=r(69985),f=r(981),d=r(48999),p=r(3689),m=r(86431),g=r(55997),y=r(33457);t.exports=function(t,e,r){var v=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),w=v?"set":"add",_=i[t],E=_&&_.prototype,S=_,x={},M=function(t){var e=s(E[t]);a(E,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!d(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(o(t,!h(_)||!(b||E.forEach&&!p((function(){(new _).entries().next()})))))S=r.getConstructor(e,t,v,w),u.enable();else if(o(t,!0)){var k=new S,T=k[w](b?{}:-0,1)!==k,A=p((function(){k.has(1)})),C=m((function(t){new _(t)})),I=!b&&p((function(){for(var t=new _,e=5;e--;)t[w](e,e);return!t.has(-0)}));C||((S=e((function(t,e){l(t,E);var r=y(new _,t,S);return f(e)||c(e,r[w],{that:r,AS_ENTRIES:v}),r}))).prototype=E,E.constructor=S),(A||I)&&(M("delete"),M("has"),v&&M("get")),(I||T)&&M(w),b&&E.clear&&delete E.clear}return x[t]=S,n({global:!0,constructor:!0,forced:S!==_},x),g(S,t),b||r.setStrong(S,t,v),S}},8758:(t,e,r)=>{"use strict";var n=r(36812),i=r(19152),s=r(82474),o=r(72560);t.exports=function(t,e,r){for(var a=i(e),u=o.f,c=s.f,l=0;l<a.length;l++){var h=a[l];n(t,h)||r&&n(r,h)||u(t,h,c(e,h))}}},27413:(t,e,r)=>{"use strict";var n=r(44201)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},81748:(t,e,r)=>{"use strict";var n=r(3689);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},71568:(t,e,r)=>{"use strict";var n=r(68844),i=r(74684),s=r(34327),o=/"/g,a=n("".replace);t.exports=function(t,e,r,n){var u=s(i(t)),c="<"+e;return""!==r&&(c+=" "+r+'="'+a(s(n),o,"&quot;")+'"'),c+">"+u+"</"+e+">"}},27807:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},75773:(t,e,r)=>{"use strict";var n=r(67697),i=r(72560),s=r(75684);t.exports=n?function(t,e,r){return i.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t}},75684:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},76522:(t,e,r)=>{"use strict";var n=r(18360),i=r(72560),s=r(75684);t.exports=function(t,e,r){var o=n(e);o in t?i.f(t,o,s(0,r)):t[o]=r}},99455:(t,e,r)=>{"use strict";var n=r(68844),i=r(3689),s=r(77254).start,o=RangeError,a=isFinite,u=Math.abs,c=Date.prototype,l=c.toISOString,h=n(c.getTime),f=n(c.getUTCDate),d=n(c.getUTCFullYear),p=n(c.getUTCHours),m=n(c.getUTCMilliseconds),g=n(c.getUTCMinutes),y=n(c.getUTCMonth),v=n(c.getUTCSeconds);t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-50000000000001))}))||!i((function(){l.call(new Date(NaN))}))?function(){if(!a(h(this)))throw new o("Invalid time value");var t=this,e=d(t),r=m(t),n=e<0?"-":e>9999?"+":"";return n+s(u(e),n?6:4,0)+"-"+s(y(t)+1,2,0)+"-"+s(f(t),2,0)+"T"+s(p(t),2,0)+":"+s(g(t),2,0)+":"+s(v(t),2,0)+"."+s(r,3,0)+"Z"}:l},81797:(t,e,r)=>{"use strict";var n=r(85027),i=r(35899),s=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new s("Incorrect hint");return i(this,t)}},62148:(t,e,r)=>{"use strict";var n=r(98702),i=r(72560);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},11880:(t,e,r)=>{"use strict";var n=r(69985),i=r(72560),s=r(98702),o=r(95014);t.exports=function(t,e,r,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:e;if(n(r)&&s(r,c,a),a.global)u?t[e]=r:o(e,r);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6045:(t,e,r)=>{"use strict";var n=r(11880);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},95014:(t,e,r)=>{"use strict";var n=r(19037),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},98494:(t,e,r)=>{"use strict";var n=r(23691),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+n(e)+" of "+n(t))}},67697:(t,e,r)=>{"use strict";var n=r(3689);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},21420:(t,e,r)=>{"use strict";var n,i,s,o,a=r(19037),u=r(21905),c=r(63514),l=a.structuredClone,h=a.ArrayBuffer,f=a.MessageChannel,d=!1;if(c)d=function(t){l(t,{transfer:[t]})};else if(h)try{f||(n=u("worker_threads"))&&(f=n.MessageChannel),f&&(i=new f,s=new h(2),o=function(t){i.port1.postMessage(null,[t])},2===s.byteLength&&(o(s),0===s.byteLength&&(d=o)))}catch(t){}t.exports=d},36420:(t,e,r)=>{"use strict";var n=r(19037),i=r(48999),s=n.document,o=i(s)&&i(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},55565:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},37136:t=>{"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},66338:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},33265:(t,e,r)=>{"use strict";var n=r(36420)("span").classList,i=n&&n.constructor&&n.constructor.prototype;t.exports=i===Object.prototype?void 0:i},97365:(t,e,r)=>{"use strict";var n=r(30071).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},72532:(t,e,r)=>{"use strict";var n=r(88563),i=r(50806);t.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},83127:t=>{"use strict";t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},88563:t=>{"use strict";t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},37298:(t,e,r)=>{"use strict";var n=r(30071);t.exports=/MSIE|Trident/.test(n)},63221:(t,e,r)=>{"use strict";var n=r(30071);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},4764:(t,e,r)=>{"use strict";var n=r(30071);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},50806:(t,e,r)=>{"use strict";var n=r(19037),i=r(6648);t.exports="process"===i(n.process)},27486:(t,e,r)=>{"use strict";var n=r(30071);t.exports=/web0s(?!.*chrome)/i.test(n)},30071:t=>{"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:(t,e,r)=>{"use strict";var n,i,s=r(19037),o=r(30071),a=s.process,u=s.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},27922:(t,e,r)=>{"use strict";var n=r(30071).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},72739:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},56610:(t,e,r)=>{"use strict";var n=r(68844),i=Error,s=n("".replace),o=String(new i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,u=a.test(o);t.exports=function(t,e){if(u&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=s(t,a,"");return t}},65411:(t,e,r)=>{"use strict";var n=r(75773),i=r(56610),s=r(49599),o=Error.captureStackTrace;t.exports=function(t,e,r,a){s&&(o?o(t,e):n(t,"stack",i(r,a)))}},49599:(t,e,r)=>{"use strict";var n=r(3689),i=r(75684);t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},20445:(t,e,r)=>{"use strict";var n=r(67697),i=r(3689),s=r(85027),o=r(13841),a=Error.prototype.toString,u=i((function(){if(n){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==a.call(t))return!0}return"2: 1"!==a.call({message:1,name:2})||"Error"!==a.call({})}));t.exports=u?function(){var t=s(this),e=o(t.name,"Error"),r=o(t.message);return e?r?e+": "+r:e:r}:a},79989:(t,e,r)=>{"use strict";var n=r(19037),i=r(82474).f,s=r(75773),o=r(11880),a=r(95014),u=r(8758),c=r(35266);t.exports=function(t,e){var r,l,h,f,d,p=t.target,m=t.global,g=t.stat;if(r=m?n:g?n[p]||a(p,{}):(n[p]||{}).prototype)for(l in e){if(f=e[l],h=t.dontCallGetSet?(d=i(r,l))&&d.value:r[l],!c(m?l:p+(g?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&s(f,"sham",!0),o(r,l,f,t)}}},3689:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},65773:(t,e,r)=>{"use strict";r(64043);var n=r(46576),i=r(11880),s=r(56308),o=r(3689),a=r(44201),u=r(75773),c=a("species"),l=RegExp.prototype;t.exports=function(t,e,r,h){var f=a(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!==""[t](e)})),p=d&&!o((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!d||!p||r){var m=n(/./[f]),g=e(f,""[t],(function(t,e,r,i,o){var a=n(t),u=e.exec;return u===s||u===l.exec?d&&!o?{done:!0,value:m(e,r,i)}:{done:!0,value:a(r,e,i)}:{done:!1}}));i(String.prototype,t,g[0]),i(l,f,g[1])}h&&u(l[f],"sham",!0)}},37809:(t,e,r)=>{"use strict";var n=r(92297),i=r(6310),s=r(55565),o=r(54071),a=function(t,e,r,u,c,l,h,f){for(var d,p,m=c,g=0,y=!!h&&o(h,f);g<u;)g in r&&(d=y?y(r[g],g,e):r[g],l>0&&n(d)?(p=i(d),m=a(t,e,d,p,m,l-1)-1):(s(m+1),t[m]=d),m++),g++;return m};t.exports=a},71594:(t,e,r)=>{"use strict";var n=r(3689);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},61735:(t,e,r)=>{"use strict";var n=r(97215),i=Function.prototype,s=i.apply,o=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(s):function(){return o.apply(s,arguments)})},54071:(t,e,r)=>{"use strict";var n=r(46576),i=r(10509),s=r(97215),o=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},97215:(t,e,r)=>{"use strict";var n=r(3689);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},86761:(t,e,r)=>{"use strict";var n=r(68844),i=r(10509),s=r(48999),o=r(36812),a=r(96004),u=r(97215),c=Function,l=n([].concat),h=n([].join),f={};t.exports=u?c.bind:function(t){var e=i(this),r=e.prototype,n=a(arguments,1),u=function(){var r=l(n,a(arguments));return this instanceof u?function(t,e,r){if(!o(f,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";f[e]=c("C,a","return new C("+h(n,",")+")")}return f[e](t,r)}(e,r.length,r):e.apply(t,r)};return s(r)&&(u.prototype=r),u}},22615:(t,e,r)=>{"use strict";var n=r(97215),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},41236:(t,e,r)=>{"use strict";var n=r(67697),i=r(36812),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=i(s,"name"),u=a&&"something"===function(){}.name,c=a&&(!n||n&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},52743:(t,e,r)=>{"use strict";var n=r(68844),i=r(10509);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},46576:(t,e,r)=>{"use strict";var n=r(6648),i=r(68844);t.exports=function(t){if("Function"===n(t))return i(t)}},68844:(t,e,r)=>{"use strict";var n=r(97215),i=Function.prototype,s=i.call,o=n&&i.bind.bind(s,s);t.exports=n?o:function(t){return function(){return s.apply(t,arguments)}}},88277:(t,e,r)=>{"use strict";var n=r(19037);t.exports=function(t,e){var r=n[t],i=r&&r.prototype;return i&&i[e]}},76058:(t,e,r)=>{"use strict";var n=r(19037),i=r(69985);t.exports=function(t,e){return arguments.length<2?(r=n[t],i(r)?r:void 0):n[t]&&n[t][e];var r}},91664:(t,e,r)=>{"use strict";var n=r(50926),i=r(54849),s=r(981),o=r(9478),a=r(44201)("iterator");t.exports=function(t){if(!s(t))return i(t,a)||i(t,"@@iterator")||o[n(t)]}},5185:(t,e,r)=>{"use strict";var n=r(22615),i=r(10509),s=r(85027),o=r(23691),a=r(91664),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(i(r))return s(n(r,t));throw new u(o(t)+" is not iterable")}},92643:(t,e,r)=>{"use strict";var n=r(68844),i=r(92297),s=r(69985),o=r(6648),a=r(34327),u=n([].push);t.exports=function(t){if(s(t))return t;if(i(t)){for(var e=t.length,r=[],n=0;n<e;n++){var c=t[n];"string"==typeof c?u(r,c):"number"!=typeof c&&"Number"!==o(c)&&"String"!==o(c)||u(r,a(c))}var l=r.length,h=!0;return function(t,e){if(h)return h=!1,e;if(i(this))return e;for(var n=0;n<l;n++)if(r[n]===t)return e}}}},54849:(t,e,r)=>{"use strict";var n=r(10509),i=r(981);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},27017:(t,e,r)=>{"use strict";var n=r(68844),i=r(90690),s=Math.floor,o=n("".charAt),a=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,h,f){var d=r+t.length,p=n.length,m=l;return void 0!==h&&(h=i(h),m=c),a(f,m,(function(i,a){var c;switch(o(a,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,r);case"'":return u(e,d);case"<":c=h[u(a,1,-1)];break;default:var l=+a;if(0===l)return i;if(l>p){var f=s(l/10);return 0===f?i:f<=p?void 0===n[f-1]?o(a,1):n[f-1]+o(a,1):i}c=n[l-1]}return void 0===c?"":c}))}},19037:function(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},36812:(t,e,r)=>{"use strict";var n=r(68844),i=r(90690),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(i(t),e)}},57248:t=>{"use strict";t.exports={}},20920:t=>{"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},2688:(t,e,r)=>{"use strict";var n=r(76058);t.exports=n("document","documentElement")},68506:(t,e,r)=>{"use strict";var n=r(67697),i=r(3689),s=r(36420);t.exports=!n&&!i((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},15477:t=>{"use strict";var e=Array,r=Math.abs,n=Math.pow,i=Math.floor,s=Math.log,o=Math.LN2;t.exports={pack:function(t,a,u){var c,l,h,f=e(u),d=8*u-a-1,p=(1<<d)-1,m=p>>1,g=23===a?n(2,-24)-n(2,-77):0,y=t<0||0===t&&1/t<0?1:0,v=0;for((t=r(t))!=t||t===1/0?(l=t!=t?1:0,c=p):(c=i(s(t)/o),t*(h=n(2,-c))<1&&(c--,h*=2),(t+=c+m>=1?g/h:g*n(2,1-m))*h>=2&&(c++,h/=2),c+m>=p?(l=0,c=p):c+m>=1?(l=(t*h-1)*n(2,a),c+=m):(l=t*n(2,m-1)*n(2,a),c=0));a>=8;)f[v++]=255&l,l/=256,a-=8;for(c=c<<a|l,d+=a;d>0;)f[v++]=255&c,c/=256,d-=8;return f[--v]|=128*y,f},unpack:function(t,e){var r,i=t.length,s=8*i-e-1,o=(1<<s)-1,a=o>>1,u=s-7,c=i-1,l=t[c--],h=127&l;for(l>>=7;u>0;)h=256*h+t[c--],u-=8;for(r=h&(1<<-u)-1,h>>=-u,u+=e;u>0;)r=256*r+t[c--],u-=8;if(0===h)h=1-a;else{if(h===o)return r?NaN:l?-1/0:1/0;r+=n(2,e),h-=a}return(l?-1:1)*r*n(2,h-e)}}},94413:(t,e,r)=>{"use strict";var n=r(68844),i=r(3689),s=r(6648),o=Object,a=n("".split);t.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?a(t,""):o(t)}:o},33457:(t,e,r)=>{"use strict";var n=r(69985),i=r(48999),s=r(49385);t.exports=function(t,e,r){var o,a;return s&&n(o=e.constructor)&&o!==r&&i(a=o.prototype)&&a!==r.prototype&&s(t,a),t}},6738:(t,e,r)=>{"use strict";var n=r(68844),i=r(69985),s=r(84091),o=n(Function.toString);i(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},62570:(t,e,r)=>{"use strict";var n=r(48999),i=r(75773);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},45375:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(57248),o=r(48999),a=r(36812),u=r(72560).f,c=r(72741),l=r(26062),h=r(27049),f=r(14630),d=r(71594),p=!1,m=f("meta"),g=0,y=function(t){u(t,m,{value:{objectID:"O"+g++,weakData:{}}})},v=t.exports={enable:function(){v.enable=function(){},p=!0;var t=c.f,e=i([].splice),r={};r[m]=1,t(r).length&&(c.f=function(r){for(var n=t(r),i=0,s=n.length;i<s;i++)if(n[i]===m){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,m)){if(!h(t))return"F";if(!e)return"E";y(t)}return t[m].objectID},getWeakData:function(t,e){if(!a(t,m)){if(!h(t))return!0;if(!e)return!1;y(t)}return t[m].weakData},onFreeze:function(t){return d&&p&&h(t)&&!a(t,m)&&y(t),t}};s[m]=!0},618:(t,e,r)=>{"use strict";var n,i,s,o=r(59834),a=r(19037),u=r(48999),c=r(75773),l=r(36812),h=r(84091),f=r(2713),d=r(57248),p="Object already initialized",m=a.TypeError,g=a.WeakMap;if(o||h.state){var y=h.state||(h.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,n=function(t,e){if(y.has(t))throw new m(p);return e.facade=t,y.set(t,e),e},i=function(t){return y.get(t)||{}},s=function(t){return y.has(t)}}else{var v=f("state");d[v]=!0,n=function(t,e){if(l(t,v))throw new m(p);return e.facade=t,c(t,v,e),e},i=function(t){return l(t,v)?t[v]:{}},s=function(t){return l(t,v)}}t.exports={set:n,get:i,has:s,enforce:function(t){return s(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return r}}}},93292:(t,e,r)=>{"use strict";var n=r(44201),i=r(9478),s=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[s]===t)}},92297:(t,e,r)=>{"use strict";var n=r(6648);t.exports=Array.isArray||function(t){return"Array"===n(t)}},9401:(t,e,r)=>{"use strict";var n=r(50926);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},69985:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},19429:(t,e,r)=>{"use strict";var n=r(68844),i=r(3689),s=r(69985),o=r(50926),a=r(76058),u=r(6738),c=function(){},l=[],h=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=n(f.exec),p=!f.test(c),m=function(t){if(!s(t))return!1;try{return h(c,l,t),!0}catch(t){return!1}},g=function(t){if(!s(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,u(t))}catch(t){return!0}};g.sham=!0,t.exports=!h||i((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?g:m},76251:(t,e,r)=>{"use strict";var n=r(36812);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},35266:(t,e,r)=>{"use strict";var n=r(3689),i=r(69985),s=/#|\.prototype\./,o=function(t,e){var r=u[a(t)];return r===l||r!==c&&(i(e)?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},71973:(t,e,r)=>{"use strict";var n=r(48999),i=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&i(t)===t}},981:t=>{"use strict";t.exports=function(t){return null==t}},48999:(t,e,r)=>{"use strict";var n=r(69985);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},60598:(t,e,r)=>{"use strict";var n=r(48999);t.exports=function(t){return n(t)||null===t}},53931:t=>{"use strict";t.exports=!1},91245:(t,e,r)=>{"use strict";var n=r(48999),i=r(6648),s=r(44201)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"===i(t))}},30734:(t,e,r)=>{"use strict";var n=r(76058),i=r(69985),s=r(23622),o=r(39525),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&s(e.prototype,a(t))}},96704:(t,e,r)=>{"use strict";var n=r(22615);t.exports=function(t,e,r){for(var i,s,o=r?t:t.iterator,a=t.next;!(i=n(a,o)).done;)if(void 0!==(s=e(i.value)))return s}},18734:(t,e,r)=>{"use strict";var n=r(54071),i=r(22615),s=r(85027),o=r(23691),a=r(93292),u=r(6310),c=r(23622),l=r(5185),h=r(91664),f=r(72125),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},m=p.prototype;t.exports=function(t,e,r){var g,y,v,b,w,_,E,S=r&&r.that,x=!(!r||!r.AS_ENTRIES),M=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),T=!(!r||!r.INTERRUPTED),A=n(e,S),C=function(t){return g&&f(g,"normal",t),new p(!0,t)},I=function(t){return x?(s(t),T?A(t[0],t[1],C):A(t[0],t[1])):T?A(t,C):A(t)};if(M)g=t.iterator;else if(k)g=t;else{if(!(y=h(t)))throw new d(o(t)+" is not iterable");if(a(y)){for(v=0,b=u(t);b>v;v++)if((w=I(t[v]))&&c(m,w))return w;return new p(!1)}g=l(t,y)}for(_=M?t.next:g.next;!(E=i(_,g)).done;){try{w=I(E.value)}catch(t){f(g,"throw",t)}if("object"==typeof w&&w&&c(m,w))return w}return new p(!1)}},72125:(t,e,r)=>{"use strict";var n=r(22615),i=r(85027),s=r(54849);t.exports=function(t,e,r){var o,a;i(t);try{if(!(o=s(t,"return"))){if("throw"===e)throw r;return r}o=n(o,t)}catch(t){a=!0,o=t}if("throw"===e)throw r;if(a)throw o;return i(o),r}},30974:(t,e,r)=>{"use strict";var n=r(12013).IteratorPrototype,i=r(25391),s=r(75684),o=r(55997),a=r(9478),u=function(){return this};t.exports=function(t,e,r,c){var l=e+" Iterator";return t.prototype=i(n,{next:s(+!c,r)}),o(t,l,!1,!0),a[l]=u,t}},91934:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(53931),o=r(41236),a=r(69985),u=r(30974),c=r(61868),l=r(49385),h=r(55997),f=r(75773),d=r(11880),p=r(44201),m=r(9478),g=r(12013),y=o.PROPER,v=o.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,_=p("iterator"),E="keys",S="values",x="entries",M=function(){return this};t.exports=function(t,e,r,o,p,g,k){u(r,e,o);var T,A,C,I=function(t){if(t===p&&L)return L;if(!w&&t&&t in O)return O[t];switch(t){case E:case S:case x:return function(){return new r(this,t)}}return function(){return new r(this)}},P=e+" Iterator",R=!1,O=t.prototype,D=O[_]||O["@@iterator"]||p&&O[p],L=!w&&D||I(p),N="Array"===e&&O.entries||D;if(N&&(T=c(N.call(new t)))!==Object.prototype&&T.next&&(s||c(T)===b||(l?l(T,b):a(T[_])||d(T,_,M)),h(T,P,!0,!0),s&&(m[P]=M)),y&&p===S&&D&&D.name!==S&&(!s&&v?f(O,"name",S):(R=!0,L=function(){return i(D,this)})),p)if(A={values:I(S),keys:g?L:I(E),entries:I(x)},k)for(C in A)(w||R||!(C in O))&&d(O,C,A[C]);else n({target:e,proto:!0,forced:w||R},A);return s&&!k||O[_]===L||d(O,_,L,{name:p}),m[e]=L,A}},12013:(t,e,r)=>{"use strict";var n,i,s,o=r(3689),a=r(69985),u=r(48999),c=r(25391),l=r(61868),h=r(11880),f=r(44201),d=r(53931),p=f("iterator"),m=!1;[].keys&&("next"in(s=[].keys())?(i=l(l(s)))!==Object.prototype&&(n=i):m=!0),!u(n)||o((function(){var t={};return n[p].call(t)!==t}))?n={}:d&&(n=c(n)),a(n[p])||h(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},9478:t=>{"use strict";t.exports={}},6310:(t,e,r)=>{"use strict";var n=r(43126);t.exports=function(t){return n(t.length)}},98702:(t,e,r)=>{"use strict";var n=r(68844),i=r(3689),s=r(69985),o=r(36812),a=r(67697),u=r(41236).CONFIGURABLE,c=r(6738),l=r(618),h=l.enforce,f=l.get,d=String,p=Object.defineProperty,m=n("".slice),g=n("".replace),y=n([].join),v=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,r){"Symbol("===m(d(e),0,7)&&(e="["+g(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!o(t,"name")||u&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),v&&r&&o(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=h(t);return o(n,"source")||(n.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return s(this)&&f(this).source||c(this)}),"toString")},83914:(t,e,r)=>{"use strict";var n=r(68844),i=Map.prototype;t.exports={Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},21745:t=>{"use strict";var e=Math.expm1,r=Math.exp;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!==e(-2e-17)?function(t){var e=+t;return 0===e?e:e>-1e-6&&e<1e-6?e+e*e/2:r(e)-1}:e},40134:(t,e,r)=>{"use strict";var n=r(55680),i=Math.abs,s=2220446049250313e-31,o=1/s;t.exports=function(t,e,r,a){var u=+t,c=i(u),l=n(u);if(c<a)return l*function(t){return t+o-o}(c/a/e)*a*e;var h=(1+e/s)*c,f=h-(h-c);return f>r||f!=f?l*(1/0):l*f}},37788:(t,e,r)=>{"use strict";var n=r(40134);t.exports=Math.fround||function(t){return n(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},4736:t=>{"use strict";var e=Math.log,r=Math.LOG10E;t.exports=Math.log10||function(t){return e(t)*r}},93956:t=>{"use strict";var e=Math.log;t.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:e(1+r)}},55680:t=>{"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}},58828:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},80231:(t,e,r)=>{"use strict";var n,i,s,o,a,u=r(19037),c=r(70517),l=r(54071),h=r(99886).set,f=r(34410),d=r(4764),p=r(63221),m=r(27486),g=r(50806),y=u.MutationObserver||u.WebKitMutationObserver,v=u.document,b=u.process,w=u.Promise,_=c("queueMicrotask");if(!_){var E=new f,S=function(){var t,e;for(g&&(t=b.domain)&&t.exit();e=E.get();)try{e()}catch(t){throw E.head&&n(),t}t&&t.enter()};d||g||m||!y||!v?!p&&w&&w.resolve?((o=w.resolve(void 0)).constructor=w,a=l(o.then,o),n=function(){a(S)}):g?n=function(){b.nextTick(S)}:(h=l(h,u),n=function(){h(S)}):(i=!0,s=v.createTextNode(""),new y(S).observe(s,{characterData:!0}),n=function(){s.data=i=!i}),_=function(t){E.head||n(),E.add(t)}}t.exports=_},48742:(t,e,r)=>{"use strict";var n=r(10509),i=TypeError,s=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new i("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new s(t)}},13841:(t,e,r)=>{"use strict";var n=r(34327);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},42124:(t,e,r)=>{"use strict";var n=r(91245),i=TypeError;t.exports=function(t){if(n(t))throw new i("The method doesn't accept regular expressions");return t}},70046:(t,e,r)=>{"use strict";var n=r(19037).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&n(t)}},14818:(t,e,r)=>{"use strict";var n=r(19037),i=r(3689),s=r(68844),o=r(34327),a=r(61435).trim,u=r(86350),c=s("".charAt),l=n.parseFloat,h=n.Symbol,f=h&&h.iterator,d=1/l(u+"-0")!=-1/0||f&&!i((function(){l(Object(f))}));t.exports=d?function(t){var e=a(o(t)),r=l(e);return 0===r&&"-"===c(e,0)?-0:r}:l},67897:(t,e,r)=>{"use strict";var n=r(19037),i=r(3689),s=r(68844),o=r(34327),a=r(61435).trim,u=r(86350),c=n.parseInt,l=n.Symbol,h=l&&l.iterator,f=/^[+-]?0x/i,d=s(f.exec),p=8!==c(u+"08")||22!==c(u+"0x16")||h&&!i((function(){c(Object(h))}));t.exports=p?function(t,e){var r=a(o(t));return c(r,e>>>0||(d(f,r)?16:10))}:c},45394:(t,e,r)=>{"use strict";var n=r(67697),i=r(68844),s=r(22615),o=r(3689),a=r(20300),u=r(7518),c=r(49556),l=r(90690),h=r(94413),f=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!f||o((function(){if(n&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!==f({},t)[r]||a(f({},e)).join("")!==i}))?function(t,e){for(var r=l(t),i=arguments.length,o=1,f=u.f,d=c.f;i>o;)for(var m,g=h(arguments[o++]),y=f?p(a(g),f(g)):a(g),v=y.length,b=0;v>b;)m=y[b++],n&&!s(d,g,m)||(r[m]=g[m]);return r}:f},25391:(t,e,r)=>{"use strict";var n,i=r(85027),s=r(98920),o=r(72739),a=r(57248),u=r(2688),c=r(36420),l=r(2713),h="prototype",f="script",d=l("IE_PROTO"),p=function(){},m=function(t){return"<"+f+">"+t+"</"+f+">"},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;y="undefined"!=typeof document?document.domain&&n?g(n):(e=c("iframe"),r="java"+f+":",e.style.display="none",u.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):g(n);for(var i=o.length;i--;)delete y[h][o[i]];return y()};a[d]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[h]=i(t),r=new p,p[h]=null,r[d]=t):r=y(),void 0===e?r:s.f(r,e)}},98920:(t,e,r)=>{"use strict";var n=r(67697),i=r(15648),s=r(72560),o=r(85027),a=r(65290),u=r(20300);e.f=n&&!i?Object.defineProperties:function(t,e){o(t);for(var r,n=a(e),i=u(e),c=i.length,l=0;c>l;)s.f(t,r=i[l++],n[r]);return t}},72560:(t,e,r)=>{"use strict";var n=r(67697),i=r(68506),s=r(15648),o=r(85027),a=r(18360),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";e.f=n?s?function(t,e,r){if(o(t),e=a(e),o(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=l(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:h in r?r[h]:n[h],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(o(t),e=a(e),o(r),i)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},82474:(t,e,r)=>{"use strict";var n=r(67697),i=r(22615),s=r(49556),o=r(75684),a=r(65290),u=r(18360),c=r(36812),l=r(68506),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=a(t),e=u(e),l)try{return h(t,e)}catch(t){}if(c(t,e))return o(!i(s.f,t,e),t[e])}},26062:(t,e,r)=>{"use strict";var n=r(6648),i=r(65290),s=r(72741).f,o=r(96004),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"===n(t)?function(t){try{return s(t)}catch(t){return o(a)}}(t):s(i(t))}},72741:(t,e,r)=>{"use strict";var n=r(54948),i=r(72739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},7518:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},61868:(t,e,r)=>{"use strict";var n=r(36812),i=r(69985),s=r(90690),o=r(2713),a=r(81748),u=o("IE_PROTO"),c=Object,l=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=s(t);if(n(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof c?l:null}},27049:(t,e,r)=>{"use strict";var n=r(3689),i=r(48999),s=r(6648),o=r(11655),a=Object.isExtensible,u=n((function(){a(1)}));t.exports=u||o?function(t){return!!i(t)&&((!o||"ArrayBuffer"!==s(t))&&(!a||a(t)))}:a},23622:(t,e,r)=>{"use strict";var n=r(68844);t.exports=n({}.isPrototypeOf)},54948:(t,e,r)=>{"use strict";var n=r(68844),i=r(36812),s=r(65290),o=r(84328).indexOf,a=r(57248),u=n([].push);t.exports=function(t,e){var r,n=s(t),c=0,l=[];for(r in n)!i(a,r)&&i(n,r)&&u(l,r);for(;e.length>c;)i(n,r=e[c++])&&(~o(l,r)||u(l,r));return l}},20300:(t,e,r)=>{"use strict";var n=r(54948),i=r(72739);t.exports=Object.keys||function(t){return n(t,i)}},49556:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},90600:(t,e,r)=>{"use strict";var n=r(53931),i=r(19037),s=r(3689),o=r(27922);t.exports=n||!s((function(){if(!(o&&o<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}}))},49385:(t,e,r)=>{"use strict";var n=r(52743),i=r(85027),s=r(23550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return i(r),s(n),e?t(r,n):r.__proto__=n,r}}():void 0)},49419:(t,e,r)=>{"use strict";var n=r(67697),i=r(3689),s=r(68844),o=r(61868),a=r(20300),u=r(65290),c=s(r(49556).f),l=s([].push),h=n&&i((function(){var t=Object.create(null);return t[2]=2,!c(t,2)})),f=function(t){return function(e){for(var r,i=u(e),s=a(i),f=h&&null===o(i),d=s.length,p=0,m=[];d>p;)r=s[p++],n&&!(f?r in i:c(i,r))||l(m,t?[r,i[r]]:i[r]);return m}};t.exports={entries:f(!0),values:f(!1)}},65073:(t,e,r)=>{"use strict";var n=r(23043),i=r(50926);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},35899:(t,e,r)=>{"use strict";var n=r(22615),i=r(69985),s=r(48999),o=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&i(r=t.toString)&&!s(a=n(r,t)))return a;if(i(r=t.valueOf)&&!s(a=n(r,t)))return a;if("string"!==e&&i(r=t.toString)&&!s(a=n(r,t)))return a;throw new o("Can't convert object to primitive value")}},19152:(t,e,r)=>{"use strict";var n=r(76058),i=r(68844),s=r(72741),o=r(7518),a=r(85027),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(a(t)),r=o.f;return r?u(e,r(t)):e}},50496:(t,e,r)=>{"use strict";var n=r(19037);t.exports=n},9302:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},87073:(t,e,r)=>{"use strict";var n=r(19037),i=r(17919),s=r(69985),o=r(35266),a=r(6738),u=r(44201),c=r(72532),l=r(88563),h=r(53931),f=r(3615),d=i&&i.prototype,p=u("species"),m=!1,g=s(n.PromiseRejectionEvent),y=o("Promise",(function(){var t=a(i),e=t!==String(i);if(!e&&66===f)return!0;if(h&&(!d.catch||!d.finally))return!0;if(!f||f<51||!/native code/.test(t)){var r=new i((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[p]=n,!(m=r.then((function(){}))instanceof n))return!0}return!e&&(c||l)&&!g}));t.exports={CONSTRUCTOR:y,REJECTION_EVENT:g,SUBCLASSING:m}},17919:(t,e,r)=>{"use strict";var n=r(19037);t.exports=n.Promise},72945:(t,e,r)=>{"use strict";var n=r(85027),i=r(48999),s=r(48742);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=s.f(t);return(0,r.resolve)(e),r.promise}},562:(t,e,r)=>{"use strict";var n=r(17919),i=r(86431),s=r(87073).CONSTRUCTOR;t.exports=s||!i((function(t){n.all(t).then(void 0,(function(){}))}))},38055:(t,e,r)=>{"use strict";var n=r(72560).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},34410:t=>{"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},66100:(t,e,r)=>{"use strict";var n=r(22615),i=r(85027),s=r(69985),o=r(6648),a=r(56308),u=TypeError;t.exports=function(t,e){var r=t.exec;if(s(r)){var c=n(r,t,e);return null!==c&&i(c),c}if("RegExp"===o(t))return n(a,t,e);throw new u("RegExp#exec called on incompatible receiver")}},56308:(t,e,r)=>{"use strict";var n,i,s=r(22615),o=r(68844),a=r(34327),u=r(69633),c=r(87901),l=r(83430),h=r(25391),f=r(618).get,d=r(62100),p=r(26738),m=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,y=g,v=o("".charAt),b=o("".indexOf),w=o("".replace),_=o("".slice),E=(i=/b*/g,s(g,n=/a/,"a"),s(g,i,"a"),0!==n.lastIndex||0!==i.lastIndex),S=c.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(E||x||S||d||p)&&(y=function(t){var e,r,n,i,o,c,l,d=this,p=f(d),M=a(t),k=p.raw;if(k)return k.lastIndex=d.lastIndex,e=s(y,k,M),d.lastIndex=k.lastIndex,e;var T=p.groups,A=S&&d.sticky,C=s(u,d),I=d.source,P=0,R=M;if(A&&(C=w(C,"y",""),-1===b(C,"g")&&(C+="g"),R=_(M,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==v(M,d.lastIndex-1))&&(I="(?: "+I+")",R=" "+R,P++),r=new RegExp("^(?:"+I+")",C)),x&&(r=new RegExp("^"+I+"$(?!\\s)",C)),E&&(n=d.lastIndex),i=s(g,A?r:d,R),A?i?(i.input=_(i.input,P),i[0]=_(i[0],P),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:E&&i&&(d.lastIndex=d.global?i.index+i[0].length:n),x&&i&&i.length>1&&s(m,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&T)for(i.groups=c=h(null),o=0;o<T.length;o++)c[(l=T[o])[0]]=i[l[1]];return i}),t.exports=y},69633:(t,e,r)=>{"use strict";var n=r(85027);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},63477:(t,e,r)=>{"use strict";var n=r(22615),i=r(36812),s=r(23622),o=r(69633),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||i(t,"flags")||!s(a,t)?e:n(o,t)}},87901:(t,e,r)=>{"use strict";var n=r(3689),i=r(19037).RegExp,s=n((function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),o=s||n((function(){return!i("a","y").sticky})),a=s||n((function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:o,UNSUPPORTED_Y:s}},62100:(t,e,r)=>{"use strict";var n=r(3689),i=r(19037).RegExp;t.exports=n((function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},26738:(t,e,r)=>{"use strict";var n=r(3689),i=r(19037).RegExp;t.exports=n((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},74684:(t,e,r)=>{"use strict";var n=r(981),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},70517:(t,e,r)=>{"use strict";var n=r(19037),i=r(67697),s=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return n[t];var e=s(n,t);return e&&e.value}},70953:t=>{"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},8552:(t,e,r)=>{"use strict";var n,i=r(19037),s=r(61735),o=r(69985),a=r(83127),u=r(30071),c=r(96004),l=r(21500),h=i.Function,f=/MSIE .\./.test(u)||a&&((n=i.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));t.exports=function(t,e){var r=e?2:1;return f?function(n,i){var a=l(arguments.length,1)>r,u=o(n)?n:h(n),f=a?c(arguments,r):[],d=a?function(){s(u,this,f)}:u;return e?t(d,i):t(d)}:t}},61034:(t,e,r)=>{"use strict";var n=r(68844),i=Set.prototype;t.exports={Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},48774:(t,e,r)=>{"use strict";var n=r(68844),i=r(96704),s=r(61034),o=s.Set,a=s.proto,u=n(a.forEach),c=n(a.keys),l=c(new o).next;t.exports=function(t,e,r){return r?i({iterator:c(t),next:l},e):u(t,e)}},14241:(t,e,r)=>{"use strict";var n=r(76058),i=r(62148),s=r(44201),o=r(67697),a=s("species");t.exports=function(t){var e=n(t);o&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},55997:(t,e,r)=>{"use strict";var n=r(72560).f,i=r(36812),s=r(44201)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!i(t,s)&&n(t,s,{configurable:!0,value:e})}},2713:(t,e,r)=>{"use strict";var n=r(83430),i=r(14630),s=n("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},84091:(t,e,r)=>{"use strict";var n=r(19037),i=r(95014),s="__core-js_shared__",o=n[s]||i(s,{});t.exports=o},83430:(t,e,r)=>{"use strict";var n=r(53931),i=r(84091);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.35.0",mode:n?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.0/LICENSE",source:"https://github.com/zloirock/core-js"})},76373:(t,e,r)=>{"use strict";var n=r(85027),i=r(52655),s=r(981),o=r(44201)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||s(r=n(a)[o])?e:i(r)}},74580:(t,e,r)=>{"use strict";var n=r(3689);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},10730:(t,e,r)=>{"use strict";var n=r(68844),i=r(68700),s=r(34327),o=r(74684),a=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(t){return function(e,r){var n,l,h=s(o(e)),f=i(r),d=h.length;return f<0||f>=d?t?"":void 0:(n=u(h,f))<55296||n>56319||f+1===d||(l=u(h,f+1))<56320||l>57343?t?a(h,f):n:t?c(h,f,f+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},35947:(t,e,r)=>{"use strict";var n=r(30071);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},77254:(t,e,r)=>{"use strict";var n=r(68844),i=r(43126),s=r(34327),o=r(90534),a=r(74684),u=n(o),c=n("".slice),l=Math.ceil,h=function(t){return function(e,r,n){var o,h,f=s(a(e)),d=i(r),p=f.length,m=void 0===n?" ":s(n);return d<=p||""===m?f:((h=u(m,l((o=d-p)/m.length))).length>o&&(h=c(h,0,o)),t?f+h:h+f)}};t.exports={start:h(!1),end:h(!0)}},6430:(t,e,r)=>{"use strict";var n=r(68844),i=2147483647,s=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",u=RangeError,c=n(o.exec),l=Math.floor,h=String.fromCharCode,f=n("".charCodeAt),d=n([].join),p=n([].push),m=n("".replace),g=n("".split),y=n("".toLowerCase),v=function(t){return t+22+75*(t<26)},b=function(t,e,r){var n=0;for(t=r?l(t/700):t>>1,t+=l(t/e);t>455;)t=l(t/35),n+=36;return l(n+36*t/(t+38))},w=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=f(t,r++);if(i>=55296&&i<=56319&&r<n){var s=f(t,r++);56320==(64512&s)?p(e,((1023&i)<<10)+(1023&s)+65536):(p(e,i),r--)}else p(e,i)}return e}(t);var r,n,s=t.length,o=128,c=0,m=72;for(r=0;r<t.length;r++)(n=t[r])<128&&p(e,h(n));var g=e.length,y=g;for(g&&p(e,"-");y<s;){var w=i;for(r=0;r<t.length;r++)(n=t[r])>=o&&n<w&&(w=n);var _=y+1;if(w-o>l((i-c)/_))throw new u(a);for(c+=(w-o)*_,o=w,r=0;r<t.length;r++){if((n=t[r])<o&&++c>i)throw new u(a);if(n===o){for(var E=c,S=36;;){var x=S<=m?1:S>=m+26?26:S-m;if(E<x)break;var M=E-x,k=36-x;p(e,h(v(x+M%k))),E=l(M/k),S+=36}p(e,h(v(E))),m=b(c,_,y===g),c=0,y++}}c++,o++}return d(e,"")};t.exports=function(t){var e,r,n=[],i=g(m(y(t),o,"."),".");for(e=0;e<i.length;e++)r=i[e],p(n,c(s,r)?"xn--"+w(r):r);return d(n,".")}},90534:(t,e,r)=>{"use strict";var n=r(68700),i=r(34327),s=r(74684),o=RangeError;t.exports=function(t){var e=i(s(this)),r="",a=n(t);if(a<0||a===1/0)throw new o("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},79558:(t,e,r)=>{"use strict";var n=r(61435).end,i=r(75984);t.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},75984:(t,e,r)=>{"use strict";var n=r(41236).PROPER,i=r(3689),s=r(86350);t.exports=function(t){return i((function(){return!!s[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||n&&s[t].name!==t}))}},72291:(t,e,r)=>{"use strict";var n=r(61435).start,i=r(75984);t.exports=i("trimStart")?function(){return n(this)}:"".trimStart},61435:(t,e,r)=>{"use strict";var n=r(68844),i=r(74684),s=r(34327),o=r(86350),a=n("".replace),u=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(t){return function(e){var r=s(i(e));return 1&t&&(r=a(r,u,"")),2&t&&(r=a(r,c,"$1")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},63514:(t,e,r)=>{"use strict";var n=r(19037),i=r(3689),s=r(3615),o=r(72532),a=r(88563),u=r(50806),c=n.structuredClone;t.exports=!!c&&!i((function(){if(a&&s>92||u&&s>94||o&&s>97)return!1;var t=new ArrayBuffer(8),e=c(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},50146:(t,e,r)=>{"use strict";var n=r(3615),i=r(3689),s=r(19037).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},13032:(t,e,r)=>{"use strict";var n=r(22615),i=r(76058),s=r(44201),o=r(11880);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,a=s("toPrimitive");e&&!e[a]&&o(e,a,(function(t){return n(r,this)}),{arity:1})}},46549:(t,e,r)=>{"use strict";var n=r(50146);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},99886:(t,e,r)=>{"use strict";var n,i,s,o,a=r(19037),u=r(61735),c=r(54071),l=r(69985),h=r(36812),f=r(3689),d=r(2688),p=r(96004),m=r(36420),g=r(21500),y=r(4764),v=r(50806),b=a.setImmediate,w=a.clearImmediate,_=a.process,E=a.Dispatch,S=a.Function,x=a.MessageChannel,M=a.String,k=0,T={},A="onreadystatechange";f((function(){n=a.location}));var C=function(t){if(h(T,t)){var e=T[t];delete T[t],e()}},I=function(t){return function(){C(t)}},P=function(t){C(t.data)},R=function(t){a.postMessage(M(t),n.protocol+"//"+n.host)};b&&w||(b=function(t){g(arguments.length,1);var e=l(t)?t:S(t),r=p(arguments,1);return T[++k]=function(){u(e,void 0,r)},i(k),k},w=function(t){delete T[t]},v?i=function(t){_.nextTick(I(t))}:E&&E.now?i=function(t){E.now(I(t))}:x&&!y?(o=(s=new x).port2,s.port1.onmessage=P,i=c(o.postMessage,o)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!f(R)?(i=R,a.addEventListener("message",P,!1)):i=A in m("script")?function(t){d.appendChild(m("script"))[A]=function(){d.removeChild(this),C(t)}}:function(t){setTimeout(I(t),0)}),t.exports={set:b,clear:w}},23648:(t,e,r)=>{"use strict";var n=r(68844);t.exports=n(1..valueOf)},27578:(t,e,r)=>{"use strict";var n=r(68700),i=Math.max,s=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):s(r,e)}},71530:(t,e,r)=>{"use strict";var n=r(88732),i=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},19842:(t,e,r)=>{"use strict";var n=r(68700),i=r(43126),s=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw new s("Wrong length or index");return r}},65290:(t,e,r)=>{"use strict";var n=r(94413),i=r(74684);t.exports=function(t){return n(i(t))}},68700:(t,e,r)=>{"use strict";var n=r(58828);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},43126:(t,e,r)=>{"use strict";var n=r(68700),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},90690:(t,e,r)=>{"use strict";var n=r(74684),i=Object;t.exports=function(t){return i(n(t))}},83250:(t,e,r)=>{"use strict";var n=r(15904),i=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw new i("Wrong offset");return r}},15904:(t,e,r)=>{"use strict";var n=r(68700),i=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw new i("The argument can't be less than 0");return e}},88732:(t,e,r)=>{"use strict";var n=r(22615),i=r(48999),s=r(30734),o=r(54849),a=r(35899),u=r(44201),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var r,u=o(t,l);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!i(r)||s(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},18360:(t,e,r)=>{"use strict";var n=r(88732),i=r(30734);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},23043:(t,e,r)=>{"use strict";var n={};n[r(44201)("toStringTag")]="z",t.exports="[object z]"===String(n)},34327:(t,e,r)=>{"use strict";var n=r(50926),i=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},87191:t=>{"use strict";var e=Math.round;t.exports=function(t){var r=e(t);return r<0?0:r>255?255:255&r}},21905:(t,e,r)=>{"use strict";var n=r(50806);t.exports=function(t){try{if(n)return Function('return require("'+t+'")')()}catch(t){}}},23691:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},31158:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(22615),o=r(67697),a=r(39800),u=r(54872),c=r(83999),l=r(767),h=r(75684),f=r(75773),d=r(71973),p=r(43126),m=r(19842),g=r(83250),y=r(87191),v=r(18360),b=r(36812),w=r(50926),_=r(48999),E=r(30734),S=r(25391),x=r(23622),M=r(49385),k=r(72741).f,T=r(41304),A=r(2960).forEach,C=r(14241),I=r(62148),P=r(72560),R=r(82474),O=r(59976),D=r(618),L=r(33457),N=D.get,F=D.set,B=D.enforce,j=P.f,z=R.f,U=i.RangeError,V=c.ArrayBuffer,q=V.prototype,G=c.DataView,H=u.NATIVE_ARRAY_BUFFER_VIEWS,$=u.TYPED_ARRAY_TAG,W=u.TypedArray,K=u.TypedArrayPrototype,Y=u.isTypedArray,X="BYTES_PER_ELEMENT",Q="Wrong length",J=function(t,e){I(t,e,{configurable:!0,get:function(){return N(this)[e]}})},Z=function(t){var e;return x(q,t)||"ArrayBuffer"===(e=w(t))||"SharedArrayBuffer"===e},tt=function(t,e){return Y(t)&&!E(e)&&e in t&&d(+e)&&e>=0},et=function(t,e){return e=v(e),tt(t,e)?h(2,t[e]):z(t,e)},rt=function(t,e,r){return e=v(e),!(tt(t,e)&&_(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?j(t,e,r):(t[e]=r.value,t)};o?(H||(R.f=et,P.f=rt,J(K,"buffer"),J(K,"byteOffset"),J(K,"byteLength"),J(K,"length")),n({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:et,defineProperty:rt}),t.exports=function(t,e,r){var o=t.match(/\d+/)[0]/8,u=t+(r?"Clamped":"")+"Array",c="get"+t,h="set"+t,d=i[u],v=d,b=v&&v.prototype,w={},E=function(t,e){j(t,e,{get:function(){return function(t,e){var r=N(t);return r.view[c](e*o+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=N(t);i.view[h](e*o+i.byteOffset,r?y(n):n,!0)}(this,e,t)},enumerable:!0})};H?a&&(v=e((function(t,e,r,n){return l(t,b),L(_(e)?Z(e)?void 0!==n?new d(e,g(r,o),n):void 0!==r?new d(e,g(r,o)):new d(e):Y(e)?O(v,e):s(T,v,e):new d(m(e)),t,v)})),M&&M(v,W),A(k(d),(function(t){t in v||f(v,t,d[t])})),v.prototype=b):(v=e((function(t,e,r,n){l(t,b);var i,a,u,c=0,h=0;if(_(e)){if(!Z(e))return Y(e)?O(v,e):s(T,v,e);i=e,h=g(r,o);var f=e.byteLength;if(void 0===n){if(f%o)throw new U(Q);if((a=f-h)<0)throw new U(Q)}else if((a=p(n)*o)+h>f)throw new U(Q);u=a/o}else u=m(e),i=new V(a=u*o);for(F(t,{buffer:i,byteOffset:h,byteLength:a,length:u,view:new G(i)});c<u;)E(t,c++)})),M&&M(v,W),b=v.prototype=S(K)),b.constructor!==v&&f(b,"constructor",v),B(b).TypedArrayConstructor=v,$&&f(b,$,u);var x=v!==d;w[u]=v,n({global:!0,constructor:!0,forced:x,sham:!H},w),X in v||f(v,X,o),X in b||f(b,X,o),C(u)}):t.exports=function(){}},39800:(t,e,r)=>{"use strict";var n=r(19037),i=r(3689),s=r(86431),o=r(54872).NATIVE_ARRAY_BUFFER_VIEWS,a=n.ArrayBuffer,u=n.Int8Array;t.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!s((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new a(2),1,void 0).length}))},20716:(t,e,r)=>{"use strict";var n=r(59976),i=r(47338);t.exports=function(t,e){return n(i(t),e)}},41304:(t,e,r)=>{"use strict";var n=r(54071),i=r(22615),s=r(52655),o=r(90690),a=r(6310),u=r(5185),c=r(91664),l=r(93292),h=r(9401),f=r(54872).aTypedArrayConstructor,d=r(71530);t.exports=function(t){var e,r,p,m,g,y,v,b,w=s(this),_=o(t),E=arguments.length,S=E>1?arguments[1]:void 0,x=void 0!==S,M=c(_);if(M&&!l(M))for(b=(v=u(_,M)).next,_=[];!(y=i(b,v)).done;)_.push(y.value);for(x&&E>2&&(S=n(S,arguments[2])),r=a(_),p=new(f(w))(r),m=h(p),e=0;r>e;e++)g=x?S(_[e],e):_[e],p[e]=m?d(g):+g;return p}},47338:(t,e,r)=>{"use strict";var n=r(54872),i=r(76373),s=n.aTypedArrayConstructor,o=n.getTypedArrayConstructor;t.exports=function(t){return s(i(t,o(t)))}},14630:(t,e,r)=>{"use strict";var n=r(68844),i=0,s=Math.random(),o=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+s,36)}},76837:(t,e,r)=>{"use strict";var n=r(3689),i=r(44201),s=r(67697),o=r(53931),a=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),r.delete("a",2),r.delete("b",void 0),o&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(o||!s)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},39525:(t,e,r)=>{"use strict";var n=r(50146);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},15648:(t,e,r)=>{"use strict";var n=r(67697),i=r(3689);t.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},21500:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},59834:(t,e,r)=>{"use strict";var n=r(19037),i=r(69985),s=n.WeakMap;t.exports=i(s)&&/native code/.test(String(s))},35405:(t,e,r)=>{"use strict";var n=r(50496),i=r(36812),s=r(96145),o=r(72560).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||o(e,t,{value:s.f(t)})}},96145:(t,e,r)=>{"use strict";var n=r(44201);e.f=n},44201:(t,e,r)=>{"use strict";var n=r(19037),i=r(83430),s=r(36812),o=r(14630),a=r(50146),u=r(39525),c=n.Symbol,l=i("wks"),h=u?c.for||c:c&&c.withoutSetter||o;t.exports=function(t){return s(l,t)||(l[t]=a&&s(c,t)?c[t]:h("Symbol."+t)),l[t]}},86350:t=>{"use strict";t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},51064:(t,e,r)=>{"use strict";var n=r(76058),i=r(36812),s=r(75773),o=r(23622),a=r(49385),u=r(8758),c=r(38055),l=r(33457),h=r(13841),f=r(62570),d=r(65411),p=r(67697),m=r(53931);t.exports=function(t,e,r,g){var y="stackTraceLimit",v=g?2:1,b=t.split("."),w=b[b.length-1],_=n.apply(null,b);if(_){var E=_.prototype;if(!m&&i(E,"cause")&&delete E.cause,!r)return _;var S=n("Error"),x=e((function(t,e){var r=h(g?e:t,void 0),n=g?new _(t):new _;return void 0!==r&&s(n,"message",r),d(n,x,n.stack,2),this&&o(E,this)&&l(n,this,x),arguments.length>v&&f(n,arguments[v]),n}));if(x.prototype=E,"Error"!==w?a?a(x,S):u(x,S,{name:!0}):p&&y in _&&(c(x,_,y),c(x,_,"prepareStackTrace")),u(x,_),!m)try{E.name!==w&&s(E,"name",w),E.constructor=x}catch(t){}return x}}},54927:(t,e,r)=>{"use strict";var n=r(79989),i=r(76058),s=r(61735),o=r(3689),a=r(51064),u="AggregateError",c=i(u),l=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],u,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:a(u,(function(t){return function(e,r){return s(t,this,arguments)}}),l,!0)})},39382:(t,e,r)=>{"use strict";var n=r(79989),i=r(23622),s=r(61868),o=r(49385),a=r(8758),u=r(25391),c=r(75773),l=r(75684),h=r(62570),f=r(65411),d=r(18734),p=r(13841),m=r(44201)("toStringTag"),g=Error,y=[].push,v=function(t,e){var r,n=i(b,this);o?r=o(new g,n?s(this):b):(r=n?this:u(b),c(r,m,"Error")),void 0!==e&&c(r,"message",p(e)),f(r,v,r.stack,1),arguments.length>2&&h(r,arguments[2]);var a=[];return d(t,y,{that:a}),c(r,"errors",a),r};o?o(v,g):a(v,g,{name:!0});var b=v.prototype=u(g.prototype,{constructor:l(1,v),message:l(1,""),name:l(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:v})},95879:(t,e,r)=>{"use strict";r(39382)},69365:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(83999),o=r(14241),a="ArrayBuffer",u=s[a];n({global:!0,constructor:!0,forced:i[a]!==u},{ArrayBuffer:u}),o(a)},33870:(t,e,r)=>{"use strict";var n=r(79989),i=r(54872);n({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},99211:(t,e,r)=>{"use strict";var n=r(79989),i=r(46576),s=r(3689),o=r(83999),a=r(85027),u=r(27578),c=r(43126),l=r(76373),h=o.ArrayBuffer,f=o.DataView,d=f.prototype,p=i(h.prototype.slice),m=i(d.getUint8),g=i(d.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(p&&void 0===e)return p(a(this),t);for(var r=a(this).byteLength,n=u(t,r),i=u(void 0===e?r:e,r),s=new(l(this,h))(c(i-n)),o=new f(this),d=new f(s),y=0;n<i;)g(d,y++,m(o,n++));return s}})},92176:(t,e,r)=>{"use strict";var n=r(79989),i=r(90690),s=r(6310),o=r(68700),a=r(87370);n({target:"Array",proto:!0},{at:function(t){var e=i(this),r=s(e),n=o(t),a=n>=0?n:r+n;return a<0||a>=r?void 0:e[a]}}),a("at")},34338:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(92297),o=r(48999),a=r(90690),u=r(6310),c=r(55565),l=r(76522),h=r(27120),f=r(29042),d=r(44201),p=r(3615),m=d("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),y=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:s(t)};n({target:"Array",proto:!0,arity:1,forced:!g||!f("concat")},{concat:function(t){var e,r,n,i,s,o=a(this),f=h(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(y(s=-1===e?o:arguments[e]))for(i=u(s),c(d+i),r=0;r<i;r++,d++)r in s&&l(f,d,s[r]);else c(d+1),l(f,d++,s);return f.length=d,f}})},2966:(t,e,r)=>{"use strict";var n=r(79989),i=r(70357),s=r(87370);n({target:"Array",proto:!0},{copyWithin:i}),s("copyWithin")},55791:(t,e,r)=>{"use strict";var n=r(79989),i=r(2960).every;n({target:"Array",proto:!0,forced:!r(16834)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},97895:(t,e,r)=>{"use strict";var n=r(79989),i=r(62872),s=r(87370);n({target:"Array",proto:!0},{fill:i}),s("fill")},38077:(t,e,r)=>{"use strict";var n=r(79989),i=r(2960).filter;n({target:"Array",proto:!0,forced:!r(29042)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},39772:(t,e,r)=>{"use strict";var n=r(79989),i=r(2960).findIndex,s=r(87370),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},93383:(t,e,r)=>{"use strict";var n=r(79989),i=r(61969).findLastIndex,s=r(87370);n({target:"Array",proto:!0},{findLastIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("findLastIndex")},59867:(t,e,r)=>{"use strict";var n=r(79989),i=r(61969).findLast,s=r(87370);n({target:"Array",proto:!0},{findLast:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("findLast")},25728:(t,e,r)=>{"use strict";var n=r(79989),i=r(2960).find,s=r(87370),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},54564:(t,e,r)=>{"use strict";var n=r(79989),i=r(37809),s=r(10509),o=r(90690),a=r(6310),u=r(27120);n({target:"Array",proto:!0},{flatMap:function(t){var e,r=o(this),n=a(r);return s(t),(e=u(r,0)).length=i(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},62795:(t,e,r)=>{"use strict";var n=r(79989),i=r(37809),s=r(90690),o=r(6310),a=r(68700),u=r(27120);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=s(this),r=o(e),n=u(e,0);return n.length=i(n,e,e,r,0,void 0===t?1:a(t)),n}})},49693:(t,e,r)=>{"use strict";var n=r(79989),i=r(57612);n({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},77049:(t,e,r)=>{"use strict";var n=r(79989),i=r(21055);n({target:"Array",stat:!0,forced:!r(86431)((function(t){Array.from(t)}))},{from:i})},76801:(t,e,r)=>{"use strict";var n=r(79989),i=r(84328).includes,s=r(3689),o=r(87370);n({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},97195:(t,e,r)=>{"use strict";var n=r(79989),i=r(46576),s=r(84328).indexOf,o=r(16834),a=i([].indexOf),u=!!a&&1/a([1],1,-0)<0;n({target:"Array",proto:!0,forced:u||!o("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?a(this,t,e)||0:s(this,t,e)}})},63975:(t,e,r)=>{"use strict";r(79989)({target:"Array",stat:!0},{isArray:r(92297)})},752:(t,e,r)=>{"use strict";var n=r(65290),i=r(87370),s=r(9478),o=r(618),a=r(72560).f,u=r(91934),c=r(27807),l=r(53931),h=r(67697),f="Array Iterator",d=o.set,p=o.getterFor(f);t.exports=u(Array,"Array",(function(t,e){d(this,{type:f,target:n(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,c(void 0,!0);switch(t.kind){case"keys":return c(r,!1);case"values":return c(e[r],!1)}return c([r,e[r]],!1)}),"values");var m=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!l&&h&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(t){}},6203:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(94413),o=r(65290),a=r(16834),u=i([].join);n({target:"Array",proto:!0,forced:s!==Object||!a("join",",")},{join:function(t){return u(o(this),void 0===t?",":t)}})},72410:(t,e,r)=>{"use strict";var n=r(79989),i=r(60953);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},50886:(t,e,r)=>{"use strict";var n=r(79989),i=r(2960).map;n({target:"Array",proto:!0,forced:!r(29042)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},37593:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(19429),o=r(76522),a=Array;n({target:"Array",stat:!0,forced:i((function(){function t(){}return!(a.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,r=new(s(this)?this:a)(e);e>t;)o(r,t,arguments[t++]);return r.length=e,r}})},70560:(t,e,r)=>{"use strict";var n=r(79989),i=r(90690),s=r(6310),o=r(5649),a=r(55565);n({target:"Array",proto:!0,arity:1,forced:r(3689)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),r=s(e),n=arguments.length;a(r+n);for(var u=0;u<n;u++)e[r]=arguments[u],r++;return o(e,r),r}})},81386:(t,e,r)=>{"use strict";var n=r(79989),i=r(88820).right,s=r(16834),o=r(3615);n({target:"Array",proto:!0,forced:!r(50806)&&o>79&&o<83||!s("reduceRight")},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},278:(t,e,r)=>{"use strict";var n=r(79989),i=r(88820).left,s=r(16834),o=r(3615);n({target:"Array",proto:!0,forced:!r(50806)&&o>79&&o<83||!s("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},93374:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(92297),o=i([].reverse),a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),o(this)}})},89730:(t,e,r)=>{"use strict";var n=r(79989),i=r(92297),s=r(19429),o=r(48999),a=r(27578),u=r(6310),c=r(65290),l=r(76522),h=r(44201),f=r(29042),d=r(96004),p=f("slice"),m=h("species"),g=Array,y=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var r,n,h,f=c(this),p=u(f),v=a(t,p),b=a(void 0===e?p:e,p);if(i(f)&&(r=f.constructor,(s(r)&&(r===g||i(r.prototype))||o(r)&&null===(r=r[m]))&&(r=void 0),r===g||void 0===r))return d(f,v,b);for(n=new(void 0===r?g:r)(y(b-v,0)),h=0;v<b;v++,h++)v in f&&l(n,h,f[v]);return n.length=h,n}})},98742:(t,e,r)=>{"use strict";var n=r(79989),i=r(2960).some;n({target:"Array",proto:!0,forced:!r(16834)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},65137:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(10509),o=r(90690),a=r(6310),u=r(98494),c=r(34327),l=r(3689),h=r(50382),f=r(16834),d=r(97365),p=r(37298),m=r(3615),g=r(27922),y=[],v=i(y.sort),b=i(y.push),w=l((function(){y.sort(void 0)})),_=l((function(){y.sort(null)})),E=f("sort"),S=!l((function(){if(m)return m<70;if(!(d&&d>3)){if(p)return!0;if(g)return g<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:e+n,v:r})}for(y.sort((function(t,e){return e.v-t.v})),n=0;n<y.length;n++)e=y[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:w||!_||!E||!S},{sort:function(t){void 0!==t&&s(t);var e=o(this);if(S)return void 0===t?v(e):v(e,t);var r,n,i=[],l=a(e);for(n=0;n<l;n++)n in e&&b(i,e[n]);for(h(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1}}(t)),r=a(i),n=0;n<r;)e[n]=i[n++];for(;n<l;)u(e,n++);return e}})},21932:(t,e,r)=>{"use strict";r(14241)("Array")},62506:(t,e,r)=>{"use strict";var n=r(79989),i=r(90690),s=r(27578),o=r(68700),a=r(6310),u=r(5649),c=r(55565),l=r(27120),h=r(76522),f=r(98494),d=r(29042)("splice"),p=Math.max,m=Math.min;n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var r,n,d,g,y,v,b=i(this),w=a(b),_=s(t,w),E=arguments.length;for(0===E?r=n=0:1===E?(r=0,n=w-_):(r=E-2,n=m(p(o(e),0),w-_)),c(w+r-n),d=l(b,n),g=0;g<n;g++)(y=_+g)in b&&h(d,g,b[y]);if(d.length=n,r<n){for(g=_;g<w-n;g++)v=g+r,(y=g+n)in b?b[v]=b[y]:f(b,v);for(g=w;g>w-n+r;g--)f(b,g-1)}else if(r>n)for(g=w-n;g>_;g--)v=g+r-1,(y=g+n-1)in b?b[v]=b[y]:f(b,v);for(g=0;g<r;g++)b[g+_]=arguments[g+2];return u(b,w-n+r),d}})},29830:(t,e,r)=>{"use strict";var n=r(79989),i=r(26166),s=r(65290),o=r(87370),a=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(s(this),a)}}),o("toReversed")},12894:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(10509),o=r(65290),a=r(59976),u=r(88277),c=r(87370),l=Array,h=i(u("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&s(t);var e=o(this),r=a(l,e);return h(r,t)}}),c("toSorted")},93530:(t,e,r)=>{"use strict";var n=r(79989),i=r(87370),s=r(55565),o=r(6310),a=r(27578),u=r(65290),c=r(68700),l=Array,h=Math.max,f=Math.min;n({target:"Array",proto:!0},{toSpliced:function(t,e){var r,n,i,d,p=u(this),m=o(p),g=a(t,m),y=arguments.length,v=0;for(0===y?r=n=0:1===y?(r=0,n=m-g):(r=y-2,n=f(h(c(e),0),m-g)),i=s(m+r-n),d=l(i);v<g;v++)d[v]=p[v];for(;v<g+r;v++)d[v]=arguments[v-g+2];for(;v<i;v++)d[v]=p[v+n-r];return d}}),i("toSpliced")},90385:(t,e,r)=>{"use strict";r(87370)("flatMap")},13383:(t,e,r)=>{"use strict";r(87370)("flat")},91719:(t,e,r)=>{"use strict";var n=r(79989),i=r(90690),s=r(6310),o=r(5649),a=r(98494),u=r(55565);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=i(this),r=s(e),n=arguments.length;if(n){u(r+n);for(var c=r;c--;){var l=c+n;c in e?e[l]=e[c]:a(e,l)}for(var h=0;h<n;h++)e[h]=arguments[h]}return o(e,r+n)}})},21319:(t,e,r)=>{"use strict";var n=r(79989),i=r(16134),s=r(65290),o=Array;n({target:"Array",proto:!0},{with:function(t,e){return i(s(this),o,t,e)}})},87347:(t,e,r)=>{"use strict";var n=r(79989),i=r(83999);n({global:!0,constructor:!0,forced:!r(37075)},{DataView:i.DataView})},18201:(t,e,r)=>{"use strict";r(87347)},55635:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(3689)((function(){return 120!==new Date(16e11).getYear()})),o=i(Date.prototype.getFullYear);n({target:"Date",proto:!0,forced:s},{getYear:function(){return o(this)-1900}})},42227:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=Date,o=i(s.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return o(new s)}})},99679:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(68700),o=Date.prototype,a=i(o.getTime),u=i(o.setFullYear);n({target:"Date",proto:!0},{setYear:function(t){a(this);var e=s(t);return u(this,e>=0&&e<=99?e+1900:e)}})},24343:(t,e,r)=>{"use strict";r(79989)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},65007:(t,e,r)=>{"use strict";var n=r(79989),i=r(99455);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},78150:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(90690),o=r(88732);n({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=s(this),r=o(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},59903:(t,e,r)=>{"use strict";var n=r(36812),i=r(11880),s=r(81797),o=r(44201)("toPrimitive"),a=Date.prototype;n(a,o)||i(a,o,s)},30024:(t,e,r)=>{"use strict";var n=r(68844),i=r(11880),s=Date.prototype,o="Invalid Date",a="toString",u=n(s[a]),c=n(s.getTime);String(new Date(NaN))!==o&&i(s,a,(function(){var t=c(this);return t==t?u(this):o}))},21057:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(61735),o=r(51064),a="WebAssembly",u=i[a],c=7!==new Error("e",{cause:7}).cause,l=function(t,e){var r={};r[t]=o(t,e,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},h=function(t,e){if(u&&u[t]){var r={};r[t]=o(a+"."+t,e,c),n({target:a,stat:!0,constructor:!0,arity:1,forced:c},r)}};l("Error",(function(t){return function(e){return s(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),l("URIError",(function(t){return function(e){return s(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},68932:(t,e,r)=>{"use strict";var n=r(11880),i=r(20445),s=Error.prototype;s.toString!==i&&n(s,"toString",i)},60428:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(34327),o=i("".charAt),a=i("".charCodeAt),u=i(/./.exec),c=i(1..toString),l=i("".toUpperCase),h=/[\w*+\-./@]/,f=function(t,e){for(var r=c(t,16);r.length<e;)r="0"+r;return r};n({global:!0},{escape:function(t){for(var e,r,n=s(t),i="",c=n.length,d=0;d<c;)e=o(n,d++),u(h,e)?i+=e:i+=(r=a(e,0))<256?"%"+f(r,2):"%u"+l(f(r,4));return i}})},41517:(t,e,r)=>{"use strict";var n=r(79989),i=r(86761);n({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},56269:(t,e,r)=>{"use strict";var n=r(69985),i=r(48999),s=r(72560),o=r(23622),a=r(44201),u=r(98702),c=a("hasInstance"),l=Function.prototype;c in l||s.f(l,c,{value:u((function(t){if(!n(this)||!i(t))return!1;var e=this.prototype;return i(e)?o(e,t):t instanceof this}),c)})},34284:(t,e,r)=>{"use strict";var n=r(67697),i=r(41236).EXISTS,s=r(68844),o=r(62148),a=Function.prototype,u=s(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=s(c.exec);n&&!i&&o(a,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(t){return""}}})},45398:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037);n({global:!0,forced:i.globalThis!==i},{globalThis:i})},48324:(t,e,r)=>{"use strict";var n=r(79989),i=r(76058),s=r(61735),o=r(22615),a=r(68844),u=r(3689),c=r(69985),l=r(30734),h=r(96004),f=r(92643),d=r(50146),p=String,m=i("JSON","stringify"),g=a(/./.exec),y=a("".charAt),v=a("".charCodeAt),b=a("".replace),w=a(1..toString),_=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,x=!d||u((function(){var t=i("Symbol")("stringify detection");return"[null]"!==m([t])||"{}"!==m({a:t})||"{}"!==m(Object(t))})),M=u((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),k=function(t,e){var r=h(arguments),n=f(e);if(c(n)||void 0!==t&&!l(t))return r[1]=function(t,e){if(c(n)&&(e=o(n,this,p(t),e)),!l(e))return e},s(m,null,r)},T=function(t,e,r){var n=y(r,e-1),i=y(r,e+1);return g(E,t)&&!g(S,i)||g(S,t)&&!g(E,n)?"\\u"+w(v(t,0),16):t};m&&n({target:"JSON",stat:!0,arity:3,forced:x||M},{stringify:function(t,e,r){var n=h(arguments),i=s(x?k:m,null,n);return M&&"string"==typeof i?b(i,_,T):i}})},7629:(t,e,r)=>{"use strict";var n=r(19037);r(55997)(n.JSON,"JSON",!0)},9322:(t,e,r)=>{"use strict";r(20319)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(70800))},89348:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(10509),o=r(74684),a=r(18734),u=r(83914),c=r(53931),l=u.Map,h=u.has,f=u.get,d=u.set,p=i([].push);n({target:"Map",stat:!0,forced:c},{groupBy:function(t,e){o(t),s(e);var r=new l,n=0;return a(t,(function(t){var i=e(t,n++);h(r,i)?p(f(r,i),t):d(r,i,[t])})),r}})},56646:(t,e,r)=>{"use strict";r(9322)},6557:(t,e,r)=>{"use strict";var n=r(79989),i=r(93956),s=Math.acosh,o=Math.log,a=Math.sqrt,u=Math.LN2;n({target:"Math",stat:!0,forced:!s||710!==Math.floor(s(Number.MAX_VALUE))||s(1/0)!==1/0},{acosh:function(t){var e=+t;return e<1?NaN:e>94906265.62425156?o(e)+u:i(e-1+a(e-1)*a(e+1))}})},62428:(t,e,r)=>{"use strict";var n=r(79989),i=Math.asinh,s=Math.log,o=Math.sqrt;n({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function t(e){var r=+e;return isFinite(r)&&0!==r?r<0?-t(-r):s(r+o(r*r+1)):r}})},45263:(t,e,r)=>{"use strict";var n=r(79989),i=Math.atanh,s=Math.log;n({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(t){var e=+t;return 0===e?e:s((1+e)/(1-e))/2}})},74712:(t,e,r)=>{"use strict";var n=r(79989),i=r(55680),s=Math.abs,o=Math.pow;n({target:"Math",stat:!0},{cbrt:function(t){var e=+t;return i(e)*o(s(e),1/3)}})},54986:(t,e,r)=>{"use strict";var n=r(79989),i=Math.floor,s=Math.log,o=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(t){var e=t>>>0;return e?31-i(s(e+.5)*o):32}})},47221:(t,e,r)=>{"use strict";var n=r(79989),i=r(21745),s=Math.cosh,o=Math.abs,a=Math.E;n({target:"Math",stat:!0,forced:!s||s(710)===1/0},{cosh:function(t){var e=i(o(t)-1)+1;return(e+1/(e*a*a))*(a/2)}})},94992:(t,e,r)=>{"use strict";var n=r(79989),i=r(21745);n({target:"Math",stat:!0,forced:i!==Math.expm1},{expm1:i})},25499:(t,e,r)=>{"use strict";r(79989)({target:"Math",stat:!0},{fround:r(37788)})},59944:(t,e,r)=>{"use strict";var n=r(79989),i=Math.hypot,s=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,i=0,a=0,u=arguments.length,c=0;a<u;)c<(r=s(arguments[a++]))?(i=i*(n=c/r)*n+1,c=r):i+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*o(i)}})},78527:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=Math.imul;n({target:"Math",stat:!0,forced:i((function(){return-5!==s(4294967295,5)||2!==s.length}))},{imul:function(t,e){var r=65535,n=+t,i=+e,s=r&n,o=r&i;return 0|s*o+((r&n>>>16)*o+s*(r&i>>>16)<<16>>>0)}})},75239:(t,e,r)=>{"use strict";r(79989)({target:"Math",stat:!0},{log10:r(4736)})},92076:(t,e,r)=>{"use strict";r(79989)({target:"Math",stat:!0},{log1p:r(93956)})},68813:(t,e,r)=>{"use strict";var n=r(79989),i=Math.log,s=Math.LN2;n({target:"Math",stat:!0},{log2:function(t){return i(t)/s}})},96976:(t,e,r)=>{"use strict";r(79989)({target:"Math",stat:!0},{sign:r(55680)})},62700:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(21745),o=Math.abs,a=Math.exp,u=Math.E;n({target:"Math",stat:!0,forced:i((function(){return-2e-17!==Math.sinh(-2e-17)}))},{sinh:function(t){var e=+t;return o(e)<1?(s(e)-s(-e))/2:(a(e-1)-a(-e-1))*(u/2)}})},91554:(t,e,r)=>{"use strict";var n=r(79989),i=r(21745),s=Math.exp;n({target:"Math",stat:!0},{tanh:function(t){var e=+t,r=i(e),n=i(-e);return r===1/0?1:n===1/0?-1:(r-n)/(s(e)+s(-e))}})},77509:(t,e,r)=>{"use strict";r(55997)(Math,"Math",!0)},21416:(t,e,r)=>{"use strict";r(79989)({target:"Math",stat:!0},{trunc:r(58828)})},79288:(t,e,r)=>{"use strict";var n=r(79989),i=r(53931),s=r(67697),o=r(19037),a=r(50496),u=r(68844),c=r(35266),l=r(36812),h=r(33457),f=r(23622),d=r(30734),p=r(88732),m=r(3689),g=r(72741).f,y=r(82474).f,v=r(72560).f,b=r(23648),w=r(61435).trim,_="Number",E=o[_],S=a[_],x=E.prototype,M=o.TypeError,k=u("".slice),T=u("".charCodeAt),A=function(t){var e,r,n,i,s,o,a,u,c=p(t,"number");if(d(c))throw new M("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(e=T(c,0))||45===e){if(88===(r=T(c,2))||120===r)return NaN}else if(48===e){switch(T(c,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(o=(s=k(c,2)).length,a=0;a<o;a++)if((u=T(s,a))<48||u>i)return NaN;return parseInt(s,n)}return+c},C=c(_,!E(" 0o1")||!E("0b1")||E("+0x1")),I=function(t){var e,r=arguments.length<1?0:E(function(t){var e=p(t,"number");return"bigint"==typeof e?e:A(e)}(t));return f(x,e=this)&&m((function(){b(e)}))?h(Object(r),this,I):r};I.prototype=x,C&&!i&&(x.constructor=I),n({global:!0,constructor:!0,wrap:!0,forced:C},{Number:I});var P=function(t,e){for(var r,n=s?g(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)l(e,r=n[i])&&!l(t,r)&&v(t,r,y(e,r))};i&&S&&P(a[_],S),(C||i)&&P(a[_],E)},53584:(t,e,r)=>{"use strict";r(79989)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},82243:(t,e,r)=>{"use strict";r(79989)({target:"Number",stat:!0},{isFinite:r(70046)})},95765:(t,e,r)=>{"use strict";r(79989)({target:"Number",stat:!0},{isInteger:r(71973)})},45993:(t,e,r)=>{"use strict";r(79989)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},92547:(t,e,r)=>{"use strict";var n=r(79989),i=r(71973),s=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&s(t)<=9007199254740991}})},7936:(t,e,r)=>{"use strict";r(79989)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},32704:(t,e,r)=>{"use strict";r(79989)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},52362:(t,e,r)=>{"use strict";var n=r(79989),i=r(14818);n({target:"Number",stat:!0,forced:Number.parseFloat!==i},{parseFloat:i})},21552:(t,e,r)=>{"use strict";var n=r(79989),i=r(67897);n({target:"Number",stat:!0,forced:Number.parseInt!==i},{parseInt:i})},10704:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(68700),o=r(23648),a=r(90534),u=r(4736),c=r(3689),l=RangeError,h=String,f=isFinite,d=Math.abs,p=Math.floor,m=Math.pow,g=Math.round,y=i(1..toExponential),v=i(a),b=i("".slice),w="-6.9000e-11"===y(-69e-12,4)&&"1.25e+0"===y(1.255,2)&&"1.235e+4"===y(12345,3)&&"3e+1"===y(25,0);n({target:"Number",proto:!0,forced:!w||!(c((function(){y(1,1/0)}))&&c((function(){y(1,-1/0)})))||!!c((function(){y(1/0,1/0),y(NaN,1/0)}))},{toExponential:function(t){var e=o(this);if(void 0===t)return y(e);var r=s(t);if(!f(e))return String(e);if(r<0||r>20)throw new l("Incorrect fraction digits");if(w)return y(e,r);var n="",i="",a=0,c="",_="";if(e<0&&(n="-",e=-e),0===e)a=0,i=v("0",r+1);else{var E=u(e);a=p(E);var S=0,x=m(10,a-r);2*e>=(2*(S=g(e/x))+1)*x&&(S+=1),S>=m(10,r+1)&&(S/=10,a+=1),i=h(S)}return 0!==r&&(i=b(i,0,1)+"."+b(i,1)),0===a?(c="+",_="0"):(c=a>0?"+":"-",_=h(d(a))),n+(i+="e"+c+_)}})},97389:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(68700),o=r(23648),a=r(90534),u=r(3689),c=RangeError,l=String,h=Math.floor,f=i(a),d=i("".slice),p=i(1..toFixed),m=function(t,e,r){return 0===e?r:e%2==1?m(t,e-1,r*t):m(t*t,e/2,r)},g=function(t,e,r){for(var n=-1,i=r;++n<6;)i+=e*t[n],t[n]=i%1e7,i=h(i/1e7)},y=function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=h(n/e),n=n%e*1e7},v=function(t){for(var e=6,r="";--e>=0;)if(""!==r||0===e||0!==t[e]){var n=l(t[e]);r=""===r?n:r+f("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}))},{toFixed:function(t){var e,r,n,i,a=o(this),u=s(t),h=[0,0,0,0,0,0],p="",b="0";if(u<0||u>20)throw new c("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return l(a);if(a<0&&(p="-",a=-a),a>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(a*m(2,69,1))-69)<0?a*m(2,-e,1):a/m(2,e,1),r*=4503599627370496,(e=52-e)>0){for(g(h,0,r),n=u;n>=7;)g(h,1e7,0),n-=7;for(g(h,m(10,n,1),0),n=e-1;n>=23;)y(h,1<<23),n-=23;y(h,1<<n),g(h,1,1),y(h,2),b=v(h)}else g(h,0,r),g(h,1<<-e,0),b=v(h)+f("0",u);return b=u>0?p+((i=b.length)<=u?"0."+f("0",u-i)+b:d(b,0,i-u)+"."+d(b,i-u)):p+b}})},25284:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(3689),o=r(23648),a=i(1..toPrecision);n({target:"Number",proto:!0,forced:s((function(){return"1"!==a(1,void 0)}))||!s((function(){a({})}))},{toPrecision:function(t){return void 0===t?a(o(this)):a(o(this),t)}})},60429:(t,e,r)=>{"use strict";var n=r(79989),i=r(45394);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},51013:(t,e,r)=>{"use strict";r(79989)({target:"Object",stat:!0,sham:!r(67697)},{create:r(25391)})},33994:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(90600),o=r(10509),a=r(90690),u=r(72560);i&&n({target:"Object",proto:!0,forced:s},{__defineGetter__:function(t,e){u.f(a(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},35082:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(98920).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==s,sham:!i},{defineProperties:s})},40739:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(72560).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==s,sham:!i},{defineProperty:s})},47409:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(90600),o=r(10509),a=r(90690),u=r(72560);i&&n({target:"Object",proto:!0,forced:s},{__defineSetter__:function(t,e){u.f(a(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},36585:(t,e,r)=>{"use strict";var n=r(79989),i=r(49419).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},41830:(t,e,r)=>{"use strict";var n=r(79989),i=r(71594),s=r(3689),o=r(48999),a=r(45375).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!i},{freeze:function(t){return u&&o(t)?u(a(t)):t}})},85415:(t,e,r)=>{"use strict";var n=r(79989),i=r(18734),s=r(76522);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,r){s(e,t,r)}),{AS_ENTRIES:!0}),e}})},81919:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(65290),o=r(82474).f,a=r(67697);n({target:"Object",stat:!0,forced:!a||i((function(){o(1)})),sham:!a},{getOwnPropertyDescriptor:function(t,e){return o(s(t),e)}})},99474:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(19152),o=r(65290),a=r(82474),u=r(76522);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=o(t),i=a.f,c=s(n),l={},h=0;c.length>h;)void 0!==(r=i(n,e=c[h++]))&&u(l,e,r);return l}})},79997:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(26062).f;n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:s})},79434:(t,e,r)=>{"use strict";var n=r(79989),i=r(50146),s=r(3689),o=r(7518),a=r(90690);n({target:"Object",stat:!0,forced:!i||s((function(){o.f(1)}))},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(a(t)):[]}})},88052:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(90690),o=r(61868),a=r(81748);n({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!a},{getPrototypeOf:function(t){return o(s(t))}})},44079:(t,e,r)=>{"use strict";var n=r(79989),i=r(76058),s=r(68844),o=r(10509),a=r(74684),u=r(18360),c=r(18734),l=i("Object","create"),h=s([].push);n({target:"Object",stat:!0},{groupBy:function(t,e){a(t),o(e);var r=l(null),n=0;return c(t,(function(t){var i=u(e(t,n++));i in r?h(r[i],t):r[i]=[t]})),r}})},14566:(t,e,r)=>{"use strict";r(79989)({target:"Object",stat:!0},{hasOwn:r(36812)})},36446:(t,e,r)=>{"use strict";var n=r(79989),i=r(27049);n({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},35140:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(48999),o=r(6648),a=r(11655),u=Object.isFrozen;n({target:"Object",stat:!0,forced:a||i((function(){u(1)}))},{isFrozen:function(t){return!s(t)||(!(!a||"ArrayBuffer"!==o(t))||!!u&&u(t))}})},4179:(t,e,r)=>{"use strict";var n=r(79989),i=r(3689),s=r(48999),o=r(6648),a=r(11655),u=Object.isSealed;n({target:"Object",stat:!0,forced:a||i((function(){u(1)}))},{isSealed:function(t){return!s(t)||(!(!a||"ArrayBuffer"!==o(t))||!!u&&u(t))}})},76101:(t,e,r)=>{"use strict";r(79989)({target:"Object",stat:!0},{is:r(70953)})},69358:(t,e,r)=>{"use strict";var n=r(79989),i=r(90690),s=r(20300);n({target:"Object",stat:!0,forced:r(3689)((function(){s(1)}))},{keys:function(t){return s(i(t))}})},75450:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(90600),o=r(90690),a=r(18360),u=r(61868),c=r(82474).f;i&&n({target:"Object",proto:!0,forced:s},{__lookupGetter__:function(t){var e,r=o(this),n=a(t);do{if(e=c(r,n))return e.get}while(r=u(r))}})},54993:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(90600),o=r(90690),a=r(18360),u=r(61868),c=r(82474).f;i&&n({target:"Object",proto:!0,forced:s},{__lookupSetter__:function(t){var e,r=o(this),n=a(t);do{if(e=c(r,n))return e.set}while(r=u(r))}})},48115:(t,e,r)=>{"use strict";var n=r(79989),i=r(48999),s=r(45375).onFreeze,o=r(71594),a=r(3689),u=Object.preventExtensions;n({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!o},{preventExtensions:function(t){return u&&i(t)?u(s(t)):t}})},19330:(t,e,r)=>{"use strict";var n=r(67697),i=r(62148),s=r(48999),o=r(60598),a=r(90690),u=r(74684),c=Object.getPrototypeOf,l=Object.setPrototypeOf,h=Object.prototype,f="__proto__";if(n&&c&&l&&!(f in h))try{i(h,f,{configurable:!0,get:function(){return c(a(this))},set:function(t){var e=u(this);o(t)&&s(e)&&l(e,t)}})}catch(t){}},30658:(t,e,r)=>{"use strict";var n=r(79989),i=r(48999),s=r(45375).onFreeze,o=r(71594),a=r(3689),u=Object.seal;n({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!o},{seal:function(t){return u&&i(t)?u(s(t)):t}})},5399:(t,e,r)=>{"use strict";r(79989)({target:"Object",stat:!0},{setPrototypeOf:r(49385)})},60228:(t,e,r)=>{"use strict";var n=r(23043),i=r(11880),s=r(65073);n||i(Object.prototype,"toString",s,{unsafe:!0})},86466:(t,e,r)=>{"use strict";var n=r(79989),i=r(49419).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},80939:(t,e,r)=>{"use strict";var n=r(79989),i=r(14818);n({global:!0,forced:parseFloat!==i},{parseFloat:i})},32320:(t,e,r)=>{"use strict";var n=r(79989),i=r(67897);n({global:!0,forced:parseInt!==i},{parseInt:i})},41195:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(10509),o=r(48742),a=r(9302),u=r(18734);n({target:"Promise",stat:!0,forced:r(562)},{allSettled:function(t){var e=this,r=o.f(e),n=r.resolve,c=r.reject,l=a((function(){var r=s(e.resolve),o=[],a=0,c=1;u(t,(function(t){var s=a++,u=!1;c++,i(r,e,t).then((function(t){u||(u=!0,o[s]={status:"fulfilled",value:t},--c||n(o))}),(function(t){u||(u=!0,o[s]={status:"rejected",reason:t},--c||n(o))}))})),--c||n(o)}));return l.error&&c(l.value),r.promise}})},81692:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(10509),o=r(48742),a=r(9302),u=r(18734);n({target:"Promise",stat:!0,forced:r(562)},{all:function(t){var e=this,r=o.f(e),n=r.resolve,c=r.reject,l=a((function(){var r=s(e.resolve),o=[],a=0,l=1;u(t,(function(t){var s=a++,u=!1;l++,i(r,e,t).then((function(t){u||(u=!0,o[s]=t,--l||n(o))}),c)})),--l||n(o)}));return l.error&&c(l.value),r.promise}})},87609:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(10509),o=r(76058),a=r(48742),u=r(9302),c=r(18734),l=r(562),h="No one promise resolved";n({target:"Promise",stat:!0,forced:l},{any:function(t){var e=this,r=o("AggregateError"),n=a.f(e),l=n.resolve,f=n.reject,d=u((function(){var n=s(e.resolve),o=[],a=0,u=1,d=!1;c(t,(function(t){var s=a++,c=!1;u++,i(n,e,t).then((function(t){c||d||(d=!0,l(t))}),(function(t){c||d||(c=!0,o[s]=t,--u||f(new r(o,h)))}))})),--u||f(new r(o,h))}));return d.error&&f(d.value),n.promise}})},75089:(t,e,r)=>{"use strict";var n=r(79989),i=r(53931),s=r(87073).CONSTRUCTOR,o=r(17919),a=r(76058),u=r(69985),c=r(11880),l=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(o)){var h=a("Promise").prototype.catch;l.catch!==h&&c(l,"catch",h,{unsafe:!0})}},56697:(t,e,r)=>{"use strict";var n,i,s,o=r(79989),a=r(53931),u=r(50806),c=r(19037),l=r(22615),h=r(11880),f=r(49385),d=r(55997),p=r(14241),m=r(10509),g=r(69985),y=r(48999),v=r(767),b=r(76373),w=r(99886).set,_=r(80231),E=r(20920),S=r(9302),x=r(34410),M=r(618),k=r(17919),T=r(87073),A=r(48742),C="Promise",I=T.CONSTRUCTOR,P=T.REJECTION_EVENT,R=T.SUBCLASSING,O=M.getterFor(C),D=M.set,L=k&&k.prototype,N=k,F=L,B=c.TypeError,j=c.document,z=c.process,U=A.f,V=U,q=!!(j&&j.createEvent&&c.dispatchEvent),G="unhandledrejection",H=function(t){var e;return!(!y(t)||!g(e=t.then))&&e},$=function(t,e){var r,n,i,s=e.value,o=1===e.state,a=o?t.ok:t.fail,u=t.resolve,c=t.reject,h=t.domain;try{a?(o||(2===e.rejection&&Q(e),e.rejection=1),!0===a?r=s:(h&&h.enter(),r=a(s),h&&(h.exit(),i=!0)),r===t.promise?c(new B("Promise-chain cycle")):(n=H(r))?l(n,r,u,c):u(r)):c(s)}catch(t){h&&!i&&h.exit(),c(t)}},W=function(t,e){t.notified||(t.notified=!0,_((function(){for(var r,n=t.reactions;r=n.get();)$(r,t);t.notified=!1,e&&!t.rejection&&Y(t)})))},K=function(t,e,r){var n,i;q?((n=j.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!P&&(i=c["on"+t])?i(n):t===G&&E("Unhandled promise rejection",r)},Y=function(t){l(w,c,(function(){var e,r=t.facade,n=t.value;if(X(t)&&(e=S((function(){u?z.emit("unhandledRejection",n,r):K(G,r,n)})),t.rejection=u||X(t)?2:1,e.error))throw e.value}))},X=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){l(w,c,(function(){var e=t.facade;u?z.emit("rejectionHandled",e):K("rejectionhandled",e,t.value)}))},J=function(t,e,r){return function(n){t(e,n,r)}},Z=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,W(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new B("Promise can't be resolved itself");var n=H(e);n?_((function(){var r={done:!1};try{l(n,e,J(tt,r,t),J(Z,r,t))}catch(e){Z(r,e,t)}})):(t.value=e,t.state=1,W(t,!1))}catch(e){Z({done:!1},e,t)}}};if(I&&(F=(N=function(t){v(this,F),m(t),l(n,this);var e=O(this);try{t(J(tt,e),J(Z,e))}catch(t){Z(e,t)}}).prototype,(n=function(t){D(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=h(F,"then",(function(t,e){var r=O(this),n=U(b(this,N));return r.parent=!0,n.ok=!g(t)||t,n.fail=g(e)&&e,n.domain=u?z.domain:void 0,0===r.state?r.reactions.add(n):_((function(){$(n,r)})),n.promise})),i=function(){var t=new n,e=O(t);this.promise=t,this.resolve=J(tt,e),this.reject=J(Z,e)},A.f=U=function(t){return t===N||undefined===t?new i(t):V(t)},!a&&g(k)&&L!==Object.prototype)){s=L.then,R||h(L,"then",(function(t,e){var r=this;return new N((function(t,e){l(s,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete L.constructor}catch(t){}f&&f(L,F)}o({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:N}),d(N,C,!1,!0),p(C)},36409:(t,e,r)=>{"use strict";var n=r(79989),i=r(53931),s=r(17919),o=r(3689),a=r(76058),u=r(69985),c=r(76373),l=r(72945),h=r(11880),f=s&&s.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!s&&o((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,a("Promise")),r=u(t);return this.then(r?function(r){return l(e,t()).then((function(){return r}))}:t,r?function(r){return l(e,t()).then((function(){throw r}))}:t)}}),!i&&u(s)){var d=a("Promise").prototype.finally;f.finally!==d&&h(f,"finally",d,{unsafe:!0})}},73964:(t,e,r)=>{"use strict";r(56697),r(81692),r(75089),r(58829),r(42092),r(57905)},58829:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(10509),o=r(48742),a=r(9302),u=r(18734);n({target:"Promise",stat:!0,forced:r(562)},{race:function(t){var e=this,r=o.f(e),n=r.reject,c=a((function(){var o=s(e.resolve);u(t,(function(t){i(o,e,t).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},42092:(t,e,r)=>{"use strict";var n=r(79989),i=r(48742);n({target:"Promise",stat:!0,forced:r(87073).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},57905:(t,e,r)=>{"use strict";var n=r(79989),i=r(76058),s=r(53931),o=r(17919),a=r(87073).CONSTRUCTOR,u=r(72945),c=i("Promise"),l=s&&!a;n({target:"Promise",stat:!0,forced:s||a},{resolve:function(t){return u(l&&this===c?o:this,t)}})},13505:(t,e,r)=>{"use strict";var n=r(79989),i=r(48742);n({target:"Promise",stat:!0},{withResolvers:function(){var t=i.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},54333:(t,e,r)=>{"use strict";var n=r(79989),i=r(61735),s=r(10509),o=r(85027);n({target:"Reflect",stat:!0,forced:!r(3689)((function(){Reflect.apply((function(){}))}))},{apply:function(t,e,r){return i(s(t),e,o(r))}})},30050:(t,e,r)=>{"use strict";var n=r(79989),i=r(76058),s=r(61735),o=r(86761),a=r(52655),u=r(85027),c=r(48999),l=r(25391),h=r(3689),f=i("Reflect","construct"),d=Object.prototype,p=[].push,m=h((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),g=!h((function(){f((function(){}))})),y=m||g;n({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){a(t),u(e);var r=arguments.length<3?t:a(arguments[2]);if(g&&!m)return f(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return s(p,n,e),new(s(o,t,n))}var i=r.prototype,h=l(c(i)?i:d),y=s(t,h,e);return c(y)?y:h}})},99871:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(85027),o=r(18360),a=r(72560);n({target:"Reflect",stat:!0,forced:r(3689)((function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(t,e,r){s(t);var n=o(e);s(r);try{return a.f(t,n,r),!0}catch(t){return!1}}})},1049:(t,e,r)=>{"use strict";var n=r(79989),i=r(85027),s=r(82474).f;n({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var r=s(i(t),e);return!(r&&!r.configurable)&&delete t[e]}})},50149:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(85027),o=r(82474);n({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return o.f(s(t),e)}})},43792:(t,e,r)=>{"use strict";var n=r(79989),i=r(85027),s=r(61868);n({target:"Reflect",stat:!0,sham:!r(81748)},{getPrototypeOf:function(t){return s(i(t))}})},32349:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(48999),o=r(85027),a=r(76251),u=r(82474),c=r(61868);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,l,h=arguments.length<3?e:arguments[2];return o(e)===h?e[r]:(n=u.f(e,r))?a(n)?n.value:void 0===n.get?void 0:i(n.get,h):s(l=c(e))?t(l,r,h):void 0}})},69707:(t,e,r)=>{"use strict";r(79989)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},63545:(t,e,r)=>{"use strict";var n=r(79989),i=r(85027),s=r(27049);n({target:"Reflect",stat:!0},{isExtensible:function(t){return i(t),s(t)}})},62087:(t,e,r)=>{"use strict";r(79989)({target:"Reflect",stat:!0},{ownKeys:r(19152)})},51505:(t,e,r)=>{"use strict";var n=r(79989),i=r(76058),s=r(85027);n({target:"Reflect",stat:!0,sham:!r(71594)},{preventExtensions:function(t){s(t);try{var e=i("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},22373:(t,e,r)=>{"use strict";var n=r(79989),i=r(85027),s=r(23550),o=r(49385);o&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){i(t),s(e);try{return o(t,e),!0}catch(t){return!1}}})},45247:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(85027),o=r(48999),a=r(76251),u=r(3689),c=r(72560),l=r(82474),h=r(61868),f=r(75684);n({target:"Reflect",stat:!0,forced:u((function(){var t=function(){},e=c.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}))},{set:function t(e,r,n){var u,d,p,m=arguments.length<4?e:arguments[3],g=l.f(s(e),r);if(!g){if(o(d=h(e)))return t(d,r,n,m);g=f(0)}if(a(g)){if(!1===g.writable||!o(m))return!1;if(u=l.f(m,r)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,c.f(m,r,u)}else c.f(m,r,f(0,n))}else{if(void 0===(p=g.set))return!1;i(p,m,n)}return!0}})},76034:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(55997);n({global:!0},{Reflect:{}}),s(i.Reflect,"Reflect",!0)},52003:(t,e,r)=>{"use strict";var n=r(67697),i=r(19037),s=r(68844),o=r(35266),a=r(33457),u=r(75773),c=r(25391),l=r(72741).f,h=r(23622),f=r(91245),d=r(34327),p=r(63477),m=r(87901),g=r(38055),y=r(11880),v=r(3689),b=r(36812),w=r(618).enforce,_=r(14241),E=r(44201),S=r(62100),x=r(26738),M=E("match"),k=i.RegExp,T=k.prototype,A=i.SyntaxError,C=s(T.exec),I=s("".charAt),P=s("".replace),R=s("".indexOf),O=s("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,N=/a/g,F=new k(L)!==L,B=m.MISSED_STICKY,j=m.UNSUPPORTED_Y,z=n&&(!F||B||S||x||v((function(){return N[M]=!1,k(L)!==L||k(N)===N||"/a/i"!==String(k(L,"i"))})));if(o("RegExp",z)){for(var U=function(t,e){var r,n,i,s,o,l,m=h(T,this),g=f(t),y=void 0===e,v=[],_=t;if(!m&&g&&y&&t.constructor===U)return t;if((g||h(T,t))&&(t=t.source,y&&(e=p(_))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),_=t,S&&"dotAll"in L&&(n=!!e&&R(e,"s")>-1)&&(e=P(e,/s/g,"")),r=e,B&&"sticky"in L&&(i=!!e&&R(e,"y")>-1)&&j&&(e=P(e,/y/g,"")),x&&(s=function(t){for(var e,r=t.length,n=0,i="",s=[],o=c(null),a=!1,u=!1,l=0,h="";n<=r;n++){if("\\"===(e=I(t,n)))e+=I(t,++n);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:C(D,O(t,n+1))&&(n+=2,u=!0),i+=e,l++;continue;case">"===e&&u:if(""===h||b(o,h))throw new A("Invalid capture group name");o[h]=!0,s[s.length]=[h,l],u=!1,h="";continue}u?h+=e:i+=e}return[i,s]}(t),t=s[0],v=s[1]),o=a(k(t,e),m?this:T,U),(n||i||v.length)&&(l=w(o),n&&(l.dotAll=!0,l.raw=U(function(t){for(var e,r=t.length,n=0,i="",s=!1;n<=r;n++)"\\"!==(e=I(t,n))?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),i+=e):i+="[\\s\\S]":i+=e+I(t,++n);return i}(t),r)),i&&(l.sticky=!0),v.length&&(l.groups=v)),t!==_)try{u(o,"source",""===_?"(?:)":_)}catch(t){}return o},V=l(k),q=0;V.length>q;)g(U,k,V[q++]);T.constructor=U,U.prototype=T,y(i,"RegExp",U,{constructor:!0})}_("RegExp")},68518:(t,e,r)=>{"use strict";var n=r(67697),i=r(62100),s=r(6648),o=r(62148),a=r(618).get,u=RegExp.prototype,c=TypeError;n&&i&&o(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===s(this))return!!a(this).dotAll;throw new c("Incompatible receiver, RegExp required")}}})},64043:(t,e,r)=>{"use strict";var n=r(79989),i=r(56308);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},25847:(t,e,r)=>{"use strict";var n=r(19037),i=r(67697),s=r(62148),o=r(69633),a=r(3689),u=n.RegExp,c=u.prototype;i&&a((function(){var t=!0;try{u(".","d")}catch(e){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",i=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(s.hasIndices="d"),s)i(o,s[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(e)!==n||r!==n}))&&s(c,"flags",{configurable:!0,get:o})},13440:(t,e,r)=>{"use strict";var n=r(67697),i=r(87901).MISSED_STICKY,s=r(6648),o=r(62148),a=r(618).get,u=RegExp.prototype,c=TypeError;n&&i&&o(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===s(this))return!!a(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},7409:(t,e,r)=>{"use strict";r(64043);var n,i,s=r(79989),o=r(22615),a=r(69985),u=r(85027),c=r(34327),l=(n=!1,(i=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&n),h=/./.test;s({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=u(this),r=c(t),n=e.exec;if(!a(n))return o(h,e,r);var i=o(n,e,r);return null!==i&&(u(i),!0)}})},12826:(t,e,r)=>{"use strict";var n=r(41236).PROPER,i=r(11880),s=r(85027),o=r(34327),a=r(3689),u=r(63477),c="toString",l=RegExp.prototype,h=l[c],f=a((function(){return"/a/b"!==h.call({source:"a",flags:"b"})})),d=n&&h.name!==c;(f||d)&&i(l,c,(function(){var t=s(this);return"/"+o(t.source)+"/"+o(u(t))}),{unsafe:!0})},17985:(t,e,r)=>{"use strict";r(20319)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(70800))},19649:(t,e,r)=>{"use strict";r(17985)},90343:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},7961:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(74684),o=r(68700),a=r(34327),u=r(3689),c=i("".charAt);n({target:"String",proto:!0,forced:u((function(){return"\ud842"!=="\u{20bb7}".at(-2)}))},{at:function(t){var e=a(s(this)),r=e.length,n=o(t),i=n>=0?n:r+n;return i<0||i>=r?void 0:c(e,i)}})},21444:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("big")},{big:function(){return i(this,"big","","")}})},25906:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("blink")},{blink:function(){return i(this,"blink","","")}})},95682:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("bold")},{bold:function(){return i(this,"b","","")}})},86239:(t,e,r)=>{"use strict";var n=r(79989),i=r(10730).codeAt;n({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},2918:(t,e,r)=>{"use strict";var n,i=r(79989),s=r(46576),o=r(82474).f,a=r(43126),u=r(34327),c=r(42124),l=r(74684),h=r(27413),f=r(53931),d=s("".slice),p=Math.min,m=h("endsWith");i({target:"String",proto:!0,forced:!!(f||m||(n=o(String.prototype,"endsWith"),!n||n.writable))&&!m},{endsWith:function(t){var e=u(l(this));c(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,i=void 0===r?n:p(a(r),n),s=u(t);return d(e,i-s.length,i)===s}})},98041:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("fixed")},{fixed:function(){return i(this,"tt","","")}})},6364:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("fontcolor")},{fontcolor:function(t){return i(this,"font","color",t)}})},82954:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("fontsize")},{fontsize:function(t){return i(this,"font","size",t)}})},20283:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(27578),o=RangeError,a=String.fromCharCode,u=String.fromCodePoint,c=i([].join);n({target:"String",stat:!0,arity:1,forced:!!u&&1!==u.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,i=0;n>i;){if(e=+arguments[i++],s(e,1114111)!==e)throw new o(e+" is not a valid code point");r[i]=e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320)}return c(r,"")}})},43843:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(42124),o=r(74684),a=r(34327),u=r(27413),c=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(a(o(this)),a(s(t)),arguments.length>1?arguments[1]:void 0)}})},12281:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(74684),o=r(34327),a=i("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var t=o(s(this)),e=t.length,r=0;r<e;r++){var n=a(t,r);if(55296==(63488&n)&&(n>=56320||++r>=e||56320!=(64512&a(t,r))))return!1}return!0}})},19162:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("italics")},{italics:function(){return i(this,"i","","")}})},21694:(t,e,r)=>{"use strict";var n=r(10730).charAt,i=r(34327),s=r(618),o=r(91934),a=r(27807),u="String Iterator",c=s.set,l=s.getterFor(u);o(String,"String",(function(t){c(this,{type:u,string:i(t),index:0})}),(function(){var t,e=l(this),r=e.string,i=e.index;return i>=r.length?a(void 0,!0):(t=n(r,i),e.index+=t.length,a(t,!1))}))},37960:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("link")},{link:function(t){return i(this,"a","href",t)}})},79866:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(46576),o=r(30974),a=r(27807),u=r(74684),c=r(43126),l=r(34327),h=r(85027),f=r(981),d=r(6648),p=r(91245),m=r(63477),g=r(54849),y=r(11880),v=r(3689),b=r(44201),w=r(76373),_=r(71514),E=r(66100),S=r(618),x=r(53931),M=b("matchAll"),k="RegExp String",T=k+" Iterator",A=S.set,C=S.getterFor(T),I=RegExp.prototype,P=TypeError,R=s("".indexOf),O=s("".matchAll),D=!!O&&!v((function(){O("a",/./)})),L=o((function(t,e,r,n){A(this,{type:T,regexp:t,string:e,global:r,unicode:n,done:!1})}),k,(function(){var t=C(this);if(t.done)return a(void 0,!0);var e=t.regexp,r=t.string,n=E(e,r);return null===n?(t.done=!0,a(void 0,!0)):t.global?(""===l(n[0])&&(e.lastIndex=_(r,c(e.lastIndex),t.unicode)),a(n,!1)):(t.done=!0,a(n,!1))})),N=function(t){var e,r,n,i=h(this),s=l(t),o=w(i,RegExp),a=l(m(i));return e=new o(o===RegExp?i.source:i,a),r=!!~R(a,"g"),n=!!~R(a,"u"),e.lastIndex=c(i.lastIndex),new L(e,s,r,n)};n({target:"String",proto:!0,forced:D},{matchAll:function(t){var e,r,n,s,o=u(this);if(f(t)){if(D)return O(o,t)}else{if(p(t)&&(e=l(u(m(t))),!~R(e,"g")))throw new P("`.matchAll` does not allow non-global regexes");if(D)return O(o,t);if(void 0===(n=g(t,M))&&x&&"RegExp"===d(t)&&(n=N),n)return i(n,t,o)}return r=l(o),s=new RegExp(t,"g"),x?i(N,s,r):s[M](r)}}),x||M in I||y(I,M,N)},22462:(t,e,r)=>{"use strict";var n=r(22615),i=r(65773),s=r(85027),o=r(981),a=r(43126),u=r(34327),c=r(74684),l=r(54849),h=r(71514),f=r(66100);i("match",(function(t,e,r){return[function(e){var r=c(this),i=o(e)?void 0:l(e,t);return i?n(i,e,r):new RegExp(e)[t](u(r))},function(t){var n=s(this),i=u(t),o=r(e,n,i);if(o.done)return o.value;if(!n.global)return f(n,i);var c=n.unicode;n.lastIndex=0;for(var l,d=[],p=0;null!==(l=f(n,i));){var m=u(l[0]);d[p]=m,""===m&&(n.lastIndex=h(i,a(n.lastIndex),c)),p++}return 0===p?null:d}]}))},72940:(t,e,r)=>{"use strict";var n=r(79989),i=r(77254).end;n({target:"String",proto:!0,forced:r(35947)},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},8472:(t,e,r)=>{"use strict";var n=r(79989),i=r(77254).start;n({target:"String",proto:!0,forced:r(35947)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},92404:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(65290),o=r(90690),a=r(34327),u=r(6310),c=i([].push),l=i([].join);n({target:"String",stat:!0},{raw:function(t){var e=s(o(t).raw),r=u(e);if(!r)return"";for(var n=arguments.length,i=[],h=0;;){if(c(i,a(e[h++])),h===r)return l(i,"");h<n&&c(i,a(arguments[h]))}}})},59588:(t,e,r)=>{"use strict";r(79989)({target:"String",proto:!0},{repeat:r(90534)})},56532:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(68844),o=r(74684),a=r(69985),u=r(981),c=r(91245),l=r(34327),h=r(54849),f=r(63477),d=r(27017),p=r(44201),m=r(53931),g=p("replace"),y=TypeError,v=s("".indexOf),b=s("".replace),w=s("".slice),_=Math.max,E=function(t,e,r){return r>t.length?-1:""===e?r:v(t,e,r)};n({target:"String",proto:!0},{replaceAll:function(t,e){var r,n,s,p,S,x,M,k,T,A=o(this),C=0,I=0,P="";if(!u(t)){if((r=c(t))&&(n=l(o(f(t))),!~v(n,"g")))throw new y("`.replaceAll` does not allow non-global regexes");if(s=h(t,g))return i(s,t,A,e);if(m&&r)return b(l(A),t,e)}for(p=l(A),S=l(t),(x=a(e))||(e=l(e)),M=S.length,k=_(1,M),C=E(p,S,0);-1!==C;)T=x?l(e(S,C,p)):d(S,p,C,[],void 0,e),P+=w(p,I,C)+T,I=C+M,C=E(p,S,C+k);return I<p.length&&(P+=w(p,I)),P}})},57267:(t,e,r)=>{"use strict";var n=r(61735),i=r(22615),s=r(68844),o=r(65773),a=r(3689),u=r(85027),c=r(69985),l=r(981),h=r(68700),f=r(43126),d=r(34327),p=r(74684),m=r(71514),g=r(54849),y=r(27017),v=r(66100),b=r(44201)("replace"),w=Math.max,_=Math.min,E=s([].concat),S=s([].push),x=s("".indexOf),M=s("".slice),k="$0"==="a".replace(/./,"$0"),T=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(t,e,r){var s=T?"$":"$0";return[function(t,r){var n=p(this),s=l(t)?void 0:g(t,b);return s?i(s,t,n,r):i(e,d(n),t,r)},function(t,i){var o=u(this),a=d(t);if("string"==typeof i&&-1===x(i,s)&&-1===x(i,"$<")){var l=r(e,o,a,i);if(l.done)return l.value}var p=c(i);p||(i=d(i));var g,b=o.global;b&&(g=o.unicode,o.lastIndex=0);for(var k,T=[];null!==(k=v(o,a))&&(S(T,k),b);){""===d(k[0])&&(o.lastIndex=m(a,f(o.lastIndex),g))}for(var A,C="",I=0,P=0;P<T.length;P++){for(var R,O=d((k=T[P])[0]),D=w(_(h(k.index),a.length),0),L=[],N=1;N<k.length;N++)S(L,void 0===(A=k[N])?A:String(A));var F=k.groups;if(p){var B=E([O],L,D,a);void 0!==F&&S(B,F),R=d(n(i,void 0,B))}else R=y(O,a,D,L,F,i);D>=I&&(C+=M(a,I,D)+R,I=D+O.length)}return C+M(a,I)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!k||T)},61514:(t,e,r)=>{"use strict";var n=r(22615),i=r(65773),s=r(85027),o=r(981),a=r(74684),u=r(70953),c=r(34327),l=r(54849),h=r(66100);i("search",(function(t,e,r){return[function(e){var r=a(this),i=o(e)?void 0:l(e,t);return i?n(i,e,r):new RegExp(e)[t](c(r))},function(t){var n=s(this),i=c(t),o=r(e,n,i);if(o.done)return o.value;var a=n.lastIndex;u(a,0)||(n.lastIndex=0);var l=h(n,i);return u(n.lastIndex,a)||(n.lastIndex=a),null===l?-1:l.index}]}))},470:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("small")},{small:function(){return i(this,"small","","")}})},9873:(t,e,r)=>{"use strict";var n=r(61735),i=r(22615),s=r(68844),o=r(65773),a=r(85027),u=r(981),c=r(91245),l=r(74684),h=r(76373),f=r(71514),d=r(43126),p=r(34327),m=r(54849),g=r(96004),y=r(66100),v=r(56308),b=r(87901),w=r(3689),_=b.UNSUPPORTED_Y,E=4294967295,S=Math.min,x=[].push,M=s(/./.exec),k=s(x),T=s("".slice);o("split",(function(t,e,r){var s;return s="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var s=p(l(this)),o=void 0===r?E:r>>>0;if(0===o)return[];if(void 0===t)return[s];if(!c(t))return i(e,s,t,o);for(var a,u,h,f=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,y=new RegExp(t.source,d+"g");(a=i(v,y,s))&&!((u=y.lastIndex)>m&&(k(f,T(s,m,a.index)),a.length>1&&a.index<s.length&&n(x,f,g(a,1)),h=a[0].length,m=u,f.length>=o));)y.lastIndex===a.index&&y.lastIndex++;return m===s.length?!h&&M(y,"")||k(f,""):k(f,T(s,m)),f.length>o?g(f,0,o):f}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:i(e,this,t,r)}:e,[function(e,r){var n=l(this),o=u(e)?void 0:m(e,t);return o?i(o,e,n,r):i(s,p(n),e,r)},function(t,n){var i=a(this),o=p(t),u=r(s,i,o,n,s!==e);if(u.done)return u.value;var c=h(i,RegExp),l=i.unicode,m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(_?"g":"y"),g=new c(_?"^(?:"+i.source+")":i,m),v=void 0===n?E:n>>>0;if(0===v)return[];if(0===o.length)return null===y(g,o)?[o]:[];for(var b=0,w=0,x=[];w<o.length;){g.lastIndex=_?0:w;var M,A=y(g,_?T(o,w):o);if(null===A||(M=S(d(g.lastIndex+(_?w:0)),o.length))===b)w=f(o,w,l);else{if(k(x,T(o,b,w)),x.length===v)return x;for(var C=1;C<=A.length-1;C++)if(k(x,A[C]),x.length===v)return x;w=b=M}}return k(x,T(o,b)),x}]}),!!w((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),_)},268:(t,e,r)=>{"use strict";var n,i=r(79989),s=r(46576),o=r(82474).f,a=r(43126),u=r(34327),c=r(42124),l=r(74684),h=r(27413),f=r(53931),d=s("".slice),p=Math.min,m=h("startsWith");i({target:"String",proto:!0,forced:!!(f||m||(n=o(String.prototype,"startsWith"),!n||n.writable))&&!m},{startsWith:function(t){var e=u(l(this));c(t);var r=a(p(arguments.length>1?arguments[1]:void 0,e.length)),n=u(t);return d(e,r,r+n.length)===n}})},67446:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("strike")},{strike:function(){return i(this,"strike","","")}})},47729:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("sub")},{sub:function(){return i(this,"sub","","")}})},20372:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(74684),o=r(68700),a=r(34327),u=i("".slice),c=Math.max,l=Math.min;n({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(t,e){var r,n,i=a(s(this)),h=i.length,f=o(t);return f===1/0&&(f=0),f<0&&(f=c(h+f,0)),(r=void 0===e?h:o(e))<=0||r===1/0||f>=(n=l(f+r,h))?"":u(i,f,n)}})},2e3:(t,e,r)=>{"use strict";var n=r(79989),i=r(71568);n({target:"String",proto:!0,forced:r(74580)("sup")},{sup:function(){return i(this,"sup","","")}})},35237:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615),s=r(68844),o=r(74684),a=r(34327),u=r(3689),c=Array,l=s("".charAt),h=s("".charCodeAt),f=s([].join),d="".toWellFormed,p=d&&u((function(){return"1"!==i(d,1)}));n({target:"String",proto:!0,forced:p},{toWellFormed:function(){var t=a(o(this));if(p)return i(d,t);for(var e=t.length,r=c(e),n=0;n<e;n++){var s=h(t,n);55296!=(63488&s)?r[n]=l(t,n):s>=56320||n+1>=e||56320!=(64512&h(t,n+1))?r[n]="\ufffd":(r[n]=l(t,n),r[++n]=l(t,n))}return f(r,"")}})},16386:(t,e,r)=>{"use strict";r(61313);var n=r(79989),i=r(79558);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},10974:(t,e,r)=>{"use strict";var n=r(79989),i=r(72291);n({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},61313:(t,e,r)=>{"use strict";var n=r(79989),i=r(79558);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},3255:(t,e,r)=>{"use strict";r(10974);var n=r(79989),i=r(72291);n({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},28436:(t,e,r)=>{"use strict";var n=r(79989),i=r(61435).trim;n({target:"String",proto:!0,forced:r(75984)("trim")},{trim:function(){return i(this)}})},58373:(t,e,r)=>{"use strict";r(35405)("asyncIterator")},37855:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(22615),o=r(68844),a=r(53931),u=r(67697),c=r(50146),l=r(3689),h=r(36812),f=r(23622),d=r(85027),p=r(65290),m=r(18360),g=r(34327),y=r(75684),v=r(25391),b=r(20300),w=r(72741),_=r(26062),E=r(7518),S=r(82474),x=r(72560),M=r(98920),k=r(49556),T=r(11880),A=r(62148),C=r(83430),I=r(2713),P=r(57248),R=r(14630),O=r(44201),D=r(96145),L=r(35405),N=r(13032),F=r(55997),B=r(618),j=r(2960).forEach,z=I("hidden"),U="Symbol",V="prototype",q=B.set,G=B.getterFor(U),H=Object[V],$=i.Symbol,W=$&&$[V],K=i.RangeError,Y=i.TypeError,X=i.QObject,Q=S.f,J=x.f,Z=_.f,tt=k.f,et=o([].push),rt=C("symbols"),nt=C("op-symbols"),it=C("wks"),st=!X||!X[V]||!X[V].findChild,ot=function(t,e,r){var n=Q(H,e);n&&delete H[e],J(t,e,r),n&&t!==H&&J(H,e,n)},at=u&&l((function(){return 7!==v(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?ot:J,ut=function(t,e){var r=rt[t]=v(W);return q(r,{type:U,tag:t,description:e}),u||(r.description=e),r},ct=function(t,e,r){t===H&&ct(nt,e,r),d(t);var n=m(e);return d(r),h(rt,n)?(r.enumerable?(h(t,z)&&t[z][n]&&(t[z][n]=!1),r=v(r,{enumerable:y(0,!1)})):(h(t,z)||J(t,z,y(1,v(null))),t[z][n]=!0),at(t,n,r)):J(t,n,r)},lt=function(t,e){d(t);var r=p(e),n=b(r).concat(pt(r));return j(n,(function(e){u&&!s(ht,r,e)||ct(t,e,r[e])})),t},ht=function(t){var e=m(t),r=s(tt,this,e);return!(this===H&&h(rt,e)&&!h(nt,e))&&(!(r||!h(this,e)||!h(rt,e)||h(this,z)&&this[z][e])||r)},ft=function(t,e){var r=p(t),n=m(e);if(r!==H||!h(rt,n)||h(nt,n)){var i=Q(r,n);return!i||!h(rt,n)||h(r,z)&&r[z][n]||(i.enumerable=!0),i}},dt=function(t){var e=Z(p(t)),r=[];return j(e,(function(t){h(rt,t)||h(P,t)||et(r,t)})),r},pt=function(t){var e=t===H,r=Z(e?nt:p(t)),n=[];return j(r,(function(t){!h(rt,t)||e&&!h(H,t)||et(n,rt[t])})),n};c||(T(W=($=function(){if(f(W,this))throw new Y("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=R(t),r=function(t){var n=void 0===this?i:this;n===H&&s(r,nt,t),h(n,z)&&h(n[z],e)&&(n[z][e]=!1);var o=y(1,t);try{at(n,e,o)}catch(t){if(!(t instanceof K))throw t;ot(n,e,o)}};return u&&st&&at(H,e,{configurable:!0,set:r}),ut(e,t)})[V],"toString",(function(){return G(this).tag})),T($,"withoutSetter",(function(t){return ut(R(t),t)})),k.f=ht,x.f=ct,M.f=lt,S.f=ft,w.f=_.f=dt,E.f=pt,D.f=function(t){return ut(O(t),t)},u&&(A(W,"description",{configurable:!0,get:function(){return G(this).description}}),a||T(H,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:$}),j(b(it),(function(t){L(t)})),n({target:U,stat:!0,forced:!c},{useSetter:function(){st=!0},useSimple:function(){st=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?v(t):lt(v(t),e)},defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt}),N(),F($,U),P[z]=!0},86544:(t,e,r)=>{"use strict";var n=r(79989),i=r(67697),s=r(19037),o=r(68844),a=r(36812),u=r(69985),c=r(23622),l=r(34327),h=r(62148),f=r(8758),d=s.Symbol,p=d&&d.prototype;if(i&&u(d)&&(!("description"in p)||void 0!==d().description)){var m={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(p,this)?new d(t):void 0===t?d():d(t);return""===t&&(m[e]=!0),e};f(g,d),g.prototype=p,p.constructor=g;var y="Symbol(description detection)"===String(d("description detection")),v=o(p.valueOf),b=o(p.toString),w=/^Symbol\((.*)\)[^)]+$/,_=o("".replace),E=o("".slice);h(p,"description",{configurable:!0,get:function(){var t=v(this);if(a(m,t))return"";var e=b(t),r=y?E(e,7,-1):_(e,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:g})}},43975:(t,e,r)=>{"use strict";var n=r(79989),i=r(76058),s=r(36812),o=r(34327),a=r(83430),u=r(46549),c=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=o(t);if(s(c,e))return c[e];var r=i("Symbol")(e);return c[e]=r,l[r]=e,r}})},96157:(t,e,r)=>{"use strict";r(35405)("hasInstance")},82529:(t,e,r)=>{"use strict";r(35405)("isConcatSpreadable")},84254:(t,e,r)=>{"use strict";r(35405)("iterator")},59749:(t,e,r)=>{"use strict";r(37855),r(43975),r(81445),r(48324),r(79434)},81445:(t,e,r)=>{"use strict";var n=r(79989),i=r(36812),s=r(30734),o=r(23691),a=r(83430),u=r(46549),c=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!s(t))throw new TypeError(o(t)+" is not a symbol");if(i(c,t))return c[t]}})},93531:(t,e,r)=>{"use strict";r(35405)("matchAll")},64155:(t,e,r)=>{"use strict";r(35405)("match")},95906:(t,e,r)=>{"use strict";r(35405)("replace")},50549:(t,e,r)=>{"use strict";r(35405)("search")},96285:(t,e,r)=>{"use strict";r(35405)("species")},18200:(t,e,r)=>{"use strict";r(35405)("split")},69373:(t,e,r)=>{"use strict";var n=r(35405),i=r(13032);n("toPrimitive"),i()},66793:(t,e,r)=>{"use strict";var n=r(76058),i=r(35405),s=r(55997);i("toStringTag"),s(n("Symbol"),"Symbol")},44578:(t,e,r)=>{"use strict";r(35405)("unscopables")},95194:(t,e,r)=>{"use strict";var n=r(54872),i=r(6310),s=r(68700),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(t){var e=o(this),r=i(e),n=s(t),a=n>=0?n:r+n;return a<0||a>=r?void 0:e[a]}))},36664:(t,e,r)=>{"use strict";var n=r(68844),i=r(54872),s=n(r(70357)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(t,e){return s(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},55980:(t,e,r)=>{"use strict";var n=r(54872),i=r(2960).every,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},79943:(t,e,r)=>{"use strict";var n=r(54872),i=r(62872),s=r(71530),o=r(50926),a=r(22615),u=r(68844),c=r(3689),l=n.aTypedArray,h=n.exportTypedArrayMethod,f=u("".slice);h("fill",(function(t){var e=arguments.length;l(this);var r="Big"===f(o(this),0,3)?s(t):+t;return a(i,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),c((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})))},96089:(t,e,r)=>{"use strict";var n=r(54872),i=r(2960).filter,s=r(20716),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(t){var e=i(o(this),t,arguments.length>1?arguments[1]:void 0);return s(this,e)}))},48690:(t,e,r)=>{"use strict";var n=r(54872),i=r(2960).findIndex,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},82:(t,e,r)=>{"use strict";var n=r(54872),i=r(61969).findLastIndex,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},20522:(t,e,r)=>{"use strict";var n=r(54872),i=r(61969).findLast,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},18539:(t,e,r)=>{"use strict";var n=r(54872),i=r(2960).find,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},29068:(t,e,r)=>{"use strict";r(31158)("Float32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},70292:(t,e,r)=>{"use strict";r(31158)("Float64",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},45385:(t,e,r)=>{"use strict";var n=r(54872),i=r(2960).forEach,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(t){i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},59495:(t,e,r)=>{"use strict";var n=r(39800);(0,r(54872).exportTypedArrayStaticMethod)("from",r(41304),n)},85552:(t,e,r)=>{"use strict";var n=r(54872),i=r(84328).includes,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},31803:(t,e,r)=>{"use strict";var n=r(54872),i=r(84328).indexOf,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},89988:(t,e,r)=>{"use strict";r(31158)("Int16",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},854:(t,e,r)=>{"use strict";r(31158)("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},55304:(t,e,r)=>{"use strict";r(31158)("Int8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},91565:(t,e,r)=>{"use strict";var n=r(19037),i=r(3689),s=r(68844),o=r(54872),a=r(752),u=r(44201)("iterator"),c=n.Uint8Array,l=s(a.values),h=s(a.keys),f=s(a.entries),d=o.aTypedArray,p=o.exportTypedArrayMethod,m=c&&c.prototype,g=!i((function(){m[u].call([1])})),y=!!m&&m.values&&m[u]===m.values&&"values"===m.values.name,v=function(){return l(d(this))};p("entries",(function(){return f(d(this))}),g),p("keys",(function(){return h(d(this))}),g),p("values",v,g||!y,{name:"values"}),p(u,v,g||!y,{name:"values"})},67987:(t,e,r)=>{"use strict";var n=r(54872),i=r(68844),s=n.aTypedArray,o=n.exportTypedArrayMethod,a=i([].join);o("join",(function(t){return a(s(this),t)}))},49365:(t,e,r)=>{"use strict";var n=r(54872),i=r(61735),s=r(60953),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return i(s,o(this),e>1?[t,arguments[1]]:[t])}))},80677:(t,e,r)=>{"use strict";var n=r(54872),i=r(2960).map,s=r(47338),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(t))(e)}))}))},19038:(t,e,r)=>{"use strict";var n=r(54872),i=r(39800),s=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,r=new(s(this))(e);e>t;)r[t]=arguments[t++];return r}),i)},41165:(t,e,r)=>{"use strict";var n=r(54872),i=r(88820).right,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return i(s(this),t,e,e>1?arguments[1]:void 0)}))},18118:(t,e,r)=>{"use strict";var n=r(54872),i=r(88820).left,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return i(s(this),t,e,e>1?arguments[1]:void 0)}))},71522:(t,e,r)=>{"use strict";var n=r(54872),i=n.aTypedArray,s=n.exportTypedArrayMethod,o=Math.floor;s("reverse",(function(){for(var t,e=this,r=i(e).length,n=o(r/2),s=0;s<n;)t=e[s],e[s++]=e[--r],e[r]=t;return e}))},79976:(t,e,r)=>{"use strict";var n=r(19037),i=r(22615),s=r(54872),o=r(6310),a=r(83250),u=r(90690),c=r(3689),l=n.RangeError,h=n.Int8Array,f=h&&h.prototype,d=f&&f.set,p=s.aTypedArray,m=s.exportTypedArrayMethod,g=!c((function(){var t=new Uint8ClampedArray(2);return i(d,t,{length:1,0:3},1),3!==t[1]})),y=g&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));m("set",(function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),r=u(t);if(g)return i(d,this,r,e);var n=this.length,s=o(r),c=0;if(s+e>n)throw new l("Wrong length");for(;c<s;)this[e+c]=r[c++]}),!g||y)},4797:(t,e,r)=>{"use strict";var n=r(54872),i=r(47338),s=r(3689),o=r(96004),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",(function(t,e){for(var r=o(a(this),t,e),n=i(this),s=0,u=r.length,c=new n(u);u>s;)c[s]=r[s++];return c}),s((function(){new Int8Array(1).slice()})))},7300:(t,e,r)=>{"use strict";var n=r(54872),i=r(2960).some,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},93356:(t,e,r)=>{"use strict";var n=r(19037),i=r(46576),s=r(3689),o=r(10509),a=r(50382),u=r(54872),c=r(97365),l=r(37298),h=r(3615),f=r(27922),d=u.aTypedArray,p=u.exportTypedArrayMethod,m=n.Uint16Array,g=m&&i(m.prototype.sort),y=!(!g||s((function(){g(new m(2),null)}))&&s((function(){g(new m(2),{})}))),v=!!g&&!s((function(){if(h)return h<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var t,e,r=new m(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(g(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));p("sort",(function(t){return void 0!==t&&o(t),v?g(this,t):a(d(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!v||y)},62533:(t,e,r)=>{"use strict";var n=r(54872),i=r(43126),s=r(27578),o=r(47338),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(t,e){var r=a(this),n=r.length,u=s(t,n);return new(o(r))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,i((void 0===e?n:s(e,n))-u))}))},99724:(t,e,r)=>{"use strict";var n=r(19037),i=r(61735),s=r(54872),o=r(3689),a=r(96004),u=n.Int8Array,c=s.aTypedArray,l=s.exportTypedArrayMethod,h=[].toLocaleString,f=!!u&&o((function(){h.call(new u(1))}));l("toLocaleString",(function(){return i(h,f?a(c(this)):c(this),a(arguments))}),o((function(){return[1,2].toLocaleString()!==new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},24224:(t,e,r)=>{"use strict";var n=r(26166),i=r(54872),s=i.aTypedArray,o=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;o("toReversed",(function(){return n(s(this),a(this))}))},61121:(t,e,r)=>{"use strict";var n=r(54872),i=r(68844),s=r(10509),o=r(59976),a=n.aTypedArray,u=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,l=i(n.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&s(t);var e=a(this),r=o(u(e),e);return l(r,t)}))},99901:(t,e,r)=>{"use strict";var n=r(54872).exportTypedArrayMethod,i=r(3689),s=r(19037),o=r(68844),a=s.Uint8Array,u=a&&a.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var h=u.toString!==c;n("toString",c,h)},75679:(t,e,r)=>{"use strict";r(31158)("Uint16",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},18557:(t,e,r)=>{"use strict";r(31158)("Uint32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},28607:(t,e,r)=>{"use strict";r(31158)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},30938:(t,e,r)=>{"use strict";r(31158)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0)},37133:(t,e,r)=>{"use strict";var n=r(16134),i=r(54872),s=r(9401),o=r(68700),a=r(71530),u=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var r=u(this),i=o(t),l=s(r)?a(e):+e;return n(r,c(r),i,l)}}.with,!h)},622:(t,e,r)=>{"use strict";var n=r(79989),i=r(68844),s=r(34327),o=String.fromCharCode,a=i("".charAt),u=i(/./.exec),c=i("".slice),l=/^[\da-f]{2}$/i,h=/^[\da-f]{4}$/i;n({global:!0},{unescape:function(t){for(var e,r,n=s(t),i="",f=n.length,d=0;d<f;){if("%"===(e=a(n,d++)))if("u"===a(n,d)){if(r=c(n,d+1,d+5),u(h,r)){i+=o(parseInt(r,16)),d+=5;continue}}else if(r=c(n,d,d+2),u(l,r)){i+=o(parseInt(r,16)),d+=2;continue}i+=e}return i}})},45164:(t,e,r)=>{"use strict";var n,i=r(71594),s=r(19037),o=r(68844),a=r(6045),u=r(45375),c=r(20319),l=r(70637),h=r(48999),f=r(618).enforce,d=r(3689),p=r(59834),m=Object,g=Array.isArray,y=m.isExtensible,v=m.isFrozen,b=m.isSealed,w=m.freeze,_=m.seal,E=!s.ActiveXObject&&"ActiveXObject"in s,S=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},x=c("WeakMap",S,l),M=x.prototype,k=o(M.set);if(p)if(E){n=l.getConstructor(S,"WeakMap",!0),u.enable();var T=o(M.delete),A=o(M.has),C=o(M.get);a(M,{delete:function(t){if(h(t)&&!y(t)){var e=f(this);return e.frozen||(e.frozen=new n),T(this,t)||e.frozen.delete(t)}return T(this,t)},has:function(t){if(h(t)&&!y(t)){var e=f(this);return e.frozen||(e.frozen=new n),A(this,t)||e.frozen.has(t)}return A(this,t)},get:function(t){if(h(t)&&!y(t)){var e=f(this);return e.frozen||(e.frozen=new n),A(this,t)?C(this,t):e.frozen.get(t)}return C(this,t)},set:function(t,e){if(h(t)&&!y(t)){var r=f(this);r.frozen||(r.frozen=new n),A(this,t)?k(this,t,e):r.frozen.set(t,e)}else k(this,t,e);return this}})}else i&&d((function(){var t=w([]);return k(new x,t,1),!v(t)}))&&a(M,{set:function(t,e){var r;return g(t)&&(v(t)?r=w:b(t)&&(r=_)),k(this,t,e),r&&r(t),this}})},51090:(t,e,r)=>{"use strict";r(45164)},87884:(t,e,r)=>{"use strict";r(20319)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(70637))},50414:(t,e,r)=>{"use strict";r(87884)},52586:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(76058),o=r(68844),a=r(22615),u=r(3689),c=r(34327),l=r(21500),h=r(18368).c2i,f=/[^\d+/a-z]/i,d=/[\t\n\f\r ]+/g,p=/[=]{1,2}$/,m=s("atob"),g=String.fromCharCode,y=o("".charAt),v=o("".replace),b=o(f.exec),w=!!m&&!u((function(){return"hi"!==m("aGk=")})),_=w&&u((function(){return""!==m(" ")})),E=w&&!u((function(){m("a")})),S=w&&!u((function(){m()})),x=w&&1!==m.length;n({global:!0,bind:!0,enumerable:!0,forced:!w||_||E||S||x},{atob:function(t){if(l(arguments.length,1),w&&!_&&!E)return a(m,i,t);var e,r,n,o=v(c(t),d,""),u="",S=0,x=0;if(o.length%4==0&&(o=v(o,p,"")),(e=o.length)%4==1||b(f,o))throw new(s("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;S<e;)r=y(o,S++),n=x%4?64*n+h[r]:h[r],x++%4&&(u+=g(255&n>>(-2*x&6)));return u}})},84645:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(76058),o=r(68844),a=r(22615),u=r(3689),c=r(34327),l=r(21500),h=r(18368).i2c,f=s("btoa"),d=o("".charAt),p=o("".charCodeAt),m=!!f&&!u((function(){return"aGk="!==f("hi")})),g=m&&!u((function(){f()})),y=m&&u((function(){return"bnVsbA=="!==f(null)})),v=m&&1!==f.length;n({global:!0,bind:!0,enumerable:!0,forced:!m||g||y||v},{btoa:function(t){if(l(arguments.length,1),m)return a(f,i,c(t));for(var e,r,n=c(t),o="",u=0,g=h;d(n,u)||(g="=",u%1);){if((r=p(n,u+=3/4))>255)throw new(s("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o+=d(g,63&(e=e<<8|r)>>8-u%1*8)}return o}})},19742:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(99886).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==s},{clearImmediate:s})},47522:(t,e,r)=>{"use strict";var n=r(19037),i=r(66338),s=r(33265),o=r(57612),a=r(75773),u=function(t){if(t&&t.forEach!==o)try{a(t,"forEach",o)}catch(e){t.forEach=o}};for(var c in i)i[c]&&u(n[c]&&n[c].prototype);u(s)},76265:(t,e,r)=>{"use strict";var n=r(19037),i=r(66338),s=r(33265),o=r(752),a=r(75773),u=r(55997),c=r(44201)("iterator"),l=o.values,h=function(t,e){if(t){if(t[c]!==l)try{a(t,c,l)}catch(e){t[c]=l}if(u(t,e,!0),i[e])for(var r in o)if(t[r]!==o[r])try{a(t,r,o[r])}catch(e){t[r]=o[r]}}};for(var f in i)h(n[f]&&n[f].prototype,f);h(s,"DOMTokenList")},97337:(t,e,r)=>{"use strict";var n=r(79989),i=r(21905),s=r(76058),o=r(3689),a=r(25391),u=r(75684),c=r(72560).f,l=r(11880),h=r(62148),f=r(36812),d=r(767),p=r(85027),m=r(20445),g=r(13841),y=r(37136),v=r(56610),b=r(618),w=r(67697),_=r(53931),E="DOMException",S="DATA_CLONE_ERR",x=s("Error"),M=s(E)||function(){try{(new(s("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name===S&&25===t.code)return t.constructor}}(),k=M&&M.prototype,T=x.prototype,A=b.set,C=b.getterFor(E),I="stack"in new x(E),P=function(t){return f(y,t)&&y[t].m?y[t].c:0},R=function(){d(this,O);var t=arguments.length,e=g(t<1?void 0:arguments[0]),r=g(t<2?void 0:arguments[1],"Error"),n=P(r);if(A(this,{type:E,name:r,message:e,code:n}),w||(this.name=r,this.message=e,this.code=n),I){var i=new x(e);i.name=E,c(this,"stack",u(1,v(i.stack,1)))}},O=R.prototype=a(T),D=function(t){return{enumerable:!0,configurable:!0,get:t}},L=function(t){return D((function(){return C(this)[t]}))};w&&(h(O,"code",L("code")),h(O,"message",L("message")),h(O,"name",L("name"))),c(O,"constructor",u(1,R));var N=o((function(){return!(new M instanceof x)})),F=N||o((function(){return T.toString!==m||"2: 1"!==String(new M(1,2))})),B=N||o((function(){return 25!==new M(1,"DataCloneError").code})),j=N||25!==M[S]||25!==k[S],z=_?F||B||j:N;n({global:!0,constructor:!0,forced:z},{DOMException:z?R:M});var U=s(E),V=U.prototype;for(var q in F&&(_||M===U)&&l(V,"toString",m),B&&w&&M===U&&h(V,"code",D((function(){return P(p(this).name)}))),y)if(f(y,q)){var G=y[q],H=G.s,$=u(6,G.c);f(U,H)||c(U,H,$),f(V,H)||c(V,H,$)}},13429:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(76058),o=r(75684),a=r(72560).f,u=r(36812),c=r(767),l=r(33457),h=r(13841),f=r(37136),d=r(56610),p=r(67697),m=r(53931),g="DOMException",y=s("Error"),v=s(g),b=function(){c(this,w);var t=arguments.length,e=h(t<1?void 0:arguments[0]),r=h(t<2?void 0:arguments[1],"Error"),n=new v(e,r),i=new y(e);return i.name=g,a(n,"stack",o(1,d(i.stack,1))),l(n,this,b),n},w=b.prototype=v.prototype,_="stack"in new y(g),E="stack"in new v(1,2),S=v&&p&&Object.getOwnPropertyDescriptor(i,g),x=!(!S||S.writable&&S.configurable),M=_&&!x&&!E;n({global:!0,constructor:!0,forced:m||M},{DOMException:M?b:v});var k=s(g),T=k.prototype;if(T.constructor!==k)for(var A in m||a(T,"constructor",o(1,k)),f)if(u(f,A)){var C=f[A],I=C.s;u(k,I)||a(k,I,o(6,C.c))}},37462:(t,e,r)=>{"use strict";var n=r(76058),i="DOMException";r(55997)(n(i),i)},40088:(t,e,r)=>{"use strict";r(19742),r(52731)},10455:(t,e,r)=>{"use strict";var n=r(79989),i=r(80231),s=r(10509),o=r(21500);n({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(t){o(arguments.length,1),i(s(t))}})},3650:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(62148),o=r(67697),a=TypeError,u=Object.defineProperty,c=i.self!==i;try{if(o){var l=Object.getOwnPropertyDescriptor(i,"self");!c&&l&&l.get&&l.enumerable||s(i,"self",{get:function(){return i},set:function(t){if(this!==i)throw new a("Illegal invocation");u(i,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:c},{self:i})}catch(t){}},52731:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(99886).set,o=r(8552),a=i.setImmediate?o(s,!1):s;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==a},{setImmediate:a})},10209:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(8552)(i.setInterval,!0);n({global:!0,bind:!0,forced:i.setInterval!==s},{setInterval:s})},83509:(t,e,r)=>{"use strict";var n=r(79989),i=r(19037),s=r(8552)(i.setTimeout,!0);n({global:!0,bind:!0,forced:i.setTimeout!==s},{setTimeout:s})},25564:(t,e,r)=>{"use strict";var n,i=r(53931),s=r(79989),o=r(19037),a=r(76058),u=r(68844),c=r(3689),l=r(14630),h=r(69985),f=r(19429),d=r(981),p=r(48999),m=r(30734),g=r(18734),y=r(85027),v=r(50926),b=r(36812),w=r(76522),_=r(75773),E=r(6310),S=r(21500),x=r(63477),M=r(83914),k=r(61034),T=r(48774),A=r(21420),C=r(49599),I=r(63514),P=o.Object,R=o.Array,O=o.Date,D=o.Error,L=o.TypeError,N=o.PerformanceMark,F=a("DOMException"),B=M.Map,j=M.has,z=M.get,U=M.set,V=k.Set,q=k.add,G=k.has,H=a("Object","keys"),$=u([].push),W=u((!0).valueOf),K=u(1..valueOf),Y=u("".valueOf),X=u(O.prototype.getTime),Q=l("structuredClone"),J="DataCloneError",Z="Transferring",tt=function(t){return!c((function(){var e=new o.Set([7]),r=t(e),n=t(P(7));return r===e||!r.has(7)||!p(n)||7!=+n}))&&t},et=function(t,e){return!c((function(){var r=new e,n=t({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof e&&n.a.stack===r.stack)}))},rt=o.structuredClone,nt=i||!et(rt,D)||!et(rt,F)||(n=rt,!!c((function(){var t=n(new o.AggregateError([1],Q,{cause:3}));return"AggregateError"!==t.name||1!==t.errors[0]||t.message!==Q||3!==t.cause}))),it=!rt&&tt((function(t){return new N(Q,{detail:t}).detail})),st=tt(rt)||it,ot=function(t){throw new F("Uncloneable type: "+t,J)},at=function(t,e){throw new F((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",J)},ut=function(t,e){return st||at(e),st(t)},ct=function(t,e,r){if(j(e,t))return z(e,t);var n,i,s,a,u,c;if("SharedArrayBuffer"===(r||v(t)))n=st?st(t):t;else{var l=o.DataView;l||h(t.slice)||at("ArrayBuffer");try{if(h(t.slice)&&!t.resizable)n=t.slice(0);else{i=t.byteLength,s="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,n=new ArrayBuffer(i,s),a=new l(t),u=new l(n);for(c=0;c<i;c++)u.setUint8(c,a.getUint8(c))}}catch(t){throw new F("ArrayBuffer is detached",J)}}return U(e,t,n),n},lt=function(t,e){if(m(t)&&ot("Symbol"),!p(t))return t;if(e){if(j(e,t))return z(e,t)}else e=new B;var r,n,i,s,u,c,l,f,d=v(t);switch(d){case"Array":i=R(E(t));break;case"Object":i={};break;case"Map":i=new B;break;case"Set":i=new V;break;case"RegExp":i=new RegExp(t.source,x(t));break;case"Error":switch(n=t.name){case"AggregateError":i=new(a(n))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(a(n));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(a("WebAssembly",n));break;default:i=new D}break;case"DOMException":i=new F(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=ct(t,e,d);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":c="DataView"===d?t.byteLength:t.length,i=function(t,e,r,n,i){var s=o[e];return p(s)||at(e),new s(ct(t.buffer,i),r,n)}(t,d,t.byteOffset,c,e);break;case"DOMQuad":try{i=new DOMQuad(lt(t.p1,e),lt(t.p2,e),lt(t.p3,e),lt(t.p4,e))}catch(e){i=ut(t,d)}break;case"File":if(st)try{i=st(t),v(i)!==d&&(i=void 0)}catch(t){}if(!i)try{i=new File([t],t.name,t)}catch(t){}i||at(d);break;case"FileList":if(s=function(){var t;try{t=new o.DataTransfer}catch(e){try{t=new o.ClipboardEvent("").clipboardData}catch(t){}}return t&&t.items&&t.files?t:null}()){for(u=0,c=E(t);u<c;u++)s.items.add(lt(t[u],e));i=s.files}else i=ut(t,d);break;case"ImageData":try{i=new ImageData(lt(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){i=ut(t,d)}break;default:if(st)i=st(t);else switch(d){case"BigInt":i=P(t.valueOf());break;case"Boolean":i=P(W(t));break;case"Number":i=P(K(t));break;case"String":i=P(Y(t));break;case"Date":i=new O(X(t));break;case"Blob":try{i=t.slice(0,t.size,t.type)}catch(t){at(d)}break;case"DOMPoint":case"DOMPointReadOnly":r=o[d];try{i=r.fromPoint?r.fromPoint(t):new r(t.x,t.y,t.z,t.w)}catch(t){at(d)}break;case"DOMRect":case"DOMRectReadOnly":r=o[d];try{i=r.fromRect?r.fromRect(t):new r(t.x,t.y,t.width,t.height)}catch(t){at(d)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=o[d];try{i=r.fromMatrix?r.fromMatrix(t):new r(t)}catch(t){at(d)}break;case"AudioData":case"VideoFrame":h(t.clone)||at(d);try{i=t.clone()}catch(t){ot(d)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":at(d);default:ot(d)}}switch(U(e,t,i),d){case"Array":case"Object":for(l=H(t),u=0,c=E(l);u<c;u++)f=l[u],w(i,f,lt(t[f],e));break;case"Map":t.forEach((function(t,r){U(i,lt(r,e),lt(t,e))}));break;case"Set":t.forEach((function(t){q(i,lt(t,e))}));break;case"Error":_(i,"message",lt(t.message,e)),b(t,"cause")&&_(i,"cause",lt(t.cause,e)),"AggregateError"===n?i.errors=lt(t.errors,e):"SuppressedError"===n&&(i.error=lt(t.error,e),i.suppressed=lt(t.suppressed,e));case"DOMException":C&&_(i,"stack",lt(t.stack,e))}return i};s({global:!0,enumerable:!0,sham:!I,forced:nt},{structuredClone:function(t){var e,r,n=S(arguments.length,1)>1&&!d(arguments[1])?y(arguments[1]):void 0,i=n?n.transfer:void 0;void 0!==i&&(r=function(t,e){if(!p(t))throw new L("Transfer option cannot be converted to a sequence");var r=[];g(t,(function(t){$(r,y(t))}));for(var n,i,s,a,u,c=0,l=E(r),d=new V;c<l;){if(n=r[c++],"ArrayBuffer"===(i=v(n))?G(d,n):j(e,n))throw new F("Duplicate transferable",J);if("ArrayBuffer"!==i){if(I)a=rt(n,{transfer:[n]});else switch(i){case"ImageBitmap":s=o.OffscreenCanvas,f(s)||at(i,Z);try{(u=new s(n.width,n.height)).getContext("bitmaprenderer").transferFromImageBitmap(n),a=u.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":h(n.clone)&&h(n.close)||at(i,Z);try{a=n.clone(),n.close()}catch(t){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":at(i,Z)}if(void 0===a)throw new F("This object cannot be transferred: "+i,J);U(e,n,a)}else q(d,n)}return d}(i,e=new B));var s=lt(t,e);return r&&function(t){T(t,(function(t){I?st(t,{transfer:[t]}):h(t.transfer)?t.transfer():A?A(t):at("ArrayBuffer",Z)}))}(r),s}})},96869:(t,e,r)=>{"use strict";r(10209),r(83509)},2625:(t,e,r)=>{"use strict";r(752);var n=r(79989),i=r(19037),s=r(70517),o=r(22615),a=r(68844),u=r(67697),c=r(76837),l=r(11880),h=r(62148),f=r(6045),d=r(55997),p=r(30974),m=r(618),g=r(767),y=r(69985),v=r(36812),b=r(54071),w=r(50926),_=r(85027),E=r(48999),S=r(34327),x=r(25391),M=r(75684),k=r(5185),T=r(91664),A=r(27807),C=r(21500),I=r(44201),P=r(50382),R=I("iterator"),O="URLSearchParams",D=O+"Iterator",L=m.set,N=m.getterFor(O),F=m.getterFor(D),B=s("fetch"),j=s("Request"),z=s("Headers"),U=j&&j.prototype,V=z&&z.prototype,q=i.RegExp,G=i.TypeError,H=i.decodeURIComponent,$=i.encodeURIComponent,W=a("".charAt),K=a([].join),Y=a([].push),X=a("".replace),Q=a([].shift),J=a([].splice),Z=a("".split),tt=a("".slice),et=/\+/g,rt=Array(4),nt=function(t){return rt[t-1]||(rt[t-1]=q("((?:%[\\da-f]{2}){"+t+"})","gi"))},it=function(t){try{return H(t)}catch(e){return t}},st=function(t){var e=X(t,et," "),r=4;try{return H(e)}catch(t){for(;r;)e=X(e,nt(r--),it);return e}},ot=/[!'()~]|%20/g,at={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ut=function(t){return at[t]},ct=function(t){return X($(t),ot,ut)},lt=p((function(t,e){L(this,{type:D,target:N(t).entries,index:0,kind:e})}),O,(function(){var t=F(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,A(void 0,!0);var n=e[r];switch(t.kind){case"keys":return A(n.key,!1);case"values":return A(n.value,!1)}return A([n.key,n.value],!1)}),!0),ht=function(t){this.entries=[],this.url=null,void 0!==t&&(E(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===W(t,0)?tt(t,1):t:S(t)))};ht.prototype={type:O,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,s,a,u,c=this.entries,l=T(t);if(l)for(r=(e=k(t,l)).next;!(n=o(r,e)).done;){if(s=(i=k(_(n.value))).next,(a=o(s,i)).done||(u=o(s,i)).done||!o(s,i).done)throw new G("Expected sequence with length 2");Y(c,{key:S(a.value),value:S(u.value)})}else for(var h in t)v(t,h)&&Y(c,{key:h,value:S(t[h])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,i=Z(t,"&"),s=0;s<i.length;)(e=i[s++]).length&&(r=Z(e,"="),Y(n,{key:st(Q(r)),value:st(K(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],Y(r,ct(t.key)+"="+ct(t.value));return K(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ft=function(){g(this,dt);var t=L(this,new ht(arguments.length>0?arguments[0]:void 0));u||(this.size=t.entries.length)},dt=ft.prototype;if(f(dt,{append:function(t,e){var r=N(this);C(arguments.length,2),Y(r.entries,{key:S(t),value:S(e)}),u||this.length++,r.updateURL()},delete:function(t){for(var e=N(this),r=C(arguments.length,1),n=e.entries,i=S(t),s=r<2?void 0:arguments[1],o=void 0===s?s:S(s),a=0;a<n.length;){var c=n[a];if(c.key!==i||void 0!==o&&c.value!==o)a++;else if(J(n,a,1),void 0!==o)break}u||(this.size=n.length),e.updateURL()},get:function(t){var e=N(this).entries;C(arguments.length,1);for(var r=S(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=N(this).entries;C(arguments.length,1);for(var r=S(t),n=[],i=0;i<e.length;i++)e[i].key===r&&Y(n,e[i].value);return n},has:function(t){for(var e=N(this).entries,r=C(arguments.length,1),n=S(t),i=r<2?void 0:arguments[1],s=void 0===i?i:S(i),o=0;o<e.length;){var a=e[o++];if(a.key===n&&(void 0===s||a.value===s))return!0}return!1},set:function(t,e){var r=N(this);C(arguments.length,1);for(var n,i=r.entries,s=!1,o=S(t),a=S(e),c=0;c<i.length;c++)(n=i[c]).key===o&&(s?J(i,c--,1):(s=!0,n.value=a));s||Y(i,{key:o,value:a}),u||(this.size=i.length),r.updateURL()},sort:function(){var t=N(this);P(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=N(this).entries,n=b(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new lt(this,"keys")},values:function(){return new lt(this,"values")},entries:function(){return new lt(this,"entries")}},{enumerable:!0}),l(dt,R,dt.entries,{name:"entries"}),l(dt,"toString",(function(){return N(this).serialize()}),{enumerable:!0}),u&&h(dt,"size",{get:function(){return N(this).entries.length},configurable:!0,enumerable:!0}),d(ft,O),n({global:!0,constructor:!0,forced:!c},{URLSearchParams:ft}),!c&&y(z)){var pt=a(V.has),mt=a(V.set),gt=function(t){if(E(t)){var e,r=t.body;if(w(r)===O)return e=t.headers?new z(t.headers):new z,pt(e,"content-type")||mt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(t,{body:M(0,S(r)),headers:M(0,e)})}return t};if(y(B)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return B(t,arguments.length>1?gt(arguments[1]):{})}}),y(j)){var yt=function(t){return g(this,U),new j(t,arguments.length>1?gt(arguments[1]):{})};U.constructor=yt,yt.prototype=U,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:yt})}}t.exports={URLSearchParams:ft,getState:N}},98858:(t,e,r)=>{"use strict";var n=r(11880),i=r(68844),s=r(34327),o=r(21500),a=URLSearchParams,u=a.prototype,c=i(u.append),l=i(u.delete),h=i(u.forEach),f=i([].push),d=new a("a=1&a=2&b=3");d.delete("a",1),d.delete("b",void 0),d+""!="a=2"&&n(u,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=[];h(this,(function(t,e){f(n,{key:e,value:t})})),o(e,1);for(var i,a=s(t),u=s(r),d=0,p=0,m=!1,g=n.length;d<g;)i=n[d++],m||i.key===a?(m=!0,l(this,i.key)):p++;for(;p<g;)(i=n[p++]).key===a&&i.value===u||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},61318:(t,e,r)=>{"use strict";var n=r(11880),i=r(68844),s=r(34327),o=r(21500),a=URLSearchParams,u=a.prototype,c=i(u.getAll),l=i(u.has),h=new a("a=1");!h.has("a",2)&&h.has("a",void 0)||n(u,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=c(this,t);o(e,1);for(var i=s(r),a=0;a<n.length;)if(n[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},79307:(t,e,r)=>{"use strict";r(2625)},33228:(t,e,r)=>{"use strict";var n=r(67697),i=r(68844),s=r(62148),o=URLSearchParams.prototype,a=i(o.forEach);n&&!("size"in o)&&s(o,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},69822:(t,e,r)=>{"use strict";var n=r(79989),i=r(76058),s=r(3689),o=r(21500),a=r(34327),u=r(76837),c=i("URL");n({target:"URL",stat:!0,forced:!(u&&s((function(){c.canParse()})))},{canParse:function(t){var e=o(arguments.length,1),r=a(t),n=e<2||void 0===arguments[1]?void 0:a(arguments[1]);try{return!!new c(r,n)}catch(t){return!1}}})},79391:(t,e,r)=>{"use strict";r(21694);var n,i=r(79989),s=r(67697),o=r(76837),a=r(19037),u=r(54071),c=r(68844),l=r(11880),h=r(62148),f=r(767),d=r(36812),p=r(45394),m=r(21055),g=r(96004),y=r(10730).codeAt,v=r(6430),b=r(34327),w=r(55997),_=r(21500),E=r(2625),S=r(618),x=S.set,M=S.getterFor("URL"),k=E.URLSearchParams,T=E.getState,A=a.URL,C=a.TypeError,I=a.parseInt,P=Math.floor,R=Math.pow,O=c("".charAt),D=c(/./.exec),L=c([].join),N=c(1..toString),F=c([].pop),B=c([].push),j=c("".replace),z=c([].shift),U=c("".split),V=c("".slice),q=c("".toLowerCase),G=c([].unshift),H="Invalid scheme",$="Invalid host",W="Invalid port",K=/[a-z]/i,Y=/[\d+-.a-z]/i,X=/\d/,Q=/^0x/i,J=/^[0-7]+$/,Z=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,nt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,st=/[\t\n\r]/g,ot=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)G(e,t%256),t=P(t/256);return L(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,s=0;s<8;s++)0!==t[s]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=s),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=N(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},at={},ut=p({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ct=p({},ut,{"#":1,"?":1,"{":1,"}":1}),lt=p({},ct,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ht=function(t,e){var r=y(t,0);return r>32&&r<127&&!d(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(t,e){var r;return 2===t.length&&D(K,O(t,0))&&(":"===(r=O(t,1))||!e&&"|"===r)},pt=function(t){var e;return t.length>1&&dt(V(t,0,2))&&(2===t.length||"/"===(e=O(t,2))||"\\"===e||"?"===e||"#"===e)},mt=function(t){return"."===t||"%2e"===q(t)},gt={},yt={},vt={},bt={},wt={},_t={},Et={},St={},xt={},Mt={},kt={},Tt={},At={},Ct={},It={},Pt={},Rt={},Ot={},Dt={},Lt={},Nt={},Ft=function(t,e,r){var n,i,s,o=b(t);if(e){if(i=this.parse(o))throw new C(i);this.searchParams=null}else{if(void 0!==r&&(n=new Ft(r,!0)),i=this.parse(o,null,n))throw new C(i);(s=T(new k)).bindURL(this),this.searchParams=s}};Ft.prototype={type:"URL",parse:function(t,e,r){var i,s,o,a,u,c=this,l=e||gt,h=0,f="",p=!1,y=!1,v=!1;for(t=b(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=j(t,nt,""),t=j(t,it,"$1")),t=j(t,st,""),i=m(t);h<=i.length;){switch(s=i[h],l){case gt:if(!s||!D(K,s)){if(e)return H;l=vt;continue}f+=q(s),l=yt;break;case yt:if(s&&(D(Y,s)||"+"===s||"-"===s||"."===s))f+=q(s);else{if(":"!==s){if(e)return H;f="",l=vt,h=0;continue}if(e&&(c.isSpecial()!==d(ft,f)||"file"===f&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=f,e)return void(c.isSpecial()&&ft[c.scheme]===c.port&&(c.port=null));f="","file"===c.scheme?l=Ct:c.isSpecial()&&r&&r.scheme===c.scheme?l=bt:c.isSpecial()?l=St:"/"===i[h+1]?(l=wt,h++):(c.cannotBeABaseURL=!0,B(c.path,""),l=Dt)}break;case vt:if(!r||r.cannotBeABaseURL&&"#"!==s)return H;if(r.cannotBeABaseURL&&"#"===s){c.scheme=r.scheme,c.path=g(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=Nt;break}l="file"===r.scheme?Ct:_t;continue;case bt:if("/"!==s||"/"!==i[h+1]){l=_t;continue}l=xt,h++;break;case wt:if("/"===s){l=Mt;break}l=Ot;continue;case _t:if(c.scheme=r.scheme,s===n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query=r.query;else if("/"===s||"\\"===s&&c.isSpecial())l=Et;else if("?"===s)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query="",l=Lt;else{if("#"!==s){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.path.length--,l=Ot;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query=r.query,c.fragment="",l=Nt}break;case Et:if(!c.isSpecial()||"/"!==s&&"\\"!==s){if("/"!==s){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=Ot;continue}l=Mt}else l=xt;break;case St:if(l=xt,"/"!==s||"/"!==O(f,h+1))continue;h++;break;case xt:if("/"!==s&&"\\"!==s){l=Mt;continue}break;case Mt:if("@"===s){p&&(f="%40"+f),p=!0,o=m(f);for(var w=0;w<o.length;w++){var _=o[w];if(":"!==_||v){var E=ht(_,lt);v?c.password+=E:c.username+=E}else v=!0}f=""}else if(s===n||"/"===s||"?"===s||"#"===s||"\\"===s&&c.isSpecial()){if(p&&""===f)return"Invalid authority";h-=m(f).length+1,f="",l=kt}else f+=s;break;case kt:case Tt:if(e&&"file"===c.scheme){l=Pt;continue}if(":"!==s||y){if(s===n||"/"===s||"?"===s||"#"===s||"\\"===s&&c.isSpecial()){if(c.isSpecial()&&""===f)return $;if(e&&""===f&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(f))return a;if(f="",l=Rt,e)return;continue}"["===s?y=!0:"]"===s&&(y=!1),f+=s}else{if(""===f)return $;if(a=c.parseHost(f))return a;if(f="",l=At,e===Tt)return}break;case At:if(!D(X,s)){if(s===n||"/"===s||"?"===s||"#"===s||"\\"===s&&c.isSpecial()||e){if(""!==f){var S=I(f,10);if(S>65535)return W;c.port=c.isSpecial()&&S===ft[c.scheme]?null:S,f=""}if(e)return;l=Rt;continue}return W}f+=s;break;case Ct:if(c.scheme="file","/"===s||"\\"===s)l=It;else{if(!r||"file"!==r.scheme){l=Ot;continue}switch(s){case n:c.host=r.host,c.path=g(r.path),c.query=r.query;break;case"?":c.host=r.host,c.path=g(r.path),c.query="",l=Lt;break;case"#":c.host=r.host,c.path=g(r.path),c.query=r.query,c.fragment="",l=Nt;break;default:pt(L(g(i,h),""))||(c.host=r.host,c.path=g(r.path),c.shortenPath()),l=Ot;continue}}break;case It:if("/"===s||"\\"===s){l=Pt;break}r&&"file"===r.scheme&&!pt(L(g(i,h),""))&&(dt(r.path[0],!0)?B(c.path,r.path[0]):c.host=r.host),l=Ot;continue;case Pt:if(s===n||"/"===s||"\\"===s||"?"===s||"#"===s){if(!e&&dt(f))l=Ot;else if(""===f){if(c.host="",e)return;l=Rt}else{if(a=c.parseHost(f))return a;if("localhost"===c.host&&(c.host=""),e)return;f="",l=Rt}continue}f+=s;break;case Rt:if(c.isSpecial()){if(l=Ot,"/"!==s&&"\\"!==s)continue}else if(e||"?"!==s)if(e||"#"!==s){if(s!==n&&(l=Ot,"/"!==s))continue}else c.fragment="",l=Nt;else c.query="",l=Lt;break;case Ot:if(s===n||"/"===s||"\\"===s&&c.isSpecial()||!e&&("?"===s||"#"===s)){if(".."===(u=q(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"===s||"\\"===s&&c.isSpecial()||B(c.path,"")):mt(f)?"/"===s||"\\"===s&&c.isSpecial()||B(c.path,""):("file"===c.scheme&&!c.path.length&&dt(f)&&(c.host&&(c.host=""),f=O(f,0)+":"),B(c.path,f)),f="","file"===c.scheme&&(s===n||"?"===s||"#"===s))for(;c.path.length>1&&""===c.path[0];)z(c.path);"?"===s?(c.query="",l=Lt):"#"===s&&(c.fragment="",l=Nt)}else f+=ht(s,ct);break;case Dt:"?"===s?(c.query="",l=Lt):"#"===s?(c.fragment="",l=Nt):s!==n&&(c.path[0]+=ht(s,at));break;case Lt:e||"#"!==s?s!==n&&("'"===s&&c.isSpecial()?c.query+="%27":c.query+="#"===s?"%23":ht(s,at)):(c.fragment="",l=Nt);break;case Nt:s!==n&&(c.fragment+=ht(s,ut))}h++}},parseHost:function(t){var e,r,n;if("["===O(t,0)){if("]"!==O(t,t.length-1))return $;if(e=function(t){var e,r,n,i,s,o,a,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,f=function(){return O(t,h)};if(":"===f()){if(":"!==O(t,1))return;h+=2,l=++c}for(;f();){if(8===c)return;if(":"!==f()){for(e=r=0;r<4&&D(tt,f());)e=16*e+I(f(),16),h++,r++;if("."===f()){if(0===r)return;if(h-=r,c>6)return;for(n=0;f();){if(i=null,n>0){if(!("."===f()&&n<4))return;h++}if(!D(X,f()))return;for(;D(X,f());){if(s=I(f(),10),null===i)i=s;else{if(0===i)return;i=10*i+s}if(i>255)return;h++}u[c]=256*u[c]+i,2!=++n&&4!==n||c++}if(4!==n)return;break}if(":"===f()){if(h++,!f())return}else if(f())return;u[c++]=e}else{if(null!==l)return;h++,l=++c}}if(null!==l)for(o=c-l,c=7;0!==c&&o>0;)a=u[c],u[c--]=u[l+o-1],u[l+--o]=a;else if(8!==c)return;return u}(V(t,1,-1)),!e)return $;this.host=e}else if(this.isSpecial()){if(t=v(t),D(et,t))return $;if(e=function(t){var e,r,n,i,s,o,a,u=U(t,".");if(u.length&&""===u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""===(i=u[n]))return t;if(s=10,i.length>1&&"0"===O(i,0)&&(s=D(Q,i)?16:8,i=V(i,8===s?1:2)),""===i)o=0;else{if(!D(10===s?Z:8===s?J:tt,i))return t;o=I(i,s)}B(r,o)}for(n=0;n<e;n++)if(o=r[n],n===e-1){if(o>=R(256,5-e))return null}else if(o>255)return null;for(a=F(r),n=0;n<r.length;n++)a+=r[n]*R(256,3-n);return a}(t),null===e)return $;this.host=e}else{if(D(rt,t))return $;for(e="",r=m(t),n=0;n<r.length;n++)e+=ht(r[n],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return d(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&dt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,s=t.port,o=t.path,a=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=ot(i),null!==s&&(c+=":"+s)):"file"===e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==a&&(c+="?"+a),null!==u&&(c+="#"+u),c},setHref:function(t){var e=this.parse(t);if(e)throw new C(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new Bt(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+ot(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",gt)},getUsername:function(){return this.username},setUsername:function(t){var e=m(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=ht(e[r],lt)}},getPassword:function(){return this.password},setPassword:function(t){var e=m(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=ht(e[r],lt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ot(t):ot(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,kt)},getHostname:function(){var t=this.host;return null===t?"":ot(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Tt)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=b(t))?this.port=null:this.parse(t,At))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Rt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=b(t))?this.query=null:("?"===O(t,0)&&(t=V(t,1)),this.query="",this.parse(t,Lt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=b(t))?("#"===O(t,0)&&(t=V(t,1)),this.fragment="",this.parse(t,Nt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Bt=function(t){var e=f(this,jt),r=_(arguments.length,1)>1?arguments[1]:void 0,n=x(e,new Ft(t,!1,r));s||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},jt=Bt.prototype,zt=function(t,e){return{get:function(){return M(this)[t]()},set:e&&function(t){return M(this)[e](t)},configurable:!0,enumerable:!0}};if(s&&(h(jt,"href",zt("serialize","setHref")),h(jt,"origin",zt("getOrigin")),h(jt,"protocol",zt("getProtocol","setProtocol")),h(jt,"username",zt("getUsername","setUsername")),h(jt,"password",zt("getPassword","setPassword")),h(jt,"host",zt("getHost","setHost")),h(jt,"hostname",zt("getHostname","setHostname")),h(jt,"port",zt("getPort","setPort")),h(jt,"pathname",zt("getPathname","setPathname")),h(jt,"search",zt("getSearch","setSearch")),h(jt,"searchParams",zt("getSearchParams")),h(jt,"hash",zt("getHash","setHash"))),l(jt,"toJSON",(function(){return M(this).serialize()}),{enumerable:!0}),l(jt,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),A){var Ut=A.createObjectURL,Vt=A.revokeObjectURL;Ut&&l(Bt,"createObjectURL",u(Ut,A)),Vt&&l(Bt,"revokeObjectURL",u(Vt,A))}w(Bt,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!s},{URL:Bt})},78730:(t,e,r)=>{"use strict";r(79391)},19979:(t,e,r)=>{"use strict";var n=r(79989),i=r(22615);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},92676:(t,e,r)=>{"use strict";r(59749),r(86544),r(58373),r(96157),r(82529),r(84254),r(64155),r(93531),r(95906),r(50549),r(96285),r(18200),r(69373),r(66793),r(44578),r(21057),r(68932),r(95879),r(54927),r(92176),r(34338),r(2966),r(55791),r(97895),r(38077),r(25728),r(39772),r(59867),r(93383),r(62795),r(54564),r(49693),r(77049),r(76801),r(97195),r(63975),r(752),r(6203),r(72410),r(50886),r(37593),r(70560),r(278),r(81386),r(93374),r(89730),r(98742),r(65137),r(21932),r(62506),r(29830),r(12894),r(93530),r(13383),r(90385),r(91719),r(21319),r(69365),r(33870),r(99211),r(18201),r(55635),r(42227),r(99679),r(24343),r(65007),r(78150),r(59903),r(30024),r(60428),r(41517),r(56269),r(34284),r(45398),r(48324),r(7629),r(56646),r(89348),r(6557),r(62428),r(45263),r(74712),r(54986),r(47221),r(94992),r(25499),r(59944),r(78527),r(75239),r(92076),r(68813),r(96976),r(62700),r(91554),r(77509),r(21416),r(79288),r(53584),r(82243),r(95765),r(45993),r(92547),r(7936),r(32704),r(52362),r(21552),r(10704),r(97389),r(25284),r(60429),r(51013),r(33994),r(35082),r(40739),r(47409),r(36585),r(41830),r(85415),r(81919),r(99474),r(79997),r(88052),r(44079),r(14566),r(76101),r(36446),r(35140),r(4179),r(69358),r(75450),r(54993),r(48115),r(19330),r(30658),r(5399),r(60228),r(86466),r(80939),r(32320),r(73964),r(41195),r(87609),r(36409),r(13505),r(54333),r(30050),r(99871),r(1049),r(32349),r(50149),r(43792),r(69707),r(63545),r(62087),r(51505),r(45247),r(22373),r(76034),r(52003),r(68518),r(64043),r(25847),r(13440),r(7409),r(12826),r(19649),r(7961),r(86239),r(2918),r(20283),r(43843),r(12281),r(21694),r(22462),r(79866),r(72940),r(8472),r(92404),r(59588),r(57267),r(56532),r(61514),r(9873),r(268),r(20372),r(35237),r(28436),r(16386),r(3255),r(90343),r(21444),r(25906),r(95682),r(98041),r(6364),r(82954),r(19162),r(37960),r(470),r(67446),r(47729),r(2e3),r(29068),r(70292),r(55304),r(89988),r(854),r(28607),r(30938),r(75679),r(18557),r(95194),r(36664),r(55980),r(79943),r(96089),r(18539),r(48690),r(20522),r(82),r(45385),r(59495),r(85552),r(31803),r(91565),r(67987),r(49365),r(80677),r(19038),r(18118),r(41165),r(71522),r(79976),r(4797),r(7300),r(93356),r(62533),r(99724),r(24224),r(61121),r(99901),r(37133),r(622),r(51090),r(50414),r(52586),r(84645),r(47522),r(76265),r(97337),r(13429),r(37462),r(40088),r(10455),r(3650),r(25564),r(96869),r(78730),r(69822),r(19979),r(79307),r(98858),r(61318),r(33228),t.exports=r(50496)},4424:(t,e,r)=>{"use strict";r.r(e),r.d(e,{deleteDB:()=>y,openDB:()=>g,unwrap:()=>m,wrap:()=>p});const n=(t,e)=>e.some((e=>t instanceof e));let i,s;const o=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap;let h={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return a.get(t);if("objectStoreNames"===e)return t.objectStoreNames||u.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return p(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function f(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(m(this),e),p(o.get(this))}:function(...e){return p(t.apply(m(this),e))}:function(e,...r){const n=t.call(m(this),e,...r);return u.set(n,e.sort?e.sort():[e]),p(n)}}function d(t){return"function"==typeof t?f(t):(t instanceof IDBTransaction&&function(t){if(a.has(t))return;const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),n()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));a.set(t,e)}(t),n(t,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,h):t)}function p(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(p(t.result)),n()},s=()=>{r(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&o.set(e,t)})).catch((()=>{})),l.set(e,t),e}(t);if(c.has(t))return c.get(t);const e=d(t);return e!==t&&(c.set(t,e),l.set(e,t)),e}const m=t=>l.get(t);function g(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=p(o);return n&&o.addEventListener("upgradeneeded",(t=>{n(p(o.result),t.oldVersion,t.newVersion,p(o.transaction),t)})),r&&o.addEventListener("blocked",(t=>r(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}function y(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",(t=>e(t.oldVersion,t))),p(r).then((()=>{}))}const v=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function _(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(w.get(e))return w.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=b.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(r))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return n&&(o=o.index(e.shift())),(await Promise.all([o[r](...e),i&&s.done]))[0]};return w.set(e,s),s}h=(t=>({...t,get:(e,r,n)=>_(e,r)||t.get(e,r,n),has:(e,r)=>!!_(e,r)||t.has(e,r)}))(h)},97582:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__addDisposableResource:()=>D,__assign:()=>s,__asyncDelegator:()=>M,__asyncGenerator:()=>x,__asyncValues:()=>k,__await:()=>S,__awaiter:()=>p,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>O,__classPrivateFieldSet:()=>R,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>N,__esDecorate:()=>c,__exportStar:()=>y,__extends:()=>i,__generator:()=>m,__importDefault:()=>I,__importStar:()=>C,__makeTemplateObject:()=>T,__metadata:()=>d,__param:()=>u,__propKey:()=>h,__read:()=>b,__rest:()=>o,__runInitializers:()=>l,__setFunctionName:()=>f,__spread:()=>w,__spreadArray:()=>E,__spreadArrays:()=>_,__values:()=>v,default:()=>F});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function u(t,e){return function(r,n){e(r,n,t)}}function c(t,e,r,n,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,u=n.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!e&&t?n.static?t:t.prototype:null,h=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f=!1,d=r.length-1;d>=0;d--){var p={};for(var m in n)p[m]="access"===m?{}:n[m];for(var m in n.access)p.access[m]=n.access[m];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var g=(0,r[d])("accessor"===u?{get:h.get,set:h.set}:h[c],p);if("accessor"===u){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=o(g.get))&&(h.get=a),(a=o(g.set))&&(h.set=a),(a=o(g.init))&&i.unshift(a)}else(a=o(g))&&("field"===u?i.unshift(a):h[c]=a)}l&&Object.defineProperty(l,n.name,h),f=!0}function l(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function h(t){return"symbol"==typeof t?t:"".concat(t)}function f(t,e,r){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function p(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))}function m(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var g=Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function y(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||g(e,t,r)}function v(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function w(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function _(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function E(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function S(t){return this instanceof S?(this.v=t,this):new S(t)}function x(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof S?Promise.resolve(r.value.v).then(u,c):l(s[0][2],r)}catch(t){l(s[0][3],t)}var r}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function M(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:S(t[n](e)),done:!1}:i?i(e):e}:i}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=v(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var A=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&g(e,t,r);return A(e,t),e}function I(t){return t&&t.__esModule?t:{default:t}}function P(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function R(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r}function O(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function D(t,e,r){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if("function"!=typeof n)throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var L="function"==typeof SuppressedError?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function N(t){function e(e){t.error=t.hasError?new L(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}return function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,(function(t){return e(t),r()}))}catch(t){e(t)}}if(t.hasError)throw t.error}()}const F={__extends:i,__assign:s,__rest:o,__decorate:a,__param:u,__metadata:d,__awaiter:p,__generator:m,__createBinding:g,__exportStar:y,__values:v,__read:b,__spread:w,__spreadArrays:_,__spreadArray:E,__await:S,__asyncGenerator:x,__asyncDelegator:M,__asyncValues:k,__makeTemplateObject:T,__importStar:C,__importDefault:I,__classPrivateFieldGet:P,__classPrivateFieldSet:R,__classPrivateFieldIn:O,__addDisposableResource:D,__disposeResources:N}},38425:t=>{"use strict";t.exports=JSON.parse('{"name":"@mobile-rewards/caa-module","version":"2.1.2-beta.0","description":"caa","main":"dist/caa-module.js","scripts":{"pre-commit":"eslint src --fix","build":"webpack","test":"jest --collect-coverage"},"husky":{"hooks":{"pre-commit":"eslint src --fix"}},"repository":{"type":"git","url":"https://gitlab.com/mobile-rewards/caa-module.git"},"publishConfig":{"@mobile-rewards:registry":"https://gitlab.com/api/v4/projects/41855138/packages/npm/"},"author":"Mobile Rewards","license":"ISC","homepage":"https://gitlab.com/mobile-rewards/caa-module","devDependencies":{"@babel/core":"^7.9.0","@babel/plugin-proposal-class-properties":"^7.8.3","@babel/plugin-transform-object-super":"^7.8.3","@babel/preset-env":"^7.9.5","@babel/runtime-corejs3":"^7.9.2","babel-jest":"^25.3.0","babel-loader":"^8.1.0","core-js":"^3.6.5","eslint":"^6.8.0","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.24.2","eslint-plugin-jest":"^23.8.2","eslint-plugin-jsx-a11y":"^6.2.3","husky":"^4.2.5","jest":"^25.3.0","webpack":"^4.42.1","webpack-cli":"^3.3.11"},"dependencies":{"@babel/plugin-proposal-export-default-from":"^7.10.4"}}')},2334:t=>{"use strict";t.exports=JSON.parse('{"fallback":{"isActive":true,"banner":{"url":"https://client-site-static-production.meliuz.com.br","imagem":"https://static.meliuz.com.br/static-images/extensao/fallback/banner_extensao_fallback.png"},"domains":["https://client-site-static-production.meliuz.com.br/","https://meliuz.com.br/","https://www.meliuz.com.br/"]},"timers_features":{"update-extension-configuration-alarm":1,"update-partners-alarm":1,"update-partners-checkout-urls-alarm":1440,"update-extension-partner-tracking-alarm":120,"update-extension-google-sidebar-configuration-alarm":120,"update-extension-coupon-applier-configuration-alarm":120,"update-extension-banner-configuration-alarm":180,"update-extension-tip-configuration-alarm":180,"update-extension-clear-cart-configuration-alarm":90,"update-extension-whitelist-params-configuration-alarm":120,"update-extension-comparator-configuration-alarm":120,"update-extension-partner-comparator-configuration-alarm":120,"update-extension-coupon-applier-blacklist":180,"update-extension-grey-partners-abc":360,"update-extension-banner-cashback-popup":60,"update-extension-tab-suggester":120,"update-traceability-cookies-alarm":45,"update-extension-incrementability":360,"update-extension-non-partner-tracking-list-alarm":10080,"update-extension-blacklist-alarm":10080,"update-extension-onboarding-configuration-alarm":10080,"update-extension-block-popup-in-partner-configuration-alarm":10080,"update-extension-tranckingToQuatro-configuration-alarm":10080,"update-extension-post-purchase-configuration-alarm":10080,"update-extension-collect-data-search-engines-configuration-alarm":10080,"update-extension-cashback-evaluate-for-non-partner":720,"update-extension-meliuz-travel-tracking-alarm":10080,"update-extension-quatro-offer-modal-configuration-alarm":10080,"update-extension-conditions-not-display-reminder-alarm":10080}}')},7654:t=>{"use strict";t.exports=JSON.parse('[{"id":220,"className":"magalu","meliuzId":"7951"},{"id":262,"className":"booking","meliuzId":"1665570"}]')},44946:t=>{"use strict";t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},75207:t=>{"use strict";t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:t=>{"use strict";t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},29799:t=>{"use strict";t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},18597:t=>{"use strict";t.exports={i8:"6.5.4"}},22562:t=>{"use strict";t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},4147:t=>{"use strict";t.exports=JSON.parse('{"name":"browser-extension","version":"10.4.1","description":"Ganhe cashback e ative cupons de desconto nas suas lojas favoritas!","repository":{"type":"git","url":"https://github.com/meliuz/lembrador-extensions.git"},"keywords":["meliuz","lembrador","remember","extension"],"author":"M\xe9liuz","contributors":[{"name":"Ellen Barroso","email":"ellen@meliuz.com.br"},{"name":"Jackson Lucas","email":"jackson@meliuz.com.br"},{"name":"Saymon Souza","email":"saymon@meliuz.com.br"},{"name":"Pedro Dias","email":"pdf@meliuz.com.br"},{"name":"Gisele Nunes","email":"gisele@meliuz.com.br"},{"name":"Leonardo Nascimento","email":"leonardo.nascimento@meliuz.com.br"},{"name":"Carlos Philipe M. Bahia","email":"carlos.bahia@meliuz.com.br"},{"name":"Robert Tavares","email":"robert.tavares@meliuz.com.br"},{"name":"Roberto Cavalcanti Campos Neto","email":"roberto.campos@meliuz.com.br"},{"name":"Matteo Togni","email":"matteo.togni@meliuz.com.br"},{"name":"Camila Martins","email":"camilamartins@meliuz.com.br"},{"name":"Vinicius Netson Barbieri","email":"vinicius.barbieri@meliuz.com.br"},{"name":"Edson Araujo","email":"edson.araujo@meliuz.com.br"},{"name":"Armando Monjane","email":"armando.monjane@meliuz.com.br"},{"name":"Jheferson Torres","email":"jheferson.macena@meliuz.com.br"}],"license":"Meliuz EULA (http://www.meliuz.com.br/extensao/eula.txt)","bugs":{"url":"https://github.com/meliuz/lembrador-extensions/issues"},"homepage":"https://github.com/meliuz/lembrador-extensions","scripts":{"clean:dist":"rm -rf ./dist","clean:sourcemaps":"find ./dist -type f -name \'*.map\' -delete","dev":"npm run dev:chrome","dev-test:chrome":"RE_DEV_SUFFIX=-dev BROWSER=chrome BABEL_ENV=development RELEASE=stable webpack --mode development --watch --progress","dev:chrome":"BROWSER=chrome BABEL_ENV=development RELEASE=stable webpack --mode development --watch --progress","dev:firefox":"BROWSER=firefox BABEL_ENV=development RELEASE=stable webpack --mode production --watch --progress","dev:safari":"BROWSER=safari BABEL_ENV=development RELEASE=stable webpack --mode development --watch --progress","build:safari":"npm run clean:dist && BROWSER=safari BABEL_ENV=production RELEASE=stable webpack --mode production","build:safari-beta":"npm run clean:dist && BROWSER=safari BABEL_ENV=production RELEASE=beta webpack --mode production","build:chrome":"npm run clean:dist && BROWSER=chrome BABEL_ENV=production RELEASE=stable webpack --mode production","build:chrome-beta":"npm run clean:dist && BROWSER=chrome BABEL_ENV=production RELEASE=beta webpack --mode production && npm run upload:sourcemap","build:firefox":"npm run clean:dist && BROWSER=firefox BABEL_ENV=production RELEASE=stable webpack --mode production","build:firefox-beta":"npm run clean:dist && BROWSER=firefox BABEL_ENV=production RELEASE=beta webpack --mode production","jest-unit":"cross-env NODE_ICU_DATA=node_modules/full-icu jest --config=\\"./__test__/unit/jest.config.js\\" --watch --collect-coverage","lint:all":"eslint **/*.js && web-ext lint","lint":"lint-staged","staging":"npm run staging:chrome","staging:chrome":"BROWSER=chrome BABEL_ENV=staging RELEASE=stable webpack --mode development --watch --progress","test":"npm run test:unit && npm run test:e2e","test:file":"cross-env NODE_ICU_DATA=node_modules/full-icu jest --config=\\"./__test__/unit/jest.config.js\\" $npm_config_file","test:unit":"cross-env NODE_ICU_DATA=node_modules/full-icu jest \\"__test__/(unit)?(?!e2e).*test\\\\.(js|ts|tsx)\\" --config=\\"./__test__/unit/jest.config.js\\"","test:unit:watch":"cross-env NODE_ICU_DATA=node_modules/full-icu jest \\"__test__/(unit)?(?!e2e).*test\\\\.(js|ts|tsx)\\" --config=\\"./__test__/unit/jest.config.js\\" --watch","test:e2e":"jest ./__test__/e2e/ --config=\\"./__test__/e2e/jest.config.js\\" --runInBand","test:e2e:watch":"jest ./__test__/e2e/ --config=\\"./__test__/e2e/jest.config.js\\" --watch","commit":"commit","upload:sourcemap":"sentry-cli sourcemaps inject ./dist && sentry-cli sourcemaps upload --release=$npm_package_version ./dist && npm run clean:sourcemaps"},"husky":{"hooks":{"pre-commit":"npm run lint","commit-msg":"commitlint -e $GIT_PARAMS"}},"lint-staged":{"*.js":"eslint"},"dependencies":{"@fortawesome/fontawesome-svg-core":"^6.5.1","@fortawesome/free-brands-svg-icons":"^6.5.1","@fortawesome/free-solid-svg-icons":"^6.5.1","@fortawesome/react-fontawesome":"^0.2.0","@haverstack/axios-fetch-adapter":"^0.8.0","@meliuz/lib-feature-flags-js":"./external/@meliuz/lib-feature-flags-js","@sentry/browser":"^7.93.0","axios":"^1.6.5","axios-retry":"^4.0.0","blueimp-md5":"^2.19.0","bowser":"^2.11.0","clipboard":"^2.0.11","core-js":"^3.35.0","dompurify":"^3.0.8","firebase":"^9.23.0","html-react-parser":"^5.1.1","jsonwebtoken":"^9.0.2","lottie-web":"^5.12.2","moment":"^2.30.1","native-grid":"^2.0.0","node-html-parser":"^6.1.12","proxy-polyfill":"^0.3.2","react":"^18.2.0","react-dom":"^18.2.0","styled-components":"6.1.1","url-search-params-polyfill":"^8.2.5"},"overrides":{"axios":"^1.6.5","sign-addon":"^6.3.0","request":"^2.88.2","tough-cookie":"^4.1.3"},"devDependencies":{"@babel/core":"^7.23.7","@babel/eslint-parser":"^7.23.3","@babel/plugin-transform-modules-commonjs":"^7.23.3","@babel/plugin-transform-runtime":"^7.23.7","@babel/plugin-transform-template-literals":"^7.23.3","@babel/preset-env":"^7.23.8","@babel/preset-react":"^7.23.3","@babel/preset-typescript":"^7.23.3","@commitlint/cli":"^18.4.4","@commitlint/prompt-cli":"^18.4.4","@sentry/cli":"^2.25.0","@testing-library/jest-dom":"^6.2.0","@testing-library/react":"^14.1.2","@types/jest":"^29.5.11","@types/react":"^18.2.48","@types/react-dom":"^18.2.18","@types/styled-components":"^5.1.26","@types/testing-library__jest-dom":"^6.0.0","@typescript-eslint/eslint-plugin":"^6.19.0","@typescript-eslint/parser":"^6.19.0","babel-loader":"^9.1.3","babel-plugin-styled-components":"^2.1.4","copy-webpack-plugin":"^12.0.1","cross-env":"^7.0.3","crypto-browserify":"^3.12.0","css-loader":"^6.9.0","dotenv":"^16.3.1","eslint":"^8.56.0","eslint-config-airbnb-base":"^15.0.0","eslint-config-prettier":"^9.1.0","eslint-plugin-import":"^2.29.1","eslint-plugin-jsx-a11y":"^6.8.0","eslint-plugin-prettier":"^5.1.3","eslint-plugin-react":"^7.33.2","firebase-mock":"^2.3.2","full-icu":"^1.5.0","html-loader":"^4.2.0","html-webpack-plugin":"^5.6.0","husky":"^8.0.3","jest-cli":"^29.7.0","jest-css-modules":"^2.1.0","jest-environment-jsdom":"^29.6.1","jest-environment-node":"^29.6.1","jest-styled-components":"^7.2.0","jest-webextension-mock":"^3.8.9","lint-staged":"^15.2.0","mini-css-extract-plugin":"^2.7.7","mock-local-storage":"^1.1.24","nock":"^13.5.0","node-sass":"^9.0.0","path":"^0.12.7","prettier":"^3.2.2","process":"^0.11.10","puppeteer":"^21.7.0","puppeteer-chromium-resolver":"^21.0.0","rimraf":"^5.0.5","sass-loader":"^14.0.0","sinon":"^17.0.1","sinon-chrome":"^3.0.1","stream-browserify":"^3.0.0","terser-webpack-plugin":"^5.3.10","ts-jest":"^29.1.1","ts-loader":"^9.5.1","url-loader":"^4.1.1","web-ext":"^0.0.1","webpack":"^5.89.0","webpack-cli":"^5.1.4","webpack-dev-server":"^4.15.1"}}')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__=__webpack_require__(47183)})();